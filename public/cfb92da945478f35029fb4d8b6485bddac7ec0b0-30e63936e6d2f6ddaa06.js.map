{"version":3,"file":"cfb92da945478f35029fb4d8b6485bddac7ec0b0-30e63936e6d2f6ddaa06.js","mappings":";qFAAA,SAASA,EAAQC,GAiBf,MAdsB,mBAAXC,QAAoD,iBAApBA,OAAOC,UAChDC,EAAOC,QAAUL,EAAU,SAAiBC,GAC1C,cAAcA,GAGhBG,EAAOC,QAAP,QAA4BD,EAAOC,QAASD,EAAOC,QAAQC,YAAa,IAExEF,EAAOC,QAAUL,EAAU,SAAiBC,GAC1C,OAAOA,GAAyB,mBAAXC,QAAyBD,EAAIM,cAAgBL,QAAUD,IAAQC,OAAOM,UAAY,gBAAkBP,GAG3HG,EAAOC,QAAP,QAA4BD,EAAOC,QAASD,EAAOC,QAAQC,YAAa,GAGnEN,EAAQC,GAGjBG,EAAOC,QAAUL,EACjBI,EAAOC,QAAP,QAA4BD,EAAOC,QAASD,EAAOC,QAAQC,YAAa,wBCrBxEF,EAAOC,QAAU,EAAjB,yCCEA,IAAII,EAAU,EAAQ,MAOlBC,EAAgB,CAClBC,mBAAmB,EACnBC,aAAa,EACbC,cAAc,EACdC,cAAc,EACdC,aAAa,EACbC,iBAAiB,EACjBC,0BAA0B,EAC1BC,0BAA0B,EAC1BC,QAAQ,EACRC,WAAW,EACXC,MAAM,GAEJC,EAAgB,CAClBC,MAAM,EACNC,QAAQ,EACRhB,WAAW,EACXiB,QAAQ,EACRC,QAAQ,EACRC,WAAW,EACXC,OAAO,GASLC,EAAe,CACjB,UAAY,EACZC,SAAS,EACThB,cAAc,EACdC,aAAa,EACbK,WAAW,EACXC,MAAM,GAEJU,EAAe,GAInB,SAASC,EAAWC,GAElB,OAAIxB,EAAQyB,OAAOD,GACVJ,EAIFE,EAAaE,EAAoB,WAAMvB,EAVhDqB,EAAatB,EAAQ0B,YAhBK,CACxB,UAAY,EACZC,QAAQ,EACRtB,cAAc,EACdC,aAAa,EACbK,WAAW,GAYbW,EAAatB,EAAQ4B,MAAQR,EAY7B,IAAIS,EAAiBC,OAAOD,eACxBE,EAAsBD,OAAOC,oBAC7BC,EAAwBF,OAAOE,sBAC/BC,EAA2BH,OAAOG,yBAClCC,EAAiBJ,OAAOI,eACxBC,EAAkBL,OAAO/B,UAuC7BJ,EAAOC,QArCP,SAASwC,EAAqBC,EAAiBC,EAAiBC,GAC9D,GAA+B,iBAApBD,EAA8B,CAEvC,GAAIH,EAAiB,CACnB,IAAIK,EAAqBN,EAAeI,GAEpCE,GAAsBA,IAAuBL,GAC/CC,EAAqBC,EAAiBG,EAAoBD,GAI9D,IAAIE,EAAOV,EAAoBO,GAE3BN,IACFS,EAAOA,EAAKC,OAAOV,EAAsBM,KAM3C,IAHA,IAAIK,EAAgBpB,EAAWc,GAC3BO,EAAgBrB,EAAWe,GAEtBO,EAAI,EAAGA,EAAIJ,EAAK1B,SAAU8B,EAAG,CACpC,IAAIC,EAAML,EAAKI,GAEf,KAAKhC,EAAciC,IAAUP,GAAaA,EAAUO,IAAWF,GAAiBA,EAAcE,IAAWH,GAAiBA,EAAcG,IAAO,CAC7I,IAAIC,EAAad,EAAyBK,EAAiBQ,GAE3D,IAEEjB,EAAeQ,EAAiBS,EAAKC,GACrC,MAAOC,OAKf,OAAOX,qBCpGT,IAAIY,EAAoC,oBAAZC,QACxBC,EAAwB,mBAARC,IAChBC,EAAwB,mBAARC,IAChBC,EAAwC,mBAAhBC,eAAgCA,YAAYC,OAExE,SAASC,EAAMC,EAAGC,GAEhB,GAAID,IAAMC,EAAG,OAAO,EAEpB,GAAID,GAAKC,GAAiB,iBAALD,GAA6B,iBAALC,EAAe,CAC1D,GAAID,EAAE7D,cAAgB8D,EAAE9D,YAAa,OAAO,EAC5C,IAAIiB,EAAQ8B,EAAGJ,EAiCXoB,EA/BJ,GAAIC,MAAMC,QAAQJ,GAAI,CAEpB,IADA5C,EAAS4C,EAAE5C,SACG6C,EAAE7C,OAAQ,OAAO,EAE/B,IAAK8B,EAAI9B,EAAgB,GAAR8B,KACf,IAAKa,EAAMC,EAAEd,GAAIe,EAAEf,IAAK,OAAO,EAGjC,OAAO,EAyBT,GAAIM,GAAUQ,aAAaP,KAAOQ,aAAaR,IAAK,CAClD,GAAIO,EAAEK,OAASJ,EAAEI,KAAM,OAAO,EAG9B,IAFAH,EAAKF,EAAEM,YAEEpB,EAAIgB,EAAGK,QAAQC,MACtB,IAAKP,EAAEQ,IAAIvB,EAAEwB,MAAM,IAAK,OAAO,EAKjC,IAFAR,EAAKF,EAAEM,YAEEpB,EAAIgB,EAAGK,QAAQC,MACtB,IAAKT,EAAMb,EAAEwB,MAAM,GAAIT,EAAEU,IAAIzB,EAAEwB,MAAM,KAAM,OAAO,EAGpD,OAAO,EAGT,GAAIhB,GAAUM,aAAaL,KAAOM,aAAaN,IAAK,CAClD,GAAIK,EAAEK,OAASJ,EAAEI,KAAM,OAAO,EAG9B,IAFAH,EAAKF,EAAEM,YAEEpB,EAAIgB,EAAGK,QAAQC,MACtB,IAAKP,EAAEQ,IAAIvB,EAAEwB,MAAM,IAAK,OAAO,EAGjC,OAAO,EAIT,GAAId,GAAkBC,YAAYC,OAAOE,IAAMH,YAAYC,OAAOG,GAAI,CAEpE,IADA7C,EAAS4C,EAAE5C,SACG6C,EAAE7C,OAAQ,OAAO,EAE/B,IAAK8B,EAAI9B,EAAgB,GAAR8B,KACf,GAAIc,EAAEd,KAAOe,EAAEf,GAAI,OAAO,EAG5B,OAAO,EAGT,GAAIc,EAAE7D,cAAgByE,OAAQ,OAAOZ,EAAEa,SAAWZ,EAAEY,QAAUb,EAAEc,QAAUb,EAAEa,MAC5E,GAAId,EAAEe,UAAY5C,OAAO/B,UAAU2E,QAAS,OAAOf,EAAEe,YAAcd,EAAEc,UACrE,GAAIf,EAAEgB,WAAa7C,OAAO/B,UAAU4E,SAAU,OAAOhB,EAAEgB,aAAef,EAAEe,WAGxE,IADA5D,GADA0B,EAAOX,OAAOW,KAAKkB,IACL5C,UACCe,OAAOW,KAAKmB,GAAG7C,OAAQ,OAAO,EAE7C,IAAK8B,EAAI9B,EAAgB,GAAR8B,KACf,IAAKf,OAAO/B,UAAU6E,eAAeC,KAAKjB,EAAGnB,EAAKI,IAAK,OAAO,EAMhE,GAAII,GAAkBU,aAAaT,QAAS,OAAO,EAEnD,IAAKL,EAAI9B,EAAgB,GAAR8B,KACf,IAAiB,WAAZJ,EAAKI,IAA+B,QAAZJ,EAAKI,IAA4B,QAAZJ,EAAKI,KAAiBc,EAAEmB,YAYrEpB,EAAMC,EAAElB,EAAKI,IAAKe,EAAEnB,EAAKI,KAAM,OAAO,EAK7C,OAAO,EAGT,OAAOc,GAAMA,GAAKC,GAAMA,EAI1BjE,EAAOC,QAAU,SAAiB+D,EAAGC,GACnC,IACE,OAAOF,EAAMC,EAAGC,GAChB,MAAOmB,GACP,IAAKA,EAAMC,SAAW,IAAIC,MAAM,oBAO9B,OADAC,QAAQC,KAAK,mDACN,EAIT,MAAMJ,4ECmKJK,EA+UuBC,EACvBC,EAAQC,wFA7nBVC,EACI,iBADJA,EAEI,iBAFJA,EAGK,kBAELC,EAAY,CACdC,KAAM,OACNC,KAAM,OACNC,KAAM,OACNC,KAAM,OACNC,KAAM,OACNC,KAAM,OACNC,SAAU,WACVC,OAAQ,SACRC,MAAO,QACPC,MAAO,SAKLC,GAHkBtE,OAAOW,KAAKgD,GAAWY,KAAI,SAAUvF,GACzD,OAAO2E,EAAU3E,MAGR,WADPsF,EAEQ,UAFRA,EAGI,OAHJA,EAIS,aAJTA,EAKU,YALVA,EAMS,WANTA,EAOI,OAPJA,EAQQ,WARRA,EASG,MATHA,EAUG,MAVHA,EAWM,SAENE,EAAgB,CAClBC,UAAW,YACXC,QAAS,UACTC,MAAO,YACPC,gBAAiB,kBACjBC,YAAa,cACb,aAAc,YACdC,SAAU,WACVC,SAAU,YAERC,EACa,eADbA,EAEK,QAFLA,EAGyB,0BAHzBA,EAIsB,sBAJtBA,EAKc,gBAEdC,EAAejF,OAAOW,KAAK6D,GAAeU,QAAO,SAAUxH,EAAKsD,GAElE,OADAtD,EAAI8G,EAAcxD,IAAQA,EACnBtD,IACN,IACCyH,EAAoB,CAACxB,EAAUO,SAAUP,EAAUQ,OAAQR,EAAUS,OACrEgB,EAAmB,oBAEnB3H,EAA4B,mBAAXE,QAAoD,iBAApBA,OAAOC,SAAwB,SAAUF,GAC5F,cAAcA,GACZ,SAAUA,GACZ,OAAOA,GAAyB,mBAAXC,QAAyBD,EAAIM,cAAgBL,QAAUD,IAAQC,OAAOM,UAAY,gBAAkBP,GAGvH2H,EAAiB,SAAwBC,EAAUC,GACrD,KAAMD,aAAoBC,GACxB,MAAM,IAAIC,UAAU,sCAIpBC,EAAc,WAChB,SAASC,EAAiBC,EAAQC,GAChC,IAAK,IAAI7E,EAAI,EAAGA,EAAI6E,EAAM3G,OAAQ8B,IAAK,CACrC,IAAIE,EAAa2E,EAAM7E,GACvBE,EAAW4E,WAAa5E,EAAW4E,aAAc,EACjD5E,EAAW6E,cAAe,EACtB,UAAW7E,IAAYA,EAAW8E,UAAW,GACjD/F,OAAOD,eAAe4F,EAAQ1E,EAAWD,IAAKC,IAIlD,OAAO,SAAUsE,EAAaS,EAAYC,GAGxC,OAFID,GAAYN,EAAiBH,EAAYtH,UAAW+H,GACpDC,GAAaP,EAAiBH,EAAaU,GACxCV,GAdO,GAkBdW,EAAWlG,OAAOmG,QAAU,SAAUR,GACxC,IAAK,IAAI5E,EAAI,EAAGA,EAAI3B,UAAUH,OAAQ8B,IAAK,CACzC,IAAI2B,EAAStD,UAAU2B,GAEvB,IAAK,IAAIC,KAAO0B,EACV1C,OAAO/B,UAAU6E,eAAeC,KAAKL,EAAQ1B,KAC/C2E,EAAO3E,GAAO0B,EAAO1B,IAK3B,OAAO2E,GAmBLS,EAA0B,SAAiC1I,EAAKiD,GAClE,IAAIgF,EAAS,GAEb,IAAK,IAAI5E,KAAKrD,EACRiD,EAAK0F,QAAQtF,IAAM,GAClBf,OAAO/B,UAAU6E,eAAeC,KAAKrF,EAAKqD,KAC/C4E,EAAO5E,GAAKrD,EAAIqD,IAGlB,OAAO4E,GAGLW,EAA4B,SAAmCC,EAAMxD,GACvE,IAAKwD,EACH,MAAM,IAAIC,eAAe,6DAG3B,OAAOzD,GAAyB,iBAATA,GAAqC,mBAATA,EAA8BwD,EAAPxD,GAGxE0D,EAA0B,SAAiCC,GAC7D,IAAIC,IAASvH,UAAUH,OAAS,QAAsB2H,IAAjBxH,UAAU,KAAmBA,UAAU,GAE5E,OAAe,IAAXuH,EACKE,OAAOH,GAGTG,OAAOH,GAAKI,QAAQ,KAAM,SAASA,QAAQ,KAAM,QAAQA,QAAQ,KAAM,QAAQA,QAAQ,KAAM,UAAUA,QAAQ,KAAM,WAG1HC,EAAwB,SAA+BC,GACzD,IAAIC,EAAiBC,EAAqBF,EAAWrD,EAAUU,OAC3D8C,EAAoBD,EAAqBF,EAAWhC,GAExD,GAAImC,GAAqBF,EAEvB,OAAOE,EAAkBL,QAAQ,OAAO,WACtC,OAAO9E,MAAMC,QAAQgF,GAAkBA,EAAeG,KAAK,IAAMH,KAIrE,IAAII,EAAwBH,EAAqBF,EAAWhC,GAC5D,OAAOiC,GAAkBI,QAAyBT,GAGhDU,EAAyB,SAAgCN,GAC3D,OAAOE,EAAqBF,EAAWhC,IAAwC,cAG7EuC,EAA6B,SAAoCC,EAASR,GAC5E,OAAOA,EAAUS,QAAO,SAAU7B,GAChC,YAAiC,IAAnBA,EAAM4B,MACnBjD,KAAI,SAAUqB,GACf,OAAOA,EAAM4B,MACZtC,QAAO,SAAUwC,EAAUC,GAC5B,OAAOzB,EAAS,GAAIwB,EAAUC,KAC7B,KAGDC,EAA0B,SAAiCC,EAAmBb,GAChF,OAAOA,EAAUS,QAAO,SAAU7B,GAChC,YAAwC,IAA1BA,EAAMjC,EAAUC,SAC7BW,KAAI,SAAUqB,GACf,OAAOA,EAAMjC,EAAUC,SACtBkE,UAAU5C,QAAO,SAAU6C,EAAkBC,GAC9C,IAAKD,EAAiB9I,OAGpB,IAFA,IAAI0B,EAAOX,OAAOW,KAAKqH,GAEdjH,EAAI,EAAGA,EAAIJ,EAAK1B,OAAQ8B,IAAK,CACpC,IACIkH,EADetH,EAAKI,GACiBmH,cAEzC,IAA0D,IAAtDL,EAAkBxB,QAAQ4B,IAAiCD,EAAIC,GACjE,OAAOF,EAAiBnH,OAAOoH,GAKrC,OAAOD,IACN,KAGDI,EAAuB,SAA8BC,EAASP,EAAmBb,GAEnF,IAAIqB,EAAmB,GACvB,OAAOrB,EAAUS,QAAO,SAAU7B,GAChC,QAAI5D,MAAMC,QAAQ2D,EAAMwC,WAIM,IAAnBxC,EAAMwC,IACf/E,GAAK,WAAa+E,EAAU,mDAAwD3K,EAAQmI,EAAMwC,IAAY,MAGzG,MACN7D,KAAI,SAAUqB,GACf,OAAOA,EAAMwC,MACZN,UAAU5C,QAAO,SAAUoD,EAAcC,GAC1C,IAAIC,EAAmB,GACvBD,EAAad,QAAO,SAAUO,GAI5B,IAHA,IAAIS,OAAsB,EACtB9H,EAAOX,OAAOW,KAAKqH,GAEdjH,EAAI,EAAGA,EAAIJ,EAAK1B,OAAQ8B,IAAK,CACpC,IAAI2H,EAAe/H,EAAKI,GACpBkH,EAAwBS,EAAaR,eAEiB,IAAtDL,EAAkBxB,QAAQ4B,IAAmCQ,IAAwBnE,GAAiE,cAA3C0D,EAAIS,GAAqBP,eAAoCD,IAA0B3D,GAAmE,eAA7C0D,EAAIC,GAAuBC,gBACrPO,EAAsBR,IAIyB,IAA7CJ,EAAkBxB,QAAQqC,IAAyBA,IAAiBpE,GAA6BoE,IAAiBpE,GAA2BoE,IAAiBpE,IAChKmE,EAAsBC,GAI1B,IAAKD,IAAwBT,EAAIS,GAC/B,OAAO,EAGT,IAAIlG,EAAQyF,EAAIS,GAAqBP,cAUrC,OARKG,EAAiBI,KACpBJ,EAAiBI,GAAuB,IAGrCD,EAAiBC,KACpBD,EAAiBC,GAAuB,KAGrCJ,EAAiBI,GAAqBlG,KACzCiG,EAAiBC,GAAqBlG,IAAS,GACxC,MAIRuF,UAAUa,SAAQ,SAAUX,GAC7B,OAAOM,EAAaM,KAAKZ,MAK3B,IAFA,IAAIrH,EAAOX,OAAOW,KAAK6H,GAEdzH,EAAI,EAAGA,EAAIJ,EAAK1B,OAAQ8B,IAAK,CACpC,IAAI2H,EAAe/H,EAAKI,GACpB8H,EAAW,IAAa,GAAIR,EAAiBK,GAAeF,EAAiBE,IACjFL,EAAiBK,GAAgBG,EAGnC,OAAOP,IACN,IAAIR,WAGLZ,EAAuB,SAA8BF,EAAW8B,GAClE,IAAK,IAAI/H,EAAIiG,EAAU/H,OAAS,EAAG8B,GAAK,EAAGA,IAAK,CAC9C,IAAI6E,EAAQoB,EAAUjG,GAEtB,GAAI6E,EAAM9C,eAAegG,GACvB,OAAOlD,EAAMkD,GAIjB,OAAO,MAqBLC,GACEzF,EAAQ0F,KAAKC,MACV,SAAUC,GACf,IAAIC,EAAcH,KAAKC,MAEnBE,EAAc7F,EAAQ,IACxBA,EAAQ6F,EACRD,EAASC,IAETC,YAAW,WACTL,EAAYG,KACX,KAKLG,GAAc,SAAqBC,GACrC,OAAOC,aAAaD,IAGlBE,GAA0C,oBAAXC,OAAyBA,OAAOD,uBAAyBC,OAAOD,sBAAsBE,KAAKD,SAAWA,OAAOE,6BAA+BF,OAAOG,0BAA4Bb,EAAc,EAAAc,EAAOL,uBAAyBT,EAC5Pe,GAAyC,oBAAXL,OAAyBA,OAAOK,sBAAwBL,OAAOM,4BAA8BN,OAAOO,yBAA2BX,GAAc,EAAAQ,EAAOC,sBAAwBT,GAE1MhG,GAAO,SAAc4G,GACvB,OAAO7G,SAAmC,mBAAjBA,QAAQC,MAAuBD,QAAQC,KAAK4G,IAGnEC,GAAkB,KAmBlBC,GAAmB,SAA0BC,EAAUC,GACzD,IAAIC,EAAUF,EAASE,QACnBC,EAAiBH,EAASG,eAC1BC,EAAiBJ,EAASI,eAC1BC,EAAWL,EAASK,SACpBC,EAAWN,EAASM,SACpBC,EAAeP,EAASO,aACxBC,EAAsBR,EAASQ,oBAC/BC,EAAaT,EAASS,WACtBC,EAAYV,EAASU,UACrBC,EAAQX,EAASW,MACjBC,EAAkBZ,EAASY,gBAC/BC,GAAiBtH,EAAUE,KAAM0G,GACjCU,GAAiBtH,EAAUI,KAAMyG,GACjCU,GAAYH,EAAOC,GACnB,IAAIG,EAAa,CACfb,QAASc,GAAWzH,EAAUC,KAAM0G,GACpCG,SAAUW,GAAWzH,EAAUK,KAAMyG,GACrCC,SAAUU,GAAWzH,EAAUM,KAAMyG,GACrCC,aAAcS,GAAWzH,EAAUO,SAAUyG,GAC7CE,WAAYO,GAAWzH,EAAUQ,OAAQ0G,GACzCC,UAAWM,GAAWzH,EAAUS,MAAO0G,IAErCO,EAAY,GACZC,EAAc,GAClBtL,OAAOW,KAAKwK,GAAYxC,SAAQ,SAAUnB,GACxC,IAAI+D,EAAsBJ,EAAW3D,GACjCgE,EAAUD,EAAoBC,QAC9BC,EAAUF,EAAoBE,QAE9BD,EAAQvM,SACVoM,EAAU7D,GAAWgE,GAGnBC,EAAQxM,SACVqM,EAAY9D,GAAW2D,EAAW3D,GAASiE,YAG/CpB,GAAMA,IACNO,EAAoBR,EAAUiB,EAAWC,IAGvCI,GAAe,SAAsBC,GACvC,OAAO3J,MAAMC,QAAQ0J,GAAiBA,EAAcvE,KAAK,IAAMuE,GAG7DT,GAAc,SAAqBH,EAAOa,QACvB,IAAVb,GAAyBc,SAASd,QAAUA,IACrDc,SAASd,MAAQW,GAAaX,IAGhCE,GAAiBtH,EAAUU,MAAOuH,IAGhCX,GAAmB,SAA0B7C,EAASwD,GACxD,IAAIE,EAAaD,SAASE,qBAAqB3D,GAAS,GAExD,GAAK0D,EAAL,CASA,IALA,IAAIE,EAAwBF,EAAWG,aAAa7G,GAChD8G,EAAmBF,EAAwBA,EAAsBG,MAAM,KAAO,GAC9EC,EAAqB,GAAGxL,OAAOsL,GAC/BG,EAAgBrM,OAAOW,KAAKiL,GAEvB7K,EAAI,EAAGA,EAAIsL,EAAcpN,OAAQ8B,IAAK,CAC7C,IAAIuL,EAAYD,EAActL,GAC1BwB,EAAQqJ,EAAWU,IAAc,GAEjCR,EAAWG,aAAaK,KAAe/J,GACzCuJ,EAAWS,aAAaD,EAAW/J,IAGQ,IAAzC2J,EAAiB7F,QAAQiG,IAC3BJ,EAAiBtD,KAAK0D,GAGxB,IAAIE,EAAcJ,EAAmB/F,QAAQiG,IAExB,IAAjBE,GACFJ,EAAmBK,OAAOD,EAAa,GAI3C,IAAK,IAAIE,EAAKN,EAAmBnN,OAAS,EAAGyN,GAAM,EAAGA,IACpDZ,EAAWa,gBAAgBP,EAAmBM,IAG5CR,EAAiBjN,SAAWmN,EAAmBnN,OACjD6M,EAAWa,gBAAgBvH,GAClB0G,EAAWG,aAAa7G,KAAsBiH,EAAcjF,KAAK,MAC1E0E,EAAWS,aAAanH,EAAkBiH,EAAcjF,KAAK,QAI7DgE,GAAa,SAAoBtM,EAAM8N,GACzC,IAAIC,EAAchB,SAASiB,MAAQjB,SAASkB,cAAcpJ,EAAUG,MAChEkJ,EAAWH,EAAYI,iBAAiBnO,EAAO,IAAPA,sBACxC2M,EAAUzJ,MAAM/D,UAAUiP,MAAMnK,KAAKiK,GACrCxB,EAAU,GACV2B,OAAgB,EA0CpB,OAxCIP,GAAQA,EAAK3N,QACf2N,EAAKjE,SAAQ,SAAUX,GACrB,IAAIoF,EAAavB,SAASwB,cAAcvO,GAExC,IAAK,IAAIwN,KAAatE,EACpB,GAAIA,EAAIlF,eAAewJ,GACrB,GAAIA,IAAchI,EAChB8I,EAAWE,UAAYtF,EAAIsF,eACtB,GAAIhB,IAAchI,EACnB8I,EAAWG,WACbH,EAAWG,WAAWC,QAAUxF,EAAIwF,QAEpCJ,EAAWK,YAAY5B,SAAS6B,eAAe1F,EAAIwF,cAEhD,CACL,IAAIjL,OAAkC,IAAnByF,EAAIsE,GAA6B,GAAKtE,EAAIsE,GAC7Dc,EAAWb,aAAaD,EAAW/J,GAKzC6K,EAAWb,aAAanH,EAAkB,QAEtCqG,EAAQkC,MAAK,SAAUC,EAAaC,GAEtC,OADAV,EAAgBU,EACTT,EAAWU,YAAYF,MAE9BnC,EAAQgB,OAAOU,EAAe,GAE9B3B,EAAQ5C,KAAKwE,MAKnB3B,EAAQ9C,SAAQ,SAAUX,GACxB,OAAOA,EAAI+F,WAAWC,YAAYhG,MAEpCwD,EAAQ7C,SAAQ,SAAUX,GACxB,OAAO6E,EAAYY,YAAYzF,MAE1B,CACLyD,QAASA,EACTD,QAASA,IAITyC,GAAoC,SAA2CrC,GACjF,OAAO5L,OAAOW,KAAKiL,GAAY1G,QAAO,SAAUwB,EAAK1F,GACnD,IAAIkN,OAAkC,IAApBtC,EAAW5K,GAAuBA,EAAM,KAAQ4K,EAAW5K,GAAO,IAAO,GAAKA,EAChG,OAAO0F,EAAMA,EAAM,IAAMwH,EAAOA,IAC/B,KAuBDC,GAAuC,SAA8CvC,GACvF,IAAIwC,EAAYhP,UAAUH,OAAS,QAAsB2H,IAAjBxH,UAAU,GAAmBA,UAAU,GAAK,GACpF,OAAOY,OAAOW,KAAKiL,GAAY1G,QAAO,SAAUxH,EAAKsD,GAEnD,OADAtD,EAAI8G,EAAcxD,IAAQA,GAAO4K,EAAW5K,GACrCtD,IACN0Q,IA6CDC,GAAmB,SAA0BvP,EAAM8N,EAAMjG,GAC3D,OAAQ7H,GACN,KAAK6E,EAAUU,MACb,MAAO,CACLiK,YAAa,WACX,OAvCuEvD,EAuC5B6B,EAAK7B,MAvC8Ba,EAuCvBgB,EAAK5B,iBAnCnDuD,EAAa,CAC5BvN,IAAK+J,IACO3F,IAAoB,EAC9BQ,EAAQuI,GAAqCvC,EADT2C,GAEjC,CAAC,gBAAoB5K,EAAUU,MAAOuB,EAAOmF,IARlB,IAA6CA,EAAOa,EAClF2C,EAMA3I,GAkCE/C,SAAU,WACR,OA9EkB,SAA+B/D,EAAMiM,EAAOa,EAAYjF,GAClF,IAAI6H,EAAkBP,GAAkCrC,GACpD6C,EAAiB/C,GAAaX,GAClC,OAAOyD,EAAkB,IAAM1P,EAAN,6BAAqD0P,EAAkB,IAAM/H,EAAwBgI,EAAgB9H,GAAU,KAAO7H,EAAO,IAAM,IAAMA,EAAN,6BAAqD2H,EAAwBgI,EAAgB9H,GAAU,KAAO7H,EAAO,IA2ElR4P,CAAsB5P,EAAM8N,EAAK7B,MAAO6B,EAAK5B,gBAAiBrE,KAI3E,KAAKjD,EACL,KAAKA,EACH,MAAO,CACL4K,YAAa,WACX,OAAOH,GAAqCvB,IAE9C/J,SAAU,WACR,OAAOoL,GAAkCrB,KAI/C,QACE,MAAO,CACL0B,YAAa,WACX,OAjDyB,SAAsCxP,EAAM8N,GAC7E,OAAOA,EAAKrI,KAAI,SAAUyD,EAAKjH,GAC7B,IAAI4N,EAEAC,IAAaD,EAAa,CAC5B3N,IAAKD,IACOqE,IAAoB,EAAMuJ,GAaxC,OAZA3O,OAAOW,KAAKqH,GAAKW,SAAQ,SAAU2D,GACjC,IAAIuC,EAAkBrK,EAAc8H,IAAcA,EAElD,GAAIuC,IAAoBvK,GAA6BuK,IAAoBvK,EAAyB,CAChG,IAAIwK,EAAU9G,EAAIsF,WAAatF,EAAIwF,QACnCoB,EAAUG,wBAA0B,CAClCC,OAAQF,QAGVF,EAAUC,GAAmB7G,EAAIsE,MAG9B,gBAAoBxN,EAAM8P,MA8BpBK,CAA6BnQ,EAAM8N,IAE5C/J,SAAU,WACR,OA7FiB,SAA8B/D,EAAM8N,EAAMjG,GACnE,OAAOiG,EAAK1H,QAAO,SAAUwB,EAAKsB,GAChC,IAAIkH,EAAgBlP,OAAOW,KAAKqH,GAAKP,QAAO,SAAU6E,GACpD,QAASA,IAAchI,GAA6BgI,IAAchI,MACjEY,QAAO,SAAUiK,EAAQ7C,GAC1B,IAAI4B,OAAiC,IAAnBlG,EAAIsE,GAA6BA,EAAYA,EAAY,KAAQ7F,EAAwBuB,EAAIsE,GAAY3F,GAAU,IACrI,OAAOwI,EAASA,EAAS,IAAMjB,EAAOA,IACrC,IACCkB,EAAapH,EAAIsF,WAAatF,EAAIwF,SAAW,GAC7C6B,GAAqD,IAArClK,EAAkBkB,QAAQvH,GAC9C,OAAO4H,EAAM,IAAM5H,EAAZ4H,6BAA2DwI,GAAiBG,EAAgB,KAAO,IAAMD,EAAa,KAAOtQ,EAAO,OAC1I,IAkFYwQ,CAAqBxQ,EAAM8N,EAAMjG,OAM9C4I,GAAmB,SAA0BC,GAC/C,IAAIlF,EAAUkF,EAAKlF,QACfC,EAAiBiF,EAAKjF,eACtB5D,EAAS6I,EAAK7I,OACd6D,EAAiBgF,EAAKhF,eACtBC,EAAW+E,EAAK/E,SAChBC,EAAW8E,EAAK9E,SAChBC,EAAe6E,EAAK7E,aACpBE,EAAa2E,EAAK3E,WAClBC,EAAY0E,EAAK1E,UACjB2E,EAAaD,EAAKzE,MAClBA,OAAuBnE,IAAf6I,EAA2B,GAAKA,EACxCzE,EAAkBwE,EAAKxE,gBAC3B,MAAO,CACL0E,KAAMrB,GAAiB1K,EAAUC,KAAM0G,EAAS3D,GAChD4D,eAAgB8D,GAAiB3K,EAAsB6G,EAAgB5D,GACvE6D,eAAgB6D,GAAiB3K,EAAsB8G,EAAgB7D,GACvEgJ,KAAMtB,GAAiB1K,EAAUK,KAAMyG,EAAU9D,GACjDiJ,KAAMvB,GAAiB1K,EAAUM,KAAMyG,EAAU/D,GACjDkJ,SAAUxB,GAAiB1K,EAAUO,SAAUyG,EAAchE,GAC7DmJ,OAAQzB,GAAiB1K,EAAUQ,OAAQ0G,EAAYlE,GACvDoJ,MAAO1B,GAAiB1K,EAAUS,MAAO0G,EAAWnE,GACpDoE,MAAOsD,GAAiB1K,EAAUU,MAAO,CACvC0G,MAAOA,EACPC,gBAAiBA,GAChBrE,KAoPHqJ,GAAoB,KAllBC,SAA4BhJ,GACnD,MAAO,CACLsD,QAAS1C,EAAwB,CAACtD,EAAqBA,GAAwB0C,GAC/EuD,eAAgBhD,EAA2B7D,EAAsBsD,GACjEiJ,MAAO/I,EAAqBF,EAAWhC,GACvC2B,OAAQO,EAAqBF,EAAWhC,GACxCwF,eAAgBjD,EAA2B7D,EAAsBsD,GACjEyD,SAAUtC,EAAqBxE,EAAUK,KAAM,CAACM,EAAoBA,GAAsB0C,GAC1F0D,SAAUvC,EAAqBxE,EAAUM,KAAM,CAACK,EAAqBA,EAAwBA,EAA0BA,EAAyBA,GAA2B0C,GAC3K2D,aAAcxC,EAAqBxE,EAAUO,SAAU,CAACI,GAA4B0C,GACpF4D,oBAAqBtD,EAAuBN,GAC5C6D,WAAY1C,EAAqBxE,EAAUQ,OAAQ,CAACG,EAAoBA,GAA4B0C,GACpG8D,UAAW3C,EAAqBxE,EAAUS,MAAO,CAACE,GAA0B0C,GAC5E+D,MAAOhE,EAAsBC,GAC7BgE,gBAAiBzD,EAA2B7D,EAAuBsD,OAiCzC,SAAiCoD,GACzDF,IACFJ,GAAqBI,IAGnBE,EAAS6F,MACX/F,GAAkBV,IAAsB,WACtCW,GAAiBC,GAAU,WACzBF,GAAkB,YAItBC,GAAiBC,GACjBF,GAAkB,QAshB8DqF,GAA5D,EAJJ,WAClB,OAAO,QAILW,IAjPyB3M,EAiPHyM,GA9OjBvM,EAAQD,EAAS,SAAU2M,GAGhC,SAASC,IAEP,OADA/K,EAAegL,KAAMD,GACd9J,EAA0B+J,KAAMF,EAAiBG,MAAMD,KAAMjR,YAuLtE,OAttBW,SAAkBmR,EAAUC,GACzC,GAA0B,mBAAfA,GAA4C,OAAfA,EACtC,MAAM,IAAIhL,UAAU,kEAAoEgL,GAG1FD,EAAStS,UAAY+B,OAAOyQ,OAAOD,GAAcA,EAAWvS,UAAW,CACrED,YAAa,CACXuE,MAAOgO,EACP1K,YAAY,EACZE,UAAU,EACVD,cAAc,KAGd0K,IAAYxQ,OAAO0Q,eAAiB1Q,OAAO0Q,eAAeH,EAAUC,GAAcD,EAASI,UAAYH,GA8gBzGI,CAASR,EAAeD,GAOxBC,EAAcnS,UAAU4S,sBAAwB,SAA+BC,GAC7E,OAAQ,IAAQT,KAAKzK,MAAOkL,IAG9BV,EAAcnS,UAAU8S,yBAA2B,SAAkCC,EAAOC,GAC1F,IAAKA,EACH,OAAO,KAGT,OAAQD,EAAMlS,MACZ,KAAK6E,EAAUQ,OACf,KAAKR,EAAUO,SACb,MAAO,CACLoJ,UAAW2D,GAGf,KAAKtN,EAAUS,MACb,MAAO,CACLoJ,QAASyD,GAIf,MAAM,IAAIC,MAAM,IAAMF,EAAMlS,KAAO,uGAGrCsR,EAAcnS,UAAUkT,yBAA2B,SAAkC3B,GACnF,IAAI4B,EAEAJ,EAAQxB,EAAKwB,MACbK,EAAoB7B,EAAK6B,kBACzBC,EAAgB9B,EAAK8B,cACrBL,EAAiBzB,EAAKyB,eAC1B,OAAO/K,EAAS,GAAImL,IAAoBD,EAAwB,IAA0BJ,EAAMlS,MAAQ,GAAG8B,OAAOyQ,EAAkBL,EAAMlS,OAAS,GAAI,CAACoH,EAAS,GAAIoL,EAAejB,KAAKU,yBAAyBC,EAAOC,MAAoBG,KAG/OhB,EAAcnS,UAAUsT,sBAAwB,SAA+BC,GAC7E,IAAIC,EAAwBC,EAExBV,EAAQQ,EAAMR,MACdW,EAAWH,EAAMG,SACjBL,EAAgBE,EAAMF,cACtBL,EAAiBO,EAAMP,eAE3B,OAAQD,EAAMlS,MACZ,KAAK6E,EAAUU,MACb,OAAO6B,EAAS,GAAIyL,IAAWF,EAAyB,IAA2BT,EAAMlS,MAAQmS,EAAgBQ,EAAuBzG,gBAAkB9E,EAAS,GAAIoL,GAAgBG,IAEzL,KAAK9N,EAAUE,KACb,OAAOqC,EAAS,GAAIyL,EAAU,CAC5BpH,eAAgBrE,EAAS,GAAIoL,KAGjC,KAAK3N,EAAUI,KACb,OAAOmC,EAAS,GAAIyL,EAAU,CAC5BnH,eAAgBtE,EAAS,GAAIoL,KAInC,OAAOpL,EAAS,GAAIyL,IAAWD,EAAyB,IAA2BV,EAAMlS,MAAQoH,EAAS,GAAIoL,GAAgBI,KAGhItB,EAAcnS,UAAU2T,4BAA8B,SAAqCP,EAAmBM,GAC5G,IAAIE,EAAoB3L,EAAS,GAAIyL,GAOrC,OALA3R,OAAOW,KAAK0Q,GAAmB1I,SAAQ,SAAUmJ,GAC/C,IAAIC,EAEJF,EAAoB3L,EAAS,GAAI2L,IAAoBE,EAAyB,IAA2BD,GAAkBT,EAAkBS,GAAiBC,OAEzJF,GAGTzB,EAAcnS,UAAU+T,sBAAwB,SAA+BhB,EAAOC,GAmBpF,OAAO,GAGTb,EAAcnS,UAAUgU,mBAAqB,SAA4BC,EAAUP,GACjF,IAAIQ,EAAS9B,KAETgB,EAAoB,GAsCxB,OArCA,mBAAuBa,GAAU,SAAUlB,GACzC,GAAKA,GAAUA,EAAMpL,MAArB,CAIA,IAAIwM,EAAepB,EAAMpL,MACrBqL,EAAiBmB,EAAaF,SAE9BZ,EA/N4B,SAA2C1L,GACjF,IAAIyM,EAAiBjT,UAAUH,OAAS,QAAsB2H,IAAjBxH,UAAU,GAAmBA,UAAU,GAAK,GACzF,OAAOY,OAAOW,KAAKiF,GAAOV,QAAO,SAAUxH,EAAKsD,GAE9C,OADAtD,EAAIuH,EAAajE,IAAQA,GAAO4E,EAAM5E,GAC/BtD,IACN2U,GA0NuBC,CADHlM,EAAwBgM,EAAc,CAAC,cAKxD,OAFAD,EAAOH,sBAAsBhB,EAAOC,GAE5BD,EAAMlS,MACZ,KAAK6E,EAAUK,KACf,KAAKL,EAAUM,KACf,KAAKN,EAAUO,SACf,KAAKP,EAAUQ,OACf,KAAKR,EAAUS,MACbiN,EAAoBc,EAAOhB,yBAAyB,CAClDH,MAAOA,EACPK,kBAAmBA,EACnBC,cAAeA,EACfL,eAAgBA,IAElB,MAEF,QACEU,EAAWQ,EAAOZ,sBAAsB,CACtCP,MAAOA,EACPW,SAAUA,EACVL,cAAeA,EACfL,eAAgBA,SAKxBU,EAAWtB,KAAKuB,4BAA4BP,EAAmBM,IAIjEvB,EAAcnS,UAAU4B,OAAS,WAC/B,IAAI0S,EAASlC,KAAKzK,MACdsM,EAAWK,EAAOL,SAClBtM,EAAQQ,EAAwBmM,EAAQ,CAAC,aAEzCZ,EAAWzL,EAAS,GAAIN,GAM5B,OAJIsM,IACFP,EAAWtB,KAAK4B,mBAAmBC,EAAUP,IAGxC,gBAAoBpO,EAAWoO,IAGxClM,EAAY2K,EAAe,KAAM,CAAC,CAChCpP,IAAK,YAuBLwR,IAAK,SAAgBC,GACnBlP,EAAUkP,UAAYA,MAGnBrC,EA5Le,CA6LtB,aAAkB5M,EAAO3E,UAAY,CACrC6Q,KAAM,WACNnF,eAAgB,WAChB2H,SAAU,cAAoB,CAAC,YAAkB,UAAiB,WAClEQ,aAAc,WACdzC,MAAO,SACPxJ,wBAAyB,SACzB+D,eAAgB,WAChBmF,KAAM,YAAkB,YACxBC,KAAM,YAAkB,YACxBC,SAAU,YAAkB,YAC5BjF,oBAAqB,SACrBkF,OAAQ,YAAkB,YAC1BC,MAAO,YAAkB,YACzBhF,MAAO,WACPC,gBAAiB,WACjB2H,cAAe,YACdnP,EAAOjF,aAAe,CACvB0R,OAAO,EACPxJ,yBAAyB,GACxBjD,EAAOoP,KAAOrP,EAAUqP,KAAMpP,EAAOqP,OAAS,WAC/C,IAAIC,EAAcvP,EAAUsP,SAmB5B,OAjBKC,IAEHA,EAAcvD,GAAiB,CAC7BjF,QAAS,GACTC,eAAgB,GAChB9D,yBAAyB,EACzB+D,eAAgB,GAChBC,SAAU,GACVC,SAAU,GACVC,aAAc,GACdE,WAAY,GACZC,UAAW,GACXC,MAAO,GACPC,gBAAiB,MAId8H,GACNrP,GASLyM,GAAa6C,aAAe7C,GAAa2C,uCCz2BzC,IAAI/Q,EAAI,mBAAsBnE,QAAUA,OAAOqV,IAC3CC,EAAInR,EAAInE,OAAOqV,IAAI,iBAAmB,MACtCE,EAAIpR,EAAInE,OAAOqV,IAAI,gBAAkB,MACrC9R,EAAIY,EAAInE,OAAOqV,IAAI,kBAAoB,MACvCG,EAAIrR,EAAInE,OAAOqV,IAAI,qBAAuB,MAC1CnJ,EAAI/H,EAAInE,OAAOqV,IAAI,kBAAoB,MACvCI,EAAItR,EAAInE,OAAOqV,IAAI,kBAAoB,MACvCK,EAAIvR,EAAInE,OAAOqV,IAAI,iBAAmB,MACtCM,EAAIxR,EAAInE,OAAOqV,IAAI,oBAAsB,MACzCO,EAAIzR,EAAInE,OAAOqV,IAAI,yBAA2B,MAC9CQ,EAAI1R,EAAInE,OAAOqV,IAAI,qBAAuB,MAC1CS,EAAI3R,EAAInE,OAAOqV,IAAI,kBAAoB,MACvCU,EAAI5R,EAAInE,OAAOqV,IAAI,uBAAyB,MAC5CW,EAAI7R,EAAInE,OAAOqV,IAAI,cAAgB,MACnCY,EAAI9R,EAAInE,OAAOqV,IAAI,cAAgB,MACnCa,EAAI/R,EAAInE,OAAOqV,IAAI,eAAiB,MACpCc,EAAIhS,EAAInE,OAAOqV,IAAI,qBAAuB,MAC1Ce,EAAIjS,EAAInE,OAAOqV,IAAI,mBAAqB,MACxCgB,EAAIlS,EAAInE,OAAOqV,IAAI,eAAiB,MAExC,SAASiB,EAAEpS,GACT,GAAI,iBAAoBA,GAAK,OAASA,EAAG,CACvC,IAAIqS,EAAIrS,EAAEmB,SAEV,OAAQkR,GACN,KAAKjB,EACH,OAAQpR,EAAIA,EAAE/C,MACZ,KAAKwU,EACL,KAAKC,EACL,KAAKrS,EACL,KAAK2I,EACL,KAAKsJ,EACL,KAAKM,EACH,OAAO5R,EAET,QACE,OAAQA,EAAIA,GAAKA,EAAEmB,UACjB,KAAKqQ,EACL,KAAKG,EACL,KAAKI,EACL,KAAKD,EACL,KAAKP,EACH,OAAOvR,EAET,QACE,OAAOqS,GAKjB,KAAKhB,EACH,OAAOgB,IAKf,SAASC,EAAEtS,GACT,OAAOoS,EAAEpS,KAAO0R,EAGlBzV,EAAQsW,UAAYd,EACpBxV,EAAQuW,eAAiBd,EACzBzV,EAAQwW,gBAAkBjB,EAC1BvV,EAAQyW,gBAAkBnB,EAC1BtV,EAAQsD,QAAU6R,EAClBnV,EAAQ8B,WAAa4T,EACrB1V,EAAQ0W,SAAWtT,EACnBpD,EAAQ2W,KAAOb,EACf9V,EAAQgC,KAAO6T,EACf7V,EAAQ4W,OAASxB,EACjBpV,EAAQ6W,SAAW9K,EACnB/L,EAAQ8W,WAAazB,EACrBrV,EAAQ+W,SAAWpB,EAEnB3V,EAAQgX,YAAc,SAAUjT,GAC9B,OAAOsS,EAAEtS,IAAMoS,EAAEpS,KAAOyR,GAG1BxV,EAAQiX,iBAAmBZ,EAE3BrW,EAAQkX,kBAAoB,SAAUnT,GACpC,OAAOoS,EAAEpS,KAAOwR,GAGlBvV,EAAQmX,kBAAoB,SAAUpT,GACpC,OAAOoS,EAAEpS,KAAOuR,GAGlBtV,EAAQoX,UAAY,SAAUrT,GAC5B,MAAO,iBAAoBA,GAAK,OAASA,GAAKA,EAAEmB,WAAaiQ,GAG/DnV,EAAQqX,aAAe,SAAUtT,GAC/B,OAAOoS,EAAEpS,KAAO2R,GAGlB1V,EAAQsX,WAAa,SAAUvT,GAC7B,OAAOoS,EAAEpS,KAAOX,GAGlBpD,EAAQuX,OAAS,SAAUxT,GACzB,OAAOoS,EAAEpS,KAAO+R,GAGlB9V,EAAQ6B,OAAS,SAAUkC,GACzB,OAAOoS,EAAEpS,KAAO8R,GAGlB7V,EAAQwX,SAAW,SAAUzT,GAC3B,OAAOoS,EAAEpS,KAAOqR,GAGlBpV,EAAQyX,WAAa,SAAU1T,GAC7B,OAAOoS,EAAEpS,KAAOgI,GAGlB/L,EAAQ0X,aAAe,SAAU3T,GAC/B,OAAOoS,EAAEpS,KAAOsR,GAGlBrV,EAAQ2X,WAAa,SAAU5T,GAC7B,OAAOoS,EAAEpS,KAAO4R,GAGlB3V,EAAQ4X,mBAAqB,SAAU7T,GACrC,MAAO,iBAAoBA,GAAK,mBAAsBA,GAAKA,IAAMX,GAAKW,IAAM0R,GAAK1R,IAAMgI,GAAKhI,IAAMsR,GAAKtR,IAAM4R,GAAK5R,IAAM6R,GAAK,iBAAoB7R,GAAK,OAASA,IAAMA,EAAEmB,WAAa4Q,GAAK/R,EAAEmB,WAAa2Q,GAAK9R,EAAEmB,WAAaoQ,GAAKvR,EAAEmB,WAAaqQ,GAAKxR,EAAEmB,WAAawQ,GAAK3R,EAAEmB,WAAa8Q,GAAKjS,EAAEmB,WAAa+Q,GAAKlS,EAAEmB,WAAagR,GAAKnS,EAAEmB,WAAa6Q,IAGtV/V,EAAQ6X,OAAS1B,qCCvIfpW,EAAOC,QAAU,EAAjB,wCCGF,IAJyB8X,EAIrBC,EAAQ,EAAQ,MAEhBC,GANqBF,EAMYC,IALR,iBAAPD,GAAmB,YAAaA,EAAKA,EAAY,QAAIA,EAO3E,SAASG,EAAgBrY,EAAKsD,EAAKuB,GAYjC,OAXIvB,KAAOtD,EACTsC,OAAOD,eAAerC,EAAKsD,EAAK,CAC9BuB,MAAOA,EACPsD,YAAY,EACZC,cAAc,EACdC,UAAU,IAGZrI,EAAIsD,GAAOuB,EAGN7E,EAST,IAAI+U,IAAiC,oBAAXhJ,SAA0BA,OAAOoC,WAAYpC,OAAOoC,SAASwB,eA+FvFxP,EAAOC,QA7FP,SAAwBkY,EAAoBC,EAA2B1G,GACrE,GAAkC,mBAAvByG,EACT,MAAM,IAAI9E,MAAM,iDAGlB,GAAyC,mBAA9B+E,EACT,MAAM,IAAI/E,MAAM,wDAGlB,QAAgC,IAArB3B,GAAgE,mBAArBA,EACpD,MAAM,IAAI2B,MAAM,mEAOlB,OAAO,SAAcgF,GACnB,GAAgC,mBAArBA,EACT,MAAM,IAAIhF,MAAM,sDAGlB,IACIiF,EADAC,EAAmB,GAGvB,SAASC,IACPF,EAAQH,EAAmBI,EAAiB7R,KAAI,SAAUe,GACxD,OAAOA,EAASM,UAGd0Q,EAAW7D,UACbwD,EAA0BE,GACjB5G,IACT4G,EAAQ5G,EAAiB4G,IAI7B,IAAIG,EAA0B,SAAUC,GA7C5C,IAAwBhG,EAAUC,EAgD5B,SAAS8F,IACP,OAAOC,EAAejG,MAAMD,KAAMjR,YAAciR,KAjDtBG,EA8CD+F,GA9CThG,EA8CH+F,GA7CVrY,UAAY+B,OAAOyQ,OAAOD,EAAWvS,WAC9CsS,EAAStS,UAAUD,YAAcuS,EACjCA,EAASI,UAAYH,EAmDjB8F,EAAW1D,KAAO,WAChB,OAAOuD,GAGTG,EAAWzD,OAAS,WAClB,GAAIyD,EAAW7D,UACb,MAAM,IAAIvB,MAAM,oFAGlB,IAAIsF,EAAgBL,EAGpB,OAFAA,OAAQvP,EACRwP,EAAmB,GACZI,GAGT,IAAIC,EAASH,EAAWrY,UAqBxB,OAnBAwY,EAAOC,0BAA4B,WACjCN,EAAiBxN,KAAKyH,MACtBgG,KAGFI,EAAOE,mBAAqB,WAC1BN,KAGFI,EAAOG,qBAAuB,WAC5B,IAAI/I,EAAQuI,EAAiB/P,QAAQgK,MACrC+F,EAAiB3J,OAAOoB,EAAO,GAC/BwI,KAGFI,EAAO5W,OAAS,WACd,OAAoBiW,EAAezI,cAAc6I,EAAkB7F,KAAKzK,QAGnE0Q,EA7CqB,CA8C5BT,EAAMgB,eAMR,OAJAd,EAAgBO,EAAY,cAAe,cAxE7C,SAAwBJ,GACtB,OAAOA,EAAiB1X,aAAe0X,EAAiBlX,MAAQ,YAuEL8X,CAAeZ,GAAoB,KAE9FH,EAAgBO,EAAY,YAAa7D,GAElC6D,sICpHX,SAASS,EAAaC,GAAW,IAAIC,EAErC,WAAuC,GAAuB,oBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQrZ,UAAU2E,QAAQG,KAAKmU,QAAQC,UAAUG,QAAS,IAAI,iBAAyB,EAAQ,MAAOpW,GAAK,OAAO,GAF9PqW,GAA6B,OAAO,WAAkC,IAAsCC,EAAlCC,GAAQ,OAAgBT,GAAkB,GAAIC,EAA2B,CAAE,IAAIS,GAAY,OAAgBrH,MAAMrS,YAAawZ,EAASN,QAAQC,UAAUM,EAAOrY,UAAWsY,QAAqBF,EAASC,EAAMnH,MAAMD,KAAMjR,WAAc,OAAO,OAA2BiR,KAAMmH,IAW5Z,IAAIG,EAAe,CACjB7Y,KAAM,UAEJ8Y,EAAc,CAChB9Y,KAAM,SAEJ+Y,EAAY,CACd/Y,KAAM,OAGJgZ,EAA6B,SAAUC,IACzC,OAAUD,EAAeC,GAEzB,IAAIC,EAASjB,EAAae,GAE1B,SAASA,EAAcG,EAAQC,GAC7B,IAAIC,EAuHEC,EAEAC,EACAC,EACAC,EACAC,EACAC,GA3HN,OAAgBpI,KAAMyH,GAEtBK,EAAQH,EAAOjV,KAAKsN,WACDzJ,IAAfsR,GAA0B9U,QAAQC,KAAK,4EACvC6U,IAAerM,UAAUzI,QAAQH,MAAM,4HAC3CkV,EAAMF,OAASA,EACfE,EAAMD,WAAaA,EACnBC,EAAMD,WAAWnI,MAAM2I,YAAc,OAErCP,EAAMQ,IAAMC,EAEZT,EAAMU,SAAU,EAEhBV,EAAMxS,OAAS,IAAI,MAEnBwS,EAAMW,YAAc,EACpBX,EAAMY,YAAcC,EAAAA,EAEpBb,EAAMc,QAAU,EAChBd,EAAMe,QAAUF,EAAAA,EAGhBb,EAAMgB,cAAgB,EAEtBhB,EAAMiB,cAAgBC,KAAKC,GAI3BnB,EAAMoB,iBAAmBP,EAAAA,EAEzBb,EAAMqB,gBAAkBR,EAAAA,EAIxBb,EAAMsB,eAAgB,EACtBtB,EAAMuB,cAAgB,IAGtBvB,EAAMwB,YAAa,EACnBxB,EAAMyB,UAAY,EAElBzB,EAAM0B,cAAe,EACrB1B,EAAM2B,YAAc,EAEpB3B,EAAM4B,WAAY,EAClB5B,EAAM6B,SAAW,EACjB7B,EAAM8B,oBAAqB,EAE3B9B,EAAM+B,YAAc,EAIpB/B,EAAMgC,YAAa,EACnBhC,EAAMiC,gBAAkB,EAGxBjC,EAAMxX,KAAO,CACX0Z,KAAM,YACNC,GAAI,UACJC,MAAO,aACPC,OAAQ,aAGVrC,EAAMsC,aAAe,CACnBJ,KAAM,aACNK,OAAQ,YACRH,MAAO,WAGTpC,EAAMwC,QAAU,CACdC,IAAK,aACLC,IAAK,iBAGP1C,EAAM2C,QAAU3C,EAAMxS,OAAOoV,QAC7B5C,EAAM6C,UAAY7C,EAAMF,OAAOgD,SAASF,QACxC5C,EAAM+C,MAAQ/C,EAAMF,OAAOkD,KAE3BhD,EAAMiD,qBAAuB,KAI7BjD,EAAMkD,cAAgB,WACpB,OAAOC,EAAUC,KAGnBpD,EAAMqD,kBAAoB,WACxB,OAAOF,EAAUG,OAGnBtD,EAAMuD,YAAc,WAClB,OAAOrL,KAAK4H,OAAOgD,SAASU,WAAWtL,KAAK1K,SAG9CwS,EAAMyD,kBAAoB,SAAU1D,GAClCA,EAAW2D,iBAAiB,UAAWC,IACvCzL,KAAK+K,qBAAuBlD,GAG9BC,EAAM4D,UAAY,WAChBC,EAAMlB,QAAQmB,KAAKD,EAAMrW,QACzBqW,EAAMhB,UAAUiB,KAAKD,EAAM/D,OAAOgD,UAClCe,EAAMd,MAAQc,EAAM/D,OAAOkD,MAG7BhD,EAAM+D,MAAQ,WACZF,EAAMrW,OAAOsW,KAAKD,EAAMlB,SACxBkB,EAAM/D,OAAOgD,SAASgB,KAAKD,EAAMhB,WACjCgB,EAAM/D,OAAOkD,KAAOa,EAAMd,MAC1Bc,EAAM/D,OAAOkE,yBACbH,EAAMI,cAAczE,GACpBqE,EAAMK,SACNlG,EAAQmG,EAAMC,MAIhBpE,EAAMkE,QACAjE,EAAS,IAAI,MAEbC,GAAO,IAAI,OAAamE,mBAAmBvE,EAAOwE,GAAI,IAAI,MAAQ,EAAG,EAAG,IACxEnE,EAAcD,EAAK0C,QAAQ2B,SAC3BnE,EAAe,IAAI,MACnBC,EAAiB,IAAI,MACrBC,EAAQ,EAAIY,KAAKC,GACd,WACL,IAAI2B,EAAWe,EAAM/D,OAAOgD,SAC5B7C,EAAO6D,KAAKhB,GAAU0B,IAAIX,EAAMrW,QAEhCyS,EAAOwE,gBAAgBvE,GAEvBiD,EAAUuB,eAAezE,GAErB4D,EAAM7B,YAAchE,IAAUmG,EAAMC,MACtCO,EAwHG,EAAIzD,KAAKC,GAAK,GAAK,GAAK0C,EAAM5B,iBArH/B4B,EAAMvC,eACR6B,EAAUG,OAASsB,EAAetB,MAAQO,EAAMtC,cAChD4B,EAAUC,KAAOwB,EAAexB,IAAMS,EAAMtC,gBAE5C4B,EAAUG,OAASsB,EAAetB,MAClCH,EAAUC,KAAOwB,EAAexB,KAIlC,IAAIyB,EAAMhB,EAAMzC,gBACZ0D,EAAMjB,EAAMxC,gBA6ChB,OA3CI0D,SAASF,IAAQE,SAASD,KACxBD,GAAO3D,KAAKC,GAAI0D,GAAOvE,EAAeuE,EAAM3D,KAAKC,KAAI0D,GAAOvE,GAC5DwE,GAAO5D,KAAKC,GAAI2D,GAAOxE,EAAewE,EAAM5D,KAAKC,KAAI2D,GAAOxE,GAG9D6C,EAAUG,MADRuB,GAAOC,EACS5D,KAAK4D,IAAID,EAAK3D,KAAK2D,IAAIC,EAAK3B,EAAUG,QAEtCH,EAAUG,OAASuB,EAAMC,GAAO,EAAI5D,KAAK4D,IAAID,EAAK1B,EAAUG,OAASpC,KAAK2D,IAAIC,EAAK3B,EAAUG,QAKnHH,EAAUC,IAAMlC,KAAK4D,IAAIjB,EAAM7C,cAAeE,KAAK2D,IAAIhB,EAAM5C,cAAekC,EAAUC,MACtFD,EAAU6B,WACV7B,EAAU8B,QAAUC,EAEpB/B,EAAU8B,OAAS/D,KAAK4D,IAAIjB,EAAMlD,YAAaO,KAAK2D,IAAIhB,EAAMjD,YAAauC,EAAU8B,UAEzD,IAAxBpB,EAAMvC,cACRuC,EAAMrW,OAAO2X,gBAAgBC,EAAWvB,EAAMtC,eAE9CsC,EAAMrW,OAAO6X,IAAID,GAGnBnF,EAAOqF,iBAAiBnC,GAExBlD,EAAOwE,gBAAgBtE,GACvB2C,EAASgB,KAAKD,EAAMrW,QAAQ6X,IAAIpF,GAChC4D,EAAM/D,OAAOyF,OAAO1B,EAAMrW,SAEE,IAAxBqW,EAAMvC,eACRsD,EAAetB,OAAS,EAAIO,EAAMtC,cAClCqD,EAAexB,KAAO,EAAIS,EAAMtC,cAChC6D,EAAUI,eAAe,EAAI3B,EAAMtC,iBAEnCqD,EAAevK,IAAI,EAAG,EAAG,GACzB+K,EAAU/K,IAAI,EAAG,EAAG,IAGtB6K,EAAQ,KAIJO,GAAerF,EAAasF,kBAAkB7B,EAAM/D,OAAOgD,UAAY6C,GAAO,GAAK,EAAItF,EAAeuF,IAAI/B,EAAM/D,OAAO+F,aAAeF,KACxI9B,EAAMI,cAAczE,GACpBY,EAAa0D,KAAKD,EAAM/D,OAAOgD,UAC/BzC,EAAeyD,KAAKD,EAAM/D,OAAO+F,YACjCJ,GAAc,GACP,KAObzF,EAAM8F,QAAU,WACdjC,EAAM9D,WAAWgG,oBAAoB,cAAeC,IACpDnC,EAAM9D,WAAWgG,oBAAoB,cAAeE,IACpDpC,EAAM9D,WAAWgG,oBAAoB,gBAAiBG,IACtDrC,EAAM9D,WAAWgG,oBAAoB,QAASI,IAC9CtC,EAAM9D,WAAWgG,oBAAoB,cAAeK,IACpDvC,EAAM9D,WAAWgG,oBAAoB,YAAaM,IAEf,OAA/BxC,EAAMZ,sBACRY,EAAMZ,qBAAqB8C,oBAAoB,UAAWpC,KAQ9D,IAAIE,GAAQ,OAAuB7D,GAE/BmE,EAAQ,CACVC,MAAO,EACPkC,OAAQ,EACRC,MAAO,EACPC,IAAK,EACLC,aAAc,EACdC,UAAW,EACXC,gBAAiB,EACjBC,mBAAoB,GAElB5I,EAAQmG,EAAMC,KACduB,EAAM,KAENxC,EAAY,IAAI,KAChByB,EAAiB,IAAI,KACrBM,EAAQ,EACRE,EAAY,IAAI,MAChBK,GAAc,EACdoB,EAAc,IAAI,MAClBC,EAAY,IAAI,MAChBC,EAAc,IAAI,MAClBC,EAAW,IAAI,MACfC,EAAS,IAAI,MACbC,EAAW,IAAI,MACfC,EAAa,IAAI,MACjBC,EAAW,IAAI,MACfC,EAAa,IAAI,MACjBC,EAAW,GACXC,EAAmB,GAMvB,SAASC,IACP,OAAOtG,KAAKuG,IAAI,IAAM5D,EAAMpC,WAG9B,SAASkD,EAAW+C,GAClB9C,EAAetB,OAASoE,EAG1B,SAASC,EAASD,GAChB9C,EAAexB,KAAOsE,EAGxB,IACMhM,EADFkM,GACElM,EAAI,IAAI,MACL,SAAiBmM,EAAUC,GAChCpM,EAAEqM,oBAAoBD,EAAc,GAEpCpM,EAAE8J,gBAAgBqC,GAClBzC,EAAUC,IAAI3J,KAIdsM,EAAQ,WACV,IAAItM,EAAI,IAAI,MACZ,OAAO,SAAemM,EAAUC,IACG,IAA7BjE,EAAM/B,mBACRpG,EAAEqM,oBAAoBD,EAAc,IAEpCpM,EAAEqM,oBAAoBD,EAAc,GACpCpM,EAAEuM,aAAapE,EAAM/D,OAAOwE,GAAI5I,IAGlCA,EAAE8J,eAAeqC,GACjBzC,EAAUC,IAAI3J,IAXN,GAgBRwM,EAAM,WACR,IAAIjI,EAAS,IAAI,MACjB,OAAO,SAAakI,EAAQC,GAC1B,IAAIC,EAAUxE,EAAM9D,WAEpB,GAAI8D,EAAM/D,OAAOwI,oBAAqB,CAEpC,IAAIxF,EAAWe,EAAM/D,OAAOgD,SAC5B7C,EAAO6D,KAAKhB,GAAU0B,IAAIX,EAAMrW,QAChC,IAAI+a,EAAiBtI,EAAOnZ,SAE5ByhB,GAAkBrH,KAAKsH,IAAI3E,EAAM/D,OAAO2I,IAAM,EAAIvH,KAAKC,GAAK,KAE5DyG,EAAQ,EAAIO,EAASI,EAAiBF,EAAQK,aAAc7E,EAAM/D,OAAO6I,QACzEX,EAAM,EAAII,EAASG,EAAiBF,EAAQK,aAAc7E,EAAM/D,OAAO6I,aAC9D9E,EAAM/D,OAAO8I,sBAEtBhB,EAAQO,GAAUtE,EAAM/D,OAAO+I,MAAQhF,EAAM/D,OAAOgJ,MAAQjF,EAAM/D,OAAOkD,KAAOqF,EAAQU,YAAalF,EAAM/D,OAAO6I,QAClHX,EAAMI,GAAUvE,EAAM/D,OAAOkJ,IAAMnF,EAAM/D,OAAOmJ,QAAUpF,EAAM/D,OAAOkD,KAAOqF,EAAQK,aAAc7E,EAAM/D,OAAO6I,UAGjH1d,QAAQC,KAAK,gFACb2Y,EAAMjC,WAAY,IAtBd,GA2BV,SAASsH,EAASC,GACZtF,EAAM/D,OAAOwI,oBACfpD,GAASiE,EACAtF,EAAM/D,OAAO8I,sBACtB/E,EAAM/D,OAAOkD,KAAO9B,KAAK4D,IAAIjB,EAAM/C,QAASI,KAAK2D,IAAIhB,EAAM9C,QAAS8C,EAAM/D,OAAOkD,KAAOmG,IACxFtF,EAAM/D,OAAOkE,yBACbyB,GAAc,IAEdxa,QAAQC,KAAK,uFACb2Y,EAAMrC,YAAa,GAIvB,SAASf,EAAQ0I,GACXtF,EAAM/D,OAAOwI,oBACfpD,GAASiE,EACAtF,EAAM/D,OAAO8I,sBACtB/E,EAAM/D,OAAOkD,KAAO9B,KAAK4D,IAAIjB,EAAM/C,QAASI,KAAK2D,IAAIhB,EAAM9C,QAAS8C,EAAM/D,OAAOkD,KAAOmG,IACxFtF,EAAM/D,OAAOkE,yBACbyB,GAAc,IAEdxa,QAAQC,KAAK,uFACb2Y,EAAMrC,YAAa,GAOvB,SAAS4H,EAAsBC,GAC7BxC,EAAYxM,IAAIgP,EAAMC,QAASD,EAAME,SAOvC,SAASC,EAAmBH,GAC1BrC,EAAS3M,IAAIgP,EAAMC,QAASD,EAAME,SAiFpC,SAASE,IACP,GAAwB,IAApBnC,EAASxgB,OACX+f,EAAYxM,IAAIiN,EAAS,GAAGoC,MAAOpC,EAAS,GAAGqC,WAC1C,CACL,IAAI/N,EAAI,IAAO0L,EAAS,GAAGoC,MAAQpC,EAAS,GAAGoC,OAC3C7N,EAAI,IAAOyL,EAAS,GAAGqC,MAAQrC,EAAS,GAAGqC,OAC/C9C,EAAYxM,IAAIuB,EAAGC,IAIvB,SAAS+N,IACP,GAAwB,IAApBtC,EAASxgB,OACXkgB,EAAS3M,IAAIiN,EAAS,GAAGoC,MAAOpC,EAAS,GAAGqC,WACvC,CACL,IAAI/N,EAAI,IAAO0L,EAAS,GAAGoC,MAAQpC,EAAS,GAAGoC,OAC3C7N,EAAI,IAAOyL,EAAS,GAAGqC,MAAQrC,EAAS,GAAGqC,OAC/C3C,EAAS3M,IAAIuB,EAAGC,IAIpB,SAASgO,IACP,IAAIC,EAAKxC,EAAS,GAAGoC,MAAQpC,EAAS,GAAGoC,MACrCK,EAAKzC,EAAS,GAAGqC,MAAQrC,EAAS,GAAGqC,MACrC9B,EAAW3G,KAAK8I,KAAKF,EAAKA,EAAKC,EAAKA,GACxC5C,EAAW9M,IAAI,EAAGwN,GAapB,SAASoC,EAAsBZ,GAC7B,GAAuB,GAAnB/B,EAASxgB,OACXggB,EAAUzM,IAAIgP,EAAMK,MAAOL,EAAMM,WAC5B,CACL,IAAI7G,EAAWoH,GAAyBb,GACpCzN,EAAI,IAAOyN,EAAMK,MAAQ5G,EAASlH,GAClCC,EAAI,IAAOwN,EAAMM,MAAQ7G,EAASjH,GACtCiL,EAAUzM,IAAIuB,EAAGC,GAGnBkL,EAAYoD,WAAWrD,EAAWD,GAAarB,eAAe3B,EAAMlC,aACpE,IAAI0G,EAAUxE,EAAM9D,WACpB4E,EAAW,EAAIzD,KAAKC,GAAK4F,EAAYnL,EAAIyM,EAAQK,cAEjDf,EAAS,EAAIzG,KAAKC,GAAK4F,EAAYlL,EAAIwM,EAAQK,cAC/C7B,EAAY/C,KAAKgD,GAGnB,SAASsD,EAAmBf,GAC1B,GAAwB,IAApB/B,EAASxgB,OACXmgB,EAAO5M,IAAIgP,EAAMK,MAAOL,EAAMM,WACzB,CACL,IAAI7G,EAAWoH,GAAyBb,GACpCzN,EAAI,IAAOyN,EAAMK,MAAQ5G,EAASlH,GAClCC,EAAI,IAAOwN,EAAMM,MAAQ7G,EAASjH,GACtCoL,EAAO5M,IAAIuB,EAAGC,GAGhBqL,EAASiD,WAAWlD,EAAQD,GAAUxB,eAAe3B,EAAMhC,UAC3DqG,EAAIhB,EAAStL,EAAGsL,EAASrL,GACzBmL,EAASlD,KAAKmD,GAGhB,SAASoD,EAAqBhB,GAC5B,IAAIvG,EAAWoH,GAAyBb,GACpCS,EAAKT,EAAMK,MAAQ5G,EAASlH,EAC5BmO,EAAKV,EAAMM,MAAQ7G,EAASjH,EAC5BgM,EAAW3G,KAAK8I,KAAKF,EAAKA,EAAKC,EAAKA,GACxC3C,EAAS/M,IAAI,EAAGwN,GAChBR,EAAWhN,IAAI,EAAG6G,KAAKuG,IAAIL,EAASvL,EAAIsL,EAAWtL,EAAGgI,EAAMpC,YAC5DyH,EAAS7B,EAAWxL,GACpBsL,EAAWrD,KAAKsD,GAmBlB,SAASnB,GAAcoD,IACC,IAAlBxF,EAAMnD,UAEc,IAApB4G,EAASxgB,SACX+c,EAAM9D,WAAWuK,kBAAkBjB,EAAMkB,WACzC1G,EAAM9D,WAAW2D,iBAAiB,cAAe0C,IACjDvC,EAAM9D,WAAW2D,iBAAiB,YAAa2C,KAoPnD,SAAoBgD,GAClB/B,EAAS7W,KAAK4Y,GAjPdmB,CAAWnB,GAEe,UAAtBA,EAAMoB,YA6IZ,SAAsBpB,GAGpB,OAFAqB,GAAarB,GAEL/B,EAASxgB,QACf,KAAK,EACH,OAAQ+c,EAAMrB,QAAQC,KACpB,KAAK,aACH,IAA2B,IAAvBoB,EAAMnC,aAAwB,OAClC+H,IACAzL,EAAQmG,EAAMsC,aACd,MAEF,KAAK,UACH,IAAwB,IAApB5C,EAAMjC,UAAqB,OAC/BgI,IACA5L,EAAQmG,EAAMuC,UACd,MAEF,QACE1I,EAAQmG,EAAMC,KAGlB,MAEF,KAAK,EACH,OAAQP,EAAMrB,QAAQE,KACpB,KAAK,gBACH,IAAyB,IAArBmB,EAAMrC,aAA4C,IAApBqC,EAAMjC,UAAqB,OAzPjEiC,EAAMrC,YAAYqI,IAClBhG,EAAMjC,WAAWgI,IA0Pb5L,EAAQmG,EAAMwC,gBACd,MAEF,KAAK,mBACH,IAAyB,IAArB9C,EAAMrC,aAA+C,IAAvBqC,EAAMnC,aAAwB,OA1PpEmC,EAAMrC,YAAYqI,IAClBhG,EAAMnC,cAAc+H,IA2PhBzL,EAAQmG,EAAMyC,mBACd,MAEF,QACE5I,EAAQmG,EAAMC,KAGlB,MAEF,QACEpG,EAAQmG,EAAMC,KAGdpG,IAAUmG,EAAMC,MAClBP,EAAMI,cAAcxE,GA7LpBkL,CAAatB,GAsCjB,SAAqBA,GACnB,IAAIuB,EAEJ,OAAQvB,EAAMwB,QACZ,KAAK,EACHD,EAAc/G,EAAMvB,aAAaJ,KACjC,MAEF,KAAK,EACH0I,EAAc/G,EAAMvB,aAAaC,OACjC,MAEF,KAAK,EACHqI,EAAc/G,EAAMvB,aAAaF,MACjC,MAEF,QACEwI,GAAe,EAGnB,OAAQA,GACN,KAAK,YACH,IAAyB,IAArB/G,EAAMrC,WAAsB,QAhQtC,SAA8B6H,GAC5BlC,EAAW9M,IAAIgP,EAAMC,QAASD,EAAME,SAgQhCuB,CAAqBzB,GACrBrL,EAAQmG,EAAMoC,MACd,MAEF,KAAK,aACH,GAAI8C,EAAM0B,SAAW1B,EAAM2B,SAAW3B,EAAM4B,SAAU,CACpD,IAAwB,IAApBpH,EAAMjC,UAAqB,OAC/B4H,EAAmBH,GACnBrL,EAAQmG,EAAMqC,QACT,CACL,IAA2B,IAAvB3C,EAAMnC,aAAwB,OAClC0H,EAAsBC,GACtBrL,EAAQmG,EAAMmC,OAGhB,MAEF,KAAK,UACH,GAAI+C,EAAM0B,SAAW1B,EAAM2B,SAAW3B,EAAM4B,SAAU,CACpD,IAA2B,IAAvBpH,EAAMnC,aAAwB,OAClC0H,EAAsBC,GACtBrL,EAAQmG,EAAMmC,WACT,CACL,IAAwB,IAApBzC,EAAMjC,UAAqB,OAC/B4H,EAAmBH,GACnBrL,EAAQmG,EAAMqC,IAGhB,MAEF,QACExI,EAAQmG,EAAMC,KAGdpG,IAAUmG,EAAMC,MAClBP,EAAMI,cAAcxE,GA9FpByL,CAAY7B,IAIhB,SAASjD,GAAciD,IACC,IAAlBxF,EAAMnD,UAEgB,UAAtB2I,EAAMoB,YAwLZ,SAAqBpB,GAGnB,OAFAqB,GAAarB,GAELrL,GACN,KAAKmG,EAAMsC,aACT,IAA2B,IAAvB5C,EAAMnC,aAAwB,OAClCuI,EAAsBZ,GACtBxF,EAAMK,SACN,MAEF,KAAKC,EAAMuC,UACT,IAAwB,IAApB7C,EAAMjC,UAAqB,OAC/BwI,EAAmBf,GACnBxF,EAAMK,SACN,MAEF,KAAKC,EAAMwC,gBACT,IAAyB,IAArB9C,EAAMrC,aAA4C,IAApBqC,EAAMjC,UAAqB,QA/OnE,SAAiCyH,GAC3BxF,EAAMrC,YAAY6I,EAAqBhB,GACvCxF,EAAMjC,WAAWwI,EAAmBf,GA8OpC8B,CAAwB9B,GACxBxF,EAAMK,SACN,MAEF,KAAKC,EAAMyC,mBACT,IAAyB,IAArB/C,EAAMrC,aAA+C,IAAvBqC,EAAMnC,aAAwB,QAhPtE,SAAoC2H,GAC9BxF,EAAMrC,YAAY6I,EAAqBhB,GACvCxF,EAAMnC,cAAcuI,EAAsBZ,GA+O1C+B,CAA2B/B,GAC3BxF,EAAMK,SACN,MAEF,QACElG,EAAQmG,EAAMC,MApNhBiH,CAAYhC,GA0FhB,SAAqBA,GACnB,IAAsB,IAAlBxF,EAAMnD,QAAmB,OAE7B,OAAQ1C,GACN,KAAKmG,EAAMmC,OACT,IAA2B,IAAvBzC,EAAMnC,aAAwB,QArSxC,SAA+B2H,GAC7BvC,EAAUzM,IAAIgP,EAAMC,QAASD,EAAME,SACnCxC,EAAYoD,WAAWrD,EAAWD,GAAarB,eAAe3B,EAAMlC,aACpE,IAAI0G,EAAUxE,EAAM9D,WACpB4E,EAAW,EAAIzD,KAAKC,GAAK4F,EAAYnL,EAAIyM,EAAQK,cAEjDf,EAAS,EAAIzG,KAAKC,GAAK4F,EAAYlL,EAAIwM,EAAQK,cAC/C7B,EAAY/C,KAAKgD,GACjBjD,EAAMK,SA8RFoH,CAAsBjC,GACtB,MAEF,KAAKlF,EAAMoC,MACT,IAAyB,IAArB1C,EAAMrC,WAAsB,QA/RtC,SAA8B6H,GAC5BjC,EAAS/M,IAAIgP,EAAMC,QAASD,EAAME,SAClClC,EAAW8C,WAAW/C,EAAUD,GAE5BE,EAAWxL,EAAI,EACjBqN,EAAS1B,KACAH,EAAWxL,EAAI,GACxB4E,EAAQ+G,KAGVL,EAAWrD,KAAKsD,GAChBvD,EAAMK,SAqRFqH,CAAqBlC,GACrB,MAEF,KAAKlF,EAAMqC,IACT,IAAwB,IAApB3C,EAAMjC,UAAqB,QAtRrC,SAA4ByH,GAC1BpC,EAAO5M,IAAIgP,EAAMC,QAASD,EAAME,SAChCrC,EAASiD,WAAWlD,EAAQD,GAAUxB,eAAe3B,EAAMhC,UAC3DqG,EAAIhB,EAAStL,EAAGsL,EAASrL,GACzBmL,EAASlD,KAAKmD,GACdpD,EAAMK,SAkRFsH,CAAmBnC,IAxGrBoC,CAAYpC,IAIhB,SAAShD,GAAYgD,IACG,IAAlBxF,EAAMnD,UAEN2I,EAAMoB,YAiNV5G,EAAMI,cAAcvE,GACpB1B,EAAQmG,EAAMC,KA5MdsH,GAAcrC,GAEU,IAApB/B,EAASxgB,SACX+c,EAAM9D,WAAW4L,sBAAsBtC,EAAMkB,WAC7C1G,EAAM9D,WAAWgG,oBAAoB,cAAeK,IACpDvC,EAAM9D,WAAWgG,oBAAoB,YAAaM,MAItD,SAASH,GAAgBmD,GACvBqC,GAAcrC,GA4FhB,SAASlD,GAAakD,IACE,IAAlBxF,EAAMnD,UAA0C,IAArBmD,EAAMrC,YAAwBxD,IAAUmG,EAAMC,MAAQpG,IAAUmG,EAAMmC,SACrG+C,EAAMuC,iBACN/H,EAAMI,cAAcxE,GA1RtB,SAA0B4J,GACpBA,EAAMjB,OAAS,EACjB3H,EAAQ+G,KACC6B,EAAMjB,OAAS,GACxBc,EAAS1B,KAGX3D,EAAMK,SAoRN2H,CAAiBxC,GACjBxF,EAAMI,cAAcvE,IAGtB,SAASiE,GAAU0F,IACK,IAAlBxF,EAAMnD,UAAyC,IAApBmD,EAAMjC,WAtRvC,SAAuByH,GACrB,IAAIyC,GAAc,EAElB,OAAQzC,EAAM0C,MACZ,KAAKlI,EAAMrb,KAAK2Z,GACd+F,EAAI,EAAGrE,EAAM9B,aACb+J,GAAc,EACd,MAEF,KAAKjI,EAAMrb,KAAK6Z,OACd6F,EAAI,GAAIrE,EAAM9B,aACd+J,GAAc,EACd,MAEF,KAAKjI,EAAMrb,KAAK0Z,KACdgG,EAAIrE,EAAM9B,YAAa,GACvB+J,GAAc,EACd,MAEF,KAAKjI,EAAMrb,KAAK4Z,MACd8F,GAAKrE,EAAM9B,YAAa,GACxB+J,GAAc,EAIdA,IAEFzC,EAAMuC,iBACN/H,EAAMK,UA2PR8H,CAAc3C,GA+FhB,SAASrD,GAAcqD,IACC,IAAlBxF,EAAMnD,SACV2I,EAAMuC,iBAOR,SAASF,GAAcrC,UACd9B,EAAiB8B,EAAMkB,WAE9B,IAAK,IAAI3hB,EAAI,EAAGA,EAAI0e,EAASxgB,OAAQ8B,IACnC,GAAI0e,EAAS1e,GAAG2hB,WAAalB,EAAMkB,UAEjC,YADAjD,EAAShT,OAAO1L,EAAG,GAMzB,SAAS8hB,GAAarB,GACpB,IAAIvG,EAAWyE,EAAiB8B,EAAMkB,gBAErB9b,IAAbqU,IACFA,EAAW,IAAI,MACfyE,EAAiB8B,EAAMkB,WAAazH,GAGtCA,EAASzI,IAAIgP,EAAMK,MAAOL,EAAMM,OAGlC,SAASO,GAAyBb,GAChC,IAAI4C,EAAU5C,EAAMkB,YAAcjD,EAAS,GAAGiD,UAAYjD,EAAS,GAAKA,EAAS,GACjF,OAAOC,EAAiB0E,EAAQ1B,WAalC,OATA1G,EAAM9D,WAAW2D,iBAAiB,cAAesC,IACjDnC,EAAM9D,WAAW2D,iBAAiB,cAAeuC,IACjDpC,EAAM9D,WAAW2D,iBAAiB,gBAAiBwC,IACnDrC,EAAM9D,WAAW2D,iBAAiB,QAASyC,GAAc,CACvD+F,SAAS,IAGXlM,EAAMkE,SAEClE,EAGT,OAAOL,EAv0BwB,CAw0B/B,6JC71BF,SAASf,EAAaC,GAAW,IAAIC,EAErC,WAAuC,GAAuB,oBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQrZ,UAAU2E,QAAQG,KAAKmU,QAAQC,UAAUG,QAAS,IAAI,iBAAyB,EAAQ,MAAOpW,GAAK,OAAO,GAF9PqW,GAA6B,OAAO,WAAkC,IAAsCC,EAAlCC,GAAQ,OAAgBT,GAAkB,GAAIC,EAA2B,CAAE,IAAIS,GAAY,OAAgBrH,MAAMrS,YAAawZ,EAASN,QAAQC,UAAUM,EAAOrY,UAAWsY,QAAqBF,EAASC,EAAMnH,MAAMD,KAAMjR,WAAc,OAAO,OAA2BiR,KAAMmH,IAQ5Z,IAAI8M,EAAS,IAAI,MAEbC,EAAO,IAAI,MAEXC,EAAU,IAAI,MAEdC,EAAQ,IAAI,MAEZC,EAAY,IAAI,MAEhBC,EAAa,IAAI,MAEjBC,EAAY,IAAI,MAEhBC,EAAQ,IAAI,MAEZC,EAAgB,IAAI,MAEpBC,EAAO,IAAI,MAEXC,EAAU,IAAI,MAEdC,EAAqB,IAAI,MAEzBC,EAA6B,SAAUC,IACzC,OAAUD,EAAeC,GAEzB,IAAInN,EAASjB,EAAamO,GAE1B,SAASA,IACP,IAAI/M,EAEAiN,EAAWhmB,UAAUH,OAAS,QAAsB2H,IAAjBxH,UAAU,GAAmBA,UAAU,GAAK,IAAIimB,EAAA,EACnFC,EAAWlmB,UAAUH,OAAS,QAAsB2H,IAAjBxH,UAAU,GAAmBA,UAAU,GAAK,IAAImmB,EAAA,EAAa,CAClGC,MAAuB,SAAhBnM,KAAKoM,WAOd,OAJA,OAAgBpV,KAAM6U,IAEtB/M,EAAQH,EAAOjV,KAAKsN,KAAM+U,EAAUE,IAC9BxmB,KAAO,gBACNqZ,EA6NT,OAzNA,OAAa+M,EAAe,CAAC,CAC3BlkB,IAAK,uBACLuB,MAAO,WAML,IALA,IAAI6iB,EAAW/U,KAAK+U,SAChBM,EAAgBN,EAASxZ,WAAW8Z,cACpCC,EAAcP,EAASxZ,WAAW+Z,YAClCC,EAAgB,IAAIC,aAAa,EAAIH,EAAcI,OAE9C/kB,EAAI,EAAGglB,EAAI,EAAGzS,EAAIoS,EAAcI,MAAO/kB,EAAIuS,EAAGvS,IAAKglB,GAAK,EAC/DzB,EAAO0B,oBAAoBN,EAAe3kB,GAE1CwjB,EAAKyB,oBAAoBL,EAAa5kB,GAEtC6kB,EAAcG,GAAW,IAANA,EAAU,EAAIH,EAAcG,EAAI,GACnDH,EAAcG,EAAI,GAAKH,EAAcG,GAAKzB,EAAO3I,WAAW4I,GAG9D,IAAI0B,EAAyB,IAAI,MAA2BL,EAAe,EAAG,GAM9E,OAJAR,EAAS7Y,aAAa,wBAAyB,IAAI,MAA2B0Z,EAAwB,EAAG,IAEzGb,EAAS7Y,aAAa,sBAAuB,IAAI,MAA2B0Z,EAAwB,EAAG,IAEhG5V,OAER,CACDrP,IAAK,UACLuB,MAAO,SAAiB2jB,EAAWC,GACR,OAArBD,EAAUE,QACZhjB,QAAQH,MAAM,gGAGhB,IAAIojB,OAAuCzf,IAA3Bsf,EAAUI,OAAOC,OAAsBL,EAAUI,OAAOC,MAAMF,WAAiB,EAC3FG,EAAMN,EAAUM,IAChBJ,EAASF,EAAUE,OACnBK,EAAmBL,EAAOK,iBAC1BC,EAAcrW,KAAKqW,YACnBtB,EAAW/U,KAAK+U,SAChBE,EAAWjV,KAAKiV,SAChBqB,EAAarB,EAASqB,WACtBC,EAAYtB,EAASuB,UAAYR,EACjCX,EAAgBN,EAASxZ,WAAW8Z,cACpCC,EAAcP,EAASxZ,WAAW+Z,YAElCmB,GAAQV,EAAOU,KAGfC,EAAa,EAAM1N,KAAK4D,IAAI2J,EAAYD,EAAWK,MAAOJ,EAAYD,EAAWM,QAGrD,OAA5B7B,EAAS8B,gBACX9B,EAAS+B,wBAGXnC,EAAQ/I,KAAKmJ,EAAS8B,gBAAgBE,aAAaV,GAEnD,IAAIW,EAAmBhO,KAAK4D,IAAImJ,EAAOU,KAAM9B,EAAQsC,gBAAgBd,EAAIe,SAEzEtC,EAAmBzS,IAAI,EAAG,GAAI6U,EAAkB,GAAKD,aAAahB,EAAOK,kBAEzExB,EAAmBtH,eAAe,EAAMsH,EAAmBnR,GAE3DmR,EAAmBmC,aAAahB,EAAOoB,yBAGvC,IAAIC,EAA6D,GAA9CpO,KAAKqO,IAAIX,EAAa9B,EAAmBnR,GAG5D,GAFAkR,EAAQ5H,QAAUqK,GAE8B,IAA5CvB,EAAUM,IAAImB,iBAAiB3C,GAAnC,CAM6B,OAAzBI,EAASwC,aACXxC,EAASyC,qBAGX9C,EAAK9I,KAAKmJ,EAASwC,aAAaR,aAAaV,GAE7C,IAAIoB,EAAgBzO,KAAK4D,IAAImJ,EAAOU,KAAM/B,EAAKuC,gBAAgBd,EAAIe,SAEnEtC,EAAmBzS,IAAI,EAAG,GAAIsV,EAAe,GAAKV,aAAahB,EAAOK,kBAEtExB,EAAmBtH,eAAe,EAAMsH,EAAmBnR,GAE3DmR,EAAmBmC,aAAahB,EAAOoB,yBAGvC,IAAIO,EAA0D,GAA9C1O,KAAKqO,IAAIX,EAAa9B,EAAmBnR,GAQzD,GAPAiR,EAAK9H,IAAIlJ,GAAKgU,EACdhD,EAAK9H,IAAIjJ,GAAK+T,EACdhD,EAAK9H,IAAIhJ,GAAK8T,EACdhD,EAAK/H,IAAIjJ,GAAKgU,EACdhD,EAAK/H,IAAIhJ,GAAK+T,EACdhD,EAAK/H,IAAI/I,GAAK8T,GAE4B,IAAtC7B,EAAUM,IAAIwB,cAAcjD,GAAhC,CAQAyB,EAAIyB,GAAG,EAAGvD,GAEVA,EAAU5Q,EAAI,EAEd4Q,EAAU0C,aAAahB,EAAO8B,oBAE9BxD,EAAU0C,aAAaX,GAEvB/B,EAAU/G,eAAe,EAAI+G,EAAU5Q,GAGvC4Q,EAAU3Q,GAAK4S,EAAW5S,EAAI,EAC9B2Q,EAAU1Q,GAAK2S,EAAW3S,EAAI,EAC9B0Q,EAAUzQ,EAAI,EAEd0Q,EAAW1I,KAAKyI,GAEhBE,EAAUuD,iBAAiB/B,EAAO8B,mBAAoBxB,GAEtD,IAAK,IAAI3lB,EAAI,EAAGuS,EAAIoS,EAAcI,MAAO/kB,EAAIuS,EAAGvS,IAAK,CAenD,GAdAyjB,EAAQwB,oBAAoBN,EAAe3kB,GAE3C0jB,EAAMuB,oBAAoBL,EAAa5kB,GAEvCyjB,EAAQ1Q,EAAI,EACZ2Q,EAAM3Q,EAAI,EAEV0Q,EAAQ4C,aAAaxC,GAErBH,EAAM2C,aAAaxC,KAGMJ,EAAQvQ,EAAI6S,GAAQrC,EAAMxQ,EAAI6S,GAEvD,CAKA,GAAItC,EAAQvQ,EAAI6S,EAAM,CACpB,IAAIsB,EAAY5D,EAAQvQ,EAAIwQ,EAAMxQ,EAC9BL,GAAK4Q,EAAQvQ,EAAI6S,GAAQsB,EAE7B5D,EAAQ6D,KAAK5D,EAAO7Q,QACf,GAAI6Q,EAAMxQ,EAAI6S,EAAM,CACzB,IAAIwB,EAAa7D,EAAMxQ,EAAIuQ,EAAQvQ,EAE/BsU,GAAM9D,EAAMxQ,EAAI6S,GAAQwB,EAE5B7D,EAAM4D,KAAK7D,EAAS+D,GAItB/D,EAAQ4C,aAAaX,GAErBhC,EAAM2C,aAAaX,GAGnBjC,EAAQ7G,eAAe,EAAI6G,EAAQ1Q,GAEnC2Q,EAAM9G,eAAe,EAAI8G,EAAM3Q,GAG/B0Q,EAAQzQ,GAAK4S,EAAW5S,EAAI,EAC5ByQ,EAAQxQ,GAAK2S,EAAW3S,EAAI,EAC5ByQ,EAAM1Q,GAAK4S,EAAW5S,EAAI,EAC1B0Q,EAAMzQ,GAAK2S,EAAW3S,EAAI,EAE1B6Q,EAAM2D,MAAMvM,KAAKuI,GAEjBK,EAAM2D,MAAMvU,EAAI,EAEhB4Q,EAAM4D,IAAIxM,KAAKwI,GAEfI,EAAM4D,IAAIxU,EAAI,EAEd,IAAIyU,EAAQ7D,EAAM8D,6BAA6BhE,GAAY,GAE3DE,EAAMoD,GAAGS,EAAO5D,GAGhB,IAAI8D,EAAO,WAAepE,EAAQvQ,EAAGwQ,EAAMxQ,EAAGyU,GAC1CG,EAAgBD,IAAS,GAAKA,GAAQ,EACtCE,EAAWnE,EAAWhJ,WAAWmJ,GAA6B,GAAZ8B,EAEtD,GAAIiC,GAAiBC,EAAU,CAC7BjE,EAAM2D,MAAMxC,oBAAoBN,EAAe3kB,GAE/C8jB,EAAM4D,IAAIzC,oBAAoBL,EAAa5kB,GAE3C8jB,EAAM2D,MAAMpB,aAAaV,GAEzB7B,EAAM4D,IAAIrB,aAAaV,GAEvB,IAAIqC,EAAc,IAAI,MAClBC,EAAQ,IAAI,MAChBxC,EAAIyC,oBAAoBpE,EAAM2D,MAAO3D,EAAM4D,IAAKO,EAAOD,GACvD5C,EAAWvd,KAAK,CACdogB,MAAOA,EACPD,YAAaA,EACb/I,SAAUwG,EAAIe,OAAO5L,WAAWqN,GAChC/Q,OAAQ5H,KACR6Y,KAAM,KACNC,UAAWpoB,EACXqoB,GAAI,KACJC,IAAK,gBAORnE,EA9OwB,CA+O/B,OAEFA,EAAcjnB,UAAUinB,eAAgB,gBClRxC,SAAS,EAAalO,GAAW,IAAIC,EAErC,WAAuC,GAAuB,oBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQrZ,UAAU2E,QAAQG,KAAKmU,QAAQC,UAAUG,QAAS,IAAI,iBAAyB,EAAQ,MAAOpW,GAAK,OAAO,GAF9P,GAA6B,OAAO,WAAkC,IAAsCsW,EAAlCC,GAAQ,OAAgBT,GAAkB,GAAIC,EAA2B,CAAE,IAAIS,GAAY,OAAgBrH,MAAMrS,YAAawZ,EAASN,QAAQC,UAAUM,EAAOrY,UAAWsY,QAAqBF,EAASC,EAAMnH,MAAMD,KAAMjR,WAAc,OAAO,OAA2BiR,KAAMmH,IAQ5Z,IAAI+O,EAAqB,SAAU+C,IACjC,OAAU/C,EAAO+C,GAEjB,IAAItR,EAAS,EAAauO,GAE1B,SAASA,IACP,IAAIpO,EAEAiN,EAAWhmB,UAAUH,OAAS,QAAsB2H,IAAjBxH,UAAU,GAAmBA,UAAU,GAAK,IAAImqB,EAAAC,EACnFlE,EAAWlmB,UAAUH,OAAS,QAAsB2H,IAAjBxH,UAAU,GAAmBA,UAAU,GAAK,IAAImmB,EAAA,EAAa,CAClGC,MAAuB,SAAhBnM,KAAKoM,WAOd,OAJA,OAAgBpV,KAAMkW,IAEtBpO,EAAQH,EAAOjV,KAAKsN,KAAM+U,EAAUE,IAC9BxmB,KAAO,QACNqZ,EAGT,OAAOoO,EApBgB,CAqBvBrB,GAEFqB,EAAMtoB,UAAUwrB,SAAU,oIC7B1B,SAAS1S,EAAaC,GAAW,IAAIC,EAErC,WAAuC,GAAuB,oBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQrZ,UAAU2E,QAAQG,KAAKmU,QAAQC,UAAUG,QAAS,IAAI,iBAAyB,EAAQ,MAAOpW,GAAK,OAAO,GAF9PqW,GAA6B,OAAO,WAAkC,IAAsCC,EAAlCC,GAAQ,OAAgBT,GAAkB,GAAIC,EAA2B,CAAE,IAAIS,GAAY,OAAgBrH,MAAMrS,YAAawZ,EAASN,QAAQC,UAAUM,EAAOrY,UAAWsY,QAAqBF,EAASC,EAAMnH,MAAMD,KAAMjR,WAAc,OAAO,OAA2BiR,KAAMmH,IAM5Z,IAAI+R,EAA4B,SAAUG,IACxC,OAAUH,EAAcG,GAExB,IAAI1R,EAASjB,EAAawS,GAE1B,SAASA,IACP,IAAIpR,EAMJ,OAJA,OAAgB9H,KAAMkZ,IAEtBpR,EAAQH,EAAOjV,KAAKsN,OACdvR,KAAO,eACNqZ,EA4DT,OAzDA,OAAaoR,EAAc,CAAC,CAC1BvoB,IAAK,eACLuB,MAAO,SAAsBonB,GAK3B,IAHA,IAAI1qB,EAAS0qB,EAAM1qB,OAAS,EACxB2qB,EAAS,IAAI/D,aAAa,EAAI5mB,GAEzB8B,EAAI,EAAGA,EAAI9B,EAAQ8B,GAAK,EAC/B6oB,EAAO,EAAI7oB,GAAK4oB,EAAM5oB,GACtB6oB,EAAO,EAAI7oB,EAAI,GAAK4oB,EAAM5oB,EAAI,GAC9B6oB,EAAO,EAAI7oB,EAAI,GAAK4oB,EAAM5oB,EAAI,GAC9B6oB,EAAO,EAAI7oB,EAAI,GAAK4oB,EAAM5oB,EAAI,GAC9B6oB,EAAO,EAAI7oB,EAAI,GAAK4oB,EAAM5oB,EAAI,GAC9B6oB,EAAO,EAAI7oB,EAAI,GAAK4oB,EAAM5oB,EAAI,GAKhC,OAFA,QAAK,OAAgBwoB,EAAatrB,WAAY,eAAgBoS,MAAMtN,KAAKsN,KAAMuZ,GAExEvZ,OAER,CACDrP,IAAK,YACLuB,MAAO,SAAmBonB,GAKxB,IAHA,IAAI1qB,EAAS0qB,EAAM1qB,OAAS,EACxB4qB,EAAS,IAAIhE,aAAa,EAAI5mB,GAEzB8B,EAAI,EAAGA,EAAI9B,EAAQ8B,GAAK,EAC/B8oB,EAAO,EAAI9oB,GAAK4oB,EAAM5oB,GACtB8oB,EAAO,EAAI9oB,EAAI,GAAK4oB,EAAM5oB,EAAI,GAC9B8oB,EAAO,EAAI9oB,EAAI,GAAK4oB,EAAM5oB,EAAI,GAC9B8oB,EAAO,EAAI9oB,EAAI,GAAK4oB,EAAM5oB,EAAI,GAC9B8oB,EAAO,EAAI9oB,EAAI,GAAK4oB,EAAM5oB,EAAI,GAC9B8oB,EAAO,EAAI9oB,EAAI,GAAK4oB,EAAM5oB,EAAI,GAKhC,OAFA,QAAK,OAAgBwoB,EAAatrB,WAAY,YAAaoS,MAAMtN,KAAKsN,KAAMwZ,GAErExZ,OAER,CACDrP,IAAK,WACLuB,MAAO,SAAkBunB,GACvB,IAAI1E,EAAW0E,EAAK1E,SAEpB,IAAIA,EAAS2E,WAQb,OALW3E,EAAS4E,kBAClB3Z,KAAK4Z,aAAa7E,EAASxZ,WAAWqP,SAAS0O,OAI1CtZ,KAPLjN,QAAQH,MAAM,yFAWbsmB,EAxEuB,SAyE9B,GAEFA,EAAatrB,UAAUisB,gBAAiB,oIClFxC,SAASnT,EAAaC,GAAW,IAAIC,EAErC,WAAuC,GAAuB,oBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQrZ,UAAU2E,QAAQG,KAAKmU,QAAQC,UAAUG,QAAS,IAAI,iBAAyB,EAAQ,MAAOpW,GAAK,OAAO,GAF9PqW,GAA6B,OAAO,WAAkC,IAAsCC,EAAlCC,GAAQ,OAAgBT,GAAkB,GAAIC,EAA2B,CAAE,IAAIS,GAAY,OAAgBrH,MAAMrS,YAAawZ,EAASN,QAAQC,UAAUM,EAAOrY,UAAWsY,QAAqBF,EAASC,EAAMnH,MAAMD,KAAMjR,WAAc,OAAO,OAA2BiR,KAAMmH,IAkB5Z,WAAmB,CACjBqP,UAAW,CACTtkB,MAAO,GAETokB,WAAY,CACVpkB,MAAO,IAAI,MAAQ,EAAG,IAExB4nB,UAAW,CACT5nB,MAAO,GAET6nB,SAAU,CACR7nB,MAAO,GAET8nB,WAAY,CACV9nB,MAAO,GAET+nB,QAAS,CACP/nB,MAAO,GAGTgoB,QAAS,CACPhoB,MAAO,IAGX,WAAoB,CAClBioB,SAAU,YAAoB,CAAC,aAAoB,UAAiB,aACpEC,aAEA,+uHACAC,eAEA,0sDAGF,IAAInF,EAA4B,SAAUoF,IACxC,OAAUpF,EAAcoF,GAExB,IAAI3S,EAASjB,EAAawO,GAE1B,SAASA,EAAaqF,GACpB,IAAIzS,EA6HJ,OA3HA,OAAgB9H,KAAMkV,GAEtBpN,EAAQH,EAAOjV,KAAKsN,KAAM,CACxBvR,KAAM,eACN0rB,SAAU,YAAoB,qBAC9BC,aAAc,wBACdC,eAAgB,0BAChBG,UAAU,IAGZ7qB,OAAO0F,kBAAiB,OAAuByS,GAAQ,CACrDqN,MAAO,CACL3f,YAAY,EACZrD,IAAK,WACH,OAAO6N,KAAKma,SAASM,QAAQvoB,OAE/BiQ,IAAK,SAAajQ,GAChB8N,KAAKma,SAASM,QAAQvoB,MAAQA,IAGlCskB,UAAW,CACThhB,YAAY,EACZrD,IAAK,WACH,OAAO6N,KAAKma,SAAS3D,UAAUtkB,OAEjCiQ,IAAK,SAAajQ,GAChB8N,KAAKma,SAAS3D,UAAUtkB,MAAQA,IAGpCwoB,OAAQ,CACNllB,YAAY,EACZrD,IAAK,WACH,OAAO8U,QAAQ,aAAcjH,KAAK2a,UAEpCxY,IAAK,SAAajQ,GACZ+U,QAAQ/U,KAAW+U,QAAQ,aAAcjH,KAAK2a,WAChD3a,KAAK4T,aAAc,IAGP,IAAV1hB,EACF8N,KAAK2a,QAAQC,SAAW,UAEjB5a,KAAK2a,QAAQC,WAI1Bd,UAAW,CACTtkB,YAAY,EACZrD,IAAK,WACH,OAAO6N,KAAKma,SAASL,UAAU5nB,OAEjCiQ,IAAK,SAAajQ,GAChB8N,KAAKma,SAASL,UAAU5nB,MAAQA,IAGpC6nB,SAAU,CACRvkB,YAAY,EACZrD,IAAK,WACH,OAAO6N,KAAKma,SAASJ,SAAS7nB,OAEhCiQ,IAAK,SAAajQ,GAChB8N,KAAKma,SAASJ,SAAS7nB,MAAQA,IAGnC8nB,WAAY,CACVxkB,YAAY,EACZrD,IAAK,WACH,OAAO6N,KAAKma,SAASH,WAAW9nB,OAElCiQ,IAAK,SAAajQ,GAChB8N,KAAKma,SAASH,WAAW9nB,MAAQA,IAGrC+nB,QAAS,CACPzkB,YAAY,EACZrD,IAAK,WACH,OAAO6N,KAAKma,SAASF,QAAQ/nB,OAE/BiQ,IAAK,SAAajQ,GAChB8N,KAAKma,SAASF,QAAQ/nB,MAAQA,IAGlCgoB,QAAS,CACP1kB,YAAY,EACZrD,IAAK,WACH,OAAO6N,KAAKma,SAASD,QAAQhoB,OAE/BiQ,IAAK,SAAajQ,GAChB8N,KAAKma,SAASD,QAAQhoB,MAAQA,IAGlCokB,WAAY,CACV9gB,YAAY,EACZrD,IAAK,WACH,OAAO6N,KAAKma,SAAS7D,WAAWpkB,OAElCiQ,IAAK,SAAajQ,GAChB8N,KAAKma,SAAS7D,WAAWpkB,MAAM0Z,KAAK1Z,KAGxC2oB,gBAAiB,CACfrlB,YAAY,EACZrD,IAAK,WACH,OAAO8U,QAAQ,sBAAuBjH,KAAK2a,UAE7CxY,IAAK,SAAajQ,GACZ+U,QAAQ/U,KAAW+U,QAAQ,sBAAuBjH,KAAK2a,WACzD3a,KAAK4T,aAAc,IAGP,IAAV1hB,GACF8N,KAAK2a,QAAQG,kBAAoB,GACjC9a,KAAK+a,WAAWC,aAAc,WAEvBhb,KAAK2a,QAAQG,kBACpB9a,KAAK+a,WAAWC,aAAc,OAMtClT,EAAMmT,UAAUV,GAETzS,EAGT,OAAOoN,EAtIuB,CAuI9B,OAEFA,EAAatnB,UAAUstB,gBAAiB,oIC7LxC,SAASxU,EAAaC,GAAW,IAAIC,EAErC,WAAuC,GAAuB,oBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQrZ,UAAU2E,QAAQG,KAAKmU,QAAQC,UAAUG,QAAS,IAAI,iBAAyB,EAAQ,MAAOpW,GAAK,OAAO,GAF9PqW,GAA6B,OAAO,WAAkC,IAAsCC,EAAlCC,GAAQ,OAAgBT,GAAkB,GAAIC,EAA2B,CAAE,IAAIS,GAAY,OAAgBrH,MAAMrS,YAAawZ,EAASN,QAAQC,UAAUM,EAAOrY,UAAWsY,QAAqBF,EAASC,EAAMnH,MAAMD,KAAMjR,WAAc,OAAO,OAA2BiR,KAAMmH,IAM5Z,IAAIuN,EAAO,IAAI,MAEXyG,EAAU,IAAI,MAEdnG,EAAoC,SAAUoG,IAChD,OAAUpG,EAAsBoG,GAEhC,IAAIzT,EAASjB,EAAasO,GAE1B,SAASA,IACP,IAAIlN,GAEJ,OAAgB9H,KAAMgV,IAEtBlN,EAAQH,EAAOjV,KAAKsN,OACdvR,KAAO,uBAWb,OANAqZ,EAAMuT,SAFM,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAIhEvT,EAAM5L,aAAa,WAAY,IAAI,MANnB,EAAE,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,GAMvB,IAErE4L,EAAM5L,aAAa,KAAM,IAAI,MAPnB,EAAE,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,GAOP,IAElD4L,EAsKT,OAnKA,OAAakN,EAAsB,CAAC,CAClCrkB,IAAK,eACLuB,MAAO,SAAsBue,GAC3B,IAAI0H,EAAQnY,KAAKzE,WAAW8Z,cACxB+C,EAAMpY,KAAKzE,WAAW+Z,YAgB1B,YAdc/e,IAAV4hB,IACFA,EAAMpB,aAAatG,GACnB2H,EAAIrB,aAAatG,GACjB0H,EAAMvE,aAAc,GAGG,OAArB5T,KAAKuX,aACPvX,KAAKwX,qBAGqB,OAAxBxX,KAAK6W,gBACP7W,KAAK8W,wBAGA9W,OAER,CACDrP,IAAK,eACLuB,MAAO,SAAsBonB,GAC3B,IAAIgC,EAEAhC,aAAiB9D,aACnB8F,EAAehC,EACN3nB,MAAMC,QAAQ0nB,KACvBgC,EAAe,IAAI9F,aAAa8D,IAGlC,IAAIiC,EAAiB,IAAI,MAA2BD,EAAc,EAAG,GASrE,OAPAtb,KAAK9D,aAAa,gBAAiB,IAAI,MAA2Bqf,EAAgB,EAAG,IAErFvb,KAAK9D,aAAa,cAAe,IAAI,MAA2Bqf,EAAgB,EAAG,IAGnFvb,KAAKwX,qBACLxX,KAAK8W,wBACE9W,OAER,CACDrP,IAAK,YACLuB,MAAO,SAAmBonB,GACxB,IAAIE,EAEAF,aAAiB9D,aACnBgE,EAASF,EACA3nB,MAAMC,QAAQ0nB,KACvBE,EAAS,IAAIhE,aAAa8D,IAG5B,IAAIkC,EAAsB,IAAI,MAA2BhC,EAAQ,EAAG,GAMpE,OAJAxZ,KAAK9D,aAAa,qBAAsB,IAAI,MAA2Bsf,EAAqB,EAAG,IAE/Fxb,KAAK9D,aAAa,mBAAoB,IAAI,MAA2Bsf,EAAqB,EAAG,IAEtFxb,OAER,CACDrP,IAAK,wBACLuB,MAAO,SAA+B6iB,GAEpC,OADA/U,KAAK4Z,aAAa7E,EAASxZ,WAAWqP,SAAS0O,OACxCtZ,OAER,CACDrP,IAAK,oBACLuB,MAAO,SAA2B6iB,GAEhC,OADA/U,KAAK4Z,aAAa7E,EAASxZ,WAAWqP,SAAS0O,OACxCtZ,OAER,CACDrP,IAAK,WACLuB,MAAO,SAAkBupB,GAGvB,OAFAzb,KAAK0b,sBAAsB,IAAI,MAAkBD,EAAK1G,WAE/C/U,OAER,CACDrP,IAAK,mBACLuB,MAAO,SAA0BopB,GAC/B,IAAIvG,EAAWuG,EAAavG,SAE5B,IAAIA,EAAS2E,WAQb,OALW3E,EAAS4E,kBAClB3Z,KAAK4Z,aAAa7E,EAASxZ,WAAWqP,SAAS0O,OAI1CtZ,KAPLjN,QAAQH,MAAM,+FASjB,CACDjC,IAAK,qBACLuB,MAAO,WACoB,OAArB8N,KAAKuX,cACPvX,KAAKuX,YAAc,IAAI,OAGzB,IAAIY,EAAQnY,KAAKzE,WAAW8Z,cACxB+C,EAAMpY,KAAKzE,WAAW+Z,iBAEZ/e,IAAV4hB,QAA+B5hB,IAAR6hB,IACzBpY,KAAKuX,YAAYoE,uBAAuBxD,GAExCzD,EAAKiH,uBAAuBvD,GAE5BpY,KAAKuX,YAAYqE,MAAMlH,MAG1B,CACD/jB,IAAK,wBACLuB,MAAO,WACuB,OAAxB8N,KAAK6W,iBACP7W,KAAK6W,eAAiB,IAAI,OAGH,OAArB7W,KAAKuX,aACPvX,KAAKwX,qBAGP,IAAIW,EAAQnY,KAAKzE,WAAW8Z,cACxB+C,EAAMpY,KAAKzE,WAAW+Z,YAE1B,QAAc/e,IAAV4hB,QAA+B5hB,IAAR6hB,EAAmB,CAC5C,IAAIyD,EAAS7b,KAAK6W,eAAegF,OACjC7b,KAAKuX,YAAYuE,UAAUD,GAG3B,IAFA,IAAIE,EAAc,EAETrrB,EAAI,EAAGsrB,EAAK7D,EAAM1C,MAAO/kB,EAAIsrB,EAAItrB,IACxCyqB,EAAQxF,oBAAoBwC,EAAOznB,GAEnCqrB,EAAc/S,KAAK4D,IAAImP,EAAaF,EAAOrO,kBAAkB2N,IAE7DA,EAAQxF,oBAAoByC,EAAK1nB,GAEjCqrB,EAAc/S,KAAK4D,IAAImP,EAAaF,EAAOrO,kBAAkB2N,IAG/Dnb,KAAK6W,eAAe9J,OAAS/D,KAAK8I,KAAKiK,GAEnCE,MAAMjc,KAAK6W,eAAe9J,SAC5Bha,QAAQH,MAAM,wIAAyIoN,SAI5J,CACDrP,IAAK,SACLuB,MAAO,cAEN,CACDvB,IAAK,cACLuB,MAAO,SAAqBue,GAE1B,OADA1d,QAAQC,KAAK,iFACNgN,KAAK+W,aAAatG,OAItBuE,EA5L+B,CA6LtC,OAEFA,EAAqBpnB,UAAUsuB,wBAAyB,wBC/MxD,IAAIC,EAAW,EAAQ,KAEvB3uB,EAAOC,QAAU,SAAUiE,GACzB,IAAKyqB,EAASzqB,GACZ,MAAMyD,UAAUqB,OAAO9E,GAAM,qBAC7B,OAAOA,yBCLX,IAAI0qB,EAAkB,EAAQ,MAC1BC,EAAW,EAAQ,MACnBC,EAAkB,EAAQ,MAG1BC,EAAe,SAAUC,GAC3B,OAAO,SAAUC,EAAOC,EAAIC,GAC1B,IAGIzqB,EAHA0qB,EAAIR,EAAgBK,GACpB7tB,EAASytB,EAASO,EAAEhuB,QACpB4O,EAAQ8e,EAAgBK,EAAW/tB,GAIvC,GAAI4tB,GAAeE,GAAMA,GAAI,KAAO9tB,EAAS4O,GAG3C,IAFAtL,EAAQ0qB,EAAEpf,OAEGtL,EAAO,OAAO,OAEtB,KAAMtD,EAAS4O,EAAOA,IAC3B,IAAKgf,GAAehf,KAASof,IAAMA,EAAEpf,KAAWkf,EAAI,OAAOF,GAAehf,GAAS,EACnF,OAAQgf,IAAgB,IAI9BhvB,EAAOC,QAAU,CAGfovB,SAAUN,GAAa,GAGvBvmB,QAASumB,GAAa,sBC9BxB,IAAI/pB,EAAW,GAAGA,SAElBhF,EAAOC,QAAU,SAAUiE,GACzB,OAAOc,EAASE,KAAKhB,GAAImL,MAAM,GAAI,0BCHrC,IAAI5K,EAAM,EAAQ,MACd6qB,EAAU,EAAQ,MAClBC,EAAiC,EAAQ,MACzCC,EAAuB,EAAQ,MAEnCxvB,EAAOC,QAAU,SAAU6H,EAAQjD,GAIjC,IAHA,IAAI/B,EAAOwsB,EAAQzqB,GACf3C,EAAiBstB,EAAqBla,EACtChT,EAA2BitB,EAA+Bja,EACrDpS,EAAI,EAAGA,EAAIJ,EAAK1B,OAAQ8B,IAAK,CACpC,IAAIC,EAAML,EAAKI,GACVuB,EAAIqD,EAAQ3E,IAAMjB,EAAe4F,EAAQ3E,EAAKb,EAAyBuC,EAAQ1B,4BCXxF,IAAIssB,EAAc,EAAQ,MACtBD,EAAuB,EAAQ,MAC/BE,EAA2B,EAAQ,MAEvC1vB,EAAOC,QAAUwvB,EAAc,SAAUrV,EAAQjX,EAAKuB,GACpD,OAAO8qB,EAAqBla,EAAE8E,EAAQjX,EAAKusB,EAAyB,EAAGhrB,KACrE,SAAU0V,EAAQjX,EAAKuB,GAEzB,OADA0V,EAAOjX,GAAOuB,EACP0V,qBCRTpa,EAAOC,QAAU,SAAU0vB,EAAQjrB,GACjC,MAAO,CACLsD,aAAuB,EAAT2nB,GACd1nB,eAAyB,EAAT0nB,GAChBznB,WAAqB,EAATynB,GACZjrB,MAAOA,0BCLX,IAAIkrB,EAAQ,EAAQ,MAGpB5vB,EAAOC,SAAW2vB,GAAM,WAEtB,OAA8E,GAAvEztB,OAAOD,eAAe,GAAI,EAAG,CAAEyC,IAAK,WAAc,OAAO,KAAQ,2BCL1E,IAAIkrB,EAAS,EAAQ,MACjBlB,EAAW,EAAQ,KAEnB3gB,EAAW6hB,EAAO7hB,SAElB8hB,EAASnB,EAAS3gB,IAAa2gB,EAAS3gB,EAASwB,eAErDxP,EAAOC,QAAU,SAAUiE,GACzB,OAAO4rB,EAAS9hB,EAASwB,cAActL,GAAM,0BCR/C,IAAI6rB,EAAa,EAAQ,MAEzB/vB,EAAOC,QAAU8vB,EAAW,YAAa,cAAgB,yBCFzD,IAOIzqB,EAAO0qB,EAPPH,EAAS,EAAQ,MACjBI,EAAY,EAAQ,MAEpBC,EAAUL,EAAOK,QACjBC,EAAON,EAAOM,KACdC,EAAWF,GAAWA,EAAQE,UAAYD,GAAQA,EAAKH,QACvDK,EAAKD,GAAYA,EAASC,GAG1BA,EAEFL,GADA1qB,EAAQ+qB,EAAG/hB,MAAM,MACD,GAAK,EAAI,EAAIhJ,EAAM,GAAKA,EAAM,GACrC2qB,MACT3qB,EAAQ2qB,EAAU3qB,MAAM,iBACVA,EAAM,IAAM,MACxBA,EAAQ2qB,EAAU3qB,MAAM,oBACb0qB,EAAU1qB,EAAM,IAI/BtF,EAAOC,QAAU+vB,IAAYA,mBCnB7BhwB,EAAOC,QAAU,CACf,cACA,iBACA,gBACA,uBACA,iBACA,WACA,gCCRF,IAAI4vB,EAAS,EAAQ,MACjBvtB,EAA2B,UAC3BguB,EAA8B,EAAQ,MACtCC,EAAW,EAAQ,MACnBC,EAAY,EAAQ,MACpBC,EAA4B,EAAQ,MACpCC,EAAW,EAAQ,MAgBvB1wB,EAAOC,QAAU,SAAU0wB,EAAS9rB,GAClC,IAGYiD,EAAQ3E,EAAKytB,EAAgBC,EAAgBztB,EAHrD0tB,EAASH,EAAQ7oB,OACjBipB,EAASJ,EAAQd,OACjBmB,EAASL,EAAQM,KASrB,GANEnpB,EADEipB,EACOlB,EACAmB,EACAnB,EAAOiB,IAAWN,EAAUM,EAAQ,KAEnCjB,EAAOiB,IAAW,IAAI1wB,UAEtB,IAAK+C,KAAO0B,EAAQ,CAQ9B,GAPAgsB,EAAiBhsB,EAAO1B,GAGtBytB,EAFED,EAAQO,aACV9tB,EAAad,EAAyBwF,EAAQ3E,KACfC,EAAWsB,MACpBoD,EAAO3E,IACtButB,EAASK,EAAS5tB,EAAM2tB,GAAUE,EAAS,IAAM,KAAO7tB,EAAKwtB,EAAQQ,cAE5CpoB,IAAnB6nB,EAA8B,CAC3C,UAAWC,UAA0BD,EAAgB,SACrDH,EAA0BI,EAAgBD,IAGxCD,EAAQpX,MAASqX,GAAkBA,EAAerX,OACpD+W,EAA4BO,EAAgB,QAAQ,GAGtDN,EAASzoB,EAAQ3E,EAAK0tB,EAAgBF,uBCnD1C3wB,EAAOC,QAAU,SAAUmxB,GACzB,IACE,QAASA,IACT,MAAOhsB,GACP,OAAO,0BCJX,IAAIyqB,EAAS,EAAQ,MAEjBwB,EAAY,SAAUC,GACxB,MAA0B,mBAAZA,EAAyBA,OAAWvoB,GAGpD/I,EAAOC,QAAU,SAAUsxB,EAAWC,GACpC,OAAOjwB,UAAUH,OAAS,EAAIiwB,EAAUxB,EAAO0B,IAAc1B,EAAO0B,IAAc1B,EAAO0B,GAAWC,0BCPtG,IAAIC,EAAQ,SAAUvtB,GACpB,OAAOA,GAAMA,EAAGsX,MAAQA,MAAQtX,GAIlClE,EAAOC,QAELwxB,EAA2B,iBAAdC,YAA0BA,aACvCD,EAAuB,iBAAV7lB,QAAsBA,SAEnC6lB,EAAqB,iBAAR/oB,MAAoBA,OACjC+oB,EAAuB,iBAAV,EAAAzlB,GAAsB,EAAAA,IAEnC,WAAe,OAAOwG,KAAtB,IAAoCmf,SAAS,cAATA,yBCbtC,IAAIC,EAAW,EAAQ,MAEnB3sB,EAAiB,GAAGA,eAExBjF,EAAOC,QAAUkC,OAAO0vB,QAAU,SAAgB3tB,EAAIf,GACpD,OAAO8B,EAAeC,KAAK0sB,EAAS1tB,GAAKf,sBCL3CnD,EAAOC,QAAU,yBCAjB,IAAIwvB,EAAc,EAAQ,MACtBG,EAAQ,EAAQ,MAChBpgB,EAAgB,EAAQ,KAG5BxP,EAAOC,SAAWwvB,IAAgBG,GAAM,WAEtC,OAEQ,GAFDztB,OAAOD,eAAesN,EAAc,OAAQ,IAAK,CACtD7K,IAAK,WAAc,OAAO,KACzBX,2BCTL,IAAI4rB,EAAQ,EAAQ,MAChBkC,EAAU,EAAQ,MAElBxjB,EAAQ,GAAGA,MAGftO,EAAOC,QAAU2vB,GAAM,WAGrB,OAAQztB,OAAO,KAAK4vB,qBAAqB,MACtC,SAAU7tB,GACb,MAAsB,UAAf4tB,EAAQ5tB,GAAkBoK,EAAMpJ,KAAKhB,EAAI,IAAM/B,OAAO+B,IAC3D/B,6BCZJ,IAAI6vB,EAAQ,EAAQ,MAEhBC,EAAmBN,SAAS3sB,SAGE,mBAAvBgtB,EAAME,gBACfF,EAAME,cAAgB,SAAUhuB,GAC9B,OAAO+tB,EAAiB/sB,KAAKhB,KAIjClE,EAAOC,QAAU+xB,EAAME,oCCXvB,IAWIvd,EAAKhQ,EAAKF,EAXV0tB,EAAkB,EAAQ,MAC1BtC,EAAS,EAAQ,MACjBlB,EAAW,EAAQ,KACnB2B,EAA8B,EAAQ,MACtC8B,EAAY,EAAQ,MACpBC,EAAS,EAAQ,MACjBC,EAAY,EAAQ,MACpBC,EAAa,EAAQ,MAErBC,EAA6B,6BAC7BC,EAAU5C,EAAO4C,QAgBrB,GAAIN,GAAmBE,EAAO/Z,MAAO,CACnC,IAAI0Z,EAAQK,EAAO/Z,QAAU+Z,EAAO/Z,MAAQ,IAAIma,GAC5CC,EAAQV,EAAMrtB,IACdguB,EAAQX,EAAMvtB,IACdmuB,EAAQZ,EAAMrd,IAClBA,EAAM,SAAUzQ,EAAI2uB,GAClB,GAAIF,EAAMztB,KAAK8sB,EAAO9tB,GAAK,MAAM,IAAIyD,UAAU6qB,GAG/C,OAFAK,EAASC,OAAS5uB,EAClB0uB,EAAM1tB,KAAK8sB,EAAO9tB,EAAI2uB,GACfA,GAETluB,EAAM,SAAUT,GACd,OAAOwuB,EAAMxtB,KAAK8sB,EAAO9tB,IAAO,IAElCO,EAAM,SAAUP,GACd,OAAOyuB,EAAMztB,KAAK8sB,EAAO9tB,QAEtB,CACL,IAAIua,EAAQ6T,EAAU,SACtBC,EAAW9T,IAAS,EACpB9J,EAAM,SAAUzQ,EAAI2uB,GAClB,GAAIT,EAAUluB,EAAIua,GAAQ,MAAM,IAAI9W,UAAU6qB,GAG9C,OAFAK,EAASC,OAAS5uB,EAClBosB,EAA4BpsB,EAAIua,EAAOoU,GAChCA,GAETluB,EAAM,SAAUT,GACd,OAAOkuB,EAAUluB,EAAIua,GAASva,EAAGua,GAAS,IAE5Cha,EAAM,SAAUP,GACd,OAAOkuB,EAAUluB,EAAIua,IAIzBze,EAAOC,QAAU,CACf0U,IAAKA,EACLhQ,IAAKA,EACLF,IAAKA,EACLsuB,QAnDY,SAAU7uB,GACtB,OAAOO,EAAIP,GAAMS,EAAIT,GAAMyQ,EAAIzQ,EAAI,KAmDnC8uB,UAhDc,SAAUC,GACxB,OAAO,SAAU/uB,GACf,IAAIoU,EACJ,IAAKqW,EAASzqB,KAAQoU,EAAQ3T,EAAIT,IAAKjD,OAASgyB,EAC9C,MAAMtrB,UAAU,0BAA4BsrB,EAAO,aACnD,OAAO3a,2BCtBb,IAAIsX,EAAQ,EAAQ,MAEhBsD,EAAc,kBAEdxC,EAAW,SAAUyC,EAASC,GAChC,IAAI1uB,EAAQ2uB,EAAKC,EAAUH,IAC3B,OAAOzuB,GAAS6uB,GACZ7uB,GAAS8uB,IACW,mBAAbJ,EAA0BxD,EAAMwD,KACrCA,IAGJE,EAAY5C,EAAS4C,UAAY,SAAUhiB,GAC7C,OAAOtI,OAAOsI,GAAQrI,QAAQiqB,EAAa,KAAK7oB,eAG9CgpB,EAAO3C,EAAS2C,KAAO,GACvBG,EAAS9C,EAAS8C,OAAS,IAC3BD,EAAW7C,EAAS6C,SAAW,IAEnCvzB,EAAOC,QAAUywB,mBCpBjB1wB,EAAOC,QAAU,SAAUiE,GACzB,MAAqB,iBAAPA,EAAyB,OAAPA,EAA4B,mBAAPA,qBCDvDlE,EAAOC,SAAU,wBCAjB,IAAI8vB,EAAa,EAAQ,MACrB0D,EAAoB,EAAQ,MAEhCzzB,EAAOC,QAAUwzB,EAAoB,SAAUvvB,GAC7C,MAAoB,iBAANA,GACZ,SAAUA,GACZ,IAAIwvB,EAAU3D,EAAW,UACzB,MAAyB,mBAAX2D,GAAyBvxB,OAAO+B,aAAewvB,wBCN/D,IAAIC,EAAa,EAAQ,MACrB/D,EAAQ,EAAQ,MAGpB5vB,EAAOC,UAAYkC,OAAOE,wBAA0ButB,GAAM,WACxD,IAAIgE,EAAS9zB,SAGb,OAAQkJ,OAAO4qB,MAAazxB,OAAOyxB,aAAmB9zB,UAEnDA,OAAOyZ,MAAQoa,GAAcA,EAAa,4BCX/C,IAAI9D,EAAS,EAAQ,MACjBqC,EAAgB,EAAQ,MAExBO,EAAU5C,EAAO4C,QAErBzyB,EAAOC,QAA6B,mBAAZwyB,GAA0B,cAAcoB,KAAK3B,EAAcO,0BCLnF,IAAIhD,EAAc,EAAQ,MACtBqE,EAAiB,EAAQ,MACzBC,EAAW,EAAQ,MACnBC,EAAgB,EAAQ,MAGxBC,EAAkB9xB,OAAOD,eAI7BjC,EAAQqV,EAAIma,EAAcwE,EAAkB,SAAwB7E,EAAG8E,EAAGC,GAIxE,GAHAJ,EAAS3E,GACT8E,EAAIF,EAAcE,GAClBH,EAASI,GACLL,EAAgB,IAClB,OAAOG,EAAgB7E,EAAG8E,EAAGC,GAC7B,MAAO/uB,IACT,GAAI,QAAS+uB,GAAc,QAASA,EAAY,MAAMxsB,UAAU,2BAEhE,MADI,UAAWwsB,IAAY/E,EAAE8E,GAAKC,EAAWzvB,OACtC0qB,yBCnBT,IAAIK,EAAc,EAAQ,MACtB2E,EAA6B,EAAQ,MACrC1E,EAA2B,EAAQ,MACnCd,EAAkB,EAAQ,MAC1BoF,EAAgB,EAAQ,MACxBvvB,EAAM,EAAQ,MACdqvB,EAAiB,EAAQ,MAGzBO,EAA4BlyB,OAAOG,yBAIvCrC,EAAQqV,EAAIma,EAAc4E,EAA4B,SAAkCjF,EAAG8E,GAGzF,GAFA9E,EAAIR,EAAgBQ,GACpB8E,EAAIF,EAAcE,GACdJ,EAAgB,IAClB,OAAOO,EAA0BjF,EAAG8E,GACpC,MAAO9uB,IACT,GAAIX,EAAI2qB,EAAG8E,GAAI,OAAOxE,GAA0B0E,EAA2B9e,EAAEpQ,KAAKkqB,EAAG8E,GAAI9E,EAAE8E,2BCnB7F,IAAII,EAAqB,EAAQ,MAG7B/B,EAFc,EAAQ,KAEGxvB,OAAO,SAAU,aAK9C9C,EAAQqV,EAAInT,OAAOC,qBAAuB,SAA6BgtB,GACrE,OAAOkF,EAAmBlF,EAAGmD,wBCR/BtyB,EAAQqV,EAAInT,OAAOE,4CCDnB,IAAIoC,EAAM,EAAQ,MACdmqB,EAAkB,EAAQ,MAC1BpmB,EAAU,gBACV+pB,EAAa,EAAQ,MAEzBvyB,EAAOC,QAAU,SAAUma,EAAQma,GACjC,IAGIpxB,EAHAisB,EAAIR,EAAgBxU,GACpBlX,EAAI,EACJyW,EAAS,GAEb,IAAKxW,KAAOisB,GAAI3qB,EAAI8tB,EAAYpvB,IAAQsB,EAAI2qB,EAAGjsB,IAAQwW,EAAO5O,KAAK5H,GAEnE,KAAOoxB,EAAMnzB,OAAS8B,GAAOuB,EAAI2qB,EAAGjsB,EAAMoxB,EAAMrxB,SAC7CsF,EAAQmR,EAAQxW,IAAQwW,EAAO5O,KAAK5H,IAEvC,OAAOwW,oCCdT,IAAI6a,EAAwB,GAAGzC,qBAE3BzvB,EAA2BH,OAAOG,yBAGlCmyB,EAAcnyB,IAA6BkyB,EAAsBtvB,KAAK,CAAE,EAAG,GAAK,GAIpFjF,EAAQqV,EAAImf,EAAc,SAA8BC,GACtD,IAAItxB,EAAad,EAAyBkQ,KAAMkiB,GAChD,QAAStxB,GAAcA,EAAW4E,YAChCwsB,wBCbJ,IAAI7F,EAAW,EAAQ,KAIvB3uB,EAAOC,QAAU,SAAU00B,EAAOC,GAChC,IAAIC,EAAIC,EACR,GAAa,WAATF,GAAqD,mBAAxBC,EAAKF,EAAM3vB,YAA4B2pB,EAASmG,EAAMD,EAAG3vB,KAAKyvB,IAAS,OAAOG,EAC/G,GAAmC,mBAAvBD,EAAKF,EAAM5vB,WAA2B4pB,EAASmG,EAAMD,EAAG3vB,KAAKyvB,IAAS,OAAOG,EACzF,GAAa,WAATF,GAAqD,mBAAxBC,EAAKF,EAAM3vB,YAA4B2pB,EAASmG,EAAMD,EAAG3vB,KAAKyvB,IAAS,OAAOG,EAC/G,MAAMntB,UAAU,kECTlB,IAAIooB,EAAa,EAAQ,MACrBgF,EAA4B,EAAQ,MACpCC,EAA8B,EAAQ,MACtCjB,EAAW,EAAQ,MAGvB/zB,EAAOC,QAAU8vB,EAAW,UAAW,YAAc,SAAiB7rB,GACpE,IAAIpB,EAAOiyB,EAA0Bzf,EAAEye,EAAS7vB,IAC5C7B,EAAwB2yB,EAA4B1f,EACxD,OAAOjT,EAAwBS,EAAKC,OAAOV,EAAsB6B,IAAOpB,yBCT1E,IAAI+sB,EAAS,EAAQ,MACjBS,EAA8B,EAAQ,MACtC7rB,EAAM,EAAQ,MACd+rB,EAAY,EAAQ,MACpB0B,EAAgB,EAAQ,MACxB+C,EAAsB,EAAQ,MAE9BC,EAAmBD,EAAoBtwB,IACvCwwB,EAAuBF,EAAoBlC,QAC3CqC,EAAWpsB,OAAOA,QAAQsF,MAAM,WAEnCtO,EAAOC,QAAU,SAAUmvB,EAAGjsB,EAAKuB,EAAOisB,GACzC,IAGIrY,EAHA+c,IAAS1E,KAAYA,EAAQ0E,OAC7BC,IAAS3E,KAAYA,EAAQ3oB,WAC7BkpB,IAAcP,KAAYA,EAAQO,YAElB,mBAATxsB,IACS,iBAAPvB,GAAoBsB,EAAIC,EAAO,SACxC4rB,EAA4B5rB,EAAO,OAAQvB,IAE7CmV,EAAQ6c,EAAqBzwB,IAClBG,SACTyT,EAAMzT,OAASuwB,EAAS7rB,KAAmB,iBAAPpG,EAAkBA,EAAM,MAG5DisB,IAAMS,GAIEwF,GAEAnE,GAAe9B,EAAEjsB,KAC3BmyB,GAAS,UAFFlG,EAAEjsB,GAIPmyB,EAAQlG,EAAEjsB,GAAOuB,EAChB4rB,EAA4BlB,EAAGjsB,EAAKuB,IATnC4wB,EAAQlG,EAAEjsB,GAAOuB,EAChB8rB,EAAUrtB,EAAKuB,KAUrBitB,SAASvxB,UAAW,YAAY,WACjC,MAAsB,mBAARoS,MAAsB0iB,EAAiB1iB,MAAM3N,QAAUqtB,EAAc1f,2BCpCrFxS,EAAOC,QAAU,SAAUiE,GACzB,GAAU6E,MAAN7E,EAAiB,MAAMyD,UAAU,wBAA0BzD,GAC/D,OAAOA,yBCJT,IAAI2rB,EAAS,EAAQ,MAErB7vB,EAAOC,QAAU,SAAUkD,EAAKuB,GAC9B,IAEEvC,OAAOD,eAAe2tB,EAAQ1sB,EAAK,CAAEuB,MAAOA,EAAOuD,cAAc,EAAMC,UAAU,IACjF,MAAO9C,GACPyqB,EAAO1sB,GAAOuB,EACd,OAAOA,yBCRX,IAAI2tB,EAAS,EAAQ,MACjBkD,EAAM,EAAQ,MAEdzyB,EAAOuvB,EAAO,QAElBryB,EAAOC,QAAU,SAAUkD,GACzB,OAAOL,EAAKK,KAASL,EAAKK,GAAOoyB,EAAIpyB,2BCNvC,IAAI0sB,EAAS,EAAQ,MACjBW,EAAY,EAAQ,MAEpBgF,EAAS,qBACTxD,EAAQnC,EAAO2F,IAAWhF,EAAUgF,EAAQ,IAEhDx1B,EAAOC,QAAU+xB,wBCNjB,IAAIyD,EAAU,EAAQ,MAClBzD,EAAQ,EAAQ,OAEnBhyB,EAAOC,QAAU,SAAUkD,EAAKuB,GAC/B,OAAOstB,EAAM7uB,KAAS6uB,EAAM7uB,QAAiB4F,IAAVrE,EAAsBA,EAAQ,MAChE,WAAY,IAAIqG,KAAK,CACtBilB,QAAS,SACT0F,KAAMD,EAAU,OAAS,SACzBE,UAAW,+DCRb,IAAI/F,EAAQ,EAAQ,MAChBgG,EAAc,EAAQ,MAM1B51B,EAAOC,QAAU,SAAU41B,GACzB,OAAOjG,GAAM,WACX,QAASgG,EAAYC,MANf,aAMqCA,MAAyBD,EAAYC,GAAa10B,OAAS00B,4BCT1G,IAAIC,EAAyB,EAAQ,MACjC9wB,EAAW,EAAQ,MAGnB+wB,EAAa,IAFC,EAAQ,MAEW,IACjCC,EAAQpxB,OAAO,IAAMmxB,EAAaA,EAAa,KAC/CE,EAAQrxB,OAAOmxB,EAAaA,EAAa,MAGzChH,EAAe,SAAUkE,GAC3B,OAAO,SAAUhE,GACf,IAAI3d,EAAStM,EAAS8wB,EAAuB7G,IAG7C,OAFW,EAAPgE,IAAU3hB,EAASA,EAAOrI,QAAQ+sB,EAAO,KAClC,EAAP/C,IAAU3hB,EAASA,EAAOrI,QAAQgtB,EAAO,KACtC3kB,IAIXtR,EAAOC,QAAU,CAGf0qB,MAAOoE,EAAa,GAGpBnE,IAAKmE,EAAa,GAGlBmH,KAAMnH,EAAa,0BC3BrB,IAAIoH,EAAY,EAAQ,MAEpB/W,EAAM5D,KAAK4D,IACXD,EAAM3D,KAAK2D,IAKfnf,EAAOC,QAAU,SAAU+P,EAAO5O,GAChC,IAAIg1B,EAAUD,EAAUnmB,GACxB,OAAOomB,EAAU,EAAIhX,EAAIgX,EAAUh1B,EAAQ,GAAK+d,EAAIiX,EAASh1B,0BCT/D,IAAIi1B,EAAgB,EAAQ,MACxBP,EAAyB,EAAQ,MAErC91B,EAAOC,QAAU,SAAUiE,GACzB,OAAOmyB,EAAcP,EAAuB5xB,uBCL9C,IAAIoyB,EAAO9a,KAAK8a,KACZC,EAAQ/a,KAAK+a,MAIjBv2B,EAAOC,QAAU,SAAUu2B,GACzB,OAAO/H,MAAM+H,GAAYA,GAAY,GAAKA,EAAW,EAAID,EAAQD,GAAME,0BCNzE,IAAIL,EAAY,EAAQ,MAEpBhX,EAAM3D,KAAK2D,IAIfnf,EAAOC,QAAU,SAAUu2B,GACzB,OAAOA,EAAW,EAAIrX,EAAIgX,EAAUK,GAAW,kBAAoB,yBCPrE,IAAIV,EAAyB,EAAQ,MAIrC91B,EAAOC,QAAU,SAAUu2B,GACzB,OAAOr0B,OAAO2zB,EAAuBU,2BCLvC,IAAI7H,EAAW,EAAQ,KACnB8H,EAAW,EAAQ,MACnBC,EAAsB,EAAQ,MAG9BC,EAFkB,EAAQ,KAEXC,CAAgB,eAInC52B,EAAOC,QAAU,SAAU00B,EAAOC,GAChC,IAAKjG,EAASgG,IAAU8B,EAAS9B,GAAQ,OAAOA,EAChD,IACIhb,EADAkd,EAAelC,EAAMgC,GAEzB,QAAqB5tB,IAAjB8tB,EAA4B,CAG9B,QAFa9tB,IAAT6rB,IAAoBA,EAAO,WAC/Bjb,EAASkd,EAAa3xB,KAAKyvB,EAAOC,IAC7BjG,EAAShV,IAAW8c,EAAS9c,GAAS,OAAOA,EAClD,MAAMhS,UAAU,2CAGlB,YADaoB,IAAT6rB,IAAoBA,EAAO,UACxB8B,EAAoB/B,EAAOC,0BCpBpC,IAAIkC,EAAc,EAAQ,MACtBL,EAAW,EAAQ,MAIvBz2B,EAAOC,QAAU,SAAUu2B,GACzB,IAAIrzB,EAAM2zB,EAAYN,EAAU,UAChC,OAAOC,EAAStzB,GAAOA,EAAM6F,OAAO7F,0BCPtC,IAAIszB,EAAW,EAAQ,MAEvBz2B,EAAOC,QAAU,SAAUu2B,GACzB,GAAIC,EAASD,GAAW,MAAM7uB,UAAU,6CACxC,OAAOqB,OAAOwtB,sBCJhB,IAAI/qB,EAAK,EACLsrB,EAAUvb,KAAKoM,SAEnB5nB,EAAOC,QAAU,SAAUkD,GACzB,MAAO,UAAY6F,YAAeD,IAAR5F,EAAoB,GAAKA,GAAO,QAAUsI,EAAKsrB,GAAS/xB,SAAS,2BCH7F,IAAIgyB,EAAgB,EAAQ,KAE5Bh3B,EAAOC,QAAU+2B,IACXl3B,OAAOyZ,MACkB,iBAAnBzZ,OAAOC,+BCLnB,IAAI8vB,EAAS,EAAQ,MACjBwC,EAAS,EAAQ,MACjB5tB,EAAM,EAAQ,MACd8wB,EAAM,EAAQ,MACdyB,EAAgB,EAAQ,KACxBvD,EAAoB,EAAQ,MAE5BwD,EAAwB5E,EAAO,OAC/BvyB,EAAS+vB,EAAO/vB,OAChBo3B,EAAwBzD,EAAoB3zB,EAASA,GAAUA,EAAOq3B,eAAiB5B,EAE3Fv1B,EAAOC,QAAU,SAAUkB,GAOvB,OANGsD,EAAIwyB,EAAuB91B,KAAW61B,GAAuD,iBAA/BC,EAAsB91B,MACnF61B,GAAiBvyB,EAAI3E,EAAQqB,GAC/B81B,EAAsB91B,GAAQrB,EAAOqB,GAErC81B,EAAsB91B,GAAQ+1B,EAAsB,UAAY/1B,IAE3D81B,EAAsB91B,sBCjBjCnB,EAAOC,QAAU,mFCAjB,IAAIm3B,EAAI,EAAQ,KACZC,EAAa,cAGbC,EAFyB,EAAQ,KAExBC,CAAuB,aAEhCC,EAAYF,EAAS,WACvB,OAAOD,EAAW7kB,OAEhB,GAAGglB,UAKPJ,EAAE,CAAEtvB,OAAQ,SAAU2vB,OAAO,EAAMtG,OAAQmG,GAAU,CACnDE,UAAWA,EACXE,SAAUF,gJCTG,SAASG,EAAT,GAAkI,IAgF3IC,EAhFmCC,EAAuG,EAAvGA,aAAcC,EAAyF,EAAzFA,cAAeC,EAA0E,EAA1EA,gBAAiBC,EAAyD,EAAzDA,mBAAoB/2B,EAAqC,EAArCA,KAAMg3B,EAA+B,EAA/BA,iBAAiBC,EAAc,EAAdA,aACjI,GAA0BC,EAAAA,EAAAA,UAAS,CAAC,EAAE,IAAhCC,EAAN,KAAaC,EAAb,KACA,GAA4DF,EAAAA,EAAAA,WAAS,GAA/DG,EAAN,KAA8BC,EAA9B,KACA,GAA2DJ,EAAAA,EAAAA,WAAS,GAA9DK,EAAN,KAA8BC,EAA9B,KACA,GAAgCN,EAAAA,EAAAA,WAAS,GAAnCO,EAAN,KAAgBC,EAAhB,KACA,GAA0CR,EAAAA,EAAAA,WAAS,GAA7CS,EAAN,KAAqBC,EAArB,KACIC,GAAUC,EAAAA,EAAAA,QAAO,MAErB,SAASC,EAAQ31B,GAChB,IAAI41B,EAAM51B,EAAEyE,OAAOoxB,QAAQD,IAE3B,IAAoB,IAAjBE,OAAOF,GAAV,CAKA,IAAIG,GAAM,OAAOhB,GAEE,IAAhBgB,EAAOH,GACTG,EAAOH,GAAO,EAEdG,EAAOH,GAAO,EAGfZ,GAAS,OAAIe,SAZZb,GAA0B,GA0B5B,SAASc,EAAkBh2B,GAC1B,IAAI41B,EAAM51B,EAAEyE,OAAOoxB,QAAQD,IAE3B,IAAoB,IAAjBE,OAAOF,GAAV,CAKA,IAAIG,GAAM,OAAOrB,GACE,IAAhBqB,EAAOH,GACTG,EAAOH,GAAO,EAEdG,EAAOH,GAAO,EAGW,IAAvBlB,EAAgB,IAAYG,GAC9BoB,EAAAA,EAAAA,IAAiBzB,EAAcC,EAAeA,EAAc,EAAI,KAAM,OACvC,IAAvBC,EAAgB,IAAYG,IACpCtsB,OAAO2tB,MAAMllB,SAAWzI,OAAO2tB,MAAMllB,SAASzK,QAAO,SAAAsM,GAAC,MAAe,eAAXA,EAAE/U,SAG7D62B,GAAmB,OAAIoB,SAjBtBX,GAAyB,GAoB3B,SAASe,EAAcn2B,GACtB,IAAI41B,EAAM51B,EAAEyE,OAAOoxB,QAAQD,IACvBv0B,EAAQrB,EAAEyE,OAAOoxB,QAAQx0B,MAEzB00B,GAAM,OAAOhB,GAEdgB,EAAOH,KAASE,OAAOz0B,GACzB00B,EAAOH,GAAOE,OAAOz0B,GAErB00B,EAAOH,GAAO,EAIfZ,GAAS,OAAIe,IACbb,GAA0B,GAiB3B,SAASkB,EAAmBp2B,GAI3B,GAFS2K,SAASkB,cAAc,sBAE1B,CAGL,GAFSlB,SAASkB,cAAc,sBAE1BwqB,SAASr2B,EAAEyE,QAAS,OAAO,EAEjCywB,GAA0B,GAC1BE,GAAyB,QAEzBF,GAA0B,GAC1BE,GAAyB,GAG1B7sB,OAAOyU,oBAAoB,QAASyY,EAAQhvB,SAI7C,SAAS6vB,EAAShS,EAAOiS,EAAO34B,GAC/B,GAAa,eAAV24B,EAAuB,CAEzB,IAAIvlB,EAAWzI,OAAO2tB,MAAMllB,SAASzK,QAAO,SAAAsM,GAAC,MAAc,oBAAVA,EAAE2jB,OAEnD,IAAIxlB,EAAU,OAEd,GAAY,UAATpT,EAEF,IAAI,IAAIiC,EAAI,EAAGA,EAAImR,EAASjT,OAAQ8B,IAAI,CACvBmR,EAASnR,GAAGmR,SAASzK,QAAO,SAAAsM,GAAC,MAAc,mBAAVA,EAAE2jB,OAEzC/uB,SAAQ,SAAAoL,GACH,sBAAXA,EAAE/U,OAA8B+U,EAAEuR,SAASE,OAAQmS,EAAAA,EAAAA,GAASnS,YAKjE,IAAI,IAAIzkB,EAAI,EAAGA,EAAImR,EAASjT,OAAQ8B,IAAI,CACvBmR,EAASnR,GAAGmR,SAASzK,QAAO,SAAAsM,GAAC,MAAc,mBAAVA,EAAE2jB,OAGzC/uB,SAAQ,SAAAoL,GACH,sBAAXA,EAAE/U,OACJ+U,EAAEuR,SAASE,OAAQmS,EAAAA,EAAAA,GAASnS,GAC5BzR,EAAEuR,SAASsS,aAAc,EACzB7jB,EAAEuR,SAASiF,QAAU,WAKrB,CACJ,IAAIrY,EAAWzI,OAAO2tB,MAAMllB,SAASzK,QAAO,SAAAsM,GAAC,MAAc,oBAAVA,EAAE2jB,OAGnD,GADAt0B,QAAQy0B,IAAI3lB,IACRA,EAAU,OAEd,GAAY,UAATpT,EACF,IAAI,IAAIiC,EAAI,EAAGA,EAAImR,EAASjT,OAAQ8B,IAAI,CACvBmR,EAASnR,GAAGmR,SAASzK,QAAO,SAAAsM,GAAC,OAAIA,EAAE2jB,IAAM,oBAE/C/uB,SAAQ,SAAAoL,GACH,sBAAXA,EAAE/U,OAA8B+U,EAAEuR,SAASE,OAAQmS,EAAAA,EAAAA,GAASnS,YAIjE,IAAI,IAAIzkB,EAAI,EAAGA,EAAImR,EAASjT,OAAQ8B,IAAI,CACvBmR,EAASnR,GAAGmR,SAASzK,QAAO,SAAAsM,GAAC,OAAIA,EAAE2jB,IAAM,oBAG/C/uB,SAAQ,SAAAoL,GACH,sBAAXA,EAAE/U,OACJ+U,EAAEuR,SAASE,OAAQmS,EAAAA,EAAAA,GAASnS,GAC5BzR,EAAEuR,SAASsS,aAAc,EACzB7jB,EAAEuR,SAASiF,QAAU,QAmE3B,OA3DAuN,EAAAA,EAAAA,YAAW,WACNnB,EAAQhvB,UAASgvB,EAAQhvB,QAAU2vB,KACrC,KAGHQ,EAAAA,EAAAA,YAAW,WACP3B,GACF1sB,OAAOoS,iBAAiB,QAAS8a,EAAQhvB,WAExC,CAACwuB,KAGJ2B,EAAAA,EAAAA,YAAW,WACPzB,GACF5sB,OAAOoS,iBAAiB,QAAS8a,EAAQhvB,WAExC,CAAC0uB,KAEJyB,EAAAA,EAAAA,YAAW,WACV,IAAIC,EAAM,GACNC,EAAmB,GAEG,IAAvBpC,EAAgB,IAAUoC,EAAiBpvB,KAAK,QACzB,IAAvBgtB,EAAgB,IAAUoC,EAAiBpvB,KAAK,OACzB,IAAvBgtB,EAAgB,IAAUoC,EAAiBpvB,KAAK,SACzB,IAAvBgtB,EAAgB,IAAUoC,EAAiBpvB,KAAK,cACzB,IAAvBgtB,EAAgB,IAAUoC,EAAiBpvB,KAAK,iBAEnDovB,EAAiBrvB,SAAQ,SAAAoL,IACxBkkB,EAAAA,EAAAA,IAAiBlkB,MAGQ,IAAvB6hB,EAAgB,IAAUmC,EAAInvB,KAAK,QACZ,IAAvBgtB,EAAgB,IAAUmC,EAAInvB,KAAK,OACZ,IAAvBgtB,EAAgB,IAAUmC,EAAInvB,KAAK,SACZ,IAAvBgtB,EAAgB,IAAUmC,EAAInvB,KAAK,cACZ,IAAvBgtB,EAAgB,IAAUmC,EAAInvB,KAAK,iBAEtCmvB,EAAIpvB,SAAQ,SAAAoL,IACXmkB,EAAAA,EAAAA,IAAiBnkB,EAAG2hB,EAAcC,MAG/BlsB,OAAO0uB,UACX1uB,OAAO0uB,SAASt4B,OAAO4J,OAAO2tB,MAAO3tB,OAAO2c,UAC1C,CAACwP,KAEJkC,EAAAA,EAAAA,YAAW,WACNruB,OAAO0uB,YACXC,EAAAA,EAAAA,MACgB,IAAbnC,EAAM,KAAUoC,EAAAA,EAAAA,MACH,IAAbpC,EAAM,KAAUqC,EAAAA,EAAAA,MAEnB7uB,OAAO0uB,SAASt4B,OAAO4J,OAAO2tB,MAAO3tB,OAAO2c,WAC1C,CAAC6P,IAOH,uBAAKsC,UAAU,6BAEZhC,GAAY,gCACb,uBAAKgC,UAAU,+BACd,uBAAK1B,QAASK,EAAmB,YAAW,EAAGzB,IAAKG,EAAgB1I,SAAS,GAAK,kDAAoD,6CAA8CniB,MAAM,aAAaytB,IAAI,eAC3M,gBAAC,IAAD,CAAaC,mBAAmB,EAAMhB,MAAM,aAAaD,SAAUA,EAAU14B,KAAMA,EAAM45B,IAAI,UAAUC,GAAG,aAG3G,uBAAKJ,UAAU,gCAnKb9C,EAAM,GAEM,IAAbQ,EAAM,GACRR,EAAM,kDACe,IAAbQ,EAAM,GACdR,EAAM,6CACe,IAAbQ,EAAM,KACdR,EAAM,wDAGA,uBAAKoB,QAASA,EAAS,YAAW,EAAGpB,IAAKA,EAAK+C,IAAI,aAAaztB,MAAM,aAAawtB,UAAwB,IAAbtC,EAAM,GAAW,SAAW,MA2J9H,gBAAC,IAAD,CAAawC,mBAAmB,EAAMhB,MAAM,aAAaD,SAAUA,EAAU14B,KAAMA,EAAM45B,IAAI,UAAUC,GAAG,cAK3GpC,GACD,uBAAKgC,UAAU,+BACd,uBAAK1B,QAjOR,WAECH,GAAkBD,GAEdA,GAEHhtB,OAAO2tB,MAAMllB,SAAWzI,OAAO2tB,MAAMllB,SAASzK,QAAO,SAAAsM,GAAC,MAAe,UAAXA,EAAE/U,MAA+B,SAAX+U,EAAE/U,QAClFyK,OAAO0uB,SAASt4B,OAAO4J,OAAO2tB,MAAO3tB,OAAO2c,UAH1BwS,EAAAA,EAAAA,IAAalD,EAAcC,GAAe,IA6N9B5lB,MAAO,CAAC8oB,aAAc,MAAO5R,OAAQ,mBAAoBwO,IAAKgB,EAAgB,mDAAqD,gDAChK,gBAAC,IAAD,CAAagC,mBAAmB,EAAMhB,MAAM,SAASD,SAAUA,EAAU14B,KAAMA,EAAM45B,IAAI,UAAUC,GAAG,aAIvG,sBAAI5oB,MAAO,CAAC+oB,UAAU,SAAUC,OAAO,UAAWF,aAAa,EAAG7R,MAAM,QAAS6P,QA3BnF,WACCL,GAAaD,KA0BiGA,EAAyB,YAAd,aAEvHJ,GACA,uBAAKoC,UAAU,4BACd,uBAAK1B,QAASQ,EAAe,WAAU,EAAG,aAAY,EAAG5B,IAAkB,IAAbQ,EAAM,GAAW,yDAA2D,oDAAqDuC,IAAI,aAAaztB,MAAM,eACtN,uBAAK8rB,QAASQ,EAAe,WAAU,EAAG,aAAY,EAAG5B,IAAkB,IAAbQ,EAAM,GAAW,8DAAgE,yDAA0DuC,IAAI,aAAaztB,MAAM,2BAKjOsrB,GACA,uBAAKkC,UAAU,4BACb,uBAAK9C,IAAI,gDAAgD+C,IAAI,KAAKD,UAAU,wBAC5E,uBAAKA,UAAU,UAAU1B,QAASK,EAAmB,WAAU,EAAIzB,IAA4B,IAAvBG,EAAgB,GAAW,kDAAoD,uDAAwD4C,IAAI,kBAAkBztB,MAAM,oBAC3O,uBAAKgF,MAAO+lB,EAAiB,GAAK,CAAC7U,KAAK,OAAS,GAAGsX,UAAU,SAAS1B,QAASK,EAAmB,WAAU,EAAGzB,IAA4B,IAAvBG,EAAgB,GAAW,iDAAmD,sDAAuD4C,IAAI,kBAAkBztB,MAAM,oBACtR,uBAAKwtB,UAAU,WAAW1B,QAASK,EAAmB,WAAU,EAAIzB,IAA4B,IAAvBG,EAAgB,GAAW,mDAAqD,wDAAyD4C,IAAI,kBAAkBztB,MAAM,qBAC5O+qB,EAAiB,IACnB,uBAAKyC,UAAU,gBAAgB1B,QAASK,EAAmB,WAAU,EAAGzB,IAA4B,IAAvBG,EAAgB,GAAW,iDAAmD,sDAAuD4C,IAAI,kBAAkBztB,MAAM,qBAE5O+qB,EAAiB,IACnB,uBAAKyC,UAAU,mBAAmB1B,QAASK,EAAmB,WAAU,EAAIzB,IAA4B,IAAvBG,EAAgB,GAAW,oDAAsD,yDAA0D4C,IAAI,kBAAkBztB,MAAM,wECpL9P,IAtGiB,WAGhB,OAA2BirB,EAAAA,EAAAA,UAAS,MAA/BgD,EAAL,KAAaC,EAAb,KACA,GAA2BjD,EAAAA,EAAAA,UAAS,MAA/BkD,EAAL,KAAaC,EAAb,KACA,GAA2BnD,EAAAA,EAAAA,UAAS,MAA/BoD,EAAL,KAAaC,EAAb,KACA,GAA2BrD,EAAAA,EAAAA,UAAS,MAA/BsD,EAAL,KAAaC,EAAb,KACA,GAA2BvD,EAAAA,EAAAA,UAAS,MAA/BwD,EAAL,KAAaC,EAAb,KAEA,GAA6BzD,EAAAA,EAAAA,UAAS,MAAjC0D,EAAL,KAAcC,EAAd,KACA,GAA6B3D,EAAAA,EAAAA,UAAS,MAAjC4D,EAAL,KAAcC,EAAd,KACA,GAA6B7D,EAAAA,EAAAA,UAAS,MAAjC8D,EAAL,KAAcC,EAAd,KACA,GAA6B/D,EAAAA,EAAAA,UAAS,MAAjCgE,EAAL,KAAcC,EAAd,KACA,GAA6BjE,EAAAA,EAAAA,UAAS,MAAjCkE,EAAL,KAAcC,EAAd,KAEA,GAA0BnE,EAAAA,EAAAA,WAAS,GAA9BoE,EAAL,KAAaC,EAAb,KAEIC,GAAU1D,EAAAA,EAAAA,QAAO,MACjB2D,GAAW3D,EAAAA,EAAAA,QAAO,OACPA,EAAAA,EAAAA,QAAO,OACPA,EAAAA,EAAAA,QAAO,OACPA,EAAAA,EAAAA,QAAO,OACPA,EAAAA,EAAAA,QAAO,OACPA,EAAAA,EAAAA,QAAO,OACPA,EAAAA,EAAAA,QAAO,OACPA,EAAAA,EAAAA,QAAO,MAEtB,SAAS4D,EAAaxT,EAAOyT,EAAWxT,EAAQyT,GAE/CzB,EAAUjS,GACVuS,EAAUvS,GACVsT,EAAQ3yB,QAAUyB,YAAY,WAC7B+vB,EAAUnS,GACVqS,EAAUrS,GACV2S,EAAW1S,GACX4S,EAAW5S,KACT,KAGHsT,EAAS5yB,QAAUyB,YAAY,WAC9B2wB,EAAW9S,GACXgT,EAAWS,GACXP,EAAWO,GACXP,EAAWO,GACXjB,EAAUgB,KACR,KAuBJ,OApBA3C,EAAAA,EAAAA,YAAW,WACNsC,EAGHI,EAAa,KAAM,KAAM,KAAM,MAF/BA,EAAa,OAAQ,MAAO,OAAQ,OAKrCpxB,YAAY,WACPyC,SAASkB,cAAc,uBAC3BstB,GAAW,kBAAOD,OAChB,OACF,CAACA,KAEHtC,EAAAA,EAAAA,YAAW,WACV,OAAO,WACN10B,QAAQy0B,IAAI,aACZtuB,aAAa+wB,EAAQ3yB,SACrB4B,aAAagxB,EAAS5yB,YAErB,IAEF,uBAAK4wB,UAAU,qBACd,2BACC,uBAAK9C,IAAI,iGAAiGzO,MAAM,QAChH,uBAAKjX,MAAO,CAAC4qB,WAAW,QAASlF,IAAI,kHAAkHzO,MAAM,WAG9J,uBAAKuR,UAAU,oBACd,uBAAKA,UAAU,+BACf,uBAAKA,UAAU,qCAAqCxoB,MAAO,CAACiX,MAAOgS,KACnE,uBAAKT,UAAU,+BACf,uBAAKA,UAAU,qCAAqCxoB,MAAO,CAACiX,MAAOkS,KACnE,uBAAKX,UAAU,+BACf,uBAAKA,UAAU,qCAAqCxoB,MAAO,CAACiX,MAAOoS,KACnE,uBAAKb,UAAU,+BACf,uBAAKA,UAAU,qCAAqCxoB,MAAO,CAACiX,MAAOsS,KACnE,uBAAKf,UAAU,sBACf,uBAAKA,UAAU,4BAA4BxoB,MAAO,CAACiX,MAAOwS,KAC1D,uBAAKjB,UAAU,sCACf,uBAAKA,UAAU,4CAA4CxoB,MAAO,CAACkX,OAAQyS,KAC3E,uBAAKnB,UAAU,sCACf,uBAAKA,UAAU,4CAA4CxoB,MAAO,CAACkX,OAAQ2S,KAC3E,uBAAKrB,UAAU,sCACf,uBAAKA,UAAU,4CAA4CxoB,MAAO,CAACkX,OAAQ6S,KAC3E,uBAAKvB,UAAU,wCACf,uBAAKA,UAAU,8CAA8CxoB,MAAO,CAACkX,OAAQ+S,KAC7E,uBAAKzB,UAAU,wCACf,uBAAKA,UAAU,8CAA8CxoB,MAAO,CAACkX,OAAQiT,MAE9E,qKC9FY,SAASU,EAAT,GAAsG,IAAhF97B,EAA+E,EAA/EA,KAAM25B,EAAyE,EAAzEA,kBAAmBjB,EAAsD,EAAtDA,SAAUC,EAA4C,EAA5CA,MAAOoD,EAAqC,EAArCA,SAAUlC,EAA2B,EAA3BA,GAAID,EAAuB,EAAvBA,IAAKoC,EAAkB,EAAlBA,QACjG,GADmH,EAAVhnB,EAAU,EAARR,EAAQ,EAANtU,MACxEg3B,EAAAA,EAAAA,WAAS,IAAvC+E,EAAP,KAAmBC,EAAnB,KACA,GAA8BhF,EAAAA,EAAAA,UAAS,IAA/BnM,EAAR,KAAgBoR,EAAhB,KACA,GAAoCjF,EAAAA,EAAAA,UAAS,IAAtCkF,EAAP,KAAmBC,EAAnB,KACMxE,GAAUC,EAAAA,EAAAA,QAAO,MACvB,GAA2CZ,EAAAA,EAAAA,WAAS,GAA5CoF,EAAR,KAAsBC,EAAtB,KACA,GAAsDrF,EAAAA,EAAAA,WAAS,GAAvDsF,EAAR,KAA4BC,EAA5B,KACA,GAAyCvF,EAAAA,EAAAA,UAAS,WAA1CwF,EAAR,KAAoBC,EAApB,KAEA,SAASC,IACRV,GAAc,GACdvxB,OAAOyU,oBAAoB,QAASyY,EAAQhvB,SAiI7C,SAASg0B,EAAgBnW,EAAOoW,GACb,YAAfJ,GACFH,EAAiB7V,GACjBgS,EAAShS,EAAOiS,EAAO+D,KAEvBD,EAAsB/V,GACtBgS,EAAShS,EAAOiS,EAAO+D,IAGxB/xB,OAAO0uB,SAASt4B,OAAO4J,OAAO2tB,MAAO3tB,OAAO2c,QAG7C,SAASyV,EAAwB36B,EAAGs6B,GACnCt6B,EAAE46B,kBACFL,EAAiBD,GAWlB,OAvJA1D,EAAAA,EAAAA,YAAU,WACTuD,GAAiB,GACjB,IAAIU,EAAU,GACVC,EAAc,GA8GlB,GA5GY,4BAATl9B,GACFi9B,EAAU,CACT,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,WAIDC,EAAc,CACb,eACA,aACA,eACA,cACA,YACA,aACA,WACA,eACA,YACA,OACA,WACA,QACA,QACA,UACA,UACA,SACA,WACA,OACA,SACA,QACA,WACA,SACA,OACA,WAGDD,EAAU,CACT,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,WAGDC,EAAc,CACb,QACA,WACA,WACA,WACA,WACA,YACA,aACA,aACA,WACA,SACA,gBACA,cACA,cACA,YACA,OACA,aACA,SACA,YAKCvD,GAAqBoC,KACvBmB,EAAYC,QAAQ,SACpBF,EAAQE,QAAQ,YAGjBhB,GAAU,OAAIc,IACdZ,GAAc,OAAIa,IAEfrD,EAAG,CACL,IAAI9qB,EAAQkuB,EAAQ11B,QAAQsyB,GAE5B0C,EAAiBU,EAAQluB,IAG1B,GAAG6qB,EAAI,CACN,IAAI7qB,EAAQkuB,EAAQ11B,QAAQqyB,GAE5B6C,EAAsBQ,EAAQluB,OAE7B,CAAC/O,KAkBJg5B,EAAAA,EAAAA,YAAW,WAENnB,EAAQhvB,UAASgvB,EAAQhvB,QAAU+zB,GAEpCX,GACFtxB,OAAOoS,iBAAiB,QAAS8a,EAAQhvB,WAExC,CAACozB,IAGH,gCACC,uBAAKxC,UAAU,eAAe1B,QAAU,kBAAMmE,GAAeD,MAI7D,uBAAKxC,UAAU,4BACbwC,GAAc,uBAAKxC,UAAU,2BAC7BE,GAAqB,uBAAKF,UAAU,kBACpC,uBAAKA,UAA0B,YAAfiD,EAA2B,WAAa,GAAI3E,QAAS,SAAC31B,GAAD,OAAO26B,EAAwB36B,EAAE,aAAtG,WACA,uBAAKq3B,UAA0B,UAAfiD,EAAyB,WAAa,GAAI3E,QAAS,SAAC31B,GAAD,OAAO26B,EAAwB36B,EAAE,WAApG,UAEA45B,GACA,uBAAKvC,UAAU,gBAAgB1B,QAAS,WACvC8E,EAAgB,MAEhB,uBAAKpD,UAAU,kBAAkBxoB,MAAO,CAACmsB,OAAQ,kBAAmBC,QAAQ,OAAQC,eAAe,SAAUC,WAAY,WACxH,qBAAG13B,MAAM,aAAaoL,MAAO,CAACusB,SAAU,OAAQ9W,MAAO,UAExD,sBAAI+S,UAAU,SAASxoB,MAAO,CAACyV,MAAM,QAArC,aAGDqE,EAAOtlB,KAAK,SAACwP,EAAEhT,EAAEg3B,GACjB,OACA,uBAAKQ,UAAU,gBAAgB1B,QAAS,WACvC8E,EAAgB5nB,EAAGmnB,EAAWn6B,KAC5BC,IAAK+S,GACP,uBAAKwkB,UAAU,kBAAkBxoB,MAAO,CAACwsB,gBAAiBxoB,EAAGmoB,OAAO,qBACpE,sBAAI3D,UAAiB,YAANxkB,EAAkB,eAAiB,SAAUhE,MAAO,CAACyV,MAAMzR,IAAKmnB,EAAWn6B,UAO7F,uBAAKw3B,UAAU,2BACd,uBAAKjvB,GAAImuB,EAAO,aAAY2D,EAAeA,EAAav4B,WAAa,GAAI01B,UAAW6C,EAAe,UAAY,SAAUrrB,MAAO,CAACwsB,gBAAiBnB,EAAcnU,OAAO,OAAQD,MAAM,OAAQwV,UAAU,UAItM/D,GAAqB,uBAAKF,UAAW+C,EAAoB,UAAY,SAAUvrB,MAAO,CAACwsB,gBAAiBjB,EAAmBrU,OAAO,OAAQD,MAAM,OAAQwV,UAAU,WAKpK,yBAAO19B,KAAK,SAASwK,GAAImuB,EAAOl1B,MAAO64B,EAAeA,EAAav4B,WAAa,KAC9E41B,GAAqB,yBAAO35B,KAAK,SAASwK,GAAImuB,EAAM,SAAUl1B,MAAO+4B,EAAkBz4B,gGCvN7E,SAAS45B,EAAT,GAAkC,IAAfC,EAAc,EAAdA,aAEjC,GAAsC1G,EAAAA,EAAAA,WAAS,GAAzC2G,EAAN,KAAmBC,EAAnB,KACA,GAA8B5G,EAAAA,EAAAA,UAAS,2BAAjCruB,EAAN,KAAek1B,EAAf,KAMA,SAAShG,EAAQt0B,GAChBs6B,EAAWt6B,GACXm6B,EAAan6B,GAGd,OACC,uBAAKg2B,UAAWoE,EAAc,qBAAuB,OAAQ9F,QAV9D,WACC+F,GAAgBD,KAUf,qBAAGpE,UAAU,iBAAiB5wB,GAE7Bg1B,GAAe,gCACf,qBAAGpE,UAAU,wCAAwC1B,QAAS,kBAAMA,EAAQ,6BAA5E,2BACA,qBAAG0B,UAAU,kBAAkB1B,QAAS,kBAAMA,EAAQ,kCAAtD,4ICtBW,SAAS,IAetB,OAdA,EAAW72B,OAAOmG,QAAU,SAAUR,GACpC,IAAK,IAAI5E,EAAI,EAAGA,EAAI3B,UAAUH,OAAQ8B,IAAK,CACzC,IAAI2B,EAAStD,UAAU2B,GAEvB,IAAK,IAAIC,KAAO0B,EACV1C,OAAO/B,UAAU6E,eAAeC,KAAKL,EAAQ1B,KAC/C2E,EAAO3E,GAAO0B,EAAO1B,IAK3B,OAAO2E,IAGO2K,MAAMD,KAAMjR,WCff,SAAS09B,EAA8Bp6B,EAAQq6B,GAC5D,GAAc,MAAVr6B,EAAgB,MAAO,GAC3B,IAEI1B,EAAKD,EAFL4E,EAAS,GACTq3B,EAAah9B,OAAOW,KAAK+B,GAG7B,IAAK3B,EAAI,EAAGA,EAAIi8B,EAAW/9B,OAAQ8B,IACjCC,EAAMg8B,EAAWj8B,GACbg8B,EAAS12B,QAAQrF,IAAQ,IAC7B2E,EAAO3E,GAAO0B,EAAO1B,IAGvB,OAAO2E,ECXM,SAAS,EAAyBjD,EAAQq6B,GACvD,GAAc,MAAVr6B,EAAgB,MAAO,GAC3B,IACI1B,EAAKD,EADL4E,EAAS,EAA6BjD,EAAQq6B,GAGlD,GAAI/8B,OAAOE,sBAAuB,CAChC,IAAI+8B,EAAmBj9B,OAAOE,sBAAsBwC,GAEpD,IAAK3B,EAAI,EAAGA,EAAIk8B,EAAiBh+B,OAAQ8B,IACvCC,EAAMi8B,EAAiBl8B,GACnBg8B,EAAS12B,QAAQrF,IAAQ,GACxBhB,OAAO/B,UAAU2xB,qBAAqB7sB,KAAKL,EAAQ1B,KACxD2E,EAAO3E,GAAO0B,EAAO1B,IAIzB,OAAO2E,ECjBT,IAAIlI,EAA4B,mBAAXE,QAAoD,iBAApBA,OAAOC,SAAwB,SAAUF,GAC5F,cAAcA,GACZ,SAAUA,GACZ,OAAOA,GAAyB,mBAAXC,QAAyBD,EAAIM,cAAgBL,QAAUD,IAAQC,OAAOM,UAAY,gBAAkBP,GAI3H,EAD2F,YAAjD,oBAAX+L,OAAyB,YAAchM,EAAQgM,UAAiG,YAAnD,oBAAboC,SAA2B,YAAcpO,EAAQoO,YAAiD,IAAtBA,SAASqxB,uCCChMC,EAA0B,GAAGn/B,YAEjC,SAASo/B,EAAWrtB,GAClB,GAAa,MAATA,GAAkC,iBAAVA,EAAoB,OAAOA,EACvD,GAAI/N,MAAMC,QAAQ8N,GAAQ,OAAOA,EAAMxL,IAAI64B,GAC3C,GAAIrtB,EAAM/R,cAAgBm/B,EAAyB,OAAOptB,EAC1D,IAAIstB,EAAW,GAEf,IAAK,IAAIr+B,KAAQ+Q,EACfstB,EAASr+B,GAAQo+B,EAAWrtB,EAAM/Q,IAGpC,OAAOq+B,EAOT,SAASC,EAAWt+B,EAAMu+B,EAAM/O,QACjB,IAATxvB,IACFA,EAAO,WAGT,IAAIw+B,EAAMhP,EAAQgP,IACdC,EAAWL,EAAWG,GACtBG,EAAOF,EAAIG,QAAQC,aAAa5+B,EAAMy+B,EAAUjP,GACpD,OAAIkP,IAEA1+B,EAAK,GAIF,MAGT,IAAIoI,EAAO,SAAc7E,EAAOs7B,GAG9B,IAFA,IAAIrmB,EAAS,GAEJzW,EAAI,EAAGA,EAAIwB,EAAMtD,QAEP,eAAbsD,EAAMxB,GAFsBA,IAG5ByW,IAAQA,GAAUqmB,GACtBrmB,GAAUjV,EAAMxB,GAGlB,OAAOyW,GAYLsmB,EAAa,SAAoBv7B,EAAOw7B,GAK1C,QAJwB,IAApBA,IACFA,GAAkB,IAGf/7B,MAAMC,QAAQM,GAAQ,OAAOA,EAClC,IAAIy7B,EAAW,GAEf,GAAIh8B,MAAMC,QAAQM,EAAM,IACtB,IAAK,IAAIxB,EAAI,EAAGA,EAAIwB,EAAMtD,QACP,eAAbsD,EAAMxB,GADsBA,IAE5Bi9B,IAAUA,GAAY,MAC1BA,GAAY52B,EAAK7E,EAAMxB,GAAI,UAExBi9B,EAAW52B,EAAK7E,EAAO,MAO9B,OAJKw7B,GAA+C,eAA5Bx7B,EAAMA,EAAMtD,OAAS,KAC3C++B,GAAY,eAGPA,GAQT,SAASC,EAAUv3B,EAAKw3B,GAGtB,IAFA,IAAI1mB,EAAS,GAEJ3J,EAAQ,EAAGA,EAAQqwB,EAAQrwB,IAClC2J,GAAU,KAGZ,OAAOA,EAAS9Q,EAOlB,SAASy3B,EAAMC,EAAUruB,EAAOye,QACd,IAAZA,IACFA,EAAU,IAGZ,IAAIhX,EAAS,GACb,IAAKzH,EAAO,OAAOyH,EACnB,IACI6mB,EADW7P,EACgB0P,OAC3BA,OAA6B,IAApBG,EAA6B,EAAIA,EAC1CC,EAAYvuB,EAAMuuB,UAGtB,GAFIF,GAAUF,IAEVI,EAEF,GAAIt8B,MAAMC,QAAQq8B,GAChB,IAAK,IAAIzwB,EAAQ,EAAGA,EAAQywB,EAAUr/B,OAAQ4O,IAAS,CACrD,IAAI0wB,EAAWD,EAAUzwB,GAEzB,IAAK,IAAI2wB,KAAQD,EAAU,CACzB,IAAIh8B,EAAQg8B,EAASC,GAER,MAATj8B,IACEiV,IAAQA,GAAU,MACtBA,GAAUymB,EAAUO,EAAO,KAAOV,EAAWv7B,GAAS,IAAK27B,UAMjE,IAAK,IAAIO,KAASH,EAAW,CAC3B,IAAII,EAASJ,EAAUG,GAET,MAAVC,IACElnB,IAAQA,GAAU,MACtBA,GAAUymB,EAAUQ,EAAQ,KAAOX,EAAWY,GAAU,IAAKR,IAMrE,IAAK,IAAIS,KAAU5uB,EAAO,CACxB,IAAI6uB,EAAU7uB,EAAM4uB,GAEL,MAAXC,GAA8B,cAAXD,IACjBnnB,IAAQA,GAAU,MACtBA,GAAUymB,EAAUU,EAAS,KAAOb,EAAWc,GAAW,IAAKV,IAKnE,OAAK1mB,GAAWgX,EAAQqQ,aAEnBT,GAED5mB,IAAQA,EAAS,KAAOA,EAAS,MAC9BymB,EAAUG,EAAW,KAAO5mB,IAFnC0mB,GAEqDD,EAAU,IAAKC,IALzB1mB,EAQ7C,IAAIsnB,EAAc,+BACdC,EAA8B,oBAARC,KAAuBA,IAAIC,OAEjD,EAAS,SAAgBv4B,GAC3B,OAAOq4B,EAAeA,EAAar4B,GAAOA,EAAII,QAAQg4B,EAAa,SAGjEI,EAA6B,WAC/B,SAASA,EAAcl+B,EAAK+O,EAAOye,GACjCne,KAAKvR,KAAO,QACZuR,KAAKrP,SAAM,EACXqP,KAAK8uB,aAAc,EACnB9uB,KAAKN,WAAQ,EACbM,KAAK8nB,cAAW,EAChB9nB,KAAK+uB,gBAAa,EAClB/uB,KAAKme,aAAU,EACf,IAAI6Q,EAAQ7Q,EAAQ6Q,MAChBC,EAAW9Q,EAAQ8Q,SACvBjvB,KAAKrP,IAAMA,EACXqP,KAAKme,QAAUA,EACfne,KAAKN,MAAQA,EACTsvB,EAAOhvB,KAAK8nB,SAAWkH,EAAMlH,SAAkBmH,IAAUjvB,KAAK8nB,SAAW,IAAImH,GA2CnF,OApCaJ,EAAcjhC,UAEpBugC,KAAO,SAAcx/B,EAAMuD,EAAOisB,GAEvC,QAAc5nB,IAAVrE,EAAqB,OAAO8N,KAAKN,MAAM/Q,GAE3C,IAAIugC,IAAQ/Q,GAAUA,EAAQ+Q,MAC9B,IAAKA,GAASlvB,KAAKN,MAAM/Q,KAAUuD,EAAO,OAAO8N,KACjD,IAAImvB,EAAWj9B,EAEVisB,IAA+B,IAApBA,EAAQT,UACtByR,EAAWnvB,KAAKme,QAAQgP,IAAIG,QAAQ8B,cAAcl9B,EAAOvD,EAAMqR,OAGjE,IAAIqvB,EAAsB,MAAZF,IAAiC,IAAbA,EAC9BG,EAAa3gC,KAAQqR,KAAKN,MAE9B,GAAI2vB,IAAYC,IAAcJ,EAAO,OAAOlvB,KAE5C,IAAIuvB,EAASF,GAAWC,EAGxB,GAFIC,SAAevvB,KAAKN,MAAM/Q,GAAWqR,KAAKN,MAAM/Q,GAAQwgC,EAExDnvB,KAAK+uB,YAAc/uB,KAAK8nB,SAE1B,OADIyH,EAAQvvB,KAAK8nB,SAAS0H,eAAexvB,KAAK+uB,WAAYpgC,GAAWqR,KAAK8nB,SAAS2H,YAAYzvB,KAAK+uB,WAAYpgC,EAAMwgC,GAC/GnvB,KAGT,IAAIgvB,EAAQhvB,KAAKme,QAAQ6Q,MAMzB,OAJIA,GAASA,EAAMU,SAIZ1vB,MAGF6uB,EAzDwB,GA4D7Bc,EAAyB,SAAUC,GAGrC,SAASD,EAAUh/B,EAAK+O,EAAOye,GAC7B,IAAIrW,GAEJA,EAAQ8nB,EAAel9B,KAAKsN,KAAMrP,EAAK+O,EAAOye,IAAYne,MACpD6vB,kBAAe,EACrB/nB,EAAM7O,QAAK,EACX6O,EAAMinB,gBAAa,EACnB,IAAIhB,EAAW5P,EAAQ4P,SACnB+B,EAAS3R,EAAQ2R,OACjBd,EAAQ7Q,EAAQ6Q,MAChBe,EAAa5R,EAAQ4R,WASzB,OAPIhC,EACFjmB,EAAM+nB,aAAe9B,GACD,IAAX+B,IACThoB,EAAM7O,GAAK82B,GAAW,QAAuB,OAAuBjoB,IAASknB,GAC7ElnB,EAAM+nB,aAAe,IAAM,EAAO/nB,EAAM7O,KAGnC6O,GArBT,OAAe6nB,EAAWC,GA8B1B,IAAII,EAAUL,EAAU/hC,UAwExB,OAnEAoiC,EAAQC,QAAU,SAAiBlB,GACjC,IAAIjH,EAAW9nB,KAAK8nB,SAEpB,GAAIA,EAAU,CACZ,IAAIoI,EAAOlwB,KAAKmwB,SAEhB,IAAK,IAAIhC,KAAQ+B,EACfpI,EAAS2H,YAAYV,EAAYZ,EAAM+B,EAAK/B,IAIhD,OAAOnuB,MASTgwB,EAAQG,OAAS,WACf,IAAID,EAAO,GAEX,IAAK,IAAI/B,KAAQnuB,KAAKN,MAAO,CAC3B,IAAIxN,EAAQ8N,KAAKN,MAAMyuB,GACF,iBAAVj8B,EAAoBg+B,EAAK/B,GAAQj8B,EAAeP,MAAMC,QAAQM,KAAQg+B,EAAK/B,GAAQV,EAAWv7B,IAG3G,OAAOg+B,GAOTF,EAAQx9B,SAAW,SAAkB2rB,GACnC,IAAI6Q,EAAQhvB,KAAKme,QAAQ6Q,MAErBoB,IADOpB,GAAQA,EAAM7Q,QAAQ7e,KACf,EAAS,GAAI6e,EAAS,CACtCqQ,YAAY,IACTrQ,EACL,OAAO2P,EAAM9tB,KAAK6vB,aAAc7vB,KAAKN,MAAO0wB,KAG9C,OAAaT,EAAW,CAAC,CACvBh/B,IAAK,WACLwR,IAAK,SAAa4rB,GAChB,GAAIA,IAAa/tB,KAAK6vB,aAAtB,CACA7vB,KAAK6vB,aAAe9B,EACpB,IAAIjG,EAAW9nB,KAAK8nB,SAChBiH,EAAa/uB,KAAK+uB,WACtB,GAAKA,GAAejH,EACHA,EAASuI,YAAYtB,EAAYhB,IAGhDjG,EAASwI,YAAYvB,EAAY/uB,QAOrC7N,IAAK,WACH,OAAO6N,KAAK6vB,iBAITF,EAvGoB,CAwG3Bd,GAEE0B,EAAkB,CACpBhD,aAAc,SAAsB5+B,EAAM+Q,EAAOye,GAC/C,MAAgB,MAAZxvB,EAAK,IAAcwvB,EAAQqS,QAAkC,cAAxBrS,EAAQqS,OAAO/hC,KAC/C,KAGF,IAAIkhC,EAAUhhC,EAAM+Q,EAAOye,KAGlCsS,EAAyB,CAC3B5C,OAAQ,EACRhsB,UAAU,GAER6uB,EAAW,YAKXC,EAA+B,WACjC,SAASA,EAAgBhgC,EAAKigC,EAAQzS,GACpCne,KAAKvR,KAAO,cACZuR,KAAK4X,QAAK,EACV5X,KAAKrP,SAAM,EACXqP,KAAK6wB,WAAQ,EACb7wB,KAAK8wB,WAAQ,EACb9wB,KAAKme,aAAU,EACfne,KAAK8uB,aAAc,EACnB9uB,KAAK+uB,gBAAa,EAClB/uB,KAAKrP,IAAMA,EACX,IAAIogC,EAAUpgC,EAAImC,MAAM49B,GASxB,IAAK,IAAI/hC,KARTqR,KAAK4X,GAAKmZ,EAAUA,EAAQ,GAAK,UAEjC/wB,KAAK6wB,MAAQ1S,EAAQxvB,MAAQ,IAAMqR,KAAK4X,GACxC5X,KAAKme,QAAUA,EACfne,KAAK8wB,MAAQ,IAAIE,EAAS,EAAS,GAAI7S,EAAS,CAC9CqS,OAAQxwB,QAGO4wB,EACf5wB,KAAK8wB,MAAM3jB,IAAIxe,EAAMiiC,EAAOjiC,IAG9BqR,KAAK8wB,MAAMpT,UAOb,IAAItX,EAASuqB,EAAgB/iC,UA6C7B,OA3CAwY,EAAO6qB,QAAU,SAAiBtiC,GAChC,OAAOqR,KAAK8wB,MAAM3+B,IAAIxD,IAOxByX,EAAOpQ,QAAU,SAAiBq3B,GAChC,OAAOrtB,KAAK8wB,MAAM96B,QAAQq3B,IAO5BjnB,EAAO8qB,QAAU,SAAiBviC,EAAM+Q,EAAOye,GAC7C,IAAIkP,EAAOrtB,KAAK8wB,MAAM3jB,IAAIxe,EAAM+Q,EAAOye,GACvC,OAAKkP,GACLrtB,KAAKme,QAAQgP,IAAIG,QAAQ6D,cAAc9D,GAChCA,GAFW,MASpBjnB,EAAO5T,SAAW,SAAkB2rB,GAQlC,QAPgB,IAAZA,IACFA,EAAUsS,GAGU,MAAlBtS,EAAQ0P,SAAgB1P,EAAQ0P,OAAS4C,EAAuB5C,QAC5C,MAApB1P,EAAQtc,WAAkBsc,EAAQtc,SAAW4uB,EAAuB5uB,WAE/C,IAArBsc,EAAQtc,SACV,OAAO7B,KAAK6wB,MAAQ,MAGtB,IAAIhvB,EAAW7B,KAAK8wB,MAAMt+B,SAAS2rB,GACnC,OAAOtc,EAAW7B,KAAK6wB,MAAQ,OAAShvB,EAAW,MAAQ,IAGtD8uB,EA5E0B,GA+E/BS,EAAY,sBACZC,EAAwB,CAC1B9D,aAAc,SAAsB58B,EAAKigC,EAAQzS,GAC/C,OAAOiT,EAAU/P,KAAK1wB,GAAO,IAAIggC,EAAgBhgC,EAAKigC,EAAQzS,GAAW,OAGzEmT,EAA2B,CAC7BzD,OAAQ,EACRhsB,UAAU,GAER0vB,EAAa,wBAKbC,EAA6B,WAC/B,SAASA,EAAc7gC,EAAK8gC,EAAQtT,GAClCne,KAAKvR,KAAO,YACZuR,KAAK4X,GAAK,aACV5X,KAAKrP,SAAM,EACXqP,KAAKrR,UAAO,EACZqR,KAAK/G,QAAK,EACV+G,KAAK8wB,WAAQ,EACb9wB,KAAKme,aAAU,EACfne,KAAK8uB,aAAc,EACnB9uB,KAAK+uB,gBAAa,EAClB,IAAI2C,EAAY/gC,EAAImC,MAAMy+B,GAEtBG,GAAaA,EAAU,GACzB1xB,KAAKrR,KAAO+iC,EAAU,GAEtB1xB,KAAKrR,KAAO,SAIdqR,KAAKrP,IAAMqP,KAAKvR,KAAO,IAAMuR,KAAKrR,KAClCqR,KAAKme,QAAUA,EACf,IAAI2R,EAAS3R,EAAQ2R,OACjBd,EAAQ7Q,EAAQ6Q,MAChBe,EAAa5R,EAAQ4R,WAMzB,IAAK,IAAIphC,KALTqR,KAAK/G,IAAgB,IAAX62B,EAAmB9vB,KAAKrR,KAAO,EAAOohC,EAAW/vB,KAAMgvB,IACjEhvB,KAAK8wB,MAAQ,IAAIE,EAAS,EAAS,GAAI7S,EAAS,CAC9CqS,OAAQxwB,QAGOyxB,EACfzxB,KAAK8wB,MAAM3jB,IAAIxe,EAAM8iC,EAAO9iC,GAAO,EAAS,GAAIwvB,EAAS,CACvDqS,OAAQxwB,QAIZA,KAAK8wB,MAAMpT,UA0Bb,OAnBa8T,EAAc5jC,UAEpB4E,SAAW,SAAkB2rB,GAQlC,QAPgB,IAAZA,IACFA,EAAUmT,GAGU,MAAlBnT,EAAQ0P,SAAgB1P,EAAQ0P,OAASyD,EAAyBzD,QAC9C,MAApB1P,EAAQtc,WAAkBsc,EAAQtc,SAAWyvB,EAAyBzvB,WAEjD,IAArBsc,EAAQtc,SACV,OAAO7B,KAAK4X,GAAK,IAAM5X,KAAK/G,GAAK,MAGnC,IAAI4I,EAAW7B,KAAK8wB,MAAMt+B,SAAS2rB,GAEnC,OADItc,IAAUA,EAAW,KAAOA,EAAW,MACpC7B,KAAK4X,GAAK,IAAM5X,KAAK/G,GAAK,KAAO4I,EAAW,KAG9C2vB,EA9DwB,GAiE7BG,EAAc,gBACdC,EAAY,cAEZC,EAAyB,SAAgCvP,EAAKwP,GAChE,MAAmB,iBAARxP,EACFA,EAAI7rB,QAAQm7B,GAAW,SAAU9+B,EAAOnE,GAC7C,OAAIA,KAAQmjC,EACHA,EAAUnjC,GAIZmE,KAIJwvB,GAOLyP,EAAa,SAAoBryB,EAAOyuB,EAAM2D,GAChD,IAAI5/B,EAAQwN,EAAMyuB,GACd6D,EAAcH,EAAuB3/B,EAAO4/B,GAE5CE,IAAgB9/B,IAClBwN,EAAMyuB,GAAQ6D,IAId,EAAS,CACXzE,aAAc,SAAsB58B,EAAK8gC,EAAQtT,GAC/C,MAAsB,iBAARxtB,GAAoBghC,EAAYtQ,KAAK1wB,GAAO,IAAI6gC,EAAc7gC,EAAK8gC,EAAQtT,GAAW,MAGtG8T,eAAgB,SAAwBvyB,EAAO2tB,EAAM2B,GACnD,MAAkB,UAAd3B,EAAK5+B,MAAqBugC,GAC1B,mBAAoBtvB,GAAOqyB,EAAWryB,EAAO,iBAAkBsvB,EAAM8C,WACrE,cAAepyB,GAAOqyB,EAAWryB,EAAO,YAAasvB,EAAM8C,WACxDpyB,GAHqCA,GAK9C0vB,cAAe,SAAuB9M,EAAK6L,EAAMd,GAC/C,IAAI2B,EAAQ3B,EAAKlP,QAAQ6Q,MAEzB,IAAKA,EACH,OAAO1M,EAGT,OAAQ6L,GACN,IAAK,YAGL,IAAK,iBACH,OAAO0D,EAAuBvP,EAAK0M,EAAM8C,WAE3C,QACE,OAAOxP,KAKX4P,EAA4B,SAAUtC,GAGxC,SAASsC,IAGP,IAFA,IAAIpqB,EAEKqqB,EAAOpjC,UAAUH,OAAQwjC,EAAO,IAAIzgC,MAAMwgC,GAAOE,EAAO,EAAGA,EAAOF,EAAME,IAC/ED,EAAKC,GAAQtjC,UAAUsjC,GAKzB,OAFAvqB,EAAQ8nB,EAAel9B,KAAKuN,MAAM2vB,EAAgB,CAAC5vB,MAAMzP,OAAO6hC,KAAUpyB,MACpE+uB,gBAAa,EACZjnB,EAiBT,OA5BA,OAAeoqB,EAActC,GAchBsC,EAAatkC,UAKnB4E,SAAW,SAAkB2rB,GAClC,IAAI6Q,EAAQhvB,KAAKme,QAAQ6Q,MAErBoB,IADOpB,GAAQA,EAAM7Q,QAAQ7e,KACf,EAAS,GAAI6e,EAAS,CACtCqQ,YAAY,IACTrQ,EACL,OAAO2P,EAAM9tB,KAAKrP,IAAKqP,KAAKN,MAAO0wB,IAG9B8B,EA7BuB,CA8B9BrD,GAEEyD,EAAqB,CACvB/E,aAAc,SAAsB58B,EAAK+O,EAAOye,GAC9C,OAAIA,EAAQqS,QAAkC,cAAxBrS,EAAQqS,OAAO/hC,KAC5B,IAAIyjC,EAAavhC,EAAK+O,EAAOye,GAG/B,OAIPoU,EAA4B,WAC9B,SAASA,EAAa5hC,EAAK+O,EAAOye,GAChCne,KAAKvR,KAAO,YACZuR,KAAK4X,GAAK,aACV5X,KAAKrP,SAAM,EACXqP,KAAKN,WAAQ,EACbM,KAAKme,aAAU,EACfne,KAAK8uB,aAAc,EACnB9uB,KAAK+uB,gBAAa,EAClB/uB,KAAKrP,IAAMA,EACXqP,KAAKN,MAAQA,EACbM,KAAKme,QAAUA,EAwBjB,OAjBaoU,EAAa3kC,UAEnB4E,SAAW,SAAkB2rB,GAClC,GAAIxsB,MAAMC,QAAQoO,KAAKN,OAAQ,CAG7B,IAFA,IAAIrJ,EAAM,GAEDmH,EAAQ,EAAGA,EAAQwC,KAAKN,MAAM9Q,OAAQ4O,IAC7CnH,GAAOy3B,EAAM9tB,KAAK4X,GAAI5X,KAAKN,MAAMlC,IAC7BwC,KAAKN,MAAMlC,EAAQ,KAAInH,GAAO,MAGpC,OAAOA,EAGT,OAAOy3B,EAAM9tB,KAAK4X,GAAI5X,KAAKN,MAAOye,IAG7BoU,EAnCuB,GAsC5BC,EAAc,aACdC,EAAqB,CACvBlF,aAAc,SAAsB58B,EAAK+O,EAAOye,GAC9C,OAAOqU,EAAYnR,KAAK1wB,GAAO,IAAI4hC,EAAa5hC,EAAK+O,EAAOye,GAAW,OAIvEuU,EAA4B,WAC9B,SAASA,EAAa/hC,EAAK+O,EAAOye,GAChCne,KAAKvR,KAAO,WACZuR,KAAK4X,GAAK,YACV5X,KAAKrP,SAAM,EACXqP,KAAKN,WAAQ,EACbM,KAAKme,aAAU,EACfne,KAAK8uB,aAAc,EACnB9uB,KAAK+uB,gBAAa,EAClB/uB,KAAKrP,IAAMA,EACXqP,KAAKN,MAAQA,EACbM,KAAKme,QAAUA,EAajB,OANauU,EAAa9kC,UAEnB4E,SAAW,SAAkB2rB,GAClC,OAAO2P,EAAM9tB,KAAKrP,IAAKqP,KAAKN,MAAOye,IAG9BuU,EAxBuB,GA2B5BC,EAAqB,CACvBpF,aAAc,SAAsB58B,EAAK+O,EAAOye,GAC9C,MAAe,cAARxtB,GAA+B,kBAARA,EAA0B,IAAI+hC,EAAa/hC,EAAK+O,EAAOye,GAAW,OAIhGyU,EAA0B,WAC5B,SAASA,EAAWjiC,EAAKuB,EAAOisB,GAC9Bne,KAAKvR,KAAO,SACZuR,KAAKrP,SAAM,EACXqP,KAAK9N,WAAQ,EACb8N,KAAKme,aAAU,EACfne,KAAK8uB,aAAc,EACnB9uB,KAAK+uB,gBAAa,EAClB/uB,KAAKrP,IAAMA,EACXqP,KAAK9N,MAAQA,EACb8N,KAAKme,QAAUA,EAyBjB,OAjBayU,EAAWhlC,UAEjB4E,SAAW,SAAkB2rB,GAClC,GAAIxsB,MAAMC,QAAQoO,KAAK9N,OAAQ,CAG7B,IAFA,IAAImE,EAAM,GAEDmH,EAAQ,EAAGA,EAAQwC,KAAK9N,MAAMtD,OAAQ4O,IAC7CnH,GAAO2J,KAAKrP,IAAM,IAAMqP,KAAK9N,MAAMsL,GAAS,IACxCwC,KAAK9N,MAAMsL,EAAQ,KAAInH,GAAO,MAGpC,OAAOA,EAGT,OAAO2J,KAAKrP,IAAM,IAAMqP,KAAK9N,MAAQ,KAGhC0gC,EAnCqB,GAsC1BC,EAAU,CACZ,YAAY,EACZ,WAAW,EACX,cAAc,GAOZvF,EAAU,CAACiD,EAAiBc,EAAuB,EAAQiB,EAAoBG,EAAoBE,EALhF,CACrBpF,aAAc,SAAsB58B,EAAKuB,EAAOisB,GAC9C,OAAOxtB,KAAOkiC,EAAU,IAAID,EAAWjiC,EAAKuB,EAAOisB,GAAW,QAI9D2U,EAAuB,CACzBpV,SAAS,GAEPqV,EAAqB,CACvB7D,OAAO,EACPxR,SAAS,GAQPsT,EAAwB,WAK1B,SAASA,EAAS7S,GAChBne,KAAK9L,IAAM,GACX8L,KAAKgzB,IAAM,GACXhzB,KAAKxC,MAAQ,GACbwC,KAAKizB,QAAU,EACfjzB,KAAKme,aAAU,EACfne,KAAKkzB,aAAU,EACflzB,KAAK8xB,eAAY,EACjB9xB,KAAKme,QAAUA,EACfne,KAAKkzB,QAAU/U,EAAQ+U,QACvBlzB,KAAK8xB,UAAY3T,EAAQ2T,UAS3B,IAAI1rB,EAAS4qB,EAASpjC,UA0NtB,OAxNAwY,EAAO+G,IAAM,SAAaxe,EAAMu+B,EAAMiG,GACpC,IAAIC,EAAgBpzB,KAAKme,QACrBqS,EAAS4C,EAAc5C,OACvBxB,EAAQoE,EAAcpE,MACtB7B,EAAMiG,EAAcjG,IACpB8B,EAAWmE,EAAcnE,SACzBc,EAAaqD,EAAcrD,WAC3BD,EAASsD,EAActD,OAEvB3R,EAAU,EAAS,CACrB+U,QAASlzB,KAAKkzB,QACd1C,OAAQA,EACRxB,MAAOA,EACP7B,IAAKA,EACL8B,SAAUA,EACVc,WAAYA,EACZD,OAAQA,EACRnhC,KAAMA,EACNmjC,UAAW9xB,KAAK8xB,UAChB/D,cAAUx3B,GACT48B,GAKCxiC,EAAMhC,EAENA,KAAQqR,KAAKgzB,MACfriC,EAAMhC,EAAO,KAAOqR,KAAKizB,WAK3BjzB,KAAKgzB,IAAIriC,GAAOu8B,EAEZv8B,KAAOqP,KAAKkzB,UAEd/U,EAAQ4P,SAAW,IAAM,EAAO/tB,KAAKkzB,QAAQviC,KAG/C,IAAI08B,EAAOJ,EAAWt8B,EAAKu8B,EAAM/O,GACjC,IAAKkP,EAAM,OAAO,KAClBrtB,KAAKqzB,SAAShG,GACd,IAAI7vB,OAA0BjH,IAAlB4nB,EAAQ3gB,MAAsBwC,KAAKxC,MAAM5O,OAASuvB,EAAQ3gB,MAEtE,OADAwC,KAAKxC,MAAMpB,OAAOoB,EAAO,EAAG6vB,GACrBA,GAOTjnB,EAAOjU,IAAM,SAAaxD,GACxB,OAAOqR,KAAK9L,IAAIvF,IAOlByX,EAAOmpB,OAAS,SAAgBlC,GAC9BrtB,KAAKszB,WAAWjG,UACTrtB,KAAKgzB,IAAI3F,EAAK18B,KACrBqP,KAAKxC,MAAMpB,OAAO4D,KAAKxC,MAAMxH,QAAQq3B,GAAO,IAO9CjnB,EAAOpQ,QAAU,SAAiBq3B,GAChC,OAAOrtB,KAAKxC,MAAMxH,QAAQq3B,IAO5BjnB,EAAOsX,QAAU,WACf,IAAI4P,EAAUttB,KAAKme,QAAQgP,IAAIG,QAG/BttB,KAAKxC,MAAMX,MAAM,GAAGvE,QAAQg1B,EAAQ6D,cAAe7D,IAOrDlnB,EAAOitB,SAAW,SAAkBhG,GAClCrtB,KAAK9L,IAAIm5B,EAAK18B,KAAO08B,EAEjBA,aAAgBsC,GAClB3vB,KAAK9L,IAAIm5B,EAAKU,UAAYV,EACtBA,EAAKp0B,KAAI+G,KAAKkzB,QAAQ7F,EAAK18B,KAAO08B,EAAKp0B,KAClCo0B,aAAgBmE,GAAiBxxB,KAAK8xB,YAC/C9xB,KAAK8xB,UAAUzE,EAAK1+B,MAAQ0+B,EAAKp0B,KAQrCmN,EAAOktB,WAAa,SAAoBjG,UAC/BrtB,KAAK9L,IAAIm5B,EAAK18B,KAEjB08B,aAAgBsC,UACX3vB,KAAK9L,IAAIm5B,EAAKU,iBACd/tB,KAAKkzB,QAAQ7F,EAAK18B,MAChB08B,aAAgBmE,UAClBxxB,KAAK8xB,UAAUzE,EAAK1+B,OAQ/ByX,EAAO4F,OAAS,WACd,IAAIrd,EACAkyB,EACA1C,EAeJ,GAbkE,iBAAtDpvB,UAAUH,QAAU,OAAI2H,EAAYxH,UAAU,KACxDJ,EAAOI,UAAUH,QAAU,OAAI2H,EAAYxH,UAAU,GAErD8xB,EAAO9xB,UAAUH,QAAU,OAAI2H,EAAYxH,UAAU,GAErDovB,EAAUpvB,UAAUH,QAAU,OAAI2H,EAAYxH,UAAU,KAExD8xB,EAAO9xB,UAAUH,QAAU,OAAI2H,EAAYxH,UAAU,GAErDovB,EAAUpvB,UAAUH,QAAU,OAAI2H,EAAYxH,UAAU,GACxDJ,EAAO,MAGLA,EACFqR,KAAKuzB,UAAUvzB,KAAK9L,IAAIvF,GAAOkyB,EAAM1C,QAErC,IAAK,IAAI3gB,EAAQ,EAAGA,EAAQwC,KAAKxC,MAAM5O,OAAQ4O,IAC7CwC,KAAKuzB,UAAUvzB,KAAKxC,MAAMA,GAAQqjB,EAAM1C,IAS9C/X,EAAOmtB,UAAY,SAAmBlG,EAAMxM,EAAM1C,QAChC,IAAZA,IACFA,EAAU2U,GAGZ,IAAIU,EAAiBxzB,KAAKme,QACtBmP,EAAUkG,EAAerG,IAAIG,QAC7B0B,EAAQwE,EAAexE,MAE3B,GAAI3B,EAAKyD,iBAAiBE,EACxB3D,EAAKyD,MAAM9kB,OAAO6U,EAAM1C,OAD1B,CAKA,IAAIsV,EAAYpG,EACZ3tB,EAAQ+zB,EAAU/zB,MAGtB,GAFA4tB,EAAQoG,SAAS7S,EAAMwM,EAAM2B,EAAO7Q,GAEhCA,EAAQT,SAAWhe,GAASA,IAAU+zB,EAAU/zB,MAAO,CAIzD,IAAK,IAAIyuB,KAFTb,EAAQ2E,eAAewB,EAAU/zB,MAAO+zB,EAAWzE,GAElCyE,EAAU/zB,MAAO,CAChC,IAAIi0B,EAAYF,EAAU/zB,MAAMyuB,GAI5BwF,IAHYj0B,EAAMyuB,IAIpBsF,EAAUtF,KAAKA,EAAMwF,EAAWZ,GAKpC,IAAK,IAAI3E,KAAS1uB,EAAO,CACvB,IAAIk0B,EAAaH,EAAU/zB,MAAM0uB,GAC7ByF,EAAan0B,EAAM0uB,GAGL,MAAdwF,GAAsBA,IAAeC,GACvCJ,EAAUtF,KAAKC,EAAO,KAAM2E,OAUpC3sB,EAAO5T,SAAW,SAAkB2rB,GAKlC,IAJA,IAAI9nB,EAAM,GACN24B,EAAQhvB,KAAKme,QAAQ6Q,MACrB1vB,IAAO0vB,GAAQA,EAAM7Q,QAAQ7e,KAExB9B,EAAQ,EAAGA,EAAQwC,KAAKxC,MAAM5O,OAAQ4O,IAAS,CACtD,IACIs2B,EADO9zB,KAAKxC,MAAMA,GACPhL,SAAS2rB,IAEnB2V,GAAQx0B,KACTjJ,IAAKA,GAAO,MAChBA,GAAOy9B,GAGT,OAAOz9B,GAGF26B,EAlPmB,GAqPxB+C,EAA0B,WAC5B,SAASA,EAAWnD,EAAQzS,GA0B1B,IAAK,IAAIxvB,KAzBTqR,KAAKme,aAAU,EACfne,KAAKg0B,cAAW,EAChBh0B,KAAK0vB,cAAW,EAChB1vB,KAAK8wB,WAAQ,EACb9wB,KAAK8nB,cAAW,EAChB9nB,KAAKkzB,aAAU,EACflzB,KAAK8xB,eAAY,EACjB9xB,KAAKi0B,WAAQ,EACbj0B,KAAK0vB,UAAW,EAChB1vB,KAAKg0B,UAAW,EAChBh0B,KAAKkzB,QAAU,GACflzB,KAAK8xB,UAAY,GACjB9xB,KAAKme,QAAU,EAAS,GAAIA,EAAS,CACnC6Q,MAAOhvB,KACPwwB,OAAQxwB,KACRkzB,QAASlzB,KAAKkzB,QACdpB,UAAW9xB,KAAK8xB,YAGd3T,EAAQ8Q,WACVjvB,KAAK8nB,SAAW,IAAI3J,EAAQ8Q,SAASjvB,OAGvCA,KAAK8wB,MAAQ,IAAIE,EAAShxB,KAAKme,SAEdyS,EACf5wB,KAAK8wB,MAAM3jB,IAAIxe,EAAMiiC,EAAOjiC,IAG9BqR,KAAK8wB,MAAMpT,UAOb,IAAItX,EAAS2tB,EAAWnmC,UAkKxB,OAhKAwY,EAAO8tB,OAAS,WACd,OAAIl0B,KAAK0vB,WACL1vB,KAAK8nB,UAAU9nB,KAAK8nB,SAASoM,SACjCl0B,KAAK0vB,UAAW,EAEX1vB,KAAKg0B,UAAUh0B,KAAKm0B,UAJCn0B,MAY5BoG,EAAOguB,OAAS,WACd,OAAKp0B,KAAK0vB,UACN1vB,KAAK8nB,UAAU9nB,KAAK8nB,SAASsM,SACjCp0B,KAAK0vB,UAAW,EACT1vB,MAHoBA,MAW7BoG,EAAO8qB,QAAU,SAAiBviC,EAAMu+B,EAAM/O,GAC5C,IAAI8V,EAAQj0B,KAAKi0B,MAIbj0B,KAAK0vB,WAAauE,IAAOj0B,KAAKi0B,MAAQ,IAC1C,IAAI5G,EAAOrtB,KAAK8wB,MAAM3jB,IAAIxe,EAAMu+B,EAAM/O,GACtC,OAAKkP,GACLrtB,KAAKme,QAAQgP,IAAIG,QAAQ6D,cAAc9D,GAEnCrtB,KAAK0vB,SACF1vB,KAAKg0B,UAGNC,EAAOA,EAAM17B,KAAK80B,IACpBrtB,KAAKq0B,WAAWhH,GAEZrtB,KAAKi0B,QACPj0B,KAAKi0B,MAAM37B,QAAQ0H,KAAKq0B,WAAYr0B,MACpCA,KAAKi0B,WAAQ19B,IAGV82B,GAXoBA,GAgB7BrtB,KAAKg0B,UAAW,EACT3G,IArBW,MA4BpBjnB,EAAOiuB,WAAa,SAAoBhH,GAClCrtB,KAAK8nB,UACP9nB,KAAK8nB,SAASuM,WAAWhH,IAS7BjnB,EAAOkuB,SAAW,SAAkB1D,EAAQzS,GAC1C,IAAIoW,EAAQ,GAEZ,IAAK,IAAI5lC,KAAQiiC,EAAQ,CACvB,IAAIvD,EAAOrtB,KAAKkxB,QAAQviC,EAAMiiC,EAAOjiC,GAAOwvB,GACxCkP,GAAMkH,EAAMh8B,KAAK80B,GAGvB,OAAOkH,GAOTnuB,EAAO6qB,QAAU,SAAiBtiC,GAChC,OAAOqR,KAAK8wB,MAAM3+B,IAAIxD,IAQxByX,EAAOouB,WAAa,SAAoB7lC,GACtC,IAAI0+B,EAAuB,iBAAT1+B,EAAoBA,EAAOqR,KAAK8wB,MAAM3+B,IAAIxD,GAE5D,SAAK0+B,GAELrtB,KAAK0vB,WAAarC,EAAK0B,cAIvB/uB,KAAK8wB,MAAMvB,OAAOlC,KAEdrtB,KAAK0vB,UAAYrC,EAAK0B,YAAc/uB,KAAK8nB,WACpC9nB,KAAK8nB,SAAS0M,WAAWnH,EAAK0B,cAUzC3oB,EAAOpQ,QAAU,SAAiBq3B,GAChC,OAAOrtB,KAAK8wB,MAAM96B,QAAQq3B,IAO5BjnB,EAAO+tB,OAAS,WAGd,OAFIn0B,KAAK8nB,UAAU9nB,KAAK8nB,SAASqM,SACjCn0B,KAAKg0B,UAAW,EACTh0B,MAOToG,EAAO4F,OAAS,WACd,IAAIyoB,EAIJ,OAFCA,EAAcz0B,KAAK8wB,OAAO9kB,OAAO/L,MAAMw0B,EAAa1lC,WAE9CiR,MAOToG,EAAOmtB,UAAY,SAAmBlG,EAAMxM,EAAM1C,GAEhD,OADAne,KAAK8wB,MAAMyC,UAAUlG,EAAMxM,EAAM1C,GAC1Bne,MAOToG,EAAO5T,SAAW,SAAkB2rB,GAClC,OAAOne,KAAK8wB,MAAMt+B,SAAS2rB,IAGtB4V,EAxMqB,GA2M1BW,EAA+B,WACjC,SAASA,IACP10B,KAAKstB,QAAU,CACbqH,SAAU,GACVC,SAAU,IAEZ50B,KAAK60B,cAAW,EAGlB,IAAIzuB,EAASsuB,EAAgB9mC,UAiH7B,OA5GAwY,EAAOmnB,aAAe,SAAsB5+B,EAAMu+B,EAAM/O,GACtD,IAAK,IAAIztB,EAAI,EAAGA,EAAIsP,KAAK60B,SAAStH,aAAa3+B,OAAQ8B,IAAK,CAC1D,IAAI28B,EAAOrtB,KAAK60B,SAAStH,aAAa78B,GAAG/B,EAAMu+B,EAAM/O,GACrD,GAAIkP,EAAM,OAAOA,EAGnB,OAAO,MAOTjnB,EAAO+qB,cAAgB,SAAuB9D,GAC5C,IAAIA,EAAKyB,YAAT,CAGA,IAFA,IAAIE,EAAQ3B,EAAKlP,QAAQ6Q,MAEhBt+B,EAAI,EAAGA,EAAIsP,KAAK60B,SAAS1D,cAAcviC,OAAQ8B,IACtDsP,KAAK60B,SAAS1D,cAAczgC,GAAG28B,EAAM2B,GAGnC3B,EAAK3tB,OAAOM,KAAKiyB,eAAe5E,EAAK3tB,MAAO2tB,EAAM2B,GACtD3B,EAAKyB,aAAc,IAOrB1oB,EAAO6rB,eAAiB,SAAwBvyB,EAAO2tB,EAAM2B,GAC3D,IAAK,IAAIt+B,EAAI,EAAGA,EAAIsP,KAAK60B,SAAS5C,eAAerjC,OAAQ8B,IAEvD28B,EAAK3tB,MAAQM,KAAK60B,SAAS5C,eAAevhC,GAAG28B,EAAK3tB,MAAO2tB,EAAM2B,IAQnE5oB,EAAO0uB,eAAiB,SAAwB9F,GAC9C,IAAK,IAAIt+B,EAAI,EAAGA,EAAIsP,KAAK60B,SAASC,eAAelmC,OAAQ8B,IACvDsP,KAAK60B,SAASC,eAAepkC,GAAGs+B,IAQpC5oB,EAAOstB,SAAW,SAAkB7S,EAAMwM,EAAM2B,EAAO7Q,GACrD,IAAK,IAAIztB,EAAI,EAAGA,EAAIsP,KAAK60B,SAASnB,SAAS9kC,OAAQ8B,IACjDsP,KAAK60B,SAASnB,SAAShjC,GAAGmwB,EAAMwM,EAAM2B,EAAO7Q,IAQjD/X,EAAOgpB,cAAgB,SAAuBl9B,EAAOi8B,EAAMd,GAGzD,IAFA,IAAI0H,EAAiB7iC,EAEZxB,EAAI,EAAGA,EAAIsP,KAAK60B,SAASzF,cAAcxgC,OAAQ8B,IACtDqkC,EAAiB/0B,KAAK60B,SAASzF,cAAc1+B,GAAGqkC,EAAgB5G,EAAMd,GAGxE,OAAO0H,GAOT3uB,EAAO4uB,IAAM,SAAaC,EAAW9W,QACnB,IAAZA,IACFA,EAAU,CACR8V,MAAO,aAIX,IAAI3G,EAAUttB,KAAKstB,QAAQnP,EAAQ8V,QAEC,IAAhC3G,EAAQt3B,QAAQi/B,KAIpB3H,EAAQ/0B,KAAK08B,GACbj1B,KAAK60B,SAAW,GAAGtkC,OAAOyP,KAAKstB,QAAQsH,SAAU50B,KAAKstB,QAAQqH,UAAU9/B,QAAO,SAAUggC,EAAUK,GACjG,IAAK,IAAIvmC,KAAQumC,EACXvmC,KAAQkmC,GACVA,EAASlmC,GAAM4J,KAAK28B,EAAOvmC,IAM/B,OAAOkmC,IACN,CACDtH,aAAc,GACd4D,cAAe,GACfc,eAAgB,GAChB6C,eAAgB,GAChB1F,cAAe,GACfsE,SAAU,OAIPgB,EA1H0B,GA6N/BG,EAAW,IA5FmB,WAChC,SAASM,IACPn1B,KAAK60B,SAAW,GAGlB,IAAIzuB,EAAS+uB,EAAevnC,UA6E5B,OAxEAwY,EAAO+G,IAAM,SAAa6hB,GACxB,IAAI6F,EAAW70B,KAAK60B,SAChBr3B,EAAQwxB,EAAM7Q,QAAQ3gB,MAC1B,IAAiC,IAA7Bq3B,EAAS7+B,QAAQg5B,GAErB,GAAwB,IAApB6F,EAASjmC,QAAgB4O,GAASwC,KAAKxC,MACzCq3B,EAASt8B,KAAKy2B,QAKhB,IAAK,IAAIt+B,EAAI,EAAGA,EAAImkC,EAASjmC,OAAQ8B,IACnC,GAAImkC,EAASnkC,GAAGytB,QAAQ3gB,MAAQA,EAE9B,YADAq3B,EAASz4B,OAAO1L,EAAG,EAAGs+B,IAU5B5oB,EAAOyF,MAAQ,WACb7L,KAAK60B,SAAW,IAOlBzuB,EAAOmpB,OAAS,SAAgBP,GAC9B,IAAIxxB,EAAQwC,KAAK60B,SAAS7+B,QAAQg5B,GAClChvB,KAAK60B,SAASz4B,OAAOoB,EAAO,IAO9B4I,EAAO5T,SAAW,SAAkBY,GAOlC,IANA,IAAI+L,OAAiB,IAAV/L,EAAmB,GAAKA,EAC/Bs8B,EAAWvwB,EAAKuwB,SAChBvR,EAAUsO,EAA8BttB,EAAM,CAAC,aAE/C20B,EAAM,GAEDpjC,EAAI,EAAGA,EAAIsP,KAAK60B,SAASjmC,OAAQ8B,IAAK,CAC7C,IAAIs+B,EAAQhvB,KAAK60B,SAASnkC,GAEV,MAAZg/B,GAAoBV,EAAMU,WAAaA,IAIvCoE,IAAKA,GAAO,MAChBA,GAAO9E,EAAMx8B,SAAS2rB,IAGxB,OAAO2V,IAGT,OAAaqB,EAAgB,CAAC,CAC5BxkC,IAAK,QAKLwB,IAAK,WACH,OAAgC,IAAzB6N,KAAK60B,SAASjmC,OAAe,EAAIoR,KAAK60B,SAAS70B,KAAK60B,SAASjmC,OAAS,GAAGuvB,QAAQ3gB,UAIrF23B,EAlFyB,IA0G9BC,GAAqC,oBAAflW,WAA6BA,WAA+B,oBAAX9lB,QAA0BA,OAAO4P,OAASA,KAAO5P,OAAyB,oBAATlD,MAAwBA,KAAK8S,OAASA,KAAO9S,KAAOipB,SAAS,cAATA,GAC5LkW,GAAK,mCACe,MAApBD,GAAaC,MAAaD,GAAaC,IAAM,GAKjD,IAAIC,GAAWF,GAAaC,MAQxBE,GAAmB,SAA0BpX,QAC/B,IAAZA,IACFA,EAAU,IAGZ,IAAIqX,EAAc,EA8BlB,OA5BiB,SAAoBnI,EAAM2B,GACzCwG,GAAe,EAMf,IAAIC,EAAQ,GACRC,EAAS,GAYb,OAVI1G,IACEA,EAAM7Q,QAAQwX,kBAChBD,EAAS1G,EAAM7Q,QAAQwX,iBAGG,MAAxB3G,EAAM7Q,QAAQgP,IAAIl0B,KACpBw8B,EAAQj/B,OAAOw4B,EAAM7Q,QAAQgP,IAAIl0B,MAIjCklB,EAAQyX,OAEH,IAAMF,GAAU,KAAOJ,GAAWG,EAAQD,EAG5CE,EAASrI,EAAK18B,IAAM,IAAM2kC,IAAYG,EAAQ,IAAMA,EAAQ,IAAM,IAAMD,IAU/EK,GAAU,SAAiBxT,GAC7B,IAAInwB,EACJ,OAAO,WAEL,OADKA,IAAOA,EAAQmwB,KACbnwB,IAQP4jC,GAAmB,SAA0BC,EAAS5H,GACxD,IAEE,OAAI4H,EAAQC,kBACHD,EAAQC,kBAAkB7jC,IAAIg8B,GAGhC4H,EAAQr2B,MAAMo2B,iBAAiB3H,GACtC,MAAO8H,GAEP,MAAO,KAQPxG,GAAc,SAAqBsG,EAAS5H,EAAMj8B,GACpD,IACE,IAAIy7B,EAAWz7B,EAEf,GAAIP,MAAMC,QAAQM,KAChBy7B,EAAWF,EAAWv7B,GAAO,GAEG,eAA5BA,EAAMA,EAAMtD,OAAS,IAEvB,OADAmnC,EAAQr2B,MAAM+vB,YAAYtB,EAAMR,EAAU,cACnC,EAKPoI,EAAQC,kBACVD,EAAQC,kBAAkB7zB,IAAIgsB,EAAMR,GAEpCoI,EAAQr2B,MAAM+vB,YAAYtB,EAAMR,GAElC,MAAOsI,GAEP,OAAO,EAGT,OAAO,GAOLzG,GAAiB,SAAwBuG,EAAS5H,GACpD,IAEM4H,EAAQC,kBACVD,EAAQC,kBAAkBE,OAAO/H,GAEjC4H,EAAQr2B,MAAM8vB,eAAerB,GAE/B,MAAO8H,MASP5F,GAAc,SAAqB0F,EAASlG,GAI9C,OAHAkG,EAAQlG,aAAeA,EAGhBkG,EAAQlG,eAAiBA,GAQ9BsG,GAAUN,IAAQ,WACpB,OAAOr6B,SAASkB,cAAc,WAwDhC,SAAS05B,GAAajY,GACpB,IAAIkY,EAAaxB,EAASA,SAE1B,GAAIwB,EAAWznC,OAAS,EAAG,CAEzB,IAAIogC,EAvDR,SAAyB6F,EAAU1W,GACjC,IAAK,IAAIztB,EAAI,EAAGA,EAAImkC,EAASjmC,OAAQ8B,IAAK,CACxC,IAAIs+B,EAAQ6F,EAASnkC,GAErB,GAAIs+B,EAAMU,UAAYV,EAAM7Q,QAAQ3gB,MAAQ2gB,EAAQ3gB,OAASwxB,EAAM7Q,QAAQmY,iBAAmBnY,EAAQmY,eACpG,OAAOtH,EAIX,OAAO,KA8COuH,CAAgBF,EAAYlY,GAExC,GAAI6Q,GAASA,EAAMlH,SACjB,MAAO,CACL0I,OAAQxB,EAAMlH,SAAS3X,QAAQzS,WAC/B84B,KAAMxH,EAAMlH,SAAS3X,SAOzB,IAFA6e,EAjDJ,SAA0B6F,EAAU1W,GAClC,IAAK,IAAIztB,EAAImkC,EAASjmC,OAAS,EAAG8B,GAAK,EAAGA,IAAK,CAC7C,IAAIs+B,EAAQ6F,EAASnkC,GAErB,GAAIs+B,EAAMU,UAAYV,EAAM7Q,QAAQmY,iBAAmBnY,EAAQmY,eAC7D,OAAOtH,EAIX,OAAO,KAwCGyH,CAAiBJ,EAAYlY,KAExB6Q,EAAMlH,SACjB,MAAO,CACL0I,OAAQxB,EAAMlH,SAAS3X,QAAQzS,WAC/B84B,KAAMxH,EAAMlH,SAAS3X,QAAQumB,aAMnC,IAAIJ,EAAiBnY,EAAQmY,eAE7B,GAAIA,GAA4C,iBAAnBA,EAA6B,CACxD,IAAIK,EA/CR,SAAyBC,GAGvB,IAFA,IAAIn6B,EAAO05B,KAEFzlC,EAAI,EAAGA,EAAI+L,EAAKo6B,WAAWjoC,OAAQ8B,IAAK,CAC/C,IAAI8lC,EAAO/5B,EAAKo6B,WAAWnmC,GAE3B,GAAsB,IAAlB8lC,EAAK3J,UAAkB2J,EAAKM,UAAUpT,SAAWkT,EACnD,OAAOJ,EAIX,OAAO,KAoCSO,CAAgBT,GAE9B,GAAIK,EACF,MAAO,CACLnG,OAAQmG,EAAQj5B,WAChB84B,KAAMG,EAAQD,aASpB,OAAO,EAgCT,IAAIM,GAAWnB,IAAQ,WACrB,IAAIW,EAAOh7B,SAASkB,cAAc,8BAClC,OAAO85B,EAAOA,EAAK56B,aAAa,WAAa,QAG3Cq7B,GAAc,SAAoBC,EAAW7J,EAAM7vB,GACrD,IACE,GAAI,eAAgB05B,EACVA,EACN7C,WAAWhH,EAAM7vB,QAEhB,GAAI,eAAgB05B,EAAW,CACzBA,EAENC,WAAW9J,IAEhB,MAAO4I,GAEP,OAAO,EAGT,OAAOiB,EAAUE,SAAS55B,IAGxB65B,GAA6B,SAAoCH,EAAW15B,GAC9E,IAAI85B,EAAWJ,EAAUE,SAASxoC,OAElC,YAAc2H,IAAViH,GAAuBA,EAAQ85B,EAE1BA,EAGF95B,GAYL+5B,GAA2B,WAI7B,SAASA,EAAYvI,GACnBhvB,KAAK81B,iBAAmBA,GACxB91B,KAAKyvB,YAAcA,GACnBzvB,KAAKwvB,eAAiBA,GACtBxvB,KAAKqwB,YAAcA,GACnBrwB,KAAKmQ,aAAU,EACfnQ,KAAKgvB,WAAQ,EACbhvB,KAAKw3B,kBAAmB,EACxBx3B,KAAKo3B,SAAW,GAEZpI,GAAO6F,EAAS1nB,IAAI6hB,GACxBhvB,KAAKgvB,MAAQA,EAEb,IAAI7vB,EAAOa,KAAKgvB,MAAQhvB,KAAKgvB,MAAM7Q,QAAU,GACzCsZ,EAAQt4B,EAAKs4B,MACbl4B,EAAOJ,EAAKI,KACZ4Q,EAAUhR,EAAKgR,QAEnBnQ,KAAKmQ,QAAUA,GA/BD,WAChB,IAAIuM,EAAKlhB,SAASwB,cAAc,SAKhC,OADA0f,EAAGgb,YAAc,KACVhb,EAyBqBib,GAC1B33B,KAAKmQ,QAAQjU,aAAa,WAAY,IAClCu7B,GAAOz3B,KAAKmQ,QAAQjU,aAAa,QAASu7B,GAC1Cl4B,GAAMS,KAAKmQ,QAAQjU,aAAa,YAAaqD,GACjD,IAAIq4B,EAAQZ,KACRY,GAAO53B,KAAKmQ,QAAQjU,aAAa,QAAS07B,GAOhD,IAAIxxB,EAASmxB,EAAY3pC,UA6JzB,OA3JAwY,EAAO8tB,OAAS,WAEd,IAAIl0B,KAAKmQ,QAAQzS,YAAesC,KAAKgvB,MAArC,EA3GJ,SAAqBtvB,EAAOye,GAC1B,IAAImY,EAAiBnY,EAAQmY,eACzBuB,EAAWzB,GAAajY,GAE5B,IAAiB,IAAb0Z,GAAsBA,EAASrH,OACjCqH,EAASrH,OAAOsH,aAAap4B,EAAOm4B,EAASrB,WAK/C,GAAIF,GAAqD,iBAA5BA,EAAezJ,SAA5C,CAEE,IAAIkL,EAAwBzB,EACxB54B,EAAaq6B,EAAsBr6B,WACnCA,GAAYA,EAAWo6B,aAAap4B,EAAOq4B,EAAsBrB,kBAIvEP,KAAU/4B,YAAYsC,GA0FpBs4B,CAAYh4B,KAAKmQ,QAASnQ,KAAKgvB,MAAM7Q,SAGrC,IAAI6V,EAAW/sB,QAAQjH,KAAKgvB,OAAShvB,KAAKgvB,MAAMgF,UAE5Ch0B,KAAKw3B,kBAAoBxD,IAC3Bh0B,KAAKw3B,kBAAmB,EACxBx3B,KAAKm0B,YAQT/tB,EAAOguB,OAAS,WACd,GAAKp0B,KAAKgvB,MAAV,CACA,IAAItxB,EAAasC,KAAKmQ,QAAQzS,WAC1BA,GAAYA,EAAWC,YAAYqC,KAAKmQ,SAGxCnQ,KAAKgvB,MAAM7Q,QAAQ7e,OACrBU,KAAKo3B,SAAW,GAChBp3B,KAAKmQ,QAAQunB,YAAc,QAQ/BtxB,EAAO+tB,OAAS,WACd,IAAInF,EAAQhvB,KAAKgvB,MACZA,IAEDA,EAAM7Q,QAAQ7e,KAChBU,KAAKi4B,YAAYjJ,EAAM8B,OAIzB9wB,KAAKmQ,QAAQunB,YAAc,KAAO1I,EAAMx8B,WAAa,OAOvD4T,EAAO6xB,YAAc,SAAqBnH,EAAOoH,GAC/C,IAAK,IAAIxnC,EAAI,EAAGA,EAAIogC,EAAMtzB,MAAM5O,OAAQ8B,IACtCsP,KAAKq0B,WAAWvD,EAAMtzB,MAAM9M,GAAIA,EAAGwnC,IAQvC9xB,EAAOiuB,WAAa,SAAoBhH,EAAM7vB,EAAO06B,GAKnD,QAJqB,IAAjBA,IACFA,EAAel4B,KAAKmQ,QAAQ6e,OAG1B3B,EAAKyD,MAAO,CACd,IAAIN,EAASnD,EACT8K,EAAqBD,EAEzB,GAAkB,gBAAd7K,EAAK5+B,MAAwC,cAAd4+B,EAAK5+B,KAAsB,CAC5D,IAAI2pC,EAAkBf,GAA2Ba,EAAc16B,GAO/D,IAA2B,KAJ3B26B,EAAqBlB,GAAYiB,EAAc1H,EAAOh+B,SAAS,CAC7DqP,UAAU,IACRu2B,IAGF,OAAO,EAGTp4B,KAAKq4B,WAAWhL,EAAM+K,EAAiBD,GAIzC,OADAn4B,KAAKi4B,YAAYzH,EAAOM,MAAOqH,GACxBA,EAGT,IAAIG,EAAUjL,EAAK76B,WACnB,IAAK8lC,EAAS,OAAO,EACrB,IAAIC,EAAiBlB,GAA2Ba,EAAc16B,GAE1Dg7B,EAAavB,GAAYiB,EAAcI,EAASC,GAEpD,OAAmB,IAAfC,IAIJx4B,KAAKw3B,kBAAmB,EACxBx3B,KAAKq4B,WAAWhL,EAAMkL,EAAgBC,GAC/BA,IAGTpyB,EAAOiyB,WAAa,SAAoBhL,EAAM7vB,EAAOu4B,GACnD1I,EAAK0B,WAAagH,EAGd1I,EAAKlP,QAAQqS,kBAAkBuD,IACjC/zB,KAAKo3B,SAAS55B,GAASu4B,IAQ3B3vB,EAAOouB,WAAa,SAAoBuB,GACtC,IAAI/G,EAAQhvB,KAAKmQ,QAAQ6e,MACrBxxB,EAAQwC,KAAKhK,QAAQ+/B,GACzB,OAAe,IAAXv4B,IACJwxB,EAAMwF,WAAWh3B,GACjBwC,KAAKo3B,SAASh7B,OAAOoB,EAAO,IACrB,IAOT4I,EAAOpQ,QAAU,SAAiB+/B,GAChC,OAAO/1B,KAAKo3B,SAASphC,QAAQ+/B,IAS/B3vB,EAAOkqB,YAAc,SAAqByF,EAAS1I,GACjD,IAAI7vB,EAAQwC,KAAKhK,QAAQ+/B,GACzB,OAAe,IAAXv4B,IACJwC,KAAKmQ,QAAQ6e,MAAMwF,WAAWh3B,GAC9BwC,KAAKo3B,SAASh7B,OAAOoB,EAAO,GACrBwC,KAAKq0B,WAAWhH,EAAM7vB,KAO/B4I,EAAOqyB,SAAW,WAChB,OAAOz4B,KAAKmQ,QAAQ6e,MAAMoI,UAGrBG,EA/LsB,GAkM3BmB,GAAkB,EAElBC,GAAmB,WACrB,SAASA,EAAIxa,GACXne,KAAK/G,GAAKy/B,KACV14B,KAAKwd,QAAU,SACfxd,KAAKstB,QAAU,IAAIoH,EACnB10B,KAAKme,QAAU,CACbllB,GAAI,CACF28B,QAAQ,GAEVL,iBAAkBA,GAClBtG,SAAU,EAAcsI,GAAc,KACtCjK,QAAS,IAEXttB,KAAK+vB,WAAawF,GAAiB,CACjCK,QAAQ,IAGV,IAAK,IAAIllC,EAAI,EAAGA,EAAI48B,EAAQ1+B,OAAQ8B,IAClCsP,KAAKstB,QAAQ0H,IAAI1H,EAAQ58B,GAAI,CAC3BujC,MAAO,aAIXj0B,KAAK44B,MAAMza,GASb,IAAI/X,EAASuyB,EAAI/qC,UAuHjB,OArHAwY,EAAOwyB,MAAQ,SAAeza,GAyB5B,YAxBgB,IAAZA,IACFA,EAAU,IAGRA,EAAQoX,mBACVv1B,KAAKme,QAAQoX,iBAAmBpX,EAAQoX,kBAGtCpX,EAAQllB,KACV+G,KAAKme,QAAQllB,GAAK,EAAS,GAAI+G,KAAKme,QAAQllB,GAAIklB,EAAQllB,MAGtDklB,EAAQoX,kBAAoBpX,EAAQllB,MACtC+G,KAAK+vB,WAAa/vB,KAAKme,QAAQoX,iBAAiBv1B,KAAKme,QAAQllB,KAGjC,MAA1BklB,EAAQmY,iBAAwBt2B,KAAKme,QAAQmY,eAAiBnY,EAAQmY,gBAEtE,aAAcnY,IAChBne,KAAKme,QAAQ8Q,SAAW9Q,EAAQ8Q,UAI9B9Q,EAAQmP,SAASttB,KAAKg1B,IAAI/0B,MAAMD,KAAMme,EAAQmP,SAC3CttB,MAOToG,EAAOyyB,iBAAmB,SAA0BjI,EAAQzS,QAC1C,IAAZA,IACFA,EAAU,IAGZ,IACI3gB,EADW2gB,EACM3gB,MAEA,iBAAVA,IACTA,EAA2B,IAAnBq3B,EAASr3B,MAAc,EAAIq3B,EAASr3B,MAAQ,GAGtD,IAAIwxB,EAAQ,IAAI+E,EAAWnD,EAAQ,EAAS,GAAIzS,EAAS,CACvDgP,IAAKntB,KACL+vB,WAAY5R,EAAQ4R,YAAc/vB,KAAK+vB,WACvCuG,eAAgBt2B,KAAKme,QAAQmY,eAC7BrH,SAAUjvB,KAAKme,QAAQ8Q,SACvBzxB,MAAOA,KAGT,OADAwC,KAAKstB,QAAQwH,eAAe9F,GACrBA,GAOT5oB,EAAO0yB,iBAAmB,SAA0B9J,GAGlD,OAFAA,EAAMoF,SACNS,EAAStF,OAAOP,GACThvB,MAQToG,EAAO6mB,WAAa,SAAsBt+B,EAAM+Q,EAAOye,GAUrD,QATc,IAAVze,IACFA,EAAQ,SAGM,IAAZye,IACFA,EAAU,IAIQ,iBAATxvB,EAET,OAAOqR,KAAKitB,gBAAW12B,EAAW5H,EAAM+Q,GAI1C,IAAIyzB,EAAc,EAAS,GAAIhV,EAAS,CACtCxvB,KAAMA,EACNw+B,IAAKntB,KACLivB,SAAUjvB,KAAKme,QAAQ8Q,WAGpBkE,EAAYpD,aAAYoD,EAAYpD,WAAa/vB,KAAK+vB,YACtDoD,EAAYD,UAASC,EAAYD,QAAU,IAC3CC,EAAYrB,YAAWqB,EAAYrB,UAAY,IACpD,IAAIzE,EAAOJ,EAAWt+B,EAAM+Q,EAAOyzB,GAEnC,OADI9F,GAAMrtB,KAAKstB,QAAQ6D,cAAc9D,GAC9BA,GAOTjnB,EAAO4uB,IAAM,WAGX,IAFA,IAAIltB,EAAQ9H,KAEHmyB,EAAOpjC,UAAUH,OAAQ0+B,EAAU,IAAI37B,MAAMwgC,GAAOE,EAAO,EAAGA,EAAOF,EAAME,IAClF/E,EAAQ+E,GAAQtjC,UAAUsjC,GAM5B,OAHA/E,EAAQh1B,SAAQ,SAAU48B,GACxBptB,EAAMwlB,QAAQ0H,IAAIE,MAEbl1B,MAGF24B,EAvJc,GA8JvB,SAASI,GAAiBnI,GACxB,IAAIoI,EAAK,KAET,IAAK,IAAIroC,KAAOigC,EAAQ,CACtB,IAAI1+B,EAAQ0+B,EAAOjgC,GACflC,SAAcyD,EAElB,GAAa,aAATzD,EACGuqC,IAAIA,EAAK,IACdA,EAAGroC,GAAOuB,OACL,GAAa,WAATzD,GAA+B,OAAVyD,IAAmBP,MAAMC,QAAQM,GAAQ,CACvE,IAAI+mC,EAAYF,GAAiB7mC,GAE7B+mC,IACGD,IAAIA,EAAK,IACdA,EAAGroC,GAAOsoC,IAKhB,OAAOD,EAQT,IA0EIE,GAAkC,iBAARvK,KAA2B,MAAPA,KAAe,WAAYA,IAKzE,GAAS,SAAgBxQ,GAC3B,OAAO,IAAIwa,GAAIxa,IAOP,KC1rEK,SAASgb,KACtB,IAAIhb,EAAUpvB,UAAUH,OAAS,QAAsB2H,IAAjBxH,UAAU,GAAmBA,UAAU,GAAK,GAC9EqqC,EAAcjb,EAAQib,YACtBC,EAAalb,EAAQkb,WACTlb,EAAQjrB,UAExB,IAAKmmC,EACH,OAAOD,EAGT,IAAIE,EAAc,EAAS,GAAIF,GAwB/B,OAfAzpC,OAAOW,KAAK+oC,GAAY/gC,SAAQ,SAAU3H,GAWpC0oC,EAAW1oC,KACb2oC,EAAY3oC,GAAO,GAAGJ,OAAO6oC,EAAYzoC,GAAM,KAAKJ,OAAO8oC,EAAW1oC,QAGnE2oC,ECnCT,IAoBA,GApBoB,CAClBn3B,IAAK,SAAao3B,EAAOC,EAAMC,EAAMvnC,GACnC,IAAIwnC,EAAWH,EAAMpnC,IAAIqnC,GAEpBE,IACHA,EAAW,IAAIzoC,IACfsoC,EAAMp3B,IAAIq3B,EAAME,IAGlBA,EAASv3B,IAAIs3B,EAAMvnC,IAErBC,IAAK,SAAaonC,EAAOC,EAAMC,GAC7B,IAAIC,EAAWH,EAAMpnC,IAAIqnC,GACzB,OAAOE,EAAWA,EAASvnC,IAAIsnC,QAAQljC,GAEzC2/B,OAAQ,SAAiBqD,EAAOC,EAAMC,GACrBF,EAAMpnC,IAAIqnC,GAChBtD,OAAOuD,KCXpB,OANmB,gBAAoB,MCCxB,SAASE,KAQtB,OAPY,aAAiB,ICH/B,IACA,GADkC,mBAAXrsC,QAAyBA,OAAOqV,IAC5BrV,OAAOqV,IAAI,cAAgB,mBCUlDi3B,GAAgB,CAAC,UAAW,WAAY,QAAS,UAAW,eAAgB,WAAY,WAAY,YCTxG,IAAIhhC,GAAMD,KAAKC,MACXihC,GAAa,WAAajhC,GAC1BkhC,GAAW,aAAclhC,GA8D7B,GA5DqB,WACnB,MAAO,CACL20B,aAAc,SAAsB5+B,EAAMu+B,EAAM/O,GAC9C,GAAoB,mBAAT+O,EAAqB,OAAO,KACvC,IAAIG,EAAOJ,EAAWt+B,EAAM,GAAIwvB,GAEhC,OADAkP,EAAKyM,IAAY5M,EACVG,GAET4E,eAAgB,SAAwBvyB,EAAO2tB,GAK7C,GAAIwM,MAAcxM,GAAQyM,MAAYzM,EAAM,OAAO3tB,EACnD,IAAIq6B,EAAW,GAEf,IAAK,IAAI5L,KAAQzuB,EAAO,CACtB,IAAIxN,EAAQwN,EAAMyuB,GACG,mBAAVj8B,WACJwN,EAAMyuB,GACb4L,EAAS5L,GAAQj8B,GAKnB,OADAm7B,EAAKwM,IAAcE,EACZr6B,GAETg0B,SAAU,SAAkB7S,EAAMwM,EAAM2B,EAAO7Q,GAC7C,IAAIsV,EAAYpG,EAEZ2M,EAASvG,EAAUqG,IAGnBE,IAGFvG,EAAU/zB,MAAQs6B,EAAOnZ,IAAS,IAapC,IAAIkZ,EAAWtG,EAAUoG,IAEzB,GAAIE,EACF,IAAK,IAAI3L,KAAS2L,EAChBtG,EAAUtF,KAAKC,EAAO2L,EAAS3L,GAAOvN,GAAO1C,MCzDnDvG,GAAK,UACLqiB,GAAW,WAEXC,GAAmC,WACrC,SAASA,EAAoBvpC,EAAKigC,EAAQzS,GAaxC,IAAK,IAAI4P,KAZT/tB,KAAKvR,KAAO,SACZuR,KAAK4X,GAAKA,GACV5X,KAAK8wB,WAAQ,EACb9wB,KAAKme,aAAU,EACfne,KAAKrP,SAAM,EACXqP,KAAK8uB,aAAc,EACnB9uB,KAAKrP,IAAMA,EACXqP,KAAKme,QAAUA,EACfne,KAAK8wB,MAAQ,IAAIE,EAAS,EAAS,GAAI7S,EAAS,CAC9CqS,OAAQxwB,QAGW4wB,EACnB5wB,KAAK8wB,MAAM3jB,IAAI4gB,EAAU6C,EAAO7C,IAGlC/tB,KAAK8wB,MAAMpT,UAOb,IAAItX,EAAS8zB,EAAoBtsC,UAgCjC,OA9BAwY,EAAO6qB,QAAU,SAAiBtiC,GAChC,OAAOqR,KAAK8wB,MAAM3+B,IAAIxD,IAOxByX,EAAO8qB,QAAU,SAAiBviC,EAAM+Q,EAAOye,GAC7C,IAAIkP,EAAOrtB,KAAK8wB,MAAM3jB,IAAIxe,EAAM+Q,EAAOye,GAEvC,OADIkP,GAAMrtB,KAAKme,QAAQgP,IAAIG,QAAQ6D,cAAc9D,GAC1CA,GAOTjnB,EAAOpQ,QAAU,SAAiBq3B,GAChC,OAAOrtB,KAAK8wB,MAAM96B,QAAQq3B,IAO5BjnB,EAAO5T,SAAW,WAChB,OAAOwN,KAAK8wB,MAAMt+B,YAGb0nC,EAzD8B,GA4DnCC,GAAkC,WACpC,SAASA,EAAmBxpC,EAAK+O,EAAOye,GACtCne,KAAKvR,KAAO,SACZuR,KAAK4X,GAAKA,GACV5X,KAAKme,aAAU,EACfne,KAAKqtB,UAAO,EACZrtB,KAAK8uB,aAAc,EACnB9uB,KAAKrP,SAAM,EACXqP,KAAKrP,IAAMA,EACXqP,KAAKme,QAAUA,EACf,IAAI4P,EAAWp9B,EAAIypC,OAAOH,GAASrrC,QACnCoR,KAAKqtB,KAAOlP,EAAQgP,IAAIF,WAAWc,EAAUruB,EAAO,EAAS,GAAIye,EAAS,CACxEqS,OAAQxwB,QAUZ,OANcm6B,EAAmBvsC,UAEzB4E,SAAW,SAAkB2rB,GACnC,OAAOne,KAAKqtB,KAAOrtB,KAAKqtB,KAAK76B,SAAS2rB,GAAW,IAG5Cgc,EAtB6B,GAyBlCE,GAAkB,WAEtB,SAASC,GAASvM,EAAUpiB,GAI1B,IAHA,IAAI4uB,EAAQxM,EAASjyB,MAAMu+B,IACvBvK,EAAS,GAEJp/B,EAAI,EAAGA,EAAI6pC,EAAM3rC,OAAQ8B,IAChCo/B,GAAUnkB,EAAQ,IAAM4uB,EAAM7pC,GAAGgzB,OAC7B6W,EAAM7pC,EAAI,KAAIo/B,GAAU,MAG9B,OAAOA,EA8ET,OAvCA,WAiCE,MAAO,CACLvC,aAjCF,SAAsB5+B,EAAMiiC,EAAQzS,GAClC,IAAKxvB,EAAM,OAAO,KAElB,GAAIA,IAASipB,GACX,OAAO,IAAIsiB,GAAoBvrC,EAAMiiC,EAAQzS,GAG/C,GAAgB,MAAZxvB,EAAK,IAAcA,EAAKyrC,OAAO,EAAGH,GAASrrC,UAAYqrC,GACzD,OAAO,IAAIE,GAAmBxrC,EAAMiiC,EAAQzS,GAG9C,IAAIqS,EAASrS,EAAQqS,OAYrB,OAVIA,IACkB,WAAhBA,EAAO/hC,MAAqB+hC,EAAOrS,QAAQqS,QAAyC,WAA/BA,EAAOrS,QAAQqS,OAAO/hC,QAC7E0vB,EAAQ2R,QAAS,IAIE,IAAnB3R,EAAQ2R,SACV3R,EAAQ4P,SAAWp/B,GAGd,MAWPwiC,cARF,SAAuB9D,EAAM2B,GACT,UAAd3B,EAAK5+B,MAAqBugC,IAhElC,SAAyC3B,EAAM2B,GAC7C,IAAI7Q,EAAUkP,EAAKlP,QACfze,EAAQ2tB,EAAK3tB,MACboxB,EAAQpxB,EAAQA,EAAMkY,IAAM,KAChC,GAAKkZ,EAAL,CAEA,IAAK,IAAIniC,KAAQmiC,EACf9B,EAAMkC,QAAQviC,EAAMmiC,EAAMniC,GAAO,EAAS,GAAIwvB,EAAS,CACrD4P,SAAUuM,GAAS3rC,EAAM0+B,EAAKU,oBAI3BruB,EAAMkY,KAqDX4iB,CAAgCnN,EAAM2B,GAlD1C,SAAkC3B,EAAM2B,GACtC,IAAI7Q,EAAUkP,EAAKlP,QACfze,EAAQ2tB,EAAK3tB,MAEjB,IAAK,IAAIyuB,KAAQzuB,EACf,GAAgB,MAAZyuB,EAAK,IAAcA,EAAKiM,OAAO,EAAGxiB,GAAGhpB,UAAYgpB,GAArD,CACA,IAAImW,EAAWuM,GAASnM,EAAKiM,OAAOxiB,GAAGhpB,QAASy+B,EAAKU,UACrDiB,EAAMkC,QAAQnD,EAAUruB,EAAMyuB,GAAO,EAAS,GAAIhQ,EAAS,CACzD4P,SAAUA,YAELruB,EAAMyuB,IAyCbsM,CAAyBpN,EAAM2B,OCxK/B,GAAkB,WAClB0L,GAAe,KACf,GAAY,cA2GhB,OAnGA,WAEE,SAASC,EAAczD,EAAWlI,GAChC,OAAO,SAAUl8B,EAAOnC,GACtB,IAAI08B,EAAO6J,EAAUjG,QAAQtgC,IAAQq+B,GAASA,EAAMiC,QAAQtgC,GAE5D,OAAI08B,GACFA,EAAOA,GACKU,SAIPp9B,GAIX,SAASiqC,EAAkBC,EAAYC,GAKrC,IAJA,IAAIC,EAAkBD,EAAWh/B,MAAM,IACnCk/B,EAAkBH,EAAW/+B,MAAM,IACnCqL,EAAS,GAEJzW,EAAI,EAAGA,EAAIqqC,EAAgBnsC,OAAQ8B,IAG1C,IAFA,IAAI8/B,EAASuK,EAAgBrqC,GAEpBglB,EAAI,EAAGA,EAAIslB,EAAgBpsC,OAAQ8mB,IAAK,CAC/C,IAAIulB,EAASD,EAAgBtlB,GACzBvO,IAAQA,GAAU,MAEtBA,IAAmC,IAAzB8zB,EAAOjlC,QAAQ,KAAcilC,EAAOxkC,QAAQikC,GAAclK,GAAUA,EAAS,IAAMyK,EAIjG,OAAO9zB,EAGT,SAAS+zB,EAAW7N,EAAM6J,EAAWiE,GAEnC,GAAIA,EAAa,OAAO,EAAS,GAAIA,EAAa,CAChD39B,MAAO29B,EAAY39B,MAAQ,IAG7B,IAAI49B,EAAe/N,EAAKlP,QAAQid,aAChCA,OAAgC7kC,IAAjB6kC,EAA6B,EAAIA,EAAe,EAE/D,IAAIjd,EAAU,EAAS,GAAIkP,EAAKlP,QAAS,CACvCid,aAAcA,EACd59B,MAAO05B,EAAUlhC,QAAQq3B,GAAQ,IAKnC,cADOlP,EAAQxvB,KACRwvB,EA2CT,MAAO,CACL8T,eAzCF,SAAwBvyB,EAAO2tB,EAAM2B,GACnC,GAAkB,UAAd3B,EAAK5+B,KAAkB,OAAOiR,EAClC,IAEIye,EACA4T,EAHA0B,EAAYpG,EACZ6J,EAAYzD,EAAUtV,QAAQqS,OAIlC,IAAK,IAAIrC,KAAQzuB,EAAO,CACtB,IAAI27B,GAAkC,IAAvBlN,EAAKn4B,QAAQ,KACxBslC,EAAkC,MAAZnN,EAAK,GAC/B,GAAKkN,GAAaC,EAAlB,CAGA,GAFAnd,EAAU+c,EAAWzH,EAAWyD,EAAW/Y,GAEvCkd,EAAU,CACZ,IAAItN,EAAW6M,EAAkBzM,EAAMsF,EAAU1F,UAG5CgE,IAAYA,EAAa4I,EAAczD,EAAWlI,IAEvDjB,EAAWA,EAASt3B,QAAQ,GAAWs7B,GACvCmF,EAAUhG,QAAQnD,EAAUruB,EAAMyuB,GAAO,EAAS,GAAIhQ,EAAS,CAC7D4P,SAAUA,UAEHuN,GAETpE,EAAUhG,QAAQ/C,EAAM,GAAIhQ,GAI3B+S,QAAQuC,EAAU9iC,IAAK+O,EAAMyuB,GAAO,CACnCJ,SAAU0F,EAAU1F,kBAIjBruB,EAAMyuB,IAGf,OAAOzuB,KCtGP67B,GAAmB,SACnBC,GAAY,OACZjC,GAAQ,GAEZ,SAASkC,GAAc3oC,GACrB,MAAO,IAAMA,EAAM+E,cAYrB,OATA,SAA4BlJ,GAC1B,GAAI4qC,GAAM9mC,eAAe9D,GACvB,OAAO4qC,GAAM5qC,GAGf,IAAI+sC,EAAQ/sC,EAAK8H,QAAQ8kC,GAAkBE,IAC3C,OAAOlC,GAAM5qC,GAAQ6sC,GAAUna,KAAKqa,GAAS,IAAMA,EAAQA,GCP7D,SAASC,GAAYj8B,GACnB,IAAIk8B,EAAY,GAEhB,IAAK,IAAIzN,KAAQzuB,EAAO,CAEtBk8B,EADiC,IAAvBzN,EAAKn4B,QAAQ,MAAcm4B,EAAO,GAAUA,IACrCzuB,EAAMyuB,GAOzB,OAJIzuB,EAAMuuB,YACJt8B,MAAMC,QAAQ8N,EAAMuuB,WAAY2N,EAAU3N,UAAYvuB,EAAMuuB,UAAU/5B,IAAIynC,IAAkBC,EAAU3N,UAAY0N,GAAYj8B,EAAMuuB,YAGnI2N,EA0CT,OAjCA,WA2BE,MAAO,CACL3J,eA3BF,SAAwBvyB,GACtB,GAAI/N,MAAMC,QAAQ8N,GAAQ,CAExB,IAAK,IAAIlC,EAAQ,EAAGA,EAAQkC,EAAM9Q,OAAQ4O,IACxCkC,EAAMlC,GAASm+B,GAAYj8B,EAAMlC,IAGnC,OAAOkC,EAGT,OAAOi8B,GAAYj8B,IAkBnB0vB,cAfF,SAAuBl9B,EAAOi8B,EAAMd,GAClC,GAA2B,IAAvBc,EAAKn4B,QAAQ,MACf,OAAO9D,EAGT,IAAI2pC,EAAiB,GAAU1N,GAE/B,OAAIA,IAAS0N,EAAuB3pC,GACpCm7B,EAAKc,KAAK0N,EAAgB3pC,GAEnB,SCpDP4pC,GAAK5C,IAAoBvK,IAAMA,IAAImN,GAAK,KACxCC,GAAK7C,IAAoBvK,IAAMA,IAAIoN,GAAK,KACxCC,GAAU9C,IAAoBvK,IAAMA,IAAIqN,QAAU,IAmKtD,SAASC,GAAqB5uC,GAC5B,IAAI6uC,EAAS,YAETzlC,EAAU,SAAiBJ,GAC7B,OAAOA,EAAI,GAAG8lC,eAGZC,EAAS,GAEb,IAAK,IAAI/J,KAAQhlC,EACf+uC,EAAO/J,GAAQhlC,EAAIglC,GACnB+J,EAAO/J,EAAK57B,QAAQylC,EAAQzlC,IAAYpJ,EAAIglC,GAG9C,OAAO+J,EAGT,IAAIC,GAAQJ,GA7KO,CAEjB,kBAAmBF,GACnB,qBAAsBA,GAEtB,sBAAuBD,GACvB,wBAAyBA,GACzB,wBAAyBA,GACzB,kBAAmBA,GAEnBjQ,OAAQiQ,GACR,gBAAiBA,GACjB,4BAA6BA,GAC7B,6BAA8BA,GAC9B,sBAAuBA,GACvB,cAAeA,GACf,oBAAqBA,GACrB,gBAAiBA,GACjB,eAAgBA,GAChB,qBAAsBA,GACtB,aAAcA,GACd,yBAA0BA,GAC1B,0BAA2BA,GAC3B,mBAAoBA,GACpB,eAAgBA,GAChB,eAAgBA,GAChB,mBAAoBA,GACpB,yBAA0BA,GAC1B,qBAAsBA,GACtB,2BAA4BA,GAC5B,qBAAsBA,GACtB,gBAAiBA,GACjB,oBAAqBA,GACrB,0BAA2BA,GAC3B,sBAAuBA,GACvB,4BAA6BA,GAC7B,sBAAuBA,GACvB,4BAA6BA,GAC7B,0BAA2BA,GAC3B,0BAA2BA,GAC3B,wBAAyBA,GAEzBQ,OAAQR,GACR,gBAAiBA,GACjB,cAAeA,GACf,eAAgBA,GAChB,aAAcA,GACd,eAAgBA,GAChB,mBAAoBA,GACpB,qBAAsBA,GACtB,gBAAiBA,GACjB,oBAAqBA,GACrB,sBAAuBA,GAEvBS,QAAST,GACT,iBAAkBA,GAClB,eAAgBA,GAChB,gBAAiBA,GACjB,cAAeA,GACf,gBAAiBA,GACjB,oBAAqBA,GACrB,sBAAuBA,GACvB,iBAAkBA,GAClB,qBAAsBA,GACtB,uBAAwBA,GAExB,kBAAmBA,GACnB,kBAAmBA,GACnB,YAAaA,GAEbllB,OAAQklB,GACRnlB,MAAOmlB,GACP,aAAcA,GACd,aAAcA,GACd,YAAaA,GACb,YAAaA,GAEb/qB,OAAQ+qB,GACRlrB,KAAMkrB,GACNhrB,IAAKgrB,GACLnrB,MAAOmrB,GACPU,MAAOV,GACP,cAAeA,GACf,kBAAmBA,GACnB,oBAAqBA,GACrB,eAAgBA,GAChB,mBAAoBA,GACpB,qBAAsBA,GAEtB,aAAcA,GACd,cAAeA,GAEf,aAAcA,GACd,cAAeA,GACf,oBAAqBA,GACrB,eAAgBA,GAEhB,YAAaA,GACb,kBAAmBA,GACnB,iBAAkBA,GAClB,4BAA6BA,GAC7B,cAAeA,GACf,cAAeA,GACf,oBAAqBA,GACrB,eAAgBA,GAEhBW,OAAQX,GACR,gBAAiBA,GAEjBY,QAASZ,GACT,iBAAkBA,GAClB,gBAAiBA,GAEjBa,YAAab,GACb,uBAAwBE,GACxB,uBAAwBA,GAExB,mBAAoBA,GACpB,qBAAsBA,GACtB,qBAAsBA,GACtB,qBAAsBA,GAEtB,mBAAoBD,GACpB,sBAAuBA,GAEvB,iBAAkBD,GAClB,aAAcA,GAEd,eAAgBA,GAChBjqC,KAAMiqC,GACNc,IAAKd,GAELe,KAAMf,GACN,WAAYA,GACZ,UAAWA,GACX,eAAgBA,GAChB,kBAAmBA,GACnB,qBAAsBA,GACtB,wBAAyBA,GACzB,iBAAkBA,GAClB,oBAAqBA,GAGrB,eAAgBA,GAChB,eAAgBA,GAChB,kBAAmBA,GACnB,oBAAqBA,GACrB,mBAAoBA,GACpB,gBAAiBA,GACjB,gBAAiBA,GACjB,mBAAoBA,KA4BtB,SAASgB,GAAQ3O,EAAMj8B,EAAOisB,GAC5B,GAAa,MAATjsB,EAAe,OAAOA,EAE1B,GAAIP,MAAMC,QAAQM,GAChB,IAAK,IAAIxB,EAAI,EAAGA,EAAIwB,EAAMtD,OAAQ8B,IAChCwB,EAAMxB,GAAKosC,GAAQ3O,EAAMj8B,EAAMxB,GAAIytB,QAEhC,GAAqB,iBAAVjsB,EAChB,GAAa,cAATi8B,EACF,IAAK,IAAI4O,KAAa7qC,EACpBA,EAAM6qC,GAAaD,GAAQC,EAAW7qC,EAAM6qC,GAAY5e,QAG1D,IAAK,IAAI6e,KAAc9qC,EACrBA,EAAM8qC,GAAcF,GAAQ3O,EAAO,IAAM6O,EAAY9qC,EAAM8qC,GAAa7e,QAIvE,GAAqB,iBAAVjsB,IAAuC,IAAjB+pB,MAAM/pB,GAAkB,CAC9D,IAAI+qC,EAAO9e,EAAQgQ,IAASkO,GAAMlO,GAElC,OAAI8O,GAAoB,IAAV/qC,GAAe+qC,IAASnB,GAI/B5pC,EAAMM,WAHY,mBAATyqC,EAAsBA,EAAK/qC,GAAOM,WAAa,GAAKN,EAAQ+qC,EAM9E,OAAO/qC,EAkCT,OA3BA,SAAqBisB,QACH,IAAZA,IACFA,EAAU,IAGZ,IAAI+e,EAAoBjB,GAAqB9d,GAgB7C,MAAO,CACL8T,eAfF,SAAwBvyB,EAAO2tB,GAC7B,GAAkB,UAAdA,EAAK5+B,KAAkB,OAAOiR,EAElC,IAAK,IAAIyuB,KAAQzuB,EACfA,EAAMyuB,GAAQ2O,GAAQ3O,EAAMzuB,EAAMyuB,GAAO+O,GAG3C,OAAOx9B,GASP0vB,cANF,SAAuBl9B,EAAOi8B,GAC5B,OAAO2O,GAAQ3O,EAAMj8B,EAAOgrC,gBC9O5BC,GAAK,GACLrJ,GAAM,GACNsJ,GAAS,GACTC,GAAU,GACVC,GAAU,GAAe,iBAAkB9hC,SAAS+hC,gBAExD,GAAI,EAAa,CAGf,IAAIC,GAAW,CACbC,IAAK,QACL1B,GAAI,OACJnf,EAAG,MACH8gB,OAAQ,YAINh+B,GADwBlE,SAASwB,cAAc,KACjB0C,MAIlC,IAAK,IAAI/O,MAAO6sC,GACd,GAAI7sC,GAHS,cAGS+O,GAAO,CAC3By9B,GAAKxsC,GACLmjC,GAAM0J,GAAS7sC,IACf,MAKO,WAAPwsC,IAAmB,cAAez9B,KACpCy9B,GAAK,KACLrJ,GAAM0J,GAASzB,GACfsB,GAAU,QAID,WAAPF,IAAmB,yBAA0Bz9B,KAC/C09B,GAAS,SAWb,IAAI1H,GACEyH,GADFzH,GAEG5B,GAFH4B,GAGM0H,GAHN1H,GAIO2H,GAJP3H,GAKO4H,GAoBX,IAAIK,GAAa,CACfC,UAAW,CAAC,cACZC,kBAAmB,SAA2B1P,GAC5C,MAAa,eAATA,IACc,OAAduH,GAA2B,WAAavH,EACrCuH,GAAavH,KAIpB2P,GAAc,CAChBF,UAAW,CAAC,gBACZC,kBAAmB,SAA2B1P,GAC5C,MAAa,iBAATA,IACc,WAAduH,GAA+BA,GAAa,SAAWvH,EACpDA,KAGP+N,GAAS,cAUb,SAAS6B,GAAQjrC,EAAO8P,GACtB,OAAOA,EAAIA,EAAEu5B,cAAgB,GAW/B,SAAS6B,GAAS3nC,GAChB,OAAOA,EAAII,QAAQylC,GAAQ6B,IAW7B,SAASE,GAAU5nC,GACjB,OAAO2nC,GAAS,IAAM3nC,GAKxB,IAoPIqmB,GApPAwhB,GAAO,CACTN,UAAW,CAAC,QACZC,kBAAmB,SAA2B1P,EAAMzuB,GAClD,IAAK,QAAQ2hB,KAAK8M,GAAO,OAAO,EAEhC,GAAkB,WAAduH,GAAwB,CAC1B,IAAIyI,EAAW,aAEf,GAAIH,GAASG,KAAaz+B,EACxB,OAAOyuB,EAGT,GAAIuH,GAAYuI,GAAUE,KAAaz+B,EACrC,OAAOg2B,GAAavH,EAIxB,OAAOA,IAIPiQ,GAAkB,CACpBR,UAAW,CAAC,oBACZC,kBAAmB,SAA2B1P,GAC5C,MAAa,qBAATA,IAEkB,UAAlBuH,IAA8BA,GAI3BvH,EAHEuH,GAAavH,KAOtBkQ,GAAY,CACdT,UAAW,CAAC,aACZC,kBAAmB,SAA2B1P,EAAMzuB,EAAOye,GACzD,MAAa,cAATgQ,IAEAhQ,EAAQkgB,UACHlQ,EAGFuH,GAAavH,KAIpBmQ,GAAa,CACfV,UAAW,CAAC,cACZC,kBAAmB,SAA2B1P,EAAMzuB,EAAOye,GACzD,MAAa,eAATgQ,IAEAhQ,EAAQmgB,WACHnQ,EAGFuH,GAAavH,KAIpBoQ,GAAc,CAChBX,UAAW,CAAC,gBACZC,kBAAmB,SAA2B1P,GAC5C,MAAa,iBAATA,IAEc,WAAduH,IAAwC,OAAdA,IAAyC,SAAnBA,GAC3CA,GAAavH,EAGfA,KAIPqQ,GAAa,CACfZ,UAAW,CAAC,eACZC,kBAAmB,SAA2B1P,GAC5C,MAAa,gBAATA,IAEc,QAAduH,IAAqC,OAAdA,IAAwC,UAAlBA,GACxCA,GAAavH,EAGfA,KAMPsQ,GAAgB,CAClBZ,kBAAmB,SAA2B1P,EAAMzuB,GAClD,QAAK,UAAU2hB,KAAK8M,KAEF,WAAduH,GACW,eAAiBuI,GAAU9P,KACvBzuB,GAAQg2B,GAAa,UAAYvH,EAGlC,QAAduH,KACY,OAASuI,GAAU9P,KAEfzuB,GAAQ,QAAUyuB,MAOtCuQ,GAAmB,CACrBb,kBAAmB,SAA2B1P,EAAMzuB,GAClD,IAAK,kCAAkC2hB,KAAK8M,GAAO,OAAO,EAC1D,GAAkB,QAAduH,GAAqB,OAAOvH,EAChC,IAAIwQ,EAAUxQ,EAAK13B,QAAQ,UAAW,IACtC,OAAOi/B,GAAYuI,GAAUU,KAAYj/B,GAAQg2B,GAAaiJ,IAK9DC,GAAa,CACff,kBAAmB,SAA2B1P,EAAMzuB,GAClD,OAAOs+B,GAAS7P,KAASzuB,GAAQyuB,IAGjC0Q,GAAW,CACbhB,kBAAmB,SAA2B1P,EAAMzuB,GAClD,IAAIo/B,EAAab,GAAU9P,GAE3B,MAAgB,MAAZA,EAAK,IAEO,MAAZA,EAAK,IAA0B,MAAZA,EAAK,GAFAA,EAGxBuH,GAAYoJ,KAAcp/B,EAAcg2B,GAAavH,EAEvC,WAAduH,IAA0B,SAAWoJ,KAAcp/B,GAAc,WAAayuB,IAKlF4Q,GAAa,CACflB,kBAAmB,SAA2B1P,GAC5C,MAA8B,gBAA1BA,EAAK6Q,UAAU,EAAG,MAEJ,OAAdtJ,GACK,GAAKA,GAAavH,EAGpBA,KAIP8Q,GAAqB,CACvBpB,kBAAmB,SAA2B1P,GAC5C,MAAa,wBAATA,IAEc,OAAduH,GACKA,GAAa,kBAGfvH,KAGP+Q,GAAU,CACZ,YAAa,gBACb,cAAe,gBACf,aAAc,sBACd,kBAAmB,YACnBC,MAAO,aACP,cAAe,aACf,gBAAiB,kBAIfC,GAAW,CACbvB,kBAAmB,SAA2B1P,EAAMzuB,GAClD,IAAIi/B,EAAUO,GAAQ/Q,GACtB,QAAKwQ,IACEjJ,GAAYuI,GAAUU,KAAYj/B,GAAQg2B,GAAaiJ,KAG9DU,GAAY,CACdC,KAAM,WACN,YAAa,WACb,iBAAkB,CAAC,aAAc,iBACjCH,MAAO,oBACP,cAAe,YACf,YAAa,CAAC,aAAc,iBAC5B,kBAAmB,YAEjBI,GAAW5vC,OAAOW,KAAK+uC,IAEvBG,GAAY,SAAmBp8B,GACjC,OAAOsyB,GAAatyB,GA2ClB,GAAU,CAACu6B,GAAYG,GAAaI,GAAME,GAAiBC,GAAWC,GAAYC,GAAaC,GAAYC,GAAeC,GAAkBE,GAAYC,GAAUE,GAAYE,GAAoBG,GAvCvL,CACbvB,kBAAmB,SAA2B1P,EAAMzuB,EAAOP,GACzD,IAAIsgC,EAAWtgC,EAAKsgC,SAEpB,GAAIF,GAASvpC,QAAQm4B,IAAS,EAAG,CAC/B,IAAIwQ,EAAUU,GAAUlR,GAExB,IAAKx8B,MAAMC,QAAQ+sC,GACjB,OAAOjJ,GAAYuI,GAAUU,KAAYj/B,GAAQg2B,GAAaiJ,EAGhE,IAAKc,EAAU,OAAO,EAEtB,IAAK,IAAI/uC,EAAI,EAAGA,EAAIiuC,EAAQ/vC,OAAQ8B,IAClC,KAAMglC,GAAYuI,GAAUU,EAAQ,MAAOj/B,GACzC,OAAO,EAIX,OAAOi/B,EAAQzqC,IAAIsrC,IAGrB,OAAO,KAkBPE,GAAoB,GAAQtoC,QAAO,SAAUgM,GAC/C,OAAOA,EAAEy6B,qBACR3pC,KAAI,SAAUkP,GACf,OAAOA,EAAEy6B,qBAEPD,GAAY,GAAQxmC,QAAO,SAAUgM,GACvC,OAAOA,EAAEw6B,aACR/oC,QAAO,SAAUrD,EAAG4R,GAErB,OADA5R,EAAE+G,KAAK0H,MAAMzO,GAAG,QAAmB4R,EAAEw6B,YAC9BpsC,IACN,IAEC,GAAQ,GAEZ,GAAI,EAAa,CACfkrB,GAAKlhB,SAASwB,cAAc,KAQ5B,IAAI2iC,GAAWvmC,OAAOwmC,iBAAiBpkC,SAAS+hC,gBAAiB,IAEjE,IAAK,IAAIsC,MAASF,GAEX1jB,MAAM4jB,MAAQ,GAAMF,GAASE,KAAUF,GAASE,KAKvDjC,GAAUtlC,SAAQ,SAAUoL,GAC1B,cAAc,GAAMA,MAcxB,SAASm6B,GAAkB1P,EAAMhQ,GAM/B,QALgB,IAAZA,IACFA,EAAU,KAIPzB,GAAI,OAAOyR,EAEhB,GAA2D,MAAf,GAAMA,GAChD,OAAO,GAAMA,GAIF,eAATA,GAAkC,cAATA,IAC3BhQ,EAAQgQ,GAAQA,KAAQzR,GAAGhd,OAI7B,IAAK,IAAIhP,EAAI,EAAGA,EAAIgvC,GAAkB9wC,SACpC,GAAMu/B,GAAQuR,GAAkBhvC,GAAGy9B,EAAMzR,GAAGhd,MAAOye,IAE/C,GAAMgQ,IAHkCz9B,KAQ9C,IACEgsB,GAAGhd,MAAMyuB,GAAQ,GACjB,MAAO8H,GACP,OAAO,EAGT,OAAO,GAAM9H,GAGf,IAQI2R,GARAC,GAAU,GACVC,GAAuB,CACzB1B,WAAY,EACZ,sBAAuB,EACvB,qBAAsB,EACtB,8BAA+B,GAE7B2B,GAAmB,0CAYvB,SAASC,GAAyBptC,EAAOqtC,EAAIC,GAC3C,GAAW,QAAPD,EAAc,MAAO,MACzB,GAAW,QAAPA,EAAc,MAAO,MACzB,GAAW,QAAPC,EAAc,MAAO,QACzB,IAAIC,EAAgBF,EAAKtC,GAAkBsC,GAAM,KAAOtC,GAAkBuC,GAC1E,OAAKC,IAAsBF,GAAMC,GAcnC,SAASE,GAAe7nC,EAAUvG,GAEhC,IAAImuC,EAAgBnuC,EACpB,IAAK4tC,IAAqB,YAAbrnC,EAAwB,OAAOvG,EAI5C,GAA6B,iBAAlBmuC,IAA+BpkB,MAAMskB,SAASF,EAAe,KACtE,OAAOA,EAIT,IAAIG,EAAW/nC,EAAW4nC,EAE1B,GAAiE,MAArBN,GAAQS,GAClD,OAAOT,GAAQS,GAIjB,IAEEV,GAAKpgC,MAAMjH,GAAY4nC,EACvB,MAAOpK,GAGP,OADA8J,GAAQS,IAAY,GACb,EAIT,GAAIR,GAAqBvnC,GACvB4nC,EAAgBA,EAAc5pC,QAAQwpC,GAAkBC,SACnD,GAA6B,KAAzBJ,GAAKpgC,MAAMjH,KAIE,cAFtB4nC,EAAgB3K,GAAa2K,KAEKP,GAAKpgC,MAAMjH,GAAY,eAEzDqnC,GAAKpgC,MAAMjH,GAAY4nC,EAEM,KAAzBP,GAAKpgC,MAAMjH,IAEb,OADAsnC,GAAQS,IAAY,GACb,EAQX,OAHAV,GAAKpgC,MAAMjH,GAAY,GAEvBsnC,GAAQS,GAAYH,EACbN,GAAQS,GA3Db,IAAaV,GAAOtkC,SAASwB,cAAc,MCpa/C,OAjDA,WAQE,SAASyjC,EAAY/gC,GACnB,IAAK,IAAIyuB,KAAQzuB,EAAO,CACtB,IAAIxN,EAAQwN,EAAMyuB,GAElB,GAAa,cAATA,GAAwBx8B,MAAMC,QAAQM,GACxCwN,EAAMyuB,GAAQj8B,EAAMgC,IAAIusC,OAD1B,CAKA,IAAIC,GAAa,EACbC,EAAgB9C,GAAkB1P,GAClCwS,GAAiBA,IAAkBxS,IAAMuS,GAAa,GAC1D,IAAIE,GAAc,EACdC,EAAmBP,GAAeK,EAAelT,EAAWv7B,IAC5D2uC,GAAoBA,IAAqB3uC,IAAO0uC,GAAc,IAE9DF,GAAcE,KACZF,UAAmBhhC,EAAMyuB,GAC7BzuB,EAAMihC,GAAiBxS,GAAQ0S,GAAoB3uC,IAIvD,OAAOwN,EAYT,MAAO,CACLyxB,cA1CF,SAAuB9D,GACrB,GAAkB,cAAdA,EAAK5+B,KAAsB,CAC7B,IAAIqyC,EAASzT,EACbyT,EAAOlpB,GDuDb,SAA4BjnB,GAE1B,MAAe,MAAXA,EAAI,IAGU,OAAd+kC,GAHuB/kC,EAIpB,IAAM+kC,GAAa,YAAc/kC,EAAIypC,OAAO,IC7DnC2G,CAAmBD,EAAOlpB,MAwCxCqa,eAXF,SAAwBvyB,EAAO2tB,GAC7B,MAAkB,UAAdA,EAAK5+B,KAAyBiR,EAC3B+gC,EAAY/gC,IAUnB0vB,cAPF,SAAuBl9B,EAAOi8B,GAC5B,OAAOmS,GAAenS,EAAMV,EAAWv7B,KAAWA,KCpBtD,OAxBA,WACE,IAAI8uC,EAAO,SAAcC,EAAOC,GAC9B,OAAID,EAAMryC,SAAWsyC,EAAMtyC,OAClBqyC,EAAQC,EAAQ,GAAK,EAGvBD,EAAMryC,OAASsyC,EAAMtyC,QAG9B,MAAO,CACLqjC,eAAgB,SAAwBvyB,EAAO2tB,GAC7C,GAAkB,UAAdA,EAAK5+B,KAAkB,OAAOiR,EAIlC,IAHA,IAAIstB,EAAW,GACXz3B,EAAQ5F,OAAOW,KAAKoP,GAAOshC,KAAKA,GAE3BtwC,EAAI,EAAGA,EAAI6E,EAAM3G,OAAQ8B,IAChCs8B,EAASz3B,EAAM7E,IAAMgP,EAAMnK,EAAM7E,IAGnC,OAAOs8B,KCdb,IAAI,GAAM,GCCD,CACLM,QAAS,CAAC,KAAa,KAAU,KAAU,KAAa,KAGtC,oBAAXl0B,OAAyB,KAAO,KAAkB,QDGzD+nC,GAAiB,CACnBC,mBAAmB,EACnBC,kBVAa,WACb,IAAIljB,EAAUpvB,UAAUH,OAAS,QAAsB2H,IAAjBxH,UAAU,GAAmBA,UAAU,GAAK,GAC9EuyC,EAAwBnjB,EAAQojB,cAChCA,OAA0C,IAA1BD,GAA2CA,EAC3DE,EAAwBrjB,EAAQsjB,iBAChCA,OAA6C,IAA1BD,EAAmC,MAAQA,EAC9DE,EAAgBvjB,EAAQwjB,KACxBA,OAAyB,IAAlBD,EAA2B,GAAKA,EACvCE,EAAsB,KAATD,EAAc,GAAK,GAAGpxC,OAAOoxC,EAAM,KAChDnM,EAAc,EAEdqM,EAAmB,WASrB,OARArM,GAAe,GAWjB,OAAO,SAAUnI,EAAMnwB,GACrB,IAAIvO,EAAOuO,EAAWihB,QAAQxvB,KAE9B,GAAIA,GAAgC,IAAxBA,EAAKqH,QAAQ,SAAiBkH,EAAWihB,QAAQ7e,OAASiiC,EAAe,CAEnF,IAAyC,IAArC3H,GAAc5jC,QAAQq3B,EAAK18B,KAC7B,MAAO,OAAOJ,OAAO88B,EAAK18B,KAG5B,IAAI+kC,EAAS,GAAGnlC,OAAOqxC,GAAYrxC,OAAO5B,EAAM,KAAK4B,OAAO88B,EAAK18B,KAEjE,OAAKuM,EAAWihB,QAAQ2jB,MAAM7G,KAAoB,KAAT0G,EAIlC,GAAGpxC,OAAOmlC,EAAQ,KAAKnlC,OAAOsxC,KAH5BnM,EAOT,MAAO,GAAGnlC,OAAOqxC,GAAYrxC,OAAOkxC,GAAkBlxC,OAAOsxC,MU/C3CE,GAMtB5U,IAAK,GACL6U,YAAa,KACbC,cANyB,IAAIhxC,IAO7BixC,eAAgB,MAEPC,GAAgB,gBAAoBhB,IEf/C,IAAIiB,IAAgB,IACb,SAASC,KASd,OARAD,IAAgB,ECXH,SAAS,GAAQ/0C,GAa9B,OATE,GADoB,mBAAXC,QAAoD,iBAApBA,OAAOC,SACtC,SAAiBF,GACzB,cAAcA,GAGN,SAAiBA,GACzB,OAAOA,GAAyB,mBAAXC,QAAyBD,EAAIM,cAAgBL,QAAUD,IAAQC,OAAOM,UAAY,gBAAkBP,IAI9GA,GCXV,SAASi1C,GAAcC,GAC5B,OAAOA,GAA0B,WAAlB,GAAQA,IAAsBA,EAAK50C,cAAgBgC,OAErD,SAAS6yC,GAAUltC,EAAQjD,GACxC,IAAI8rB,EAAUpvB,UAAUH,OAAS,QAAsB2H,IAAjBxH,UAAU,GAAmBA,UAAU,GAAK,CAChF2b,OAAO,GAEL+3B,EAAStkB,EAAQzT,MAAQ,EAAS,GAAIpV,GAAUA,EAiBpD,OAfIgtC,GAAchtC,IAAWgtC,GAAcjwC,IACzC1C,OAAOW,KAAK+B,GAAQiG,SAAQ,SAAU3H,GAExB,cAARA,IAIA2xC,GAAcjwC,EAAO1B,KAASA,KAAO2E,EACvCmtC,EAAO9xC,GAAO6xC,GAAUltC,EAAO3E,GAAM0B,EAAO1B,GAAMwtB,GAElDskB,EAAO9xC,GAAO0B,EAAO1B,OAKpB8xC,ECtBM,SAASC,GAAiBC,GACvC,IAAIC,EAA4C,mBAApBD,EAQ5B,MAAO,CACLviC,OAAQ,SAAgB0hC,EAAOnzC,GAC7B,IAAIiiC,EAEJ,IACEA,EAASgS,EAAiBD,EAAgBb,GAASa,EACnD,MAAO1M,GAQP,MAAMA,EAGR,IAAKtnC,IAASmzC,EAAMe,YAAcf,EAAMe,UAAUl0C,GAChD,OAAOiiC,EAGT,IAAIiS,EAAYf,EAAMe,UAAUl0C,GAE5Bm0C,EAAsB,EAAS,GAAIlS,GAWvC,OATAjhC,OAAOW,KAAKuyC,GAAWvqC,SAAQ,SAAU3H,GAOvCmyC,EAAoBnyC,GAAO6xC,GAAUM,EAAoBnyC,GAAMkyC,EAAUlyC,OAEpEmyC,GAET3kB,QAAS,IChDb,IACA,GADgB,GCWhB,SAAS4kB,GAAW5jC,EAAM+zB,EAAShgC,GACjC,IAAI4S,EAAQ3G,EAAK2G,MAGjB,GAFoB3G,EAAK6jC,cAEP5B,kBAChB,OAAOlO,GAAW,GAGfptB,EAAMm9B,eACTn9B,EAAMm9B,aAAe,CAEnB/wC,MAAO,KAEPgxC,SAAU,KAEVC,QAAS,KAMb,IAAIC,GAAW,EAoBf,OAlBIt9B,EAAMotB,UAAYptB,EAAMm9B,aAAaE,UACvCr9B,EAAMm9B,aAAaE,QAAUr9B,EAAMotB,QACnCkQ,GAAW,GAGTlQ,IAAYptB,EAAMm9B,aAAaC,WACjCp9B,EAAMm9B,aAAaC,SAAWhQ,EAC9BkQ,GAAW,GAGTA,IACFt9B,EAAMm9B,aAAa/wC,MAAQinC,GAAa,CACtCC,YAAatzB,EAAMm9B,aAAaE,QAChC9J,WAAYnG,EACZhgC,UAAWA,KAIR4S,EAAMm9B,aAAa/wC,MAG5B,SAASgiC,GAAO/yB,EAAO5L,GACrB,IAAIuQ,EAAQ3E,EAAM2E,MACdg8B,EAAQ3gC,EAAM2gC,MACdkB,EAAgB7hC,EAAM6hC,cACtBK,EAAgBliC,EAAMkiC,cACtB10C,EAAOwS,EAAMxS,KAEjB,IAAIq0C,EAAc5B,kBAAlB,CAIA,IAAIkC,EAAe,OAAkBN,EAAcf,cAAeoB,EAAevB,GAE5EwB,IACHA,EAAe,CACbC,KAAM,EACNC,YAAa,KACbC,cAAe,MAEjB,OAAkBT,EAAcf,cAAeoB,EAAevB,EAAOwB,IAGvE,IAAInlB,EAAU,EAAS,GAAIklB,EAAcllB,QAAS6kB,EAAe,CAC/DlB,MAAOA,EACP4B,KAAoC,kBAAvBV,EAAcU,KAAqBV,EAAcU,KAA2B,QAApB5B,EAAM6B,YAG7ExlB,EAAQ4R,WAAa5R,EAAQylB,yBAA2BzlB,EAAQkjB,kBAChE,IAAIa,EAAiBc,EAAcd,eAEnC,GAA0B,IAAtBoB,EAAaC,KAAY,CAC3B,IAAIC,EAEAR,EAAchB,cAChBwB,EAAc,OAAkBR,EAAchB,YAAaqB,EAAevB,IAG5E,IAAIlR,EAASyS,EAAcjjC,OAAO0hC,EAAOnzC,GAEpC60C,KACHA,EAAcR,EAAc7V,IAAI0L,iBAAiBjI,EAAQ,EAAS,CAChEtxB,MAAM,GACL6e,KACS+V,SAER8O,EAAchB,aAChB,OAAkBgB,EAAchB,YAAaqB,EAAevB,EAAO0B,IAInEtB,GACFA,EAAe/0B,IAAIq2B,GAGrBF,EAAaE,YAAcA,EAC3BF,EAAaG,cAAgB1K,GAAiBnI,GAGhD,GAAI0S,EAAaG,cAAe,CAC9B,IAAII,EAAeb,EAAc7V,IAAI0L,iBAAiByK,EAAaG,cAAe,EAAS,CACzFnkC,MAAM,GACL6e,IACH0lB,EAAa73B,OAAOzW,GACpBsuC,EAAa3P,SACbpuB,EAAM+9B,aAAeA,EACrB/9B,EAAMotB,QAAUiG,GAAa,CAC3BC,YAAakK,EAAaE,YAAYtQ,QACtCmG,WAAYwK,EAAa3Q,UAGvBgP,GACFA,EAAe/0B,IAAI02B,QAGrB/9B,EAAMotB,QAAUoQ,EAAaE,YAAYtQ,QAG3CoQ,EAAaC,MAAQ,GAGvB,SAASv3B,GAAO83B,EAAOvuC,GACrB,IAAIuQ,EAAQg+B,EAAMh+B,MAEdA,EAAM+9B,cACR/9B,EAAM+9B,aAAa73B,OAAOzW,GAI9B,SAAS6+B,GAAO2P,GACd,IAAIj+B,EAAQi+B,EAAMj+B,MACdg8B,EAAQiC,EAAMjC,MACdkB,EAAgBe,EAAMf,cACtBK,EAAgBU,EAAMV,cAE1B,IAAIL,EAAc5B,kBAAlB,CAIA,IAAIkC,EAAe,OAAkBN,EAAcf,cAAeoB,EAAevB,GACjFwB,EAAaC,MAAQ,EACrB,IAAIrB,EAAiBc,EAAcd,eAET,IAAtBoB,EAAaC,OACf,UAAqBP,EAAcf,cAAeoB,EAAevB,GACjEkB,EAAc7V,IAAI2L,iBAAiBwK,EAAaE,aAE5CtB,GACFA,EAAe3S,OAAO+T,EAAaE,cAInC19B,EAAM+9B,eACRb,EAAc7V,IAAI2L,iBAAiBhzB,EAAM+9B,cAErC3B,GACFA,EAAe3S,OAAOzpB,EAAM+9B,gBAKlC,SAASG,GAAqBC,EAAMC,GAClC,IACIzB,EADA9xC,EAAM,SAAa,IAGnBwzC,EAAa,WAAc,WAC7B,MAAO,KACND,GAGCvzC,EAAI2G,UAAY6sC,IAClBxzC,EAAI2G,QAAU6sC,EACd1B,EAASwB,KAGX,aAAgB,WACd,OAAO,WACDxB,GACFA,OAGH,CAAC0B,IAIS,SAASC,GAAWzB,GACjC,IAAIxkB,EAAUpvB,UAAUH,OAAS,QAAsB2H,IAAjBxH,UAAU,GAAmBA,UAAU,GAAK,GAE9EJ,EAAOwvB,EAAQxvB,KACf01C,EAAwBlmB,EAAQwX,gBAChCziC,EAAYirB,EAAQjrB,UACpBoxC,EAAwBnmB,EAAQomB,aAChCA,OAAyC,IAA1BD,EAAmC,GAAYA,EAC9DE,EAAiB,EAAyBrmB,EAAS,CAAC,OAAQ,kBAAmB,YAAa,iBAE5FklB,EAAgBX,GAAiBC,GACjChN,EAAkBhnC,GAAQ01C,GAAyB,aACvDhB,EAAcllB,QAAU,CACtB3gB,MAAO6kC,KACP1zC,KAAMA,EACN4Q,KAAMo2B,EACNA,gBAAiBA,GAGnB,IAAI8O,EAAY,WACd,IAAIlvC,EAAQxG,UAAUH,OAAS,QAAsB2H,IAAjBxH,UAAU,GAAmBA,UAAU,GAAK,GAC5E+yC,EAAQnI,MAAc4K,EAEtBvB,EAAgB,EAAS,GAAI,aAAiBb,IAAgBqC,GAE9DvvC,EAAW,WACXyvC,EAAe,WACnBV,IAAqB,WACnB,IAAI1sC,EAAU,CACZ3I,KAAMA,EACNmX,MAAO,GACPu9B,cAAeA,EACfL,cAAeA,EACflB,MAAOA,GAKT,OAHA5N,GAAO58B,EAAS/B,GAChBmvC,EAAaptC,SAAU,EACvBrC,EAASqC,QAAUA,EACZ,WACL88B,GAAO98B,MAER,CAACwqC,EAAOuB,IACX,aAAgB,WACVqB,EAAaptC,SACf0U,GAAO/W,EAASqC,QAAS/B,GAG3BmvC,EAAaptC,SAAU,KAEzB,IAAI47B,EAAU6P,GAAW9tC,EAASqC,QAAS/B,EAAM29B,QAAShgC,GAO1D,OAAOggC,GAGT,OAAOuR,EC/PF,IAAIn0C,GAAO,CAAC,KAAM,KAAM,KAAM,KAAM,MAE5B,SAASq0C,GAAkBC,GACxC,IAAIC,EAAsBD,EAAYV,OAClCA,OAAiC,IAAxBW,EAAiC,CAC5CC,GAAI,EACJC,GAAI,IACJC,GAAI,IACJC,GAAI,KACJC,GAAI,MACFL,EACAM,EAAoBP,EAAY3H,KAChCA,OAA6B,IAAtBkI,EAA+B,KAAOA,EAC7CC,EAAoBR,EAAYS,KAChCA,OAA6B,IAAtBD,EAA+B,EAAIA,EAC1CE,EAAQ,EAAyBV,EAAa,CAAC,SAAU,OAAQ,SAErE,SAASx4B,EAAGzb,GACV,IAAIuB,EAA+B,iBAAhBgyC,EAAOvzC,GAAoBuzC,EAAOvzC,GAAOA,EAC5D,MAAO,qBAAqBJ,OAAO2B,GAAO3B,OAAO0sC,EAAM,KAgBzD,SAASsI,EAAQptB,EAAOC,GACtB,IAAIotB,EAAWl1C,GAAK0F,QAAQoiB,GAE5B,OAAIotB,IAAal1C,GAAK1B,OAAS,EACtBwd,EAAG+L,GAGL,qBAAqB5nB,OAAgC,iBAAlB2zC,EAAO/rB,GAAsB+rB,EAAO/rB,GAASA,GAAO5nB,OAAO0sC,EAAM,UAAY,cAAc1sC,SAAsB,IAAdi1C,GAAyD,iBAA/BtB,EAAO5zC,GAAKk1C,EAAW,IAAmBtB,EAAO5zC,GAAKk1C,EAAW,IAAMptB,GAAOitB,EAAO,KAAK90C,OAAO0sC,EAAM,KAoBhR,OAAO,EAAS,CACd3sC,KAAMA,GACN4zC,OAAQA,EACR93B,GAAIA,EACJq5B,KA5CF,SAAc90C,GACZ,IAAI60C,EAAWl1C,GAAK0F,QAAQrF,GAAO,EAC/B+0C,EAAaxB,EAAO5zC,GAAKk1C,IAE7B,OAAIA,IAAal1C,GAAK1B,OAEbwd,EAAG,MAIL,qBAAqB7b,QADM,iBAAfm1C,GAA2BF,EAAW,EAAIE,EAAa/0C,GAC/B00C,EAAO,KAAK90C,OAAO0sC,EAAM,MAmCpEsI,QAASA,EACTI,KAvBF,SAAch1C,GACZ,OAAO40C,EAAQ50C,EAAKA,IAuBpBgmB,MAlBF,SAAehmB,GAQb,OAAOuzC,EAAOvzC,KAWb20C,kBCxEU,SAASM,GAAahB,EAAaiB,EAASt3C,GACzD,IAAIu3C,EAEJ,OAAO,EAAS,CACdC,QAAS,WACP,IAAInV,EAAS7hC,UAAUH,OAAS,QAAsB2H,IAAjBxH,UAAU,GAAmBA,UAAU,GAAK,GAEjF,OADAgE,QAAQC,KAAK,CAAC,qDAAsD,gDAAiD,2NAA2N+D,KAAK,OAC9U,EAAS,CACdivC,YAAaH,EAAQ,GACrBI,aAAcJ,EAAQ,IACrBjV,GAAQ,QAAgB,GAAIgU,EAAYx4B,GAAG,MAAO,EAAS,CAC5D45B,YAAaH,EAAQ,GACrBI,aAAcJ,EAAQ,IACrBjV,EAAOgU,EAAYx4B,GAAG,WAE3B85B,SAAUJ,EAAW,CACnBK,UAAW,KACV,QAAgBL,EAAU,GAAGv1C,OAAOq0C,EAAYx4B,GAAG,MAAO,iCAAkC,CAC7F+5B,UAAW,MACT,QAAgBL,EAAUlB,EAAYx4B,GAAG,MAAO,CAClD+5B,UAAW,KACTL,IACHv3C,GCnBU,SAAS63C,GAAsBvyB,GAQ5C,IAFA,IAAIwyB,EAAM,kDAAoDxyB,EAErDnjB,EAAI,EAAGA,EAAI3B,UAAUH,OAAQ8B,GAAK,EAGzC21C,GAAO,WAAaC,mBAAmBv3C,UAAU2B,IAGnD,MAAO,+BAAiCmjB,EAAO,WAAawyB,EAAM,yBCnBpE,IAIA,GAJa,CACXE,MAAO,OACPC,MAAO,QCcT,GAhBW,CACT,GAAI,UACJ,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACLC,KAAM,UACNC,KAAM,UACNC,KAAM,UACNC,KAAM,WCER,GAhBa,CACX,GAAI,UACJ,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACLH,KAAM,UACNC,KAAM,UACNC,KAAM,UACNC,KAAM,WCER,GAhBW,CACT,GAAI,UACJ,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACLH,KAAM,UACNC,KAAM,UACNC,KAAM,UACNC,KAAM,WCER,GAhBU,CACR,GAAI,UACJ,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACLH,KAAM,UACNC,KAAM,UACNC,KAAM,UACNC,KAAM,WCER,GAhBa,CACX,GAAI,UACJ,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACLH,KAAM,UACNC,KAAM,UACNC,KAAM,UACNC,KAAM,WCER,GAhBW,CACT,GAAI,UACJ,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACLH,KAAM,UACNC,KAAM,UACNC,KAAM,UACNC,KAAM,WCER,GAhBY,CACV,GAAI,UACJ,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACLH,KAAM,UACNC,KAAM,UACNC,KAAM,UACNC,KAAM,WCFR,SAASC,GAAM30C,GACb,IAAIya,EAAM5d,UAAUH,OAAS,QAAsB2H,IAAjBxH,UAAU,GAAmBA,UAAU,GAAK,EAC1E6d,EAAM7d,UAAUH,OAAS,QAAsB2H,IAAjBxH,UAAU,GAAmBA,UAAU,GAAK,EAQ9E,OAAOia,KAAK2D,IAAI3D,KAAK4D,IAAID,EAAKza,GAAQ0a,GA8FjC,SAASk6B,GAAe3xB,GAE7B,GAAIA,EAAM1mB,KACR,OAAO0mB,EAGT,GAAwB,MAApBA,EAAM4xB,OAAO,GACf,OAAOD,GA3FJ,SAAkB3xB,GACvBA,EAAQA,EAAMilB,OAAO,GACrB,IAAI4M,EAAK,IAAI50C,OAAO,OAAO7B,OAAO4kB,EAAMvmB,QAAU,EAAI,EAAI,EAAG,KAAM,KAC/D4qB,EAASrE,EAAMriB,MAAMk0C,GAQzB,OANIxtB,GAA+B,IAArBA,EAAO,GAAG5qB,SACtB4qB,EAASA,EAAOtlB,KAAI,SAAUiP,GAC5B,OAAOA,EAAIA,MAIRqW,EAAS,MAAMjpB,OAAyB,IAAlBipB,EAAO5qB,OAAe,IAAM,GAAI,KAAK2B,OAAOipB,EAAOtlB,KAAI,SAAUiP,EAAG3F,GAC/F,OAAOA,EAAQ,EAAI+iC,SAASp9B,EAAG,IAAM6F,KAAKi+B,MAAM1G,SAASp9B,EAAG,IAAM,IAAM,KAAQ,OAC/EpM,KAAK,MAAO,KAAO,GA8EEuwB,CAASnS,IAGjC,IAAI+xB,EAAS/xB,EAAMnf,QAAQ,KACvBvH,EAAO0mB,EAAM6pB,UAAU,EAAGkI,GAE9B,IAAsD,IAAlD,CAAC,MAAO,OAAQ,MAAO,QAAQlxC,QAAQvH,GACzC,MAAM,IAAIoS,MAAuL,GAAuB,EAAGsU,IAG7N,IAAI+uB,EAAS/uB,EAAM6pB,UAAUkI,EAAS,EAAG/xB,EAAMvmB,OAAS,GAAGkN,MAAM,KAIjE,MAAO,CACLrN,KAAMA,EACNy1C,OALFA,EAASA,EAAOhwC,KAAI,SAAUhC,GAC5B,OAAOi1C,WAAWj1C,OAgBf,SAASk1C,GAAejyB,GAC7B,IAAI1mB,EAAO0mB,EAAM1mB,KACby1C,EAAS/uB,EAAM+uB,OAYnB,OAV6B,IAAzBz1C,EAAKuH,QAAQ,OAEfkuC,EAASA,EAAOhwC,KAAI,SAAUiP,EAAGzS,GAC/B,OAAOA,EAAI,EAAI6vC,SAASp9B,EAAG,IAAMA,MAED,IAAzB1U,EAAKuH,QAAQ,SACtBkuC,EAAO,GAAK,GAAG3zC,OAAO2zC,EAAO,GAAI,KACjCA,EAAO,GAAK,GAAG3zC,OAAO2zC,EAAO,GAAI,MAG5B,GAAG3zC,OAAO9B,EAAM,KAAK8B,OAAO2zC,EAAOntC,KAAK,MAAO,KA2BjD,SAASswC,GAAalyB,GAE3B,IAAImyB,EAAqB,SADzBnyB,EAAQ2xB,GAAe3xB,IACP1mB,KAAiBq4C,GAlH5B,SAAkB3xB,GAEvB,IACI+uB,GAFJ/uB,EAAQ2xB,GAAe3xB,IAEH+uB,OAChBnhC,EAAImhC,EAAO,GACXqD,EAAIrD,EAAO,GAAK,IAChBjhC,EAAIihC,EAAO,GAAK,IAChB1yC,EAAI+1C,EAAIv+B,KAAK2D,IAAI1J,EAAG,EAAIA,GAExBH,EAAI,SAAWK,GACjB,IAAIH,EAAIjU,UAAUH,OAAS,QAAsB2H,IAAjBxH,UAAU,GAAmBA,UAAU,IAAMoU,EAAIJ,EAAI,IAAM,GAC3F,OAAOE,EAAIzR,EAAIwX,KAAK4D,IAAI5D,KAAK2D,IAAI3J,EAAI,EAAG,EAAIA,EAAG,IAAK,IAGlDvU,EAAO,MACP64C,EAAM,CAACt+B,KAAKi+B,MAAa,IAAPnkC,EAAE,IAAWkG,KAAKi+B,MAAa,IAAPnkC,EAAE,IAAWkG,KAAKi+B,MAAa,IAAPnkC,EAAE,KAOxE,MALmB,SAAfqS,EAAM1mB,OACRA,GAAQ,IACR64C,EAAI/uC,KAAK2rC,EAAO,KAGXkD,GAAe,CACpB34C,KAAMA,EACNy1C,OAAQoD,IA0FsCE,CAASryB,IAAQ+uB,OAAS/uB,EAAM+uB,OAOhF,OANAoD,EAAMA,EAAIpzC,KAAI,SAAUouB,GAGtB,OAFAA,GAAO,MAEO,OAAUA,EAAM,MAAQtZ,KAAKuG,KAAK+S,EAAM,MAAS,MAAO,QAGjEqE,QAAQ,MAAS2gB,EAAI,GAAK,MAASA,EAAI,GAAK,MAASA,EAAI,IAAIG,QAAQ,IA+CvE,SAASC,GAAMvyB,EAAOjjB,GAS3B,OARAijB,EAAQ2xB,GAAe3xB,GACvBjjB,EAAQ20C,GAAM30C,GAEK,QAAfijB,EAAM1mB,MAAiC,QAAf0mB,EAAM1mB,OAChC0mB,EAAM1mB,MAAQ,KAGhB0mB,EAAM+uB,OAAO,GAAKhyC,EACXk1C,GAAejyB,GAUjB,SAASwyB,GAAOxyB,EAAOyyB,GAI5B,GAHAzyB,EAAQ2xB,GAAe3xB,GACvByyB,EAAcf,GAAMe,IAEe,IAA/BzyB,EAAM1mB,KAAKuH,QAAQ,OACrBmf,EAAM+uB,OAAO,IAAM,EAAI0D,OAClB,IAAmC,IAA/BzyB,EAAM1mB,KAAKuH,QAAQ,OAC5B,IAAK,IAAItF,EAAI,EAAGA,EAAI,EAAGA,GAAK,EAC1BykB,EAAM+uB,OAAOxzC,IAAM,EAAIk3C,EAI3B,OAAOR,GAAejyB,GAUjB,SAAS0yB,GAAQ1yB,EAAOyyB,GAI7B,GAHAzyB,EAAQ2xB,GAAe3xB,GACvByyB,EAAcf,GAAMe,IAEe,IAA/BzyB,EAAM1mB,KAAKuH,QAAQ,OACrBmf,EAAM+uB,OAAO,KAAO,IAAM/uB,EAAM+uB,OAAO,IAAM0D,OACxC,IAAmC,IAA/BzyB,EAAM1mB,KAAKuH,QAAQ,OAC5B,IAAK,IAAItF,EAAI,EAAGA,EAAI,EAAGA,GAAK,EAC1BykB,EAAM+uB,OAAOxzC,KAAO,IAAMykB,EAAM+uB,OAAOxzC,IAAMk3C,EAIjD,OAAOR,GAAejyB,GChSjB,IAAI2yB,GAAQ,CAEjBlR,KAAM,CAEJmR,QAAS,sBAETC,UAAW,sBAEXC,SAAU,sBAEVC,KAAM,uBAGRC,QAAS,sBAGTC,WAAY,CACVC,MAAO,SACPC,QAAS,QAGXC,OAAQ,CAENC,OAAQ,sBAERC,MAAO,sBACPC,aAAc,IAEdC,SAAU,sBACVC,gBAAiB,IAEjBX,SAAU,sBAEVY,mBAAoB,sBACpBC,gBAAiB,IACjBC,MAAO,sBACPC,aAAc,IACdC,iBAAkB,MAGXC,GAAO,CAChBtS,KAAM,CACJmR,QAAS,SACTC,UAAW,2BACXC,SAAU,2BACVC,KAAM,2BACNiB,KAAM,4BAERhB,QAAS,4BACTC,WAAY,CACVC,MAAO,QACPC,QAAS,WAEXC,OAAQ,CACNC,OAAQ,SACRC,MAAO,4BACPC,aAAc,IACdC,SAAU,4BACVC,gBAAiB,IACjBX,SAAU,2BACVY,mBAAoB,4BACpBC,gBAAiB,IACjBC,MAAO,4BACPC,aAAc,IACdC,iBAAkB,MAItB,SAASG,GAAeC,EAAQ1F,EAAW2F,EAAOC,GAChD,IAAIC,EAAmBD,EAAYzB,OAASyB,EACxCE,EAAkBF,EAAYL,MAAsB,IAAdK,EAErCF,EAAO1F,KACN0F,EAAO52C,eAAe62C,GACxBD,EAAO1F,GAAa0F,EAAOC,GACJ,UAAd3F,EACT0F,EAAOvB,MAAQD,GAAQwB,EAAOK,KAAMF,GACb,SAAd7F,IACT0F,EAAOH,KAAOvB,GAAO0B,EAAOK,KAAMD,KAKzB,SAASE,GAAcC,GACpC,IAAIC,EAAmBD,EAAQ7B,QAC3BA,OAA+B,IAArB8B,EAA8B,CAC1C/B,MAAO,QACP4B,KAAM,QACNR,KAAM,SACJW,EACAC,EAAqBF,EAAQ5B,UAC7BA,OAAmC,IAAvB8B,EAAgC,CAC9ChC,MAAO,QACP4B,KAAM,QACNR,KAAM,SACJY,EACAC,EAAiBH,EAAQh3C,MACzBA,OAA2B,IAAnBm3C,EAA4B,CACtCjC,MAAO,QACP4B,KAAM,QACNR,KAAM,SACJa,EACAC,EAAmBJ,EAAQK,QAC3BA,OAA+B,IAArBD,EAA8B,CAC1ClC,MAAO,QACP4B,KAAM,QACNR,KAAM,SACJc,EACAE,EAAgBN,EAAQO,KACxBA,OAAyB,IAAlBD,EAA2B,CACpCpC,MAAO,QACP4B,KAAM,QACNR,KAAM,SACJgB,EACAE,EAAmBR,EAAQS,QAC3BA,OAA+B,IAArBD,EAA8B,CAC1CtC,MAAO,QACP4B,KAAM,QACNR,KAAM,SACJkB,EACAE,EAAgBV,EAAQn7C,KACxBA,OAAyB,IAAlB67C,EAA2B,QAAUA,EAC5CC,EAAwBX,EAAQY,kBAChCA,OAA8C,IAA1BD,EAAmC,EAAIA,EAC3DE,EAAuBb,EAAQL,YAC/BA,OAAuC,IAAzBkB,EAAkC,GAAMA,EACtDnF,EAAQ,EAAyBsE,EAAS,CAAC,UAAW,YAAa,QAAS,UAAW,OAAQ,UAAW,OAAQ,oBAAqB,gBAK3I,SAASc,EAAgBtC,GAWvB,ODsBG,SAA0BuC,EAAYvC,GAC3C,IAAIwC,EAAOvD,GAAasD,GACpBE,EAAOxD,GAAae,GACxB,OAAQp/B,KAAK4D,IAAIg+B,EAAMC,GAAQ,MAAS7hC,KAAK2D,IAAIi+B,EAAMC,GAAQ,KCnC1CC,CAAiB1C,EAAYc,GAAKtS,KAAKmR,UAAYyC,EAAoBtB,GAAKtS,KAAKmR,QAAUD,GAAMlR,KAAKmR,QAa3H,IAAIgD,EAAe,SAAsB51B,GACvC,IAAI61B,EAAYj8C,UAAUH,OAAS,QAAsB2H,IAAjBxH,UAAU,GAAmBA,UAAU,GAAK,IAChFk8C,EAAal8C,UAAUH,OAAS,QAAsB2H,IAAjBxH,UAAU,GAAmBA,UAAU,GAAK,IACjFm8C,EAAYn8C,UAAUH,OAAS,QAAsB2H,IAAjBxH,UAAU,GAAmBA,UAAU,GAAK,IAOpF,KANAomB,EAAQ,EAAS,GAAIA,IAEVu0B,MAAQv0B,EAAM61B,KACvB71B,EAAMu0B,KAAOv0B,EAAM61B,KAGhB71B,EAAMu0B,KACT,MAAM,IAAI7oC,MAA+M,GAAuB,EAAGmqC,IAGrP,GAA0B,iBAAf71B,EAAMu0B,KACf,MAAM,IAAI7oC,MAAwe,GAAuB,EAAGsqC,KAAKC,UAAUj2B,EAAMu0B,QAUniB,OAPAN,GAAej0B,EAAO,QAAS81B,EAAY1B,GAC3CH,GAAej0B,EAAO,OAAQ+1B,EAAW3B,GAEpCp0B,EAAMk2B,eACTl2B,EAAMk2B,aAAeX,EAAgBv1B,EAAMu0B,OAGtCv0B,GAGLm2B,EAAQ,CACVpC,KAAMA,GACNpB,MAAOA,IAwCT,OA/BoBtF,GAAU,EAAS,CAErC+I,OAAQ,GAER98C,KAAMA,EAENs5C,QAASgD,EAAahD,GAEtBC,UAAW+C,EAAa/C,EAAW,OAAQ,OAAQ,QAEnDp1C,MAAOm4C,EAAan4C,GAEpBq3C,QAASc,EAAad,GAEtBE,KAAMY,EAAaZ,GAEnBE,QAASU,EAAaV,GAEtBmB,KAAM,GAGNhB,kBAAmBA,EAEnBE,gBAAiBA,EAEjBK,aAAcA,EAIdxB,YAAaA,GACZ+B,EAAM78C,IAAQ62C,GC/NnB,SAAS2B,GAAM/0C,GACb,OAAO8W,KAAKi+B,MAAc,IAAR/0C,GAAe,IAKnC,SAASu5C,GAA4Bv5C,GAQnC,OAAO+0C,GAAM/0C,GAGf,IAAIw5C,GAAc,CAChBC,cAAe,aAEbC,GAAoB,6CAMT,SAASC,GAAiBjC,EAASkC,GAChD,IAAI3sC,EAA6B,mBAAf2sC,EAA4BA,EAAWlC,GAAWkC,EAChEC,EAAkB5sC,EAAK6sC,WACvBA,OAAiC,IAApBD,EAA6BH,GAAoBG,EAC9DE,EAAgB9sC,EAAK8sB,SACrBA,OAA6B,IAAlBggB,EAA2B,GAAKA,EAC3CC,EAAuB/sC,EAAKgtC,gBAC5BA,OAA2C,IAAzBD,EAAkC,IAAMA,EAC1DE,EAAwBjtC,EAAKktC,kBAC7BA,OAA8C,IAA1BD,EAAmC,IAAMA,EAC7DE,EAAwBntC,EAAKotC,iBAC7BA,OAA6C,IAA1BD,EAAmC,IAAMA,EAC5DE,EAAsBrtC,EAAKstC,eAC3BA,OAAyC,IAAxBD,EAAiC,IAAMA,EACxDE,EAAoBvtC,EAAKwtC,aACzBA,OAAqC,IAAtBD,EAA+B,GAAKA,EACnDE,EAAcztC,EAAKytC,YACnBC,EAAW1tC,EAAK2tC,QAChBxH,EAAQ,EAAyBnmC,EAAM,CAAC,aAAc,WAAY,kBAAmB,oBAAqB,mBAAoB,iBAAkB,eAAgB,cAAe,YAYnL,IAAI4tC,EAAO9gB,EAAW,GAElB6gB,EAAUD,GAAY,SAAUh7C,GAClC,MAAO,GAAGtB,OAAOsB,EAAO86C,EAAeI,EAAM,QAG3CC,EAAe,SAAsBC,EAAYp7C,EAAMq7C,EAAYC,EAAeC,GACpF,OAAO,EAAS,CACdpB,WAAYA,EACZiB,WAAYA,EACZhhB,SAAU6gB,EAAQj7C,GAElBq7C,WAAYA,GACXlB,IAAeJ,GAAoB,CACpCuB,cAAe,GAAG58C,OAAO02C,GAAMkG,EAAgBt7C,GAAO,OACpD,GAAIu7C,EAAQR,IAGdS,EAAW,CACbC,GAAIN,EAAab,EAAiB,GAAI,OAAQ,KAC9CoB,GAAIP,EAAab,EAAiB,GAAI,KAAM,IAC5CqB,GAAIR,EAAaX,EAAmB,GAAI,MAAO,GAC/CoB,GAAIT,EAAaX,EAAmB,GAAI,MAAO,KAC/CqB,GAAIV,EAAaX,EAAmB,GAAI,MAAO,GAC/CsB,GAAIX,EAAaT,EAAkB,GAAI,IAAK,KAC5CqB,UAAWZ,EAAaX,EAAmB,GAAI,KAAM,KACrDwB,UAAWb,EAAaT,EAAkB,GAAI,KAAM,IACpDuB,MAAOd,EAAaX,EAAmB,GAAI,IAAK,KAChD0B,MAAOf,EAAaX,EAAmB,GAAI,KAAM,KACjD15B,OAAQq6B,EAAaT,EAAkB,GAAI,KAAM,GAAKb,IACtDsC,QAAShB,EAAaX,EAAmB,GAAI,KAAM,IACnD4B,SAAUjB,EAAaX,EAAmB,GAAI,KAAM,EAAGX,KAEzD,OAAOlJ,GAAU,EAAS,CACxBmK,aAAcA,EACdG,QAASA,EACT7F,MAAOwE,GAEPO,WAAYA,EACZ/f,SAAUA,EACVkgB,gBAAiBA,EACjBE,kBAAmBA,EACnBE,iBAAkBA,EAClBE,eAAgBA,GACfY,GAAW/H,EAAO,CACnB56B,OAAO,ICrGX,SAASwjC,KACP,MAAO,CAAC,GAAG39C,OAAOxB,UAAUH,QAAU,OAAI2H,EAAYxH,UAAU,GAAI,OAAOwB,OAAOxB,UAAUH,QAAU,OAAI2H,EAAYxH,UAAU,GAAI,OAAOwB,OAAOxB,UAAUH,QAAU,OAAI2H,EAAYxH,UAAU,GAAI,OAAOwB,OAAOxB,UAAUH,QAAU,OAAI2H,EAAYxH,UAAU,GAAI,kBAAkBwB,OAL5P,GAK0R,KAAM,GAAGA,OAAOxB,UAAUH,QAAU,OAAI2H,EAAYxH,UAAU,GAAI,OAAOwB,OAAOxB,UAAUH,QAAU,OAAI2H,EAAYxH,UAAU,GAAI,OAAOwB,OAAOxB,UAAUH,QAAU,OAAI2H,EAAYxH,UAAU,GAAI,OAAOwB,OAAOxB,UAAUH,QAAU,OAAI2H,EAAYxH,UAAU,GAAI,kBAAkBwB,OAJ3iB,IAI4kB,KAAM,GAAGA,OAAOxB,UAAUH,QAAU,OAAI2H,EAAYxH,UAAU,GAAI,OAAOwB,OAAOxB,UAAUH,QAAU,OAAI2H,EAAYxH,UAAU,GAAI,OAAOwB,OAAOxB,UAAUH,QAAU,QAAK2H,EAAYxH,UAAU,IAAK,OAAOwB,OAAOxB,UAAUH,QAAU,QAAK2H,EAAYxH,UAAU,IAAK,kBAAkBwB,OAHl2B,IAGq4B,MAAMwG,KAAK,KAIj7B,IACA,GADc,CAAC,OAAQm3C,GAAa,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAIA,GAAa,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAIA,GAAa,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAIA,GAAa,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAIA,GAAa,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAIA,GAAa,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,GAAIA,GAAa,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,GAAIA,GAAa,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,GAAIA,GAAa,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,GAAIA,GAAa,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,GAAIA,GAAa,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,GAAIA,GAAa,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,GAAIA,GAAa,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,GAAIA,GAAa,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,GAAIA,GAAa,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,GAAIA,GAAa,EAAG,EAAG,IAAK,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,GAAIA,GAAa,EAAG,EAAG,IAAK,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,GAAIA,GAAa,EAAG,EAAG,IAAK,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,GAAIA,GAAa,EAAG,EAAG,IAAK,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,GAAIA,GAAa,EAAG,GAAI,IAAK,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,GAAIA,GAAa,EAAG,GAAI,IAAK,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,GAAIA,GAAa,EAAG,GAAI,IAAK,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,GAAIA,GAAa,EAAG,GAAI,IAAK,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,GAAIA,GAAa,EAAG,GAAI,IAAK,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,ICNhyC,GAHY,CACVC,aAAc,aCMZjK,YAAS,CACXY,GAAI,EACJC,GAAI,IACJC,GAAI,IACJC,GAAI,KACJC,GAAI,OAEFkJ,GAAqB,CAGvB99C,KAAM,CAAC,KAAM,KAAM,KAAM,KAAM,MAC/B8b,GAAI,SAAYzb,GACd,MAAO,qBAAqBJ,OAAO2zC,GAAOvzC,GAAM,SCNpD,OAXA,SAAe09C,EAAK9L,GAClB,OAAKA,EAIEC,GAAU6L,EAAK9L,EAAM,CAC1B73B,OAAO,IAJA2jC,GCCX,IAAIC,GAAa,CACfprC,EAAG,SACHE,EAAG,WAEDmrC,GAAa,CACfhrC,EAAG,MACHD,EAAG,QACH7R,EAAG,SACHwR,EAAG,OACHS,EAAG,CAAC,OAAQ,SACZC,EAAG,CAAC,MAAO,WAET6qC,GAAU,CACZC,QAAS,KACTC,QAAS,KACTC,SAAU,KACVC,SAAU,MAKRC,GC1BW,SAAiBxsB,GAC9B,IAAIkX,EAAQ,GACZ,OAAO,SAAUuV,GAKf,YAJmBv4C,IAAfgjC,EAAMuV,KACRvV,EAAMuV,GAAOzsB,EAAGysB,IAGXvV,EAAMuV,IDmBM,EAAQ,SAAU3gB,GAEvC,GAAIA,EAAKv/B,OAAS,EAAG,CACnB,IAAI4/C,GAAQrgB,GAGV,MAAO,CAACA,GAFRA,EAAOqgB,GAAQrgB,GAMnB,IAAI4gB,EAAc5gB,EAAKryB,MAAM,IACzBkzC,GAAe,QAAeD,EAAa,GAC3Cv9C,EAAIw9C,EAAa,GACjBv9C,EAAIu9C,EAAa,GAEjBv2C,EAAW61C,GAAW98C,GACtBmyC,EAAY4K,GAAW98C,IAAM,GACjC,OAAOE,MAAMC,QAAQ+xC,GAAaA,EAAUzvC,KAAI,SAAU+6C,GACxD,OAAOx2C,EAAWw2C,KACf,CAACx2C,EAAWkrC,MAEfuL,GAAc,CAAC,IAAK,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,IAAK,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,SAAU,YAAa,cAAe,eAAgB,aAAc,UAAW,UAAW,UAAW,aAAc,eAAgB,gBAAiB,cAAe,WAAY,YAC7Q,SAASC,GAAmBrN,GACjC,IAAIsN,EAAetN,EAAM+D,SAAW,EAEpC,MAA4B,iBAAjBuJ,EACF,SAAU/3B,GAOf,OAAO+3B,EAAe/3B,GAItB1lB,MAAMC,QAAQw9C,GACT,SAAU/3B,GAOf,OAAO+3B,EAAa/3B,IAII,mBAAjB+3B,EACFA,EAOF,aAwBT,SAASC,GAAsBC,EAAeC,GAC5C,OAAO,SAAUC,GACf,OAAOF,EAAcz6C,QAAO,SAAUw5C,EAAKoB,GAEzC,OADApB,EAAIoB,GAtBV,SAAkBF,EAAaC,GAC7B,GAAyB,iBAAdA,GAAuC,MAAbA,EACnC,OAAOA,EAGT,IACIE,EAAcH,EADRvmC,KAAKqO,IAAIm4B,IAGnB,OAAIA,GAAa,EACRE,EAGkB,iBAAhBA,GACDA,EAGH,IAAIn/C,OAAOm/C,GAMKC,CAASJ,EAAaC,GAClCnB,IACN,KAIP,SAASxI,GAAQtwC,GACf,IACIg6C,EAAcJ,GADN55C,EAAMusC,OAElB,OAAOnyC,OAAOW,KAAKiF,GAAOrB,KAAI,SAAUi6B,GAGtC,IAAmC,IAA/B+gB,GAAYl5C,QAAQm4B,GACtB,OAAO,KAGT,IACIyhB,EAAqBP,GADLR,GAAiB1gB,GACyBohB,GAC1DC,EAAYj6C,EAAM44B,GACtB,OF3GG,SAA2B54B,EAAOi6C,EAAWI,GAOlD,GAAIj+C,MAAMC,QAAQ49C,GAAY,CAC5B,IAAIK,EAAmBt6C,EAAMusC,MAAM8C,aAAewJ,GAClD,OAAOoB,EAAU36C,QAAO,SAAUw5C,EAAK9L,EAAM/kC,GAE3C,OADA6wC,EAAIwB,EAAiBzjC,GAAGyjC,EAAiBv/C,KAAKkN,KAAWoyC,EAAmBJ,EAAUhyC,IAC/E6wC,IACN,IAGL,GAA2B,WAAvB,GAAQmB,GAAyB,CACnC,IAAIM,EAAoBv6C,EAAMusC,MAAM8C,aAAewJ,GAEnD,OAAOz+C,OAAOW,KAAKk/C,GAAW36C,QAAO,SAAUw5C,EAAK0B,GAElD,OADA1B,EAAIyB,EAAkB1jC,GAAG2jC,IAAeH,EAAmBJ,EAAUO,IAC9D1B,IACN,IAIL,OADauB,EAAmBJ,GEmFvBQ,CAAkBz6C,EAAOi6C,EAAWI,MAC1C/6C,OAAO,GAAO,IAGnBgxC,GAAQr3C,UAGC,GACTq3C,GAAQoK,YAAcf,GEvIP,SAASgB,KACtB,IAAIC,EAAephD,UAAUH,OAAS,QAAsB2H,IAAjBxH,UAAU,GAAmBA,UAAU,GAAK,EAEvF,GAAIohD,EAAaC,IACf,OAAOD,EAMT,IAAI9R,EAAY8Q,GAAmB,CACjCtJ,QAASsK,IAGPtK,EAAU,WACZ,IAAK,IAAI1T,EAAOpjC,UAAUH,OAAQwjC,EAAO,IAAIzgC,MAAMwgC,GAAOE,EAAO,EAAGA,EAAOF,EAAME,IAC/ED,EAAKC,GAAQtjC,UAAUsjC,GASzB,OAAoB,IAAhBD,EAAKxjC,OACAyvC,EAAU,GAGC,IAAhBjM,EAAKxjC,OACAyvC,EAAUjM,EAAK,IAGjBA,EAAKl+B,KAAI,SAAU8vB,GACxB,GAAwB,iBAAbA,EACT,OAAOA,EAGT,IAAIye,EAASpE,EAAUra,GACvB,MAAyB,iBAAXye,EAAsB,GAAGlyC,OAAOkyC,EAAQ,MAAQA,KAC7D1rC,KAAK,MAkBV,OAdApH,OAAOD,eAAem2C,EAAS,OAAQ,CACrC1zC,IAAK,WASH,OAAOg+C,KAGXtK,EAAQuK,KAAM,EACPvK,ECzDF,IAAIwK,GAAS,CAElBC,UAAW,+BAGXC,QAAS,+BAETC,OAAQ,6BAERC,MAAO,gCAIEC,GAAW,CACpBC,SAAU,IACVC,QAAS,IACTC,MAAO,IAEPC,SAAU,IAEVC,QAAS,IAETC,eAAgB,IAEhBC,cAAe,KAGjB,SAASC,GAASC,GAChB,MAAO,GAAG5gD,OAAOyY,KAAKi+B,MAAMkK,GAAe,MAY7C,QACEd,OAAQA,GACRK,SAAUA,GACVtwC,OAAQ,WACN,IAAI7K,EAAQxG,UAAUH,OAAS,QAAsB2H,IAAjBxH,UAAU,GAAmBA,UAAU,GAAK,CAAC,OAC7EovB,EAAUpvB,UAAUH,OAAS,QAAsB2H,IAAjBxH,UAAU,GAAmBA,UAAU,GAAK,GAE9EqiD,EAAoBjzB,EAAQuyB,SAC5BW,OAAuC,IAAtBD,EAA+BV,GAASI,SAAWM,EACpEE,EAAkBnzB,EAAQkyB,OAC1BkB,OAAmC,IAApBD,EAA6BjB,GAAOC,UAAYgB,EAC/DE,EAAiBrzB,EAAQszB,MACzBA,OAA2B,IAAnBD,EAA4B,EAAIA,EAChC,EAAyBrzB,EAAS,CAAC,WAAY,SAAU,UAgCrE,OAAQxsB,MAAMC,QAAQ2D,GAASA,EAAQ,CAACA,IAAQrB,KAAI,SAAUw9C,GAC5D,MAAO,GAAGnhD,OAAOmhD,EAAc,KAAKnhD,OAAiC,iBAAnB8gD,EAA8BA,EAAiBH,GAASG,GAAiB,KAAK9gD,OAAOghD,EAAc,KAAKhhD,OAAwB,iBAAVkhD,EAAqBA,EAAQP,GAASO,OAC7M16C,KAAK,MAEV46C,sBAAuB,SAA+B/6B,GACpD,IAAKA,EACH,OAAO,EAGT,IAAIg7B,EAAWh7B,EAAS,GAExB,OAAO5N,KAAKi+B,MAA2D,IAApD,EAAI,GAAKj+B,KAAKuG,IAAIqiC,EAAU,KAAQA,EAAW,MCxFtE,GATa,CACXC,cAAe,IACfC,UAAW,KACXC,OAAQ,KACRC,OAAQ,KACRC,MAAO,KACPC,SAAU,KACVC,QAAS,MCIX,SAASC,KAkCP,IAjCA,IAAIj0B,EAAUpvB,UAAUH,OAAS,QAAsB2H,IAAjBxH,UAAU,GAAmBA,UAAU,GAAK,GAE9EsjD,EAAuBl0B,EAAQymB,YAC/B0N,OAA4C,IAAzBD,EAAkC,GAAKA,EAC1DE,EAAkBp0B,EAAQ5vB,OAC1BikD,OAAkC,IAApBD,EAA6B,GAAKA,EAChDE,EAAmBt0B,EAAQyrB,QAC3B8I,OAAoC,IAArBD,EAA8B,GAAKA,EAClDtC,EAAehyB,EAAQ0nB,QACvB8M,EAAsBx0B,EAAQ2tB,WAC9B8G,OAA0C,IAAxBD,EAAiC,GAAKA,EACxDrN,EAAQ,EAAyBnnB,EAAS,CAAC,cAAe,SAAU,UAAW,UAAW,eAE1FyrB,EAAUD,GAAc+I,GACxB9N,EAAcD,GAAkB2N,GAChCzM,EAAUqK,GAAcC,GACxB0C,EAAWrQ,GAAU,CACvBoC,YAAaA,EACbjB,UAAW,MACXp1C,OAAQq3C,GAAahB,EAAaiB,EAAS2M,GAC3C3P,UAAW,GAEX+G,QAASA,EACTr0C,MAAO,GAEPu9C,QAAS,GACThH,WAAYD,GAAiBjC,EAASgJ,GACtC/M,QAASA,EACTkN,MAAO,GACPC,YAAaA,GACbC,OAAQ,IACP3N,GAEMnT,EAAOpjC,UAAUH,OAAQwjC,EAAO,IAAIzgC,MAAMwgC,EAAO,EAAIA,EAAO,EAAI,GAAIE,EAAO,EAAGA,EAAOF,EAAME,IAClGD,EAAKC,EAAO,GAAKtjC,UAAUsjC,GAqC7B,OAlCAwgB,EAAWzgB,EAAKv9B,QAAO,SAAUw5C,EAAKrqB,GACpC,OAAOwe,GAAU6L,EAAKrqB,KACrB6uB,GA8CL,ICjGA,GDiGA,KExFA,OAPA,SAAoBlQ,GAClB,IAAIxkB,EAAUpvB,UAAUH,OAAS,QAAsB2H,IAAjBxH,UAAU,GAAmBA,UAAU,GAAK,GAClF,OAAOq1C,GAAyBzB,EAAiB,EAAS,CACxD4B,aAAc,IACbpmB,KCRL,SAAS+0B,GAAMC,GACb,IAAInwC,EACAW,EACAtN,EAAM,GAEV,GAAmB,iBAAR88C,GAAmC,iBAARA,EACpC98C,GAAO88C,OACF,GAAmB,iBAARA,EAChB,GAAIxhD,MAAMC,QAAQuhD,GAChB,IAAKnwC,EAAI,EAAGA,EAAImwC,EAAIvkD,OAAQoU,IACtBmwC,EAAInwC,KACFW,EAAIuvC,GAAMC,EAAInwC,OAChB3M,IAAQA,GAAO,KACfA,GAAOsN,QAKb,IAAKX,KAAKmwC,EACJA,EAAInwC,KACN3M,IAAQA,GAAO,KACfA,GAAO2M,GAMf,OAAO3M,EAGM,SAAS,KAMtB,IALA,IACI+8C,EACA1vC,EAFAhT,EAAI,EAGJ2F,EAAM,GAEH3F,EAAI3B,UAAUH,SACfwkD,EAAMrkD,UAAU2B,QACdgT,EAAIwvC,GAAME,MACZ/8C,IAAQA,GAAO,KACfA,GAAOqN,GAKb,OAAOrN,4BC5CM,SAASg9C,GAAcp9B,GACpC,IAAI6rB,EAAQ7rB,EAAO6rB,MACfnzC,EAAOsnB,EAAOtnB,KACd4G,EAAQ0gB,EAAO1gB,MAEnB,IAAKusC,IAAUA,EAAMvsC,QAAUusC,EAAMvsC,MAAM5G,GACzC,OAAO4G,EAKT,IACI+9C,EADAplD,EAAe4zC,EAAMvsC,MAAM5G,GAG/B,IAAK2kD,KAAYplD,OACSqI,IAApBhB,EAAM+9C,KACR/9C,EAAM+9C,GAAYplD,EAAaolD,IAInC,OAAO/9C,ECVT,IA0FA,GA1FiB,SAAoBotC,GACnC,IAAIxkB,EAAUpvB,UAAUH,OAAS,QAAsB2H,IAAjBxH,UAAU,GAAmBA,UAAU,GAAK,GAClF,OAAO,SAAUmE,GACf,IAAIqxC,EAAepmB,EAAQomB,aACvBgP,EAAqBp1B,EAAQq1B,UAC7BA,OAAmC,IAAvBD,GAAwCA,EACpD5kD,EAAOwvB,EAAQxvB,KACfq0C,EAAgB,EAAyB7kB,EAAS,CAAC,eAAgB,YAAa,SAQpF,IAAIwX,EAAkBhnC,EAalB81C,EAAYL,GAAWzB,EAAiB,EAAS,CACnD4B,aAAcA,EACdrxC,UAAWA,EACXvE,KAAMA,GAAQuE,EAAU/E,YACxBwnC,gBAAiBA,GAChBqN,IACCyQ,EAA0B,cAAiB,SAAoBl+C,EAAOm+C,GACtDn+C,EAAM29B,QAAxB,IAQI4O,EAPA6R,EAAWp+C,EAAMo+C,SACjBrO,EAAQ,EAAyB/vC,EAAO,CAAC,UAAW,aAKpD29B,EAAUuR,EAAU,EAAS,GAAIvxC,EAAUhF,aAAcqH,IAEzDq+C,EAAOtO,EAsBX,OApBoB,iBAAT32C,GAAqB6kD,KAG9B1R,EAAQnI,MAAc4K,EAElB51C,IACFilD,EAAOP,GAAc,CACnBvR,MAAOA,EACPnzC,KAAMA,EACN4G,MAAO+vC,KAMPkO,IAAcI,EAAK9R,QACrB8R,EAAK9R,MAAQA,IAIG,gBAAoB5uC,EAAW,EAAS,CAC1DwgD,IAAKC,GAAYD,EACjBxgB,QAASA,GACR0gB,OAiBL,OATA,KAAqBH,EAAYvgD,GAS1BugD,ICvFX,OANA,SAAoB9Q,EAAiBxkB,GACnC,OAAO,GAAyBwkB,EAAiB,EAAS,CACxD4B,aAAc,IACbpmB,KCFU,SAAS01B,GAAW/0C,GACjC,GAAsB,iBAAXA,EACT,MAAM,IAAI+B,MAA6G,GAAuB,IAGhJ,OAAO/B,EAAOioC,OAAO,GAAG5K,cAAgBr9B,EAAOjC,MAAM,GCJhD,IAoIHi3C,GAAwB,CAC1BxG,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,UAAW,KACXC,UAAW,KACXC,MAAO,IACPC,MAAO,KAELgG,GAA0B,cAAiB,SAAoBx+C,EAAOm+C,GACxE,IAAIM,EAAez+C,EAAM0+C,MACrBA,OAAyB,IAAjBD,EAA0B,UAAYA,EAC9C9gB,EAAU39B,EAAM29B,QAChBhL,EAAY3yB,EAAM2yB,UAClBgsB,EAAe3+C,EAAM4f,MACrBA,OAAyB,IAAjB++B,EAA0B,UAAYA,EAC9C7kD,EAAYkG,EAAMlG,UAClB8kD,EAAiB5+C,EAAMu2B,QACvBA,OAA6B,IAAnBqoB,EAA4B,UAAYA,EAClDC,EAAsB7+C,EAAM8+C,aAC5BA,OAAuC,IAAxBD,GAAyCA,EACxDE,EAAgB/+C,EAAMg/C,OACtBA,OAA2B,IAAlBD,GAAmCA,EAC5CE,EAAmBj/C,EAAMk/C,UACzBA,OAAiC,IAArBD,GAAsCA,EAClDE,EAAiBn/C,EAAMo/C,QACvBA,OAA6B,IAAnBD,EAA4B,QAAUA,EAChDE,EAAwBr/C,EAAMs/C,eAC9BA,OAA2C,IAA1BD,EAAmCd,GAAwBc,EAC5EtP,EAAQ,EAAyB/vC,EAAO,CAAC,QAAS,UAAW,YAAa,QAAS,YAAa,UAAW,eAAgB,SAAU,YAAa,UAAW,mBAE7JrC,EAAY7D,IAAcolD,EAAY,IAAMI,EAAeF,IAAYb,GAAsBa,KAAa,OAC9G,OAAoB,gBAAoBzhD,EAAW,EAAS,CAC1Dg1B,UAAW,GAAKgL,EAAQ4hB,KAAM5sB,EAAuB,YAAZysB,GAAyBzhB,EAAQyhB,GAAoB,YAAVx/B,GAAuB+d,EAAQ,QAAQ3iC,OAAOsjD,GAAW1+B,KAAUo/B,GAAUrhB,EAAQqhB,OAAQF,GAAgBnhB,EAAQmhB,aAAcI,GAAavhB,EAAQuhB,UAAqB,YAAVR,GAAuB/gB,EAAQ,QAAQ3iC,OAAOsjD,GAAWI,KAAsB,YAAZnoB,GAAyBoH,EAAQ,UAAU3iC,OAAOsjD,GAAW/nB,MACvX4nB,IAAKA,GACJpO,OAGL,GAAe,IA7KK,SAAgBxD,GAClC,MAAO,CAELgT,KAAM,CACJxY,OAAQ,GAIVyR,MAAOjM,EAAMgK,WAAWiC,MAGxBD,MAAOhM,EAAMgK,WAAWgC,MAGxBE,QAASlM,EAAMgK,WAAWkC,QAG1Br7B,OAAQmvB,EAAMgK,WAAWn5B,OAGzB26B,GAAIxL,EAAMgK,WAAWwB,GAGrBC,GAAIzL,EAAMgK,WAAWyB,GAGrBC,GAAI1L,EAAMgK,WAAW0B,GAGrBC,GAAI3L,EAAMgK,WAAW2B,GAGrBC,GAAI5L,EAAMgK,WAAW4B,GAGrBC,GAAI7L,EAAMgK,WAAW6B,GAGrBC,UAAW9L,EAAMgK,WAAW8B,UAG5BC,UAAW/L,EAAMgK,WAAW+B,UAG5BI,SAAUnM,EAAMgK,WAAWmC,SAG3B8G,OAAQ,CACNnqC,SAAU,WACVgM,OAAQ,EACRD,MAAO,EACPq+B,SAAU,UAIZC,UAAW,CACTxsB,UAAW,QAIbysB,YAAa,CACXzsB,UAAW,UAIb0sB,WAAY,CACV1sB,UAAW,SAIb2sB,aAAc,CACZ3sB,UAAW,WAIb8rB,OAAQ,CACNS,SAAU,SACVK,aAAc,WACdC,WAAY,UAIdjB,aAAc,CACZ7rB,aAAc,UAIhBisB,UAAW,CACTjsB,aAAc,IAIhB+sB,aAAc,CACZpgC,MAAO,WAITqgC,aAAc,CACZrgC,MAAO2sB,EAAM8H,QAAQ7B,QAAQ2B,MAI/B+L,eAAgB,CACdtgC,MAAO2sB,EAAM8H,QAAQ5B,UAAU0B,MAIjCgM,iBAAkB,CAChBvgC,MAAO2sB,EAAM8H,QAAQhT,KAAKmR,SAI5B4N,mBAAoB,CAClBxgC,MAAO2sB,EAAM8H,QAAQhT,KAAKoR,WAI5B4N,WAAY,CACVzgC,MAAO2sB,EAAM8H,QAAQh3C,MAAM82C,MAI7BmM,cAAe,CACb/pB,QAAS,UAIXgqB,aAAc,CACZhqB,QAAS,YA6CmB,CAChCn9B,KAAM,iBADR,CAEGolD,mBClLCgC,IAAmB,EACnBC,IAA0B,EAC1BC,GAAiC,KACjCC,GAAsB,CACxBtf,MAAM,EACNuf,QAAQ,EACR9P,KAAK,EACL+P,KAAK,EACLC,OAAO,EACPC,UAAU,EACVC,QAAQ,EACRC,MAAM,EACNC,OAAO,EACPC,MAAM,EACNC,MAAM,EACNC,UAAU,EACV,kBAAkB,GAqCpB,SAAS9iC,GAAc3C,GACjBA,EAAM2B,SAAW3B,EAAM0lC,QAAU1lC,EAAM0B,UAI3CkjC,IAAmB,GAWrB,SAASe,KACPf,IAAmB,EAGrB,SAASgB,KACsB,WAAzB/2C,KAAKg3C,iBAKHhB,KACFD,IAAmB,GAqBzB,SAASkB,GAAe9lC,GACtB,IA5EqCqlB,EACjC/nC,EACAsJ,EA0EAzC,EAAS6b,EAAM7b,OAEnB,IACE,OAAOA,EAAO4hD,QAAQ,kBACtB,MAAOtkD,IAQT,OAAOmjD,KAvFHtnD,GADiC+nC,EAwFoBlhC,GAvFzC7G,OAGA,WAFZsJ,EAAUy+B,EAAKz+B,WAEQm+C,GAAoBznD,IAAU+nC,EAAK2gB,WAI9C,aAAZp/C,IAA2By+B,EAAK2gB,YAIhC3gB,EAAK4gB,mBAmFX,SAASC,KAKPrB,IAA0B,EAC1B58C,OAAOF,aAAa+8C,IACpBA,GAAiC78C,OAAOL,YAAW,WACjDi9C,IAA0B,IACzB,KAGU,SAASsB,KActB,MAAO,CACLL,eAAgBA,GAChBM,cAAeF,GACf3D,IAhBQ,eAAkB,SAAUz+C,GACpC,IAlDauiD,EAkDThhB,EAAO,eAAqBvhC,GAEpB,MAARuhC,KApDSghB,EAqDHhhB,EAAKihB,eApDbjsC,iBAAiB,UAAWsI,IAAe,GAC/C0jC,EAAIhsC,iBAAiB,YAAasrC,IAAmB,GACrDU,EAAIhsC,iBAAiB,cAAesrC,IAAmB,GACvDU,EAAIhsC,iBAAiB,aAAcsrC,IAAmB,GACtDU,EAAIhsC,iBAAiB,mBAAoBurC,IAAwB,MAkD9D,KC/IU,SAASU,GAAcjhB,GACpC,OAAOA,GAAQA,EAAKihB,eAAiBj8C,SCAvC,IAAIk8C,GAAsC,oBAAXt+C,OAAyB,kBAAwB,YAOjE,SAASu+C,GAAiBt1B,GACvC,IAAIqxB,EAAM,SAAarxB,GAIvB,OAHAq1B,IAAkB,WAChBhE,EAAIp8C,QAAU+qB,KAET,eAAkB,WACvB,OAAWqxB,EAAIp8C,QAAS2I,WAAM,EAAQlR,aACrC,ICdU,SAAS6oD,GAAOlE,EAAKxhD,GACf,mBAARwhD,EACTA,EAAIxhD,GACKwhD,IACTA,EAAIp8C,QAAUpF,GCHH,SAAS2lD,GAAWC,EAAMC,GAMvC,OAAO,WAAc,WACnB,OAAY,MAARD,GAAwB,MAARC,EACX,KAGF,SAAUC,GACfJ,GAAOE,EAAME,GACbJ,GAAOG,EAAMC,MAEd,CAACF,EAAMC,ICuDZ,OAAe,IAnEF,SAAgBjW,GAC3B,MAAO,CACLmW,MAAO,CACL,SAAU,CACR,YAAa,CACX5Z,UAAW,gCAIjB6Z,KAAM,GACNnwC,OAAQ,EAAS,CACfkrC,OAAQ,GACPnR,EAAMgK,WAAWiC,MAAO,CACzB9hB,SAAU6V,EAAMgK,WAAWgB,QAAQ,IACnCI,WAAY,IACZ5O,WAAYwD,EAAMkR,YAAY5yC,OAAO,CAAC,aAAc,CAClDswC,SAAU5O,EAAMkR,YAAYtC,SAASC,WAEvC7/B,KAAM,GACNqnC,gBAAiB,gBACjB9Z,UAAW,WACXzzB,SAAU,aAEZwtC,OAAQ,CACNtsB,QAAS,OACTE,WAAY,SACZD,eAAgB,SAChBpV,MAAO,GACPC,OAAQ,GACRu3B,aAAc,gBACdjiB,gBAAiB,eACjBmS,UAAW,kBAEbjX,MAAO,CACLjS,MAAO2sB,EAAM8H,QAAQ7B,QAAQsD,aAC7BhN,UAAW,oBAgCiB,CAChC1vC,KAAM,qBADR,EAvBA,SAAoB4G,GAClB,IAAIsM,EAAWtM,EAAMsM,SACjBqxB,EAAU39B,EAAM29B,QAChBhL,EAAY3yB,EAAM2yB,UAClBgwB,EAAO3iD,EAAM2iD,KACbhmD,EAAQqD,EAAMrD,MACdmmD,EAAoB9iD,EAAM8iD,kBAE9B,MAA0B,QAAtBA,EACKx2C,EAGW,eAAmBA,EAAU,CAC/CqmB,UAAW,GAAKrmB,EAAStM,MAAM2yB,WAAYgwB,GAA8B,OAAtBG,IAA+BnlB,EAAQglB,KAAMhlB,EAAQ+kB,QAC1F,gBAAoB,OAAQ,CAC1C/vB,UAAW,GAAKgL,EAAQnrB,OAAQmgB,IAClB,gBAAoB,OAAQ,CAC1CA,UAAWgL,EAAQklB,QACL,gBAAoB,OAAQ,CAC1ClwB,UAAWgL,EAAQ9L,OAClBl1B,SCnDL,SAASomD,GAAI9mD,EAAGC,GACd,OAAOD,EAAIC,EAGb,SAAS,GAAMS,EAAOya,EAAKC,GACzB,OAAO5D,KAAK2D,IAAI3D,KAAK4D,IAAID,EAAKza,GAAQ0a,GAGxC,SAAS2rC,GAAYrU,EAAQsU,GAe3B,OAdqBtU,EAAOrvC,QAAO,SAAUw5C,EAAKn8C,EAAOsL,GACvD,IAAImS,EAAW3G,KAAKqO,IAAImhC,EAAetmD,GAEvC,OAAY,OAARm8C,GAAgB1+B,EAAW0+B,EAAI1+B,UAAYA,IAAa0+B,EAAI1+B,SACvD,CACLA,SAAUA,EACVnS,MAAOA,GAIJ6wC,IACN,MAC+B7wC,MAKpC,SAASi7C,GAAYtnC,EAAOunC,GAC1B,QAAwBniD,IAApBmiD,EAAQphD,SAAyB6Z,EAAMwnC,eAAgB,CACzD,IAAK,IAAIjoD,EAAI,EAAGA,EAAIygB,EAAMwnC,eAAe/pD,OAAQ8B,GAAK,EAAG,CACvD,IAAIkoD,EAAQznC,EAAMwnC,eAAejoD,GAEjC,GAAIkoD,EAAMC,aAAeH,EAAQphD,QAC/B,MAAO,CACLoM,EAAGk1C,EAAMxnC,QACTzN,EAAGi1C,EAAMvnC,SAKf,OAAO,EAGT,MAAO,CACL3N,EAAGyN,EAAMC,QACTzN,EAAGwN,EAAME,SAIb,SAASynC,GAAe5mD,EAAOya,EAAKC,GAClC,OAAuB,KAAf1a,EAAQya,IAAcC,EAAMD,GAoBtC,SAASosC,GAAiB7mD,EAAOmzC,EAAM14B,GACrC,IAAIqsC,EAAUhwC,KAAKi+B,OAAO/0C,EAAQya,GAAO04B,GAAQA,EAAO14B,EACxD,OAAOga,OAAOqyB,EAAQvR,QAfxB,SAA6BwR,GAG3B,GAAIjwC,KAAKqO,IAAI4hC,GAAO,EAAG,CACrB,IAAI1e,EAAQ0e,EAAIC,gBAAgBp9C,MAAM,MAClCq9C,EAAqB5e,EAAM,GAAGz+B,MAAM,KAAK,GAC7C,OAAQq9C,EAAqBA,EAAmBvqD,OAAS,GAAK2xC,SAAShG,EAAM,GAAI,IAGnF,IAAI6e,EAAcH,EAAIzmD,WAAWsJ,MAAM,KAAK,GAC5C,OAAOs9C,EAAcA,EAAYxqD,OAAS,EAKZyqD,CAAoBhU,KAGpD,SAASiU,GAAcn6C,GACrB,IAAI+kC,EAAS/kC,EAAK+kC,OACd7xC,EAAS8M,EAAK9M,OACd88B,EAAWhwB,EAAKgwB,SAChB3xB,EAAQ2B,EAAK3B,MAEjB,GAAI0mC,EAAO1mC,KAAW2xB,EACpB,OAAO98B,EAGT,IAAIowC,EAASyB,EAAOrnC,QAEpB,OADA4lC,EAAOjlC,GAAS2xB,EACTsT,EAGT,SAAS8W,GAAWp4C,GAClB,IAAIq4C,EAAYr4C,EAAMq4C,UAClBC,EAAct4C,EAAMs4C,YACpBC,EAAYv4C,EAAMu4C,UAEjBF,EAAUliD,QAAQ4vB,SAAS1rB,SAASm+C,gBAAkBhzB,OAAOnrB,SAASm+C,cAAc/9C,aAAa,iBAAmB69C,GACvHD,EAAUliD,QAAQoF,cAAc,+BAAkCnM,OAAOkpD,EAAa,OAAQ1Q,QAG5F2Q,GACFA,EAAUD,GAId,IAAIG,GAAY,CACdC,WAAY,CACV9xC,OAAQ,SAAgBi0B,GACtB,MAAO,CACLprB,KAAM,GAAGrgB,OAAOyrC,EAAS,OAG7B8d,KAAM,SAAc9d,GAClB,MAAO,CACLrlB,MAAO,GAAGpmB,OAAOyrC,EAAS,QAIhC,qBAAsB,CACpBj0B,OAAQ,SAAgBi0B,GACtB,MAAO,CACLrrB,MAAO,GAAGpgB,OAAOyrC,EAAS,OAG9B8d,KAAM,SAAc9d,GAClB,MAAO,CACLrlB,MAAO,GAAGpmB,OAAOyrC,EAAS,QAIhC+d,SAAU,CACRhyC,OAAQ,SAAgBi0B,GACtB,MAAO,CACLjrB,OAAQ,GAAGxgB,OAAOyrC,EAAS,OAG/B8d,KAAM,SAAc9d,GAClB,MAAO,CACLplB,OAAQ,GAAGrmB,OAAOyrC,EAAS,SAM/Bge,GAAW,SAAkBt2C,GAC/B,OAAOA,GAuOLu2C,GAAsB,cAAiB,SAAgB1kD,EAAOm+C,GAChE,IAAIwG,EAAY3kD,EAAM,cAClB4kD,EAAiB5kD,EAAM,mBACvB6kD,EAAgB7kD,EAAM,kBACtB29B,EAAU39B,EAAM29B,QAChBhL,EAAY3yB,EAAM2yB,UAClBgsB,EAAe3+C,EAAM4f,MACrBA,OAAyB,IAAjB++B,EAA0B,UAAYA,EAC9CmG,EAAmB9kD,EAAMlG,UACzB6D,OAAiC,IAArBmnD,EAA8B,OAASA,EACnDC,EAAe/kD,EAAM+kD,aACrBC,EAAkBhlD,EAAM0yC,SACxBA,OAA+B,IAApBsS,GAAqCA,EAChDC,EAAejlD,EAAMilD,aACrBC,EAAmBllD,EAAMklD,iBACzBC,EAAenlD,EAAMolD,MACrBC,OAA6B,IAAjBF,GAAkCA,EAC9CG,EAAatlD,EAAMqX,IACnBA,OAAqB,IAAfiuC,EAAwB,IAAMA,EACpCC,EAAavlD,EAAMoX,IACnBA,OAAqB,IAAfmuC,EAAwB,EAAIA,EAClCnsD,EAAO4G,EAAM5G,KACbw4B,EAAW5xB,EAAM4xB,SACjB4zB,EAAoBxlD,EAAMwlD,kBAC1B/nC,EAAczd,EAAMyd,YACpBgoC,EAAqBzlD,EAAM0lD,YAC3BA,OAAqC,IAAvBD,EAAgC,aAAeA,EAC7DE,EAAe3lD,EAAMyX,MACrBA,OAAyB,IAAjBkuC,EAA0BlB,GAAWkB,EAC7CC,EAAc5lD,EAAM8vC,KACpBA,OAAuB,IAAhB8V,EAAyB,EAAIA,EACpCC,EAAwB7lD,EAAM8lD,eAC9BA,OAA2C,IAA1BD,EAAmC,OAASA,EAC7DE,EAAe/lD,EAAMgmD,MACrBA,OAAyB,IAAjBD,EAA0B,SAAWA,EAC7CE,EAAYjmD,EAAMrD,MAClBupD,EAAwBlmD,EAAMmmD,oBAC9BA,OAAgD,IAA1BD,EAAmC,GAAaA,EACtEE,EAAwBpmD,EAAM8iD,kBAC9BA,OAA8C,IAA1BsD,EAAmC,MAAQA,EAC/DC,EAAwBrmD,EAAMsmD,iBAC9BA,OAA6C,IAA1BD,EAAmC5B,GAAW4B,EACjEtW,EAAQ,EAAyB/vC,EAAO,CAAC,aAAc,kBAAmB,iBAAkB,UAAW,YAAa,QAAS,YAAa,eAAgB,WAAY,eAAgB,mBAAoB,QAAS,MAAO,MAAO,OAAQ,WAAY,oBAAqB,cAAe,cAAe,QAAS,OAAQ,iBAAkB,QAAS,QAAS,sBAAuB,oBAAqB,qBAEzYusC,EChbQnI,MAA4B,GDibpC+e,EAAU,WAIVoD,EAAkB,YAAgB,GAClCtT,EAASsT,EAAgB,GACzBpC,EAAYoC,EAAgB,GAE5BC,EAAmB,YAAgB,GACnC7D,EAAO6D,EAAiB,GACxBC,GAAUD,EAAiB,GAE3BE,GE/bS,SAAuB98C,GACpC,IAAI+8C,EAAa/8C,EAAK+8C,WAClBC,EAAch9C,EAAKmpC,QAMnB8T,GALOj9C,EAAKxQ,KACCwQ,EAAK2G,MAGF,cAA4BvP,IAAf2lD,GACA5kD,SAE7BwkD,EAAkB,WAAeK,GACjCE,EAAaP,EAAgB,GAC7BQ,EAAWR,EAAgB,GA0B/B,MAAO,CAxBKM,EAAeF,EAAaG,EAmBX,eAAkB,SAAUltB,GAClDitB,GACHE,EAASntB,KAEV,KF0ZkBotB,CAAc,CACjCL,WAAYV,EACZlT,QAASgS,EACT3rD,KAAM,WAEJ6tD,IAAkB,QAAeP,GAAgB,GACjDQ,GAAeD,GAAgB,GAC/BE,GAAgBF,GAAgB,GAEhCG,GAAQhrD,MAAMC,QAAQ6qD,IACtBvY,GAASyY,GAAQF,GAAa5/C,QAAQmkC,KAAKsX,IAAO,CAACmE,IACvDvY,GAASA,GAAOhwC,KAAI,SAAUhC,GAC5B,OAAO,GAAMA,EAAOya,EAAKC,MAE3B,IAAI+tC,IAAsB,IAAdC,GAA+B,OAATvV,GAAgB,QAAmB1zC,MAAMqX,KAAK+a,OAAOnX,EAAMD,GAAO04B,GAAQ,IAAInxC,KAAI,SAAU0oD,EAAGp/C,GAC/H,MAAO,CACLtL,MAAOya,EAAM04B,EAAO7nC,MAEnBo9C,GAAa,GAEdiC,GAAqBvF,KACrBL,GAAiB4F,GAAmB5F,eACpCM,GAAgBsF,GAAmBtF,cACnCuF,GAAkBD,GAAmBnJ,IAErCqJ,GAAmB,YAAgB,GACnCC,GAAeD,GAAiB,GAChCE,GAAkBF,GAAiB,GAEnCvD,GAAY,WACZ0D,GAAiBrF,GAAWiF,GAAiBtD,IAC7C2D,GAAYtF,GAAWnE,EAAKwJ,IAC5BE,GAAczF,IAAiB,SAAUxmC,GAC3C,IAAI3T,EAAQmpB,OAAOxV,EAAMksC,cAAczhD,aAAa,eAEhDq7C,GAAe9lC,IACjB8rC,GAAgBz/C,GAGlBw+C,GAAQx+C,MAEN8/C,GAAa3F,IAAiB,YACV,IAAlBqF,KACFC,IAAiB,GACjB1F,MAGFyE,IAAS,MAEPuB,GAAkB5F,IAAiB,SAAUxmC,GAC/C,IAAI3T,EAAQmpB,OAAOxV,EAAMksC,cAAczhD,aAAa,eACpDogD,GAAQx+C,MAENggD,GAAmB7F,IAAiB,WACtCqE,IAAS,MAEPyB,GAA4B,QAApB3b,EAAM6B,UACd7vB,GAAgB6jC,IAAiB,SAAUxmC,GAC7C,IAOIge,EAPA3xB,EAAQmpB,OAAOxV,EAAMksC,cAAczhD,aAAa,eAChD1J,EAAQgyC,GAAO1mC,GACfkgD,GAAe9wC,EAAMD,GAAO,GAC5BgxC,EAAchD,GAAMzmD,KAAI,SAAU0pD,GACpC,OAAOA,EAAK1rD,SAEV2rD,EAAaF,EAAY3nD,QAAQ9D,GAEjC4rD,EAAcL,GAAQ,YAAc,aACpCM,EAAcN,GAAQ,aAAe,YAEzC,OAAQtsC,EAAMxgB,KACZ,IAAK,OACHw+B,EAAWxiB,EACX,MAEF,IAAK,MACHwiB,EAAWviB,EACX,MAEF,IAAK,SACCy4B,IACFlW,EAAWj9B,EAAQwrD,GAGrB,MAEF,IAAK,WACCrY,IACFlW,EAAWj9B,EAAQwrD,GAGrB,MAEF,KAAKI,EACL,IAAK,UAED3uB,EADEkW,EACSnzC,EAAQmzC,EAERsY,EAAYE,EAAa,IAAMF,EAAYA,EAAY/uD,OAAS,GAG7E,MAEF,KAAKmvD,EACL,IAAK,YAED5uB,EADEkW,EACSnzC,EAAQmzC,EAERsY,EAAYE,EAAa,IAAMF,EAAY,GAGxD,MAEF,QACE,OAYJ,GARAxsC,EAAMuC,iBAEF2xB,IACFlW,EAAW4pB,GAAiB5pB,EAAUkW,EAAM14B,IAG9CwiB,EAAW,GAAMA,EAAUxiB,EAAKC,GAE5B+vC,GAAO,CACT,IAAIqB,EAAgB7uB,EACpBA,EAAWmqB,GAAc,CACvBpV,OAAQA,GACR7xC,OAAQoqD,GACRttB,SAAUA,EACV3xB,MAAOA,IACNwjC,KAAKsX,IACRiB,GAAW,CACTC,UAAWA,GACXC,YAAatqB,EAASn5B,QAAQgoD,KAIlCtB,GAAcvtB,GACd8tB,GAAgBz/C,GAEZ2pB,GACFA,EAAShW,EAAOge,GAGd4rB,GACFA,EAAkB5pC,EAAOge,MAGzB8uB,GAAgB,WAChBC,GAAOjD,EAEPwC,IAAyB,aAAhBxC,IACXiD,IAAQ,YAGV,IAAIC,GAAoB,SAA2Bra,GACjD,IAaI9H,EAYA7M,EAzBAivB,EAASta,EAAMsa,OACfC,EAAava,EAAMwa,KACnBA,OAAsB,IAAfD,GAAgCA,EACvCE,EAAUza,EAAMI,OAChB7xC,EAASyxC,EAAMzxC,OAGfmsD,EAFShF,GAAUliD,QAEYmnD,wBAC/B9nC,EAAQ6nC,EAAsB7nC,MAC9BC,EAAS4nC,EAAsB5nC,OAC/B7F,EAASytC,EAAsBztC,OAC/BH,EAAO4tC,EAAsB5tC,KAiBjC,GAZEorB,EAD+B,IAA7BkiB,GAAKloD,QAAQ,aACJ+a,EAASqtC,EAAOz6C,GAAKiT,GAErBwnC,EAAO16C,EAAIkN,GAAQ+F,GAGE,IAA9BunC,GAAKloD,QAAQ,cACfgmC,EAAU,EAAIA,GAIhB7M,EAnjBJ,SAAwB6M,EAASrvB,EAAKC,GACpC,OAAQA,EAAMD,GAAOqvB,EAAUrvB,EAkjBlB+xC,CAAe1iB,EAASrvB,EAAKC,GAEpCy4B,EACFlW,EAAW4pB,GAAiB5pB,EAAUkW,EAAM14B,OACvC,CACL,IAAIgxC,EAAchD,GAAMzmD,KAAI,SAAU0pD,GACpC,OAAOA,EAAK1rD,SAGdi9B,EAAWwuB,EADQpF,GAAYoF,EAAaxuB,IAI9CA,EAAW,GAAMA,EAAUxiB,EAAKC,GAChC,IAAI6sC,EAAc,EAElB,GAAIkD,GAAO,CAOT,IAAIqB,EAAgB7uB,EAOpBsqB,GANAtqB,EAAWmqB,GAAc,CACvBpV,OAAQqa,EACRlsD,OAAQA,EACR88B,SAAUA,EACV3xB,MARAi8C,EAHG6E,EAGWL,GAAc3mD,QAFdihD,GAAYgG,EAASpvB,KAWlC6R,KAAKsX,KACetiD,QAAQgoD,GAC/BC,GAAc3mD,QAAUmiD,EAG1B,MAAO,CACLtqB,SAAUA,EACVsqB,YAAaA,IAIbkF,GAAkBhH,IAAiB,SAAUxmC,GAC/C,IAAIitC,EAAS3F,GAAYtnC,EAAOunC,GAEhC,GAAK0F,EAAL,CAIA,IAAIQ,EAAqBT,GAAkB,CACzCC,OAAQA,EACRE,MAAM,EACNpa,OAAQA,GACR7xC,OAAQoqD,KAENttB,EAAWyvB,EAAmBzvB,SAC9BsqB,EAAcmF,EAAmBnF,YAErCF,GAAW,CACTC,UAAWA,GACXC,YAAaA,EACbC,UAAWA,IAEbgD,GAAcvtB,GAEVhI,GACFA,EAAShW,EAAOge,OAGhB0vB,GAAiBlH,IAAiB,SAAUxmC,GAC9C,IAAIitC,EAAS3F,GAAYtnC,EAAOunC,GAEhC,GAAK0F,EAAL,CAIA,IAKIjvB,EALsBgvB,GAAkB,CAC1CC,OAAQA,EACRla,OAAQA,GACR7xC,OAAQoqD,KAEyBttB,SAEnCuqB,GAAW,GAEQ,aAAfvoC,EAAM1iB,MACRutD,IAAS,GAGPjB,GACFA,EAAkB5pC,EAAOge,GAG3BupB,EAAQphD,aAAUf,EAClB,IAAIihD,EAAMC,GAAc+B,GAAUliD,SAClCkgD,EAAI3pC,oBAAoB,YAAa8wC,IACrCnH,EAAI3pC,oBAAoB,UAAWgxC,IACnCrH,EAAI3pC,oBAAoB,YAAa8wC,IACrCnH,EAAI3pC,oBAAoB,WAAYgxC,QAElCC,GAAmBnH,IAAiB,SAAUxmC,GAEhDA,EAAMuC,iBACN,IAAIklC,EAAQznC,EAAMwnC,eAAe,GAEpB,MAATC,IAEFF,EAAQphD,QAAUshD,EAAMC,YAG1B,IAAIuF,EAAS3F,GAAYtnC,EAAOunC,GAE5BqG,EAAsBZ,GAAkB,CAC1CC,OAAQA,EACRla,OAAQA,GACR7xC,OAAQoqD,KAENttB,EAAW4vB,EAAoB5vB,SAC/BsqB,EAAcsF,EAAoBtF,YAEtCF,GAAW,CACTC,UAAWA,GACXC,YAAaA,EACbC,UAAWA,IAEbgD,GAAcvtB,GAEVhI,GACFA,EAAShW,EAAOge,GAGlB,IAAIqoB,EAAMC,GAAc+B,GAAUliD,SAClCkgD,EAAIhsC,iBAAiB,YAAamzC,IAClCnH,EAAIhsC,iBAAiB,WAAYqzC,OAEnC,aAAgB,WACd,IAAIG,EAASxF,GAAUliD,QACvB0nD,EAAOxzC,iBAAiB,aAAcszC,IACtC,IAAItH,EAAMC,GAAcuH,GACxB,OAAO,WACLA,EAAOnxC,oBAAoB,aAAcixC,IACzCtH,EAAI3pC,oBAAoB,YAAa8wC,IACrCnH,EAAI3pC,oBAAoB,UAAWgxC,IACnCrH,EAAI3pC,oBAAoB,YAAa8wC,IACrCnH,EAAI3pC,oBAAoB,WAAYgxC,OAErC,CAACA,GAAgBF,GAAiBG,KACrC,IAAIG,GAAkBtH,IAAiB,SAAUxmC,GAC3C6B,GACFA,EAAY7B,GAGdA,EAAMuC,iBACN,IAAI0qC,EAAS3F,GAAYtnC,EAAOunC,GAE5BwG,EAAsBf,GAAkB,CAC1CC,OAAQA,EACRla,OAAQA,GACR7xC,OAAQoqD,KAENttB,EAAW+vB,EAAoB/vB,SAC/BsqB,EAAcyF,EAAoBzF,YAEtCF,GAAW,CACTC,UAAWA,GACXC,YAAaA,EACbC,UAAWA,IAEbgD,GAAcvtB,GAEVhI,GACFA,EAAShW,EAAOge,GAGlB,IAAIqoB,EAAMC,GAAc+B,GAAUliD,SAClCkgD,EAAIhsC,iBAAiB,YAAamzC,IAClCnH,EAAIhsC,iBAAiB,UAAWqzC,OAE9BM,GAAcrG,GAAe6D,GAAQzY,GAAO,GAAKv3B,EAAKA,EAAKC,GAC3DwyC,GAAYtG,GAAe5U,GAAOA,GAAOt1C,OAAS,GAAI+d,EAAKC,GAAOuyC,GAElEE,GAAa,EAAS,GAAIzF,GAAUsE,IAAMn2C,OAAOo3C,IAAcvF,GAAUsE,IAAMpE,KAAKsF,KAExF,OAAoB,gBAAoBlsD,EAAW,EAAS,CAC1DwgD,IAAKyJ,GACLj1B,UAAW,GAAKgL,EAAQ4hB,KAAM5hB,EAAQ,QAAQ3iC,OAAOsjD,GAAW1+B,KAAU+S,EAAW+f,GAAY/U,EAAQ+U,SAAU0S,GAAM/rD,OAAS,GAAK+rD,GAAMr9C,MAAK,SAAUsgD,GAC1J,OAAOA,EAAKx2B,UACR8L,EAAQosB,QAAkB,IAAV/D,GAAmBroB,EAAQqsB,WAA4B,aAAhBtE,GAA8B/nB,EAAQ6mB,SAAoB,aAAVwB,GAAwBroB,EAAQssB,eAC7IxsC,YAAaisC,IACZ3Z,GAAqB,gBAAoB,OAAQ,CAClDpd,UAAWgL,EAAQusB,OACJ,gBAAoB,OAAQ,CAC3Cv3B,UAAWgL,EAAQqoB,MACnB77C,MAAO2/C,KACQ,gBAAoB,QAAS,CAC5CntD,MAAOgyC,GAAOntC,KAAK,KACnBpI,KAAMA,EACNF,KAAM,WACJksD,GAAMzmD,KAAI,SAAU0pD,EAAMpgD,GAC5B,IAEIkiD,EAFA1jB,EAAU8c,GAAe8E,EAAK1rD,MAAOya,EAAKC,GAC1ClN,EAAQk6C,GAAUsE,IAAMn2C,OAAOi0B,GASnC,OALE0jB,GADY,IAAVnE,GAC2C,IAAhCrX,GAAOluC,QAAQ4nD,EAAK1rD,OAEV,WAAVqpD,IAAuBoB,GAAQiB,EAAK1rD,OAASgyC,GAAO,IAAM0Z,EAAK1rD,OAASgyC,GAAOA,GAAOt1C,OAAS,GAAKgvD,EAAK1rD,OAASgyC,GAAO,KAAiB,aAAVqX,IAAyBoB,GAAQiB,EAAK1rD,OAASgyC,GAAO,IAAM0Z,EAAK1rD,OAASgyC,GAAOA,GAAOt1C,OAAS,GAAKgvD,EAAK1rD,OAASgyC,GAAO,IAGtP,gBAAoB,WAAgB,CACtDvzC,IAAKitD,EAAK1rD,OACI,gBAAoB,OAAQ,CAC1CwN,MAAOA,EACP,aAAclC,EACd0qB,UAAW,GAAKgL,EAAQ0qB,KAAM8B,GAAcxsB,EAAQwsB,cACpC,MAAd9B,EAAKx2B,MAA6B,gBAAoB,OAAQ,CAChE,eAAe,EACf,aAAc5pB,EACdkC,MAAOA,EACPwoB,UAAW,GAAKgL,EAAQysB,UAAWD,GAAcxsB,EAAQ0sB,kBACxDhC,EAAKx2B,OAAS,SACf8c,GAAOhwC,KAAI,SAAUhC,EAAOsL,GAC9B,IAAIw+B,EAAU8c,GAAe5mD,EAAOya,EAAKC,GACrClN,EAAQk6C,GAAUsE,IAAMn2C,OAAOi0B,GACnC,OAAoB,gBAAoB0f,EAAqB,CAC3D/qD,IAAK6M,EACLq+C,iBAAkBA,EAClBxD,kBAAmBA,EACnBnwB,UAAWgL,EAAQ2sB,WACnB3tD,MAAmC,mBAArB2pD,EAAkCA,EAAiB7uC,EAAM9a,GAAQsL,GAASq+C,EACxFr+C,MAAOA,EACP06C,KAAMA,IAAS16C,GAASgrC,IAAWhrC,GAA+B,OAAtB66C,EAC5CpQ,SAAUA,GACI,gBAAoBoT,EAAgB,CAClDnzB,UAAW,GAAKgL,EAAQ+kB,MAAO/kB,EAAQ,aAAa3iC,OAAOsjD,GAAW1+B,KAAUqzB,IAAWhrC,GAAS01B,EAAQsV,OAAQP,GAAY/U,EAAQ+U,SAAU+U,KAAiBx/C,GAAS01B,EAAQ8pB,cACpL8C,SAAU7X,EAAW,KAAO,EAC5B8X,KAAM,SACNrgD,MAAOA,EACP,aAAclC,EACd,aAAcg9C,EAAeA,EAAah9C,GAAS08C,EACnD,kBAAmBC,EACnB,mBAAoBc,EACpB,gBAAiBjuC,EAAMJ,GACvB,gBAAiBI,EAAML,GACvB,gBAAiBK,EAAM9a,GACvB,iBAAkBuoD,EAAmBA,EAAiBztC,EAAM9a,GAAQsL,GAAS48C,EAC7E3uC,UAAWqI,GACXksC,QAAS5C,GACT6C,OAAQ3C,GACR4C,YAAa3C,GACb4C,aAAc3C,aAKpB,GAAe,IAjtBK,SAAgB1b,GAClC,MAAO,CAELgT,KAAM,CACJl+B,OAAQ,EACRD,MAAO,OACPypC,UAAW,cACX7jB,QAAS,SACTzQ,QAAS,eACTlhB,SAAU,WACV8d,OAAQ,UACRrgB,YAAa,OACb8M,MAAO2sB,EAAM8H,QAAQ7B,QAAQ2B,KAC7B2W,wBAAyB,cACzB,aAAc,CACZC,cAAe,OACf53B,OAAQ,UACRvT,MAAO2sB,EAAM8H,QAAQ4B,KAAK,MAE5B,aAAc,CACZ70B,MAAO,EACPC,OAAQ,OACR2lB,QAAS,UAGX,2BAA4B,CAE1BA,QAAS,SACT,aAAc,CACZA,QAAS,WAGb,eAAgB,CACduB,YAAa,UAKjB0X,aAAc,GAIdC,eAAgB,CACdtgC,MAAO2sB,EAAM8H,QAAQ5B,UAAU0B,MAIjC4V,OAAQ,CACN92B,aAAc,GACd,aAAc,CACZA,aAAc,OACd+3B,YAAa,KAKjBxG,SAAU,GAGV9R,SAAU,GAGVwX,KAAM,CACJ3zB,QAAS,QACTlhB,SAAU,WACV+L,MAAO,OACPC,OAAQ,EACRu3B,aAAc,EACdjiB,gBAAiB,eACjBhS,QAAS,IACT,cAAe,CACbtD,OAAQ,OACRD,MAAO,IAKX4kC,MAAO,CACLzvB,QAAS,QACTlhB,SAAU,WACVgM,OAAQ,EACRu3B,aAAc,EACdjiB,gBAAiB,eACjB,cAAe,CACbvV,MAAO,IAKX4oC,WAAY,CACV,WAAY,CACVzzB,QAAS,SAKb0zB,cAAe,CACb,WAAY,CACVtzB,gBACuB,UAAvB4V,EAAM8H,QAAQn7C,KAAmBo5C,GAAQ/F,EAAM8H,QAAQ7B,QAAQ2B,KAAM,KAAQ/B,GAAO7F,EAAM8H,QAAQ7B,QAAQ2B,KAAM,KAElH,UAAW,CACTxvB,QAAS,IAKb+9B,MAAO,CACLrtC,SAAU,WACV+L,MAAO,GACPC,OAAQ,GACR0T,YAAa,EACb6B,WAAY,EACZi0B,UAAW,aACXjS,aAAc,MACdzR,QAAS,EACTxQ,gBAAiB,eACjBJ,QAAS,OACTE,WAAY,SACZD,eAAgB,SAChBuS,WAAYwD,EAAMkR,YAAY5yC,OAAO,CAAC,cAAe,CACnDswC,SAAU5O,EAAMkR,YAAYtC,SAASC,WAEvC,WAAY,CACV/lC,SAAU,WACVnM,QAAS,KACT0vC,aAAc,MAEdv9B,MAAO,GACPE,KAAM,GACNH,OAAQ,GACRI,QAAS,IAEX,yBAA0B,CACxByvC,UAAW,mBAAmBjwD,OAAOm3C,GAAM5F,EAAM8H,QAAQ7B,QAAQ2B,KAAM,MACvE,uBAAwB,CACtB8W,UAAW,SAGf,WAAY,CACVA,UAAW,oBAAoBjwD,OAAOm3C,GAAM5F,EAAM8H,QAAQ7B,QAAQ2B,KAAM,OAE1E,aAAc,CACZ/yB,MAAO,EACPC,OAAQ,EACR0T,YAAa,EACb6B,WAAY,EACZ,UAAW,CACTq0B,UAAW,SAGf,cAAe,CACbl2B,YAAa,EACb9B,cAAe,GAEjB,uBAAwB,CACtB8B,YAAa,EACb9B,cAAe,IAKnBi4B,kBAAmB,GAInBC,oBAAqB,CACnB,yBAA0B,CACxBF,UAAW,mBAAmBjwD,OAAOm3C,GAAM5F,EAAM8H,QAAQ5B,UAAU0B,KAAM,OAE3E,WAAY,CACV8W,UAAW,oBAAoBjwD,OAAOm3C,GAAM5F,EAAM8H,QAAQ5B,UAAU0B,KAAM,QAK9ElB,OAAQ,GAGRwU,aAAc,GAGd6C,WAAY,CAEVjvC,KAAM,oBAIRgtC,KAAM,CACJhzC,SAAU,WACV+L,MAAO,EACPC,OAAQ,EACRu3B,aAAc,EACdjiB,gBAAiB,gBAInBwzB,WAAY,CACVxzB,gBAAiB4V,EAAM8H,QAAQxB,WAAWC,MAC1CnuB,QAAS,IAIXylC,UAAW,EAAS,GAAI7d,EAAMgK,WAAWiC,MAAO,CAC9C54B,MAAO2sB,EAAM8H,QAAQhT,KAAKoR,UAC1Bp9B,SAAU,WACVkG,IAAK,GACLutB,UAAW,mBACXiX,WAAY,SACZ,cAAe,CACbxkC,IAAK,OACLF,KAAM,GACNytB,UAAW,mBAEb,2BAA4B,CAC1BvtB,IAAK,GACL,cAAe,CACbF,KAAM,OAMZgvC,gBAAiB,CACfzqC,MAAO2sB,EAAM8H,QAAQhT,KAAKmR,YAifE,CAChCp5C,KAAM,aADR,CAEGsrD,IGl3BGxV,GAAYL,IAAW,SAACtC,GAAD,MAAY,CACvCgT,KAAM,CACLn+B,MAAM,QACL2lB,OAAQ,UAEVA,OAAQ,CACN1lB,OAAQkrB,EAAM+D,QAAQ,QAK1B,SAAS8a,GAAUzuD,GACjB,OAAUA,EAAV,MAIF,SAAS0uD,GAAT,GAAsE,IAA3CtG,EAA0C,EAA1CA,aAAcnzB,EAA4B,EAA5BA,SAAUxa,EAAkB,EAAlBA,IAAKC,EAAa,EAAbA,IAAK+tC,EAAQ,EAARA,MACrDznB,EAAUuR,KAEhB,GAAoB9e,EAAAA,EAAAA,UAAS20B,GAAxBh4B,EAAL,KAAUu+B,EAAV,KAQA,OACE,uBAAK34B,UAAWgL,EAAQ4hB,MACtB,gBAAC,GAAD,CAAY77C,GAAG,yBAAyBo7C,cAAY,GAApD,UAGA,gBAAC,GAAD,CACEniD,MAAOowB,EACPm4B,iBAAkBkG,GAClB,kBAAgB,yBAChBtb,KAAM,EACNz4B,IAAKA,GAAO,IACZD,IAAKA,GAAO,IACZ0rC,kBAAkB,OAClBsC,MAAOA,EACPxzB,SApBN,SAAmBt2B,EAAEqB,GAChBowB,IAAQpwB,IACX2uD,EAAO3uD,GACPi1B,EAASj1B,EAAO,eAuBpB,SAAS4uD,GAAT,GAAgE,IAA1CxG,EAAyC,EAAzCA,aAAcnzB,EAA2B,EAA3BA,SAAUxa,EAAiB,EAAjBA,IAAKC,EAAY,EAAZA,IAAK+tC,EAAO,EAAPA,MAChDznB,EAAUuR,KAEhB,GAAoB9e,EAAAA,EAAAA,UAAS20B,GAAxBh4B,EAAL,KAAUu+B,EAAV,KAQA,OACE,uBAAK34B,UAAWgL,EAAQ4hB,MACtB,gBAAC,GAAD,CAAY77C,GAAG,yBAAyBo7C,cAAY,GAApD,SAGA,gBAAC,GAAD,CACEniD,MAAOowB,EACPm4B,iBAAkBkG,GAClB,kBAAgB,yBAChBtb,KAAM,EACN14B,IAAKA,GAAO,GACZC,IAAKA,GAAO,GACZyrC,kBAAkB,OAClBlxB,SAnBN,SAAmBt2B,EAAEqB,GAChBowB,IAAQpwB,IACX2uD,EAAO3uD,GACPi1B,EAASj1B,EAAO,WAiBZyoD,MAAOA,oHCzEf,SAASoG,EAAT,GAAgG,IAA7EpyD,EAA4E,EAA5EA,KAAMqyD,EAAsE,EAAtEA,QAASrqC,EAA6D,EAA7DA,MAAO/nB,EAAsD,EAAtDA,OAAQqyD,EAA8C,EAA9CA,aAAcx7B,EAAgC,EAAhCA,iBAAkBC,EAAc,EAAdA,aAEhF,GAA8BC,EAAAA,EAAAA,WAAS,GAAjCu7B,EAAN,KAAeC,EAAf,KACA,GAA0Bx7B,EAAAA,EAAAA,UAAS,CAAC,EAAE,EAAE,EAAE,EAAE,IAAtCy7B,EAAN,KAAaC,EAAb,KACA,GAAoC17B,EAAAA,EAAAA,WAAS,GAAvC27B,EAAN,KAAkBC,EAAlB,KAEIj7B,GAAUC,EAAAA,EAAAA,QAAO,MAErB,SAAS8E,EAAMx6B,GAGd,GAFS2K,SAASkB,cAAc,iBAE1BwqB,SAASr2B,EAAEyE,SAAgC,UAArBzE,EAAEyE,OAAOyC,QAAqB,OAAO,EAEjEwpD,GAAc,GACdnoD,OAAOyU,oBAAoB,QAASyY,EAAQhvB,SAW7C,SAASkqD,EAAa3wD,GACrB,IAAI41B,EAAM51B,EAAEyE,OAAOoxB,QAAQD,IAEvBg7B,GAAM,OAAQL,GAQlB,GANmB,IAAhBK,EAAOh7B,GACTg7B,EAAOh7B,GAAO,EAEdg7B,EAAOh7B,GAAO,EAGC,IAAb26B,EAAM,IAAY17B,EAAa,CACjC,IACIg8B,EAAU9yD,EAAO,EAAI,MAEzBk4B,EAAAA,EAAAA,IAAiBnQ,EAAM/nB,EAAQ8yD,EAHjB,YAIO,IAAbN,EAAM,IAAY17B,IAC1BtsB,OAAO2tB,MAAMllB,SAAWzI,OAAO2tB,MAAMllB,SAASzK,QAAO,SAAAsM,GAAC,MAAe,eAAXA,EAAE/U,SAE7D0yD,GAAS,OAAII,IAqCd,OA5BAh6B,EAAAA,EAAAA,YAAW,WAENnB,EAAQhvB,UAASgvB,EAAQhvB,QAAU+zB,GAEpCi2B,GACFloD,OAAOoS,iBAAiB,QAAS8a,EAAQhvB,WAExC,CAACgqD,KAEJ75B,EAAAA,EAAAA,YAAU,WACN25B,EAAM9jD,MAAK,SAAAoG,GAAC,OAAU,IAANA,MAClBy9C,GAAW,GAGTC,EAAMO,OAAM,SAAAj+C,GAAC,OAAU,IAANA,MACnBy9C,GAAW,IAEZS,EAAAA,EAAAA,IAAWR,EAAOzqC,EAAO/nB,KACvB,CAACwyD,KAEJ35B,EAAAA,EAAAA,YAAW,WACNw5B,GACJI,GAAS,OAAIJ,MACX,KAEHx5B,EAAAA,EAAAA,YAAW,YACVo6B,EAAAA,EAAAA,IAAoBlrC,EAAM/nB,KACxB,CAAC+nB,EAAO/nB,IAEV,gCACA,4BAAOD,GACN,yBAAOu5B,UAAU,UACf,yBAAOz5B,KAAK,WAAWyyD,QAASA,EAAS/5B,SApE7C,SAAkBt2B,GAIhB0wD,GAHGD,MAoED,wBAAMp5B,UAAU,kBAEnB,uBAAK9C,IAAK87B,EAAO,yBAA4BF,EAA5B,qCAA0EA,EAA1E,OAAyFx6B,QAzC3G,WACK06B,GAEJK,GAAc,IAsCyH7hD,MAAO,CAACgpB,OAAO,aACrJ44B,GAAc,uBAAKp5B,UAAU,uBAC7B,uBAAK9C,IAAI,8CAA8C8C,UAAU,iBACjE,uBAAKA,UAAU,qBAEd,uBACCA,UAAU,iBACV9C,IAAkB,IAAbg8B,EAAM,GAAW,qDAAuD,0DAC7E56B,QAASg7B,EACT,WAAU,EACV9hD,MAAO+lB,EAAiB,GAAK,CAAC7U,KAAM,OAAQ,MAE3C6U,EAAiB,IAAM,uBAAKyC,UAAU,wBAAwB9C,IAAkB,IAAbg8B,EAAM,GAAW,qDAAuD,0DAA2D56B,QAASg7B,EAAc,WAAU,IAEzO,uBAAKt5B,UAAU,kBAAkB9C,IAAkB,IAAbg8B,EAAM,GAAW,qDAAuD,0DAA2D56B,QAASg7B,EAAc,WAAU,IAC1M,uBAAKt5B,UAAU,mBAAmB9C,IAAkB,IAAbg8B,EAAM,GAAW,qDAAuD,0DAA2D56B,QAASg7B,EAAc,WAAU,KAEzM/7B,EAAiB,IAAM,uBAAKyC,UAAU,2BAA2B9C,IAAkB,IAAbg8B,EAAM,GAAW,qDAAuD,0DAA2D56B,QAASg7B,EAAc,WAAU,2CC7GjO,SAASl6B,EAASw6B,GAC/BA,EAAMA,EAAIjlD,MAAM,EAAGilD,EAAIlzD,QAEpB,IAAImzD,EAASxhB,SAASuhB,EAAK,IAK3B,MAAO,CAACx+C,GAJCy+C,GAAU,GAAM,KAIZ,IAAIvoD,GAHRuoD,GAAU,EAAK,KAGF,IAAItwD,GAFT,IAATswD,GAEuB,u5DCOhCC,EAAM,GAENC,EAAO,SAAcr/C,GACvB,OAAOs/C,IAAIC,gBAAgB,IAAIC,KAAK,CAACx/C,GAAI,CACvCnU,KAAM,sBAIN4zD,EAAM,SAAax+C,GACrB,OAAO,IAAIy+C,OAAOz+C,IAGpB,IACEq+C,IAAIK,gBAAgBN,EAAK,KACzB,MAAOpxD,IAEPoxD,EAAO,SAAcr/C,GACnB,MAAO,6CAA+C4/C,UAAU5/C,IAIlEy/C,EAAM,SAAax+C,GACjB,OAAO,IAAIy+C,OAAOz+C,EAAG,CACnBpV,KAAM,YAKZ,IAgBIg0D,EAAKC,WACLC,EAAMC,YACNC,EAAMC,YAENC,EAAO,IAAIN,EAAG,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAEvG,EAAG,EAEH,IAGIO,EAAO,IAAIP,EAAG,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAEjH,EAAG,IAECQ,EAAO,IAAIR,EAAG,CAAC,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,KAE7ES,EAAO,SAAcC,EAAIhrC,GAG3B,IAFA,IAAI1mB,EAAI,IAAIkxD,EAAI,IAEPjyD,EAAI,EAAGA,EAAI,KAAMA,EACxBe,EAAEf,GAAKynB,GAAS,GAAKgrC,EAAGzyD,EAAI,GAI9B,IAAI4S,EAAI,IAAIu/C,EAAIpxD,EAAE,KAElB,IAASf,EAAI,EAAGA,EAAI,KAAMA,EACxB,IAAK,IAAIglB,EAAIjkB,EAAEf,GAAIglB,EAAIjkB,EAAEf,EAAI,KAAMglB,EACjCpS,EAAEoS,GAAKA,EAAIjkB,EAAEf,IAAM,EAAIA,EAI3B,MAAO,CAACe,EAAG6R,IAGT8/C,EAAKF,EAAKH,EAAM,GAChBM,EAAKD,EAAG,GACRE,EAAQF,EAAG,GAGfC,EAAG,IAAM,IAAKC,EAAM,KAAO,GAS3B,IAPA,IAAIC,EAAKL,EAAKF,EAAM,GAChBQ,EAAKD,EAAG,GACRE,EAAQF,EAAG,GAGXG,EAAM,IAAIf,EAAI,OAETjyD,EAAI,EAAGA,EAAI,QAASA,EAAG,CAE9B,IAAIgT,GAAS,MAAJhT,KAAgB,GAAS,MAAJA,IAAe,EAE7CgT,GAAS,OADTA,GAAS,MAAJA,KAAgB,GAAS,MAAJA,IAAe,MACpB,GAAS,KAAJA,IAAe,EACzCggD,EAAIhzD,KAAW,MAAJgT,KAAgB,GAAS,IAAJA,IAAe,KAAO,EAMxD,IAAIigD,EAAO,SAAcC,EAAIC,EAAIvgD,GAO/B,IANA,IAAIikC,EAAIqc,EAAGh1D,OAEP8B,EAAI,EAEJuS,EAAI,IAAI0/C,EAAIkB,GAETnzD,EAAI62C,IAAK72C,IACZuS,EAAE2gD,EAAGlzD,GAAK,GAId,IAMIozD,EANAC,EAAK,IAAIpB,EAAIkB,GAEjB,IAAKnzD,EAAI,EAAGA,EAAImzD,IAAMnzD,EACpBqzD,EAAGrzD,GAAKqzD,EAAGrzD,EAAI,GAAKuS,EAAEvS,EAAI,IAAM,EAKlC,GAAI4S,EAAG,CAELwgD,EAAK,IAAInB,EAAI,GAAKkB,GAElB,IAAIG,EAAM,GAAKH,EAEf,IAAKnzD,EAAI,EAAGA,EAAI62C,IAAK72C,EAEnB,GAAIkzD,EAAGlzD,GAQL,IANA,IAAIuzD,EAAKvzD,GAAK,EAAIkzD,EAAGlzD,GAEjBwzD,EAAML,EAAKD,EAAGlzD,GAEd8S,EAAIugD,EAAGH,EAAGlzD,GAAK,MAAQwzD,EAElBhhD,EAAIM,GAAK,GAAK0gD,GAAO,EAAG1gD,GAAKN,IAAKM,EAEzCsgD,EAAGJ,EAAIlgD,KAAOwgD,GAAOC,OAO3B,IAFAH,EAAK,IAAInB,EAAIpb,GAER72C,EAAI,EAAGA,EAAI62C,IAAK72C,EACfkzD,EAAGlzD,KACLozD,EAAGpzD,GAAKgzD,EAAIK,EAAGH,EAAGlzD,GAAK,QAAU,GAAKkzD,EAAGlzD,IAK/C,OAAOozD,GAILK,EAAM,IAAI1B,EAAG,KAEjB,IAAS/xD,EAAI,EAAGA,EAAI,MAAOA,EACzByzD,EAAIzzD,GAAK,EAGX,IAASA,EAAI,IAAKA,EAAI,MAAOA,EAC3ByzD,EAAIzzD,GAAK,EAGX,IAASA,EAAI,IAAKA,EAAI,MAAOA,EAC3ByzD,EAAIzzD,GAAK,EAGX,IAASA,EAAI,IAAKA,EAAI,MAAOA,EAC3ByzD,EAAIzzD,GAAK,EAIX,IAAI0zD,EAAM,IAAI3B,EAAG,IAEjB,IAAS/xD,EAAI,EAAGA,EAAI,KAAMA,EACxB0zD,EAAI1zD,GAAK,EAIX,IAAI2zD,EAAmBV,EAAKQ,EAAK,EAAG,GAChCG,EAAoBX,EAAKQ,EAAK,EAAG,GAEjCI,EAAmBZ,EAAKS,EAAK,EAAG,GAChCI,EAAoBb,EAAKS,EAAK,EAAG,GAEjCx3C,EAAM,SAAapb,GAGrB,IAFA,IAAI0R,EAAI1R,EAAE,GAEDd,EAAI,EAAGA,EAAIc,EAAE5C,SAAU8B,EAC1Bc,EAAEd,GAAKwS,IAAGA,EAAI1R,EAAEd,IAGtB,OAAOwS,GAILuhD,EAAO,SAAc5hD,EAAGO,EAAGF,GAC7B,IAAIwhD,EAAIthD,EAAI,EAAI,EAChB,OAAQP,EAAE6hD,GAAK7hD,EAAE6hD,EAAI,IAAM,KAAW,EAAJthD,GAASF,GAIzCyhD,EAAS,SAAgB9hD,EAAGO,GAC9B,IAAIshD,EAAIthD,EAAI,EAAI,EAChB,OAAQP,EAAE6hD,GAAK7hD,EAAE6hD,EAAI,IAAM,EAAI7hD,EAAE6hD,EAAI,IAAM,MAAY,EAAJthD,IAIjDwhD,EAAO,SAAcxhD,GACvB,OAAQA,EAAI,EAAI,IAAU,EAAJA,GAAS,IAK7ByhD,EAAM,SAAarhD,EAAG+jC,EAAG12C,IAClB,MAAL02C,GAAaA,EAAI,KAAGA,EAAI,IACnB,MAAL12C,GAAaA,EAAI2S,EAAE5U,UAAQiC,EAAI2S,EAAE5U,QAErC,IAAIuU,EAAI,IAAKK,aAAam/C,EAAMA,EAAMn/C,aAAaq/C,EAAMA,EAAMJ,GAAI5xD,EAAI02C,GAEvE,OADApkC,EAAEhB,IAAIqB,EAAEshD,SAASvd,EAAG12C,IACbsS,GAIL4hD,EAAQ,SAAeC,EAAKC,EAAKC,GAEnC,IAAIC,EAAKH,EAAIp2D,OACb,IAAKu2D,GAAMD,IAAOA,EAAGjiD,GAAKkiD,EAAK,EAAG,OAAOF,GAAO,IAAIxC,EAAG,GAEvD,IAAI2C,GAASH,GAAOC,EAEhBG,GAAQH,GAAMA,EAAGx0D,EAChBw0D,IAAIA,EAAK,IAETD,IAAKA,EAAM,IAAIxC,EAAQ,EAAL0C,IAEvB,IAAIG,EAAO,SAAcriD,GACvB,IAAIsiD,EAAKN,EAAIr2D,OAEb,GAAIqU,EAAIsiD,EAAI,CAEV,IAAIC,EAAO,IAAI/C,EAAGz5C,KAAK4D,IAAS,EAAL24C,EAAQtiD,IACnCuiD,EAAKrjD,IAAI8iD,GACTA,EAAMO,IAKNC,EAAQP,EAAGpiD,GAAK,EAChB2jB,EAAMy+B,EAAG9hD,GAAK,EACdsiD,EAAKR,EAAGzzD,GAAK,EACbk0D,EAAKT,EAAGjiD,EACR2iD,EAAKV,EAAGriD,EACRgjD,EAAMX,EAAGhiD,EACT4iD,EAAMZ,EAAG/hD,EAET4iD,EAAY,EAALZ,EAEX,EAAG,CACD,IAAKQ,EAAI,CAEPT,EAAGpiD,EAAI2iD,EAAQhB,EAAKO,EAAKv+B,EAAK,GAE9B,IAAIh4B,EAAOg2D,EAAKO,EAAKv+B,EAAM,EAAG,GAG9B,GAFAA,GAAO,GAEFh4B,EAAM,CAET,IACIwU,EAAI+hD,GADJzd,EAAIqd,EAAKn+B,GAAO,GACJ,GAAKu+B,EAAIzd,EAAI,IAAM,EAC/BhkC,EAAIgkC,EAAItkC,EAEZ,GAAIM,EAAI4hD,EAAI,CACV,GAAIE,EAAM,KAAM,iBAChB,MAIED,GAAOE,EAAKI,EAAKziD,GAErBgiD,EAAI9iD,IAAI6iD,EAAIF,SAASvd,EAAGhkC,GAAImiD,GAE5BR,EAAGzzD,EAAIi0D,GAAMziD,EAAGiiD,EAAG9hD,EAAIqjB,EAAU,EAAJljB,EAC7B,SACK,GAAY,GAAR9U,EAAWk3D,EAAKrB,EAAMsB,EAAKpB,EAAMqB,EAAM,EAAGC,EAAM,MAAO,IAAY,GAARr3D,EAqD/D,KAAM,qBAnDX,IAAIu3D,EAAOvB,EAAKO,EAAKv+B,EAAK,IAAM,IAC5Bw/B,EAAQxB,EAAKO,EAAKv+B,EAAM,GAAI,IAAM,EAClCy/B,EAAKF,EAAOvB,EAAKO,EAAKv+B,EAAM,EAAG,IAAM,EACzCA,GAAO,GAMP,IAJA,IAAI0/B,EAAM,IAAI1D,EAAGyD,GAEbE,EAAM,IAAI3D,EAAG,IAER/xD,EAAI,EAAGA,EAAIu1D,IAASv1D,EAE3B01D,EAAInD,EAAKvyD,IAAM+zD,EAAKO,EAAKv+B,EAAU,EAAJ/1B,EAAO,GAGxC+1B,GAAe,EAARw/B,EAEP,IAAII,EAAMz5C,EAAIw5C,GACVE,GAAU,GAAKD,GAAO,EAEtBE,EAAM5C,EAAKyC,EAAKC,EAAK,GAEzB,IAAS31D,EAAI,EAAGA,EAAIw1D,GAAK,CACvB,IAII3e,EAJAjkC,EAAIijD,EAAI9B,EAAKO,EAAKv+B,EAAK6/B,IAM3B,GAJA7/B,GAAW,GAAJnjB,GAEHikC,EAAIjkC,IAAM,GAEN,GACN6iD,EAAIz1D,KAAO62C,MACN,CAEL,IAAI3kC,EAAI,EACJO,EAAI,EAGR,IAFS,IAALokC,GAASpkC,EAAI,EAAIshD,EAAKO,EAAKv+B,EAAK,GAAIA,GAAO,EAAG7jB,EAAIujD,EAAIz1D,EAAI,IAAiB,IAAL62C,GAASpkC,EAAI,EAAIshD,EAAKO,EAAKv+B,EAAK,GAAIA,GAAO,GAAgB,IAAL8gB,IAASpkC,EAAI,GAAKshD,EAAKO,EAAKv+B,EAAK,KAAMA,GAAO,GAEvKtjB,KACLgjD,EAAIz1D,KAAOkS,GAMjB,IAAI4jD,EAAKL,EAAIrB,SAAS,EAAGkB,GACrBS,EAAKN,EAAIrB,SAASkB,GAEtBH,EAAMj5C,EAAI45C,GAEVV,EAAMl5C,EAAI65C,GACVd,EAAKhC,EAAK6C,EAAIX,EAAK,GACnBD,EAAKjC,EAAK8C,EAAIX,EAAK,GAGrB,GAAIr/B,EAAMs/B,EAAM,CACd,GAAIV,EAAM,KAAM,iBAChB,OAMAD,GAAOE,EAAKI,EAAK,QAKrB,IAJA,IAAIgB,GAAO,GAAKb,GAAO,EACnBc,GAAO,GAAKb,GAAO,EACnBc,EAAOngC,GAEHmgC,EAAOngC,EAAK,CAElB,IACIogC,GADAjkD,EAAI+iD,EAAGhB,EAAOK,EAAKv+B,GAAOigC,MACd,EAGhB,IAFAjgC,GAAW,GAAJ7jB,GAEGmjD,EAAM,CACd,GAAIV,EAAM,KAAM,iBAChB,MAGF,IAAKziD,EAAG,KAAM,yBACd,GAAIikD,EAAM,IAAK5B,EAAIS,KAAQmB,MAAS,IAAW,KAAPA,EAAY,CAClDD,EAAOngC,EAAKk/B,EAAK,KACjB,MAEA,IAAIx4C,EAAM05C,EAAM,IAEhB,GAAIA,EAAM,IAAK,CAEb,IACIp1D,EAAIsxD,EADJryD,EAAIm2D,EAAM,KAEd15C,EAAMs3C,EAAKO,EAAKv+B,GAAM,GAAKh1B,GAAK,GAAK4xD,EAAG3yD,GACxC+1B,GAAOh1B,EAIT,IAAIoR,EAAI+iD,EAAGjB,EAAOK,EAAKv+B,GAAOkgC,GAC1BG,GAAOjkD,IAAM,EACjB,IAAKA,EAAG,KAAM,mBACd4jB,GAAW,GAAJ5jB,EACH4jD,EAAKjD,EAAGsD,IAEZ,GAAIA,GAAO,EAAG,CACRr1D,EAAIuxD,EAAK8D,IACbL,GAAM9B,EAAOK,EAAKv+B,IAAQ,GAAKh1B,GAAK,EAAGg1B,GAAOh1B,EAGhD,GAAIg1B,EAAMs/B,EAAM,CACd,GAAIV,EAAM,KAAM,iBAChB,MAGED,GAAOE,EAAKI,EAAK,QAGrB,IAFA,IAAIttC,GAAMstC,EAAKv4C,EAERu4C,EAAKttC,GAAKstC,GAAM,EACrBT,EAAIS,GAAMT,EAAIS,EAAKe,GACnBxB,EAAIS,EAAK,GAAKT,EAAIS,EAAK,EAAIe,GAC3BxB,EAAIS,EAAK,GAAKT,EAAIS,EAAK,EAAIe,GAC3BxB,EAAIS,EAAK,GAAKT,EAAIS,EAAK,EAAIe,GAG7Bf,EAAKttC,IAIT8sC,EAAGjiD,EAAI0iD,EAAIT,EAAG9hD,EAAIwjD,EAAM1B,EAAGzzD,EAAIi0D,EAC3BC,IAAIF,EAAQ,EAAGP,EAAGhiD,EAAI2iD,EAAKX,EAAGriD,EAAI+iD,EAAIV,EAAG/hD,EAAI2iD,UACzCL,GAEV,OAAOC,GAAMT,EAAIr2D,OAASq2D,EAAMJ,EAAII,EAAK,EAAGS,IAI1CqB,EAAQ,SAAelkD,EAAGO,EAAGI,GAC/BA,IAAU,EAAJJ,EACN,IAAIshD,EAAIthD,EAAI,EAAI,EAChBP,EAAE6hD,IAAMlhD,EACRX,EAAE6hD,EAAI,IAAMlhD,IAAM,GAIhBwjD,EAAU,SAAiBnkD,EAAGO,EAAGI,GACnCA,IAAU,EAAJJ,EACN,IAAIshD,EAAIthD,EAAI,EAAI,EAChBP,EAAE6hD,IAAMlhD,EACRX,EAAE6hD,EAAI,IAAMlhD,IAAM,EAClBX,EAAE6hD,EAAI,IAAMlhD,IAAM,IAIhByjD,EAAQ,SAAepkD,EAAGghD,GAI5B,IAFA,IAAItgD,EAAI,GAEC7S,EAAI,EAAGA,EAAImS,EAAEjU,SAAU8B,EAC1BmS,EAAEnS,IAAI6S,EAAEhL,KAAK,CACfgvC,EAAG72C,EACHoS,EAAGD,EAAEnS,KAIT,IAAI62C,EAAIhkC,EAAE3U,OACNs4D,EAAK3jD,EAAE1G,QACX,IAAK0qC,EAAG,MAAO,CAAC4f,GAAI,GAEpB,GAAS,GAAL5f,EAAQ,CACV,IAAI/jC,EAAI,IAAIi/C,EAAGl/C,EAAE,GAAGgkC,EAAI,GAExB,OADA/jC,EAAED,EAAE,GAAGgkC,GAAK,EACL,CAAC/jC,EAAG,GAGbD,EAAEy9B,MAAK,SAAUxvC,EAAGC,GAClB,OAAOD,EAAEsR,EAAIrR,EAAEqR,KAIjBS,EAAEhL,KAAK,CACLgvC,GAAI,EACJzkC,EAAG,QAEL,IAAIG,EAAIM,EAAE,GACND,EAAIC,EAAE,GACN6jD,EAAK,EACLC,EAAK,EACLC,EAAK,EAYT,IAXA/jD,EAAE,GAAK,CACLgkC,GAAI,EACJzkC,EAAGG,EAAEH,EAAIQ,EAAER,EACXG,EAAGA,EACHK,EAAGA,GAOE+jD,GAAM9f,EAAI,GACftkC,EAAIM,EAAEA,EAAE6jD,GAAItkD,EAAIS,EAAE+jD,GAAIxkD,EAAIskD,IAAOE,KACjChkD,EAAIC,EAAE6jD,GAAMC,GAAM9jD,EAAE6jD,GAAItkD,EAAIS,EAAE+jD,GAAIxkD,EAAIskD,IAAOE,KAC7C/jD,EAAE8jD,KAAQ,CACR9f,GAAI,EACJzkC,EAAGG,EAAEH,EAAIQ,EAAER,EACXG,EAAGA,EACHK,EAAGA,GAIP,IAAIikD,EAASL,EAAG,GAAG3f,EAEnB,IAAS72C,EAAI,EAAGA,EAAI62C,IAAK72C,EACnBw2D,EAAGx2D,GAAG62C,EAAIggB,IAAQA,EAASL,EAAGx2D,GAAG62C,GAIvC,IAAIigB,EAAK,IAAI7E,EAAI4E,EAAS,GAEtBE,EAAMC,EAAGnkD,EAAE8jD,EAAK,GAAIG,EAAI,GAE5B,GAAIC,EAAM5D,EAAI,CAIRnzD,EAAI,EAAR,IACI+1D,EAAK,EAELkB,EAAMF,EAAM5D,EACZ+D,EAAM,GAAKD,EAKf,IAJAT,EAAGlmB,MAAK,SAAUxvC,EAAGC,GACnB,OAAO+1D,EAAG/1D,EAAE81C,GAAKigB,EAAGh2D,EAAE+1C,IAAM/1C,EAAEsR,EAAIrR,EAAEqR,KAG/BpS,EAAI62C,IAAK72C,EAAG,CACjB,IAAIm3D,EAAOX,EAAGx2D,GAAG62C,EAEjB,KAAIigB,EAAGK,GAAQhE,GAGR,MAFL4C,GAAMmB,GAAO,GAAKH,EAAMD,EAAGK,IAC3BL,EAAGK,GAAQhE,EAMf,IAFA4C,KAAQkB,EAEDlB,EAAK,GAAG,CACb,IAAIqB,EAAOZ,EAAGx2D,GAAG62C,EACbigB,EAAGM,GAAQjE,EAAI4C,GAAM,GAAK5C,EAAK2D,EAAGM,KAAU,IAASp3D,EAG3D,KAAOA,GAAK,GAAK+1D,IAAM/1D,EAAG,CACxB,IAAIq3D,EAAOb,EAAGx2D,GAAG62C,EAEbigB,EAAGO,IAASlE,MACZ2D,EAAGO,KACHtB,GAINgB,EAAM5D,EAGR,MAAO,CAAC,IAAIpB,EAAG+E,GAAKC,IAIlBC,EAAK,SAASA,EAAGvkD,EAAGF,EAAGJ,GACzB,OAAe,GAARM,EAAEokC,EAAUv+B,KAAK4D,IAAI86C,EAAGvkD,EAAEF,EAAGA,EAAGJ,EAAI,GAAI6kD,EAAGvkD,EAAEG,EAAGL,EAAGJ,EAAI,IAAMI,EAAEE,EAAEokC,GAAK1kC,GAI3EmlD,EAAK,SAAYplD,GAGnB,IAFA,IAAI2kC,EAAI3kC,EAAEhU,OAEH24C,IAAM3kC,IAAI2kC,KAcjB,IAVA,IAAI0gB,EAAK,IAAItF,IAAMpb,GAEf2gB,EAAM,EACNC,EAAMvlD,EAAE,GACRwlD,EAAM,EAEN3kD,EAAI,SAAWD,GACjBykD,EAAGC,KAAS1kD,GAGL9S,EAAI,EAAGA,GAAK62C,IAAK72C,EACxB,GAAIkS,EAAElS,IAAMy3D,GAAOz3D,GAAK62C,IAAK6gB,MAAS,CACpC,IAAKD,GAAOC,EAAM,EAAG,CACnB,KAAOA,EAAM,IAAKA,GAAO,IACvB3kD,EAAE,OAGA2kD,EAAM,IACR3kD,EAAE2kD,EAAM,GAAKA,EAAM,IAAM,EAAI,MAAQA,EAAM,GAAK,EAAI,OACpDA,EAAM,QAEH,GAAIA,EAAM,EAAG,CAGlB,IAFA3kD,EAAE0kD,KAAQC,EAEHA,EAAM,EAAGA,GAAO,EACrB3kD,EAAE,MAGA2kD,EAAM,IAAG3kD,EAAE2kD,EAAM,GAAK,EAAI,MAAOA,EAAM,GAG7C,KAAOA,KACL3kD,EAAE0kD,GAGJC,EAAM,EACND,EAAMvlD,EAAElS,GAIZ,MAAO,CAACu3D,EAAGnD,SAAS,EAAGoD,GAAM3gB,IAI3B8gB,EAAO,SAAcC,EAAIL,GAG3B,IAFA,IAAIhlD,EAAI,EAECvS,EAAI,EAAGA,EAAIu3D,EAAGr5D,SAAU8B,EAC/BuS,GAAKqlD,EAAG53D,GAAKu3D,EAAGv3D,GAGlB,OAAOuS,GAKLslD,EAAQ,SAAeC,EAAK/hC,EAAKu+B,GAEnC,IAAIzd,EAAIyd,EAAIp2D,OACR81D,EAAIE,EAAKn+B,EAAM,GACnB+hC,EAAI9D,GAAS,IAAJnd,EACTihB,EAAI9D,EAAI,GAAKnd,IAAM,EACnBihB,EAAI9D,EAAI,GAAc,IAAT8D,EAAI9D,GACjB8D,EAAI9D,EAAI,GAAkB,IAAb8D,EAAI9D,EAAI,GAErB,IAAK,IAAIh0D,EAAI,EAAGA,EAAI62C,IAAK72C,EACvB83D,EAAI9D,EAAIh0D,EAAI,GAAKs0D,EAAIt0D,GAGvB,OAAqB,GAAbg0D,EAAI,EAAInd,IAIdkhB,EAAO,SAAczD,EAAKwD,EAAK/C,EAAOiD,EAAMC,EAAIC,EAAIzF,EAAI0F,EAAIC,EAAIvD,EAAIniD,GACtE2jD,EAAMyB,EAAKplD,IAAKqiD,KACdkD,EAAG,KAoBL,IAlBA,IAAIvF,EAAK6D,EAAM0B,EAAI,IACfI,EAAM3F,EAAG,GACT4F,EAAM5F,EAAG,GAETG,EAAK0D,EAAM2B,EAAI,IACfK,EAAM1F,EAAG,GACT2F,EAAM3F,EAAG,GAET4F,EAAKnB,EAAGe,GACRK,EAAOD,EAAG,GACVE,EAAMF,EAAG,GAETG,EAAKtB,EAAGiB,GACRM,EAAOD,EAAG,GACVE,EAAMF,EAAG,GAETG,EAAS,IAAI9G,EAAI,IAEZjyD,EAAI,EAAGA,EAAI04D,EAAKx6D,SAAU8B,EACjC+4D,EAAiB,GAAVL,EAAK14D,MAGd,IAASA,EAAI,EAAGA,EAAI64D,EAAK36D,SAAU8B,EACjC+4D,EAAiB,GAAVF,EAAK74D,MASd,IANA,IAAIg5D,EAAKzC,EAAMwC,EAAQ,GACnBE,EAAMD,EAAG,GACTE,EAAOF,EAAG,GAEVG,EAAO,GAEJA,EAAO,IAAMF,EAAI1G,EAAK4G,EAAO,MAAOA,GAI3C,IAIIlE,EAAImE,EAAIlE,EAAImE,EAJZC,EAAOzE,EAAK,GAAK,EACjB0E,EAAQ5B,EAAKM,EAAIxE,GAAOkE,EAAKO,EAAIxE,GAAOjB,EACxC+G,EAAQ7B,EAAKM,EAAII,GAAOV,EAAKO,EAAIK,GAAO9F,EAAK,GAAK,EAAI0G,EAAOxB,EAAKoB,EAAQE,IAAQ,EAAIF,EAAO,IAAM,EAAIA,EAAO,IAAM,EAAIA,EAAO,KACnI,GAAIO,GAAQC,GAASD,GAAQE,EAAO,OAAO3B,EAAMC,EAAKplD,EAAG4hD,EAAIF,SAASgE,EAAIA,EAAKvD,IAI/E,GAFAwB,EAAMyB,EAAKplD,EAAG,GAAK8mD,EAAQD,IAAS7mD,GAAK,EAErC8mD,EAAQD,EAAO,CACjBtE,EAAKhC,EAAKoF,EAAKC,EAAK,GAAIc,EAAKf,EAAKnD,EAAKjC,EAAKsF,EAAKC,EAAK,GAAIa,EAAKd,EAC/D,IAAIkB,EAAMxG,EAAKgG,EAAKC,EAAM,GAC1B7C,EAAMyB,EAAKplD,EAAGimD,EAAM,KACpBtC,EAAMyB,EAAKplD,EAAI,EAAGomD,EAAM,GACxBzC,EAAMyB,EAAKplD,EAAI,GAAIymD,EAAO,GAC1BzmD,GAAK,GAEL,IAAS1S,EAAI,EAAGA,EAAIm5D,IAAQn5D,EAC1Bq2D,EAAMyB,EAAKplD,EAAI,EAAI1S,EAAGi5D,EAAI1G,EAAKvyD,KAGjC0S,GAAK,EAAIymD,EAGT,IAFA,IAAIO,EAAO,CAAChB,EAAMG,GAET73D,EAAK,EAAGA,EAAK,IAAKA,EACzB,KAAI24D,GAAOD,EAAK14D,GAEhB,IAAShB,EAAI,EAAGA,EAAI25D,GAAKz7D,SAAU8B,EAAG,CACpC,IAAI45D,GAAgB,GAAVD,GAAK35D,GACfq2D,EAAMyB,EAAKplD,EAAG+mD,EAAIG,KAAOlnD,GAAKumD,EAAIW,IAC9BA,GAAM,KAAIvD,EAAMyB,EAAKplD,EAAGinD,GAAK35D,KAAO,EAAI,KAAM0S,GAAKinD,GAAK35D,KAAO,WAIvEi1D,EAAKtB,EAAKyF,EAAK3F,EAAKyB,EAAKrB,EAAKwF,EAAK3F,EAGrC,IAAS1zD,EAAI,EAAGA,EAAIm4D,IAAMn4D,EACxB,GAAIg4D,EAAKh4D,GAAK,IAAK,CACb45D,GAAM5B,EAAKh4D,KAAO,GAAK,GAC3Bs2D,EAAQwB,EAAKplD,EAAGuiD,EAAG2E,GAAM,MAAOlnD,GAAK0mD,EAAGQ,GAAM,KAC1CA,GAAM,IAAGvD,EAAMyB,EAAKplD,EAAGslD,EAAKh4D,KAAO,GAAK,IAAK0S,GAAK2/C,EAAKuH,KAC3D,IAAIC,GAAgB,GAAV7B,EAAKh4D,GACfs2D,EAAQwB,EAAKplD,EAAGwiD,EAAG2E,KAAOnnD,GAAK2mD,EAAGQ,IAC9BA,GAAM,IAAGvD,EAAQwB,EAAKplD,EAAGslD,EAAKh4D,KAAO,EAAI,MAAO0S,GAAK4/C,EAAKuH,UAE9DvD,EAAQwB,EAAKplD,EAAGuiD,EAAG+C,EAAKh4D,KAAM0S,GAAK0mD,EAAGpB,EAAKh4D,IAK/C,OADAs2D,EAAQwB,EAAKplD,EAAGuiD,EAAG,MACZviD,EAAI0mD,EAAG,MAIZU,GAAmB,IAAI3H,EAAI,CAAC,MAAO,OAAQ,OAAQ,OAAQ,OAAQ,QAAS,QAAS,QAAS,UAE9FsE,GAAkB,IAAI1E,EAAG,GAEzBgI,GAAO,SAAczF,EAAK0F,EAAKC,EAAMC,EAAKC,EAAMC,GAClD,IAAIvjB,EAAIyd,EAAIp2D,OACR81D,EAAI,IAAIjC,EAAGmI,EAAMrjB,EAAI,GAAK,EAAIv+B,KAAK8a,KAAKyjB,EAAI,MAASsjB,GAErDpnD,EAAIihD,EAAEI,SAAS8F,EAAKlG,EAAE91D,OAASi8D,GAC/BpkC,EAAM,EAEV,IAAKikC,GAAOnjB,EAAI,EACd,IAAK,IAAI72C,EAAI,EAAGA,GAAK62C,EAAG72C,GAAK,MAAO,CAElC,IAAIG,EAAIH,EAAI,MAERG,EAAI02C,EAEN9gB,EAAM8hC,EAAM9kD,EAAGgjB,EAAKu+B,EAAIF,SAASp0D,EAAGG,KAGpC4S,EAAE/S,GAAKo6D,EACPrkC,EAAM8hC,EAAM9kD,EAAGgjB,EAAKu+B,EAAIF,SAASp0D,EAAG62C,SAGnC,CA6BL,IA5BA,IAAIwjB,EAAMP,GAAIE,EAAM,GAChBvnD,EAAI4nD,IAAQ,GACZnoD,EAAU,KAANmoD,EACJC,GAAS,GAAKL,GAAQ,EAEtBM,EAAO,IAAItI,EAAI,OACflmD,EAAO,IAAIkmD,EAAIqI,EAAQ,GACvBE,EAAQliD,KAAK8a,KAAK6mC,EAAO,GACzBQ,EAAQ,EAAID,EAEZE,EAAM,SAAa16D,GACrB,OAAQs0D,EAAIt0D,GAAKs0D,EAAIt0D,EAAI,IAAMw6D,EAAQlG,EAAIt0D,EAAI,IAAMy6D,GAASH,GAK5DtC,EAAO,IAAI7F,EAAI,MAEf8F,EAAK,IAAIhG,EAAI,KACbiG,EAAK,IAAIjG,EAAI,IAEb0I,EAAO,EACPlI,EAAK,EAEL0F,GADAn4D,EAAI,EACC,GACL46D,EAAK,EACLxC,EAAK,EAEFp4D,EAAI62C,IAAK72C,EAAG,CAGjB,IAAI66D,EAAKH,EAAI16D,GAET86D,EAAW,MAAJ96D,EACP+6D,EAAQhvD,EAAK8uD,GAKjB,GAJAN,EAAKO,GAAQC,EACbhvD,EAAK8uD,GAAMC,EAGPF,GAAM56D,EAAG,CAEX,IAAIg7D,EAAMnkB,EAAI72C,EAEd,IAAK26D,EAAO,KAAQxC,EAAK,QAAU6C,EAAM,IAAK,CAC5CjlC,EAAMgiC,EAAKzD,EAAKvhD,EAAG,EAAGilD,EAAMC,EAAIC,EAAIzF,EAAI0F,EAAIC,EAAIp4D,EAAIo4D,EAAIriC,GACxDoiC,EAAKwC,EAAOlI,EAAK,EAAG2F,EAAKp4D,EAEzB,IAAK,IAAIglB,EAAI,EAAGA,EAAI,MAAOA,EACzBizC,EAAGjzC,GAAK,EAGV,IAASA,EAAI,EAAGA,EAAI,KAAMA,EACxBkzC,EAAGlzC,GAAK,EAKZ,IAAIzS,EAAI,EACJJ,EAAI,EACJ8oD,EAAO/oD,EACPgpD,EAAMJ,EAAOC,EAAQ,MAEzB,GAAIC,EAAM,GAAKH,GAAMH,EAAI16D,EAAIk7D,GAO3B,IANA,IAAIC,EAAO7iD,KAAK2D,IAAIxJ,EAAGuoD,GAAO,EAC1BI,EAAO9iD,KAAK2D,IAAI,MAAOjc,GAGvBq7D,EAAK/iD,KAAK2D,IAAI,IAAK++C,GAEhBE,GAAOE,KAAUH,GAAQH,GAAQC,GAAO,CAC7C,GAAIzG,EAAIt0D,EAAIuS,IAAM+hD,EAAIt0D,EAAIuS,EAAI2oD,GAAM,CAGlC,IAFA,IAAII,EAAK,EAEFA,EAAKD,GAAM/G,EAAIt0D,EAAIs7D,IAAOhH,EAAIt0D,EAAIs7D,EAAKJ,KAAQI,GAItD,GAAIA,EAAK/oD,EAAG,CAGV,GAFAA,EAAI+oD,EAAInpD,EAAI+oD,EAERI,EAAKH,EAAM,MAIf,IAAII,EAAMjjD,KAAK2D,IAAIi/C,EAAKI,EAAK,GACzBhnB,GAAK,EAET,IAAStvB,EAAI,EAAGA,EAAIu2C,IAAOv2C,EAAG,CAC5B,IAAIw2C,GAAKx7D,EAAIk7D,EAAMl2C,EAAI,MAAQ,MAE3BkuC,GAAKsI,GADCjB,EAAKiB,IACK,MAAQ,MACxBtI,GAAK5e,KAAIA,GAAK4e,GAAI6H,EAAQS,MAOpCN,IADAJ,EAAOC,IAAOA,EAAQR,EAAKO,IACL,MAAQ,MAKlC,GAAI3oD,EAAG,CAGL6lD,EAAKG,KAAQ,UAAYvF,EAAMrgD,IAAM,GAAKwgD,EAAM5gD,GAChD,IAAIspD,GAAiB,GAAX7I,EAAMrgD,GACZmpD,GAAiB,GAAX3I,EAAM5gD,GAChBsgD,GAAMJ,EAAKoJ,IAAOnJ,EAAKoJ,MACrBzD,EAAG,IAAMwD,MACTvD,EAAGwD,IACLd,EAAK56D,EAAIuS,IACPooD,OAEF3C,EAAKG,KAAQ7D,EAAIt0D,KACfi4D,EAAG3D,EAAIt0D,KAKf+1B,EAAMgiC,EAAKzD,EAAKvhD,EAAGqnD,EAAKpC,EAAMC,EAAIC,EAAIzF,EAAI0F,EAAIC,EAAIp4D,EAAIo4D,EAAIriC,IAErDqkC,GAAa,EAANrkC,IAASA,EAAM8hC,EAAM9kD,EAAGgjB,EAAM,EAAG0gC,KAG/C,OAAOtC,EAAIH,EAAG,EAAGkG,EAAMhG,EAAKn+B,GAAOokC,IAIjCwB,GAAoB,WAGtB,IAFA,IAAI9oD,EAAI,IAAIs/C,EAAI,KAEPnyD,EAAI,EAAGA,EAAI,MAAOA,EAAG,CAI5B,IAHA,IAAIkS,EAAIlS,EACJsS,EAAI,IAECA,GACPJ,GAAS,EAAJA,GAAS,YAAcA,IAAM,EAGpCW,EAAE7S,GAAKkS,EAGT,OAAOW,EAde,GAkBpB+oD,GAAM,WACR,IAAI1pD,GAAK,EACT,MAAO,CACLQ,EAAG,SAAWP,GAIZ,IAFA,IAAI0pD,EAAK3pD,EAEAlS,EAAI,EAAGA,EAAImS,EAAEjU,SAAU8B,EAC9B67D,EAAKF,GAAU,IAALE,EAAW1pD,EAAEnS,IAAM67D,IAAO,EAGtC3pD,EAAI2pD,GAEN1pD,EAAG,WACD,OAAQD,KAMV4pD,GAAQ,WACV,IAAIh7D,EAAI,EACJC,EAAI,EACR,MAAO,CACL2R,EAAG,SAAWP,GAMZ,IAJA,IAAIM,EAAI3R,EACJ0R,EAAIzR,EACJwR,EAAIJ,EAAEjU,OAED8B,EAAI,EAAGA,GAAKuS,GAAI,CAGvB,IAFA,IAAIpS,EAAImY,KAAK2D,IAAIjc,EAAI,KAAMuS,GAEpBvS,EAAIG,IAAKH,EACdwS,GAAKC,GAAKN,EAAEnS,GAGdyS,GAAS,MAAJA,GAAa,IAAMA,GAAK,IAAKD,GAAS,MAAJA,GAAa,IAAMA,GAAK,IAGjE1R,EAAI2R,EAAG1R,EAAIyR,GAEbL,EAAG,WAED,OAAY,KADZrR,GAAK,SACe,GAAKA,IAAM,GAAK,IAAU,KADlCC,GAAK,SACqC,EAAIA,IAAM,KAOlEg7D,GAAO,SAAczH,EAAK+F,EAAKH,EAAKC,EAAM3F,GAC5C,OAAOuF,GAAKzF,EAAkB,MAAb+F,EAAI2B,MAAgB,EAAI3B,EAAI2B,MAAkB,MAAX3B,EAAI4B,IAAc3jD,KAAK8a,KAAuD,IAAlD9a,KAAK4D,IAAI,EAAG5D,KAAK2D,IAAI,GAAI3D,KAAKwe,IAAIw9B,EAAIp2D,WAAmB,GAAKm8D,EAAI4B,IAAK/B,EAAKC,GAAO3F,IAIjK0H,GAAM,SAAap7D,EAAGC,GACxB,IAAIizD,EAAI,GAER,IAAK,IAAI1hD,KAAKxR,EACZkzD,EAAE1hD,GAAKxR,EAAEwR,GAGX,IAAK,IAAIA,KAAKvR,EACZizD,EAAE1hD,GAAKvR,EAAEuR,GAGX,OAAO0hD,GAULmI,GAAO,SAAcxqC,EAAIyqC,EAAOC,GAKlC,IAJA,IAAItG,EAAKpkC,IACL6iC,EAAK7iC,EAAG7vB,WACRw6D,EAAK9H,EAAGroD,MAAMqoD,EAAGlvD,QAAQ,KAAO,EAAGkvD,EAAG+H,YAAY,MAAMx2D,QAAQ,KAAM,IAAIqF,MAAM,KAE3EpL,EAAI,EAAGA,EAAI+1D,EAAG73D,SAAU8B,EAAG,CAClC,IAAI8S,EAAIijD,EAAG/1D,GACPsS,EAAIgqD,EAAGt8D,GAEX,GAAgB,mBAAL8S,EAAiB,CAC1BspD,GAAS,IAAM9pD,EAAI,IACnB,IAAIkqD,EAAO1pD,EAAEhR,WAEb,GAAIgR,EAAE5V,UAEJ,IAAsC,GAAlCs/D,EAAKl3D,QAAQ,iBAAwB,CACvC,IAAIm3D,EAAQD,EAAKl3D,QAAQ,IAAK,GAAK,EACnC82D,GAASI,EAAKrwD,MAAMswD,EAAOD,EAAKl3D,QAAQ,IAAKm3D,SAI7C,IAAK,IAAI5pD,KAFTupD,GAASI,EAEK1pD,EAAE5V,UACdk/D,GAAS,IAAM9pD,EAAI,cAAgBO,EAAI,IAAMC,EAAE5V,UAAU2V,GAAG/Q,gBAG3Ds6D,GAASI,OACXH,EAAG/pD,GAAKQ,EAGjB,MAAO,CAACspD,EAAOC,IAGbK,GAAK,GAaLC,GAAO,SAAcC,EAAKC,EAAMt0D,EAAIe,GACtC,IAAIopD,EAEJ,IAAKgK,GAAGn0D,GAAK,CAKX,IAJA,IAAI6zD,EAAQ,GACRU,EAAO,GACPtqD,EAAIoqD,EAAI1+D,OAAS,EAEZ8B,EAAI,EAAGA,EAAIwS,IAAKxS,EACSo8D,GAAhC1J,EAAKyJ,GAAKS,EAAI58D,GAAIo8D,EAAOU,IAAkB,GAAIA,EAAOpK,EAAG,GAG3DgK,GAAGn0D,GAAM4zD,GAAKS,EAAIpqD,GAAI4pD,EAAOU,GAG/B,IAAIT,EAAKH,GAAI,GAAIQ,GAAGn0D,GAAI,IACxB,OAz/BO,SAAY2J,EAAG3J,EAAIW,EAAK6zD,EAAUzzD,GACzC,IAAIyJ,EAAI4+C,EAAIL,EAAI/oD,KAAQ+oD,EAAI/oD,GAAMgpD,EAAKr/C,KAWvC,OATAa,EAAEiqD,QAAU,SAAU78D,GACpB,OAAOmJ,EAAGnJ,EAAE+B,MAAO,OAGrB6Q,EAAEkqD,UAAY,SAAU98D,GACtB,OAAOmJ,EAAG,KAAMnJ,EAAEgwB,OAGpBpd,EAAEmqD,YAAYh0D,EAAK6zD,GACZhqD,EA6+BAoqD,CAAGT,GAAGn0D,GAAI,GAAK,0EAA4Es0D,EAAK/6D,WAAa,IAAKyG,EAAI8zD,EA3BpH,SAAcvpD,GACvB,IAAI0iD,EAAK,GAET,IAAK,IAAIljD,KAAKQ,GACRA,EAAER,aAAcy/C,GAAMj/C,EAAER,aAAc2/C,GAAOn/C,EAAER,aAAc6/C,IAAKqD,EAAG3tD,MAAMiL,EAAER,GAAK,IAAIQ,EAAER,GAAGrV,YAAY6V,EAAER,KAAK8qD,QAGpH,OAAO5H,EAoB0H6H,CAAKhB,GAAK/yD,IAIzIg0D,GAAS,WACX,MAAO,CAACvL,EAAIE,EAAKE,EAAKE,EAAMC,EAAMC,EAAMI,EAAIG,EAAIc,EAAME,EAAMd,EAAKC,EAAM/2C,EAAK63C,EAAME,EAAQC,EAAMC,EAAKE,EAAOkJ,GAAaC,GAAKC,KAG5HC,GAAQ,WACV,MAAO,CAAC3L,EAAIE,EAAKE,EAAKE,EAAMC,EAAMC,EAAMK,EAAOG,EAAOY,EAAKF,EAAKI,EAAKH,EAAKV,EAAK8G,GAAKrD,GAAIxD,EAAMoD,EAAOC,EAASC,EAAOS,EAAIM,EAAIK,EAAME,EAAOE,EAAM7D,EAAMC,EAAK4F,GAAMgC,GAAM4B,GAAaH,KAIlLI,GAAM,WACR,MAAO,CAACC,GAAKC,GAAMC,GAAQnC,GAAKD,KAI9BqC,GAAO,WACT,MAAO,CAACC,GAAKC,KAIXC,GAAM,WACR,MAAO,CAACC,GAAKL,GAAQjC,KAInBuC,GAAO,WACT,MAAO,CAACC,KAINd,GAAM,SAAat0D,GACrB,OAAOg0D,YAAYh0D,EAAK,CAACA,EAAIk0D,UAI3BK,GAAM,SAAazJ,GACrB,OAAOA,GAAKA,EAAE7yD,MAAQ,IAAI4wD,EAAGiC,EAAE7yD,OAI7Bo9D,GAAQ,SAAejK,EAAK50B,EAAMk9B,EAAKC,EAAMt0D,EAAIe,GACnD,IAAIyJ,EAAI4pD,GAAKC,EAAKC,EAAMt0D,GAAI,SAAUg9B,EAAK+uB,GACzCvhD,EAAEyrD,YACFl1D,EAAGi8B,EAAK+uB,MAGV,OADAvhD,EAAEmqD,YAAY,CAAC5I,EAAK50B,GAAOA,EAAK++B,QAAU,CAACnK,EAAI8I,QAAU,IAClD,WACLrqD,EAAEyrD,cAKFE,GAAQ,SAAeC,GAKzB,OAJAA,EAAKC,OAAS,SAAUtK,EAAKS,GAC3B,OAAOmI,YAAY,CAAC5I,EAAKS,GAAQ,CAACT,EAAI8I,UAGjC,SAAUyB,GACf,OAAOF,EAAK92D,KAAKg3D,EAAG1uC,KAAK,GAAI0uC,EAAG1uC,KAAK,MAKrC2uC,GAAW,SAAkBlC,EAAK+B,EAAMj/B,EAAMm9B,EAAMt0D,GACtD,IAAIsK,EACAE,EAAI4pD,GAAKC,EAAKC,EAAMt0D,GAAI,SAAUg9B,EAAK+uB,GACrC/uB,GAAKxyB,EAAEyrD,YAAaG,EAAKC,OAAO58D,KAAK28D,EAAMp5B,KACzC+uB,EAAI,IAAIvhD,EAAEyrD,YACdG,EAAKC,OAAO58D,KAAK28D,EAAMp5B,EAAK+uB,EAAI,GAAIA,EAAI,QAG5CvhD,EAAEmqD,YAAYx9B,GAEdi/B,EAAK92D,KAAO,SAAUsK,EAAGC,GACvB,GAAIS,EAAG,KAAM,kBACb,IAAK8rD,EAAKC,OAAQ,KAAM,oBACxB7rD,EAAEmqD,YAAY,CAAC/qD,EAAGU,EAAIT,GAAI,CAACD,EAAEirD,UAG/BuB,EAAKH,UAAY,WACfzrD,EAAEyrD,cAKFO,GAAK,SAAY5sD,EAAGpR,GACtB,OAAOoR,EAAEpR,GAAKoR,EAAEpR,EAAI,IAAM,GAIxBi+D,GAAK,SAAY7sD,EAAGpR,GACtB,OAAQoR,EAAEpR,GAAKoR,EAAEpR,EAAI,IAAM,EAAIoR,EAAEpR,EAAI,IAAM,GAAKoR,EAAEpR,EAAI,IAAM,MAAQ,GAGlEk+D,GAAK,SAAY9sD,EAAGpR,GACtB,OAAOi+D,GAAG7sD,EAAGpR,GAAoB,WAAfi+D,GAAG7sD,EAAGpR,EAAI,IAI1Bg9D,GAAS,SAAgB5rD,EAAGpR,EAAG+R,GACjC,KAAOA,IAAK/R,EACVoR,EAAEpR,GAAK+R,EAAGA,KAAO,GAKjB+qD,GAAM,SAAa3rD,EAAG8hD,GACxB,IAAIriC,EAAKqiC,EAAEkL,SAKX,GAJAhtD,EAAE,GAAK,GAAIA,EAAE,GAAK,IAAKA,EAAE,GAAK,EAAGA,EAAE,GAAK8hD,EAAEgI,MAAQ,EAAI,EAAe,GAAXhI,EAAEgI,MAAa,EAAI,EAAG9pD,EAAE,GAAK,EAExE,GAAX8hD,EAAEmL,OAAYpB,GAAO7rD,EAAG,EAAGoG,KAAK+a,MAAM,IAAIprB,KAAK+rD,EAAEmL,OAASl3D,KAAKC,OAAS,MAExEypB,EAAI,CACNzf,EAAE,GAAK,EAEP,IAAK,IAAIlS,EAAI,EAAGA,GAAK2xB,EAAGzzB,SAAU8B,EAChCkS,EAAElS,EAAI,IAAM2xB,EAAGytC,WAAWp/D,KAO5Bi+D,GAAM,SAAa9rD,GACrB,GAAY,IAARA,EAAE,IAAoB,KAARA,EAAE,IAAqB,GAARA,EAAE,GAAS,KAAM,oBAClD,IAAIktD,EAAMltD,EAAE,GACRqiD,EAAK,GACC,EAAN6K,IAAS7K,GAAMriD,EAAE,IAAqB,GAAdA,EAAE,KAAO,IAErC,IAAK,IAAImtD,GAAMD,GAAO,EAAI,IAAMA,GAAO,EAAI,GAAIC,EAAK,EAAGA,IAAOntD,EAAEqiD,MAIhE,OAAOA,GAAY,EAAN6K,IAIXnB,GAAM,SAAa/rD,GACrB,IAAII,EAAIJ,EAAEjU,OACV,OAAQiU,EAAEI,EAAI,GAAKJ,EAAEI,EAAI,IAAM,EAAIJ,EAAEI,EAAI,IAAM,GAAKJ,EAAEI,EAAI,IAAM,MAAQ,GAItEurD,GAAO,SAAc9J,GACvB,OAAO,IAAMA,EAAEkL,UAAYlL,EAAEkL,SAAShhE,OAAS,GAAK,IAIlDkgE,GAAM,SAAalsD,EAAG8hD,GACxB,IAAIuL,EAAKvL,EAAEgI,MACPrJ,EAAW,GAAN4M,EAAU,EAAIA,EAAK,EAAI,EAAU,GAANA,EAAU,EAAI,EAClDrtD,EAAE,GAAK,IAAKA,EAAE,GAAKygD,GAAM,GAAKA,EAAK,GAAK,EAAIA,EAAK,IAI/C2L,GAAM,SAAansD,GACrB,GAAmB,IAAP,GAAPA,EAAE,KAAiBA,EAAE,KAAO,EAAI,IAAMA,EAAE,IAAM,EAAIA,EAAE,IAAM,GAAI,KAAM,oBACzE,GAAW,GAAPA,EAAE,GAAS,KAAM,wDAGvB,SAASqtD,GAAa9/B,EAAMp2B,GAG1B,OAFKA,GAAqB,mBAARo2B,IAAoBp2B,EAAKo2B,EAAMA,EAAO,IACxDpwB,KAAKsvD,OAASt1D,EACPo2B,EAQT,IAAI+/B,GAAU,WACZ,SAASA,EAAQ//B,EAAMp2B,GAChBA,GAAqB,mBAARo2B,IAAoBp2B,EAAKo2B,EAAMA,EAAO,IACxDpwB,KAAKsvD,OAASt1D,EACdgG,KAAK0kD,EAAIt0B,GAAQ,GAoBnB,OAjBA+/B,EAAQviE,UAAUwV,EAAI,SAAUR,EAAGE,GACjC9C,KAAKsvD,OAAO7C,GAAK7pD,EAAG5C,KAAK0kD,EAAG,EAAG,GAAI5hD,GAAIA,IASzCqtD,EAAQviE,UAAU2K,KAAO,SAAU63D,EAAO3K,GACxC,GAAIzlD,KAAK6C,EAAG,KAAM,kBAClB,IAAK7C,KAAKsvD,OAAQ,KAAM,oBACxBtvD,KAAK6C,EAAI4iD,EACTzlD,KAAKoD,EAAEgtD,EAAO3K,IAAS,IAGlB0K,EAxBK,GAgCVE,GACF,SAAsBjgC,EAAMp2B,GAC1Bw1D,GAAS,CAACpB,GAAO,WACf,MAAO,CAACgB,GAAOe,MACbnwD,KAAMkwD,GAAax9D,KAAKsN,KAAMowB,EAAMp2B,IAAK,SAAUu1D,GACrD,IAAIF,EAAO,IAAIc,GAAQZ,EAAG1uC,MAC1B8sC,UAAYyB,GAAMC,KACjB,IAOA,SAASiB,GAAQzvC,EAAMuP,EAAMp2B,GAElC,GADKA,IAAIA,EAAKo2B,EAAMA,EAAO,IACV,mBAANp2B,EAAkB,KAAM,cACnC,OAAOi1D,GAAMpuC,EAAMuP,EAAM,CAACg+B,KAAQ,SAAUmB,GAC1C,OAAOrB,GAAIG,GAAYkB,EAAG1uC,KAAK,GAAI0uC,EAAG1uC,KAAK,OAC1C,EAAG7mB,GASD,SAASq0D,GAAYxtC,EAAMuP,GAChC,OAAOq8B,GAAK5rC,EAAMuP,GAAQ,GAAI,EAAG,GAMnC,IAAImgC,GAAU,WAKZ,SAASA,EAAQv2D,GACfgG,KAAKunC,EAAI,GACTvnC,KAAKoD,EAAI,IAAIq/C,EAAG,GAChBziD,KAAKsvD,OAASt1D,EA8BhB,OA3BAu2D,EAAQ3iE,UAAUiD,EAAI,SAAU+R,GAC9B,GAAI5C,KAAK6C,EAAG,KAAM,kBAClB,IAAK7C,KAAKsvD,OAAQ,KAAM,oBACxB,IAAIrsD,EAAIjD,KAAKoD,EAAExU,OACXuU,EAAI,IAAIs/C,EAAGx/C,EAAIL,EAAEhU,QACrBuU,EAAEhB,IAAInC,KAAKoD,GAAID,EAAEhB,IAAIS,EAAGK,GAAIjD,KAAKoD,EAAID,GAGvCotD,EAAQ3iE,UAAUgV,EAAI,SAAU6iD,GAC9BzlD,KAAK6C,EAAI7C,KAAKunC,EAAE72C,EAAI+0D,IAAS,EAC7B,IAAI+K,EAAMxwD,KAAKunC,EAAE91C,EACbg1D,EAAK1B,EAAM/kD,KAAKoD,EAAGpD,KAAK0kD,EAAG1kD,KAAKunC,GACpCvnC,KAAKsvD,OAAOzK,EAAI4B,EAAI+J,EAAKxwD,KAAKunC,EAAE91C,GAAIuO,KAAK6C,GACzC7C,KAAK0kD,EAAIG,EAAI4B,EAAIzmD,KAAKunC,EAAE91C,EAAI,OAAQuO,KAAKunC,EAAE91C,EAAIuO,KAAK0kD,EAAE91D,OACtDoR,KAAKoD,EAAIyhD,EAAI7kD,KAAKoD,EAAGpD,KAAKunC,EAAEnkC,EAAI,EAAI,GAAIpD,KAAKunC,EAAEnkC,GAAK,GAStDmtD,EAAQ3iE,UAAU2K,KAAO,SAAU63D,EAAO3K,GACxCzlD,KAAKnP,EAAEu/D,GAAQpwD,KAAK4C,EAAE6iD,IAGjB8K,EAtCK,GA8CVE,GAKF,SAAsBz2D,GACpBgG,KAAKsvD,OAASt1D,EACdw1D,GAAS,CAACxB,GAAQ,WAChB,MAAO,CAACoB,GAAOmB,MACbvwD,KAAM,GAAG,WACX,IAAIqvD,EAAO,IAAIkB,GACf5C,UAAYyB,GAAMC,KACjB,IAOA,SAASqB,GAAQ7vC,EAAMuP,EAAMp2B,GAElC,GADKA,IAAIA,EAAKo2B,EAAMA,EAAO,IACV,mBAANp2B,EAAkB,KAAM,cACnC,OAAOi1D,GAAMpuC,EAAMuP,EAAM,CAAC49B,KAAS,SAAUuB,GAC3C,OAAOrB,GAAID,GAAYsB,EAAG1uC,KAAK,GAAIstC,GAAIoB,EAAG1uC,KAAK,QAC9C,EAAG7mB,GASD,SAASi0D,GAAYptC,EAAM2nC,GAChC,OAAOzD,EAAMlkC,EAAM2nC,GAOrB,IAAImI,GAAO,WACT,SAASA,EAAKvgC,EAAMp2B,GAClBgG,KAAK4C,EAAI0pD,KACTtsD,KAAKiD,EAAI,EACTjD,KAAKwD,EAAI,EACT2sD,GAAQz9D,KAAKsN,KAAMowB,EAAMp2B,GAsB3B,OAbA22D,EAAK/iE,UAAU2K,KAAO,SAAU63D,EAAO3K,GACrC0K,GAAQviE,UAAU2K,KAAK7F,KAAKsN,KAAMowD,EAAO3K,IAG3CkL,EAAK/iE,UAAUwV,EAAI,SAAUR,EAAGE,GAC9B9C,KAAK4C,EAAEQ,EAAER,GACT5C,KAAKiD,GAAKL,EAAEhU,OACZ,IAAIokC,EAAMy5B,GAAK7pD,EAAG5C,KAAK0kD,EAAG1kD,KAAKwD,GAAKgrD,GAAKxuD,KAAK0kD,GAAI5hD,GAAK,GAAIA,GACvD9C,KAAKwD,IAAG+qD,GAAIv7B,EAAKhzB,KAAK0kD,GAAI1kD,KAAKwD,EAAI,GACnCV,IAAG2rD,GAAOz7B,EAAKA,EAAIpkC,OAAS,EAAGoR,KAAK4C,EAAEC,KAAM4rD,GAAOz7B,EAAKA,EAAIpkC,OAAS,EAAGoR,KAAKiD,IACjFjD,KAAKsvD,OAAOt8B,EAAKlwB,IAGZ6tD,EA3BE,GAmCPC,GACF,SAAmBxgC,EAAMp2B,GACvBw1D,GAAS,CAACpB,GAAOE,GAAK,WACpB,MAAO,CAACc,GAAOe,GAASQ,MACtB3wD,KAAMkwD,GAAax9D,KAAKsN,KAAMowB,EAAMp2B,IAAK,SAAUu1D,GACrD,IAAIF,EAAO,IAAIsB,GAAKpB,EAAG1uC,MACvB8sC,UAAYyB,GAAMC,KACjB,IAOA,SAASwB,GAAKhwC,EAAMuP,EAAMp2B,GAE/B,GADKA,IAAIA,EAAKo2B,EAAMA,EAAO,IACV,mBAANp2B,EAAkB,KAAM,cACnC,OAAOi1D,GAAMpuC,EAAMuP,EAAM,CAACg+B,GAAOE,GAAK,WACpC,MAAO,CAACwC,OACN,SAAUvB,GACZ,OAAOrB,GAAI4C,GAASvB,EAAG1uC,KAAK,GAAI0uC,EAAG1uC,KAAK,OACvC,EAAG7mB,GASD,SAAS82D,GAASjwC,EAAMuP,GACxBA,IAAMA,EAAO,IAClB,IAAIxtB,EAAI0pD,KACJrpD,EAAI4d,EAAKjyB,OACbgU,EAAEQ,EAAEyd,GACJ,IAAIhe,EAAI4pD,GAAK5rC,EAAMuP,EAAMo+B,GAAKp+B,GAAO,GACjCmX,EAAI1kC,EAAEjU,OACV,OAAO2/D,GAAI1rD,EAAGutB,GAAOq+B,GAAO5rD,EAAG0kC,EAAI,EAAG3kC,EAAEC,KAAM4rD,GAAO5rD,EAAG0kC,EAAI,EAAGtkC,GAAIJ,EAMrE,IAAIkuD,GAAS,WAKX,SAASA,EAAO/2D,GACdgG,KAAKwD,EAAI,EACT+sD,GAAQ79D,KAAKsN,KAAMhG,GA4BrB,OAnBA+2D,EAAOnjE,UAAU2K,KAAO,SAAU63D,EAAO3K,GAGvC,GAFA8K,GAAQ3iE,UAAUiD,EAAE6B,KAAKsN,KAAMowD,GAE3BpwD,KAAKwD,EAAG,CACV,IAAI+jC,EAAIvnC,KAAKoD,EAAExU,OAAS,EAAI+/D,GAAI3uD,KAAKoD,GAAK,EAC1C,GAAImkC,GAAKvnC,KAAKoD,EAAExU,SAAW62D,EAAO,OAClCzlD,KAAKoD,EAAIpD,KAAKoD,EAAE0hD,SAASvd,GAAIvnC,KAAKwD,EAAI,EAGxC,GAAIiiD,EAAO,CACT,GAAIzlD,KAAKoD,EAAExU,OAAS,EAAG,KAAM,sBAC7BoR,KAAKoD,EAAIpD,KAAKoD,EAAE0hD,SAAS,GAAI,GAK/ByL,GAAQ3iE,UAAUgV,EAAElQ,KAAKsN,KAAMylD,IAG1BsL,EAnCI,GA2CTC,GAKF,SAAqBh3D,GACnBgG,KAAKsvD,OAASt1D,EACdw1D,GAAS,CAACxB,GAAQU,GAAM,WACtB,MAAO,CAACU,GAAOmB,GAASQ,MACtB/wD,KAAM,GAAG,WACX,IAAIqvD,EAAO,IAAI0B,GACfpD,UAAYyB,GAAMC,KACjB,IAOA,SAAS4B,GAAOpwC,EAAMuP,EAAMp2B,GAEjC,GADKA,IAAIA,EAAKo2B,EAAMA,EAAO,IACV,mBAANp2B,EAAkB,KAAM,cACnC,OAAOi1D,GAAMpuC,EAAMuP,EAAM,CAAC49B,GAAQU,GAAM,WACtC,MAAO,CAACwC,OACN,SAAU3B,GACZ,OAAOrB,GAAIgD,GAAW3B,EAAG1uC,KAAK,OAC7B,EAAG7mB,GASD,SAASk3D,GAAWrwC,EAAM2nC,GAC/B,OAAOzD,EAAMlkC,EAAKikC,SAAS6J,GAAI9tC,IAAQ,GAAI2nC,GAAO,IAAI/F,EAAGmM,GAAI/tC,KAM/D,IAAIswC,GAAO,WACT,SAASA,EAAK/gC,EAAMp2B,GAClBgG,KAAK4C,EAAI4pD,KACTxsD,KAAKwD,EAAI,EACT2sD,GAAQz9D,KAAKsN,KAAMowB,EAAMp2B,GAqB3B,OAZAm3D,EAAKvjE,UAAU2K,KAAO,SAAU63D,EAAO3K,GACrC0K,GAAQviE,UAAU2K,KAAK7F,KAAKsN,KAAMowD,EAAO3K,IAG3C0L,EAAKvjE,UAAUwV,EAAI,SAAUR,EAAGE,GAC9B9C,KAAK4C,EAAEQ,EAAER,GACT,IAAIowB,EAAMy5B,GAAK7pD,EAAG5C,KAAK0kD,EAAG1kD,KAAKwD,GAAK,EAAGV,GAAK,GAAIA,GAC5C9C,KAAKwD,IAAGsrD,GAAI97B,EAAKhzB,KAAK0kD,GAAI1kD,KAAKwD,EAAI,GACnCV,GAAG2rD,GAAOz7B,EAAKA,EAAIpkC,OAAS,EAAGoR,KAAK4C,EAAEC,KAC1C7C,KAAKsvD,OAAOt8B,EAAKlwB,IAGZquD,EAzBE,GAiCPC,GACF,SAAmBhhC,EAAMp2B,GACvBw1D,GAAS,CAACpB,GAAOS,GAAK,WACpB,MAAO,CAACO,GAAOe,GAASgB,MACtBnxD,KAAMkwD,GAAax9D,KAAKsN,KAAMowB,EAAMp2B,IAAK,SAAUu1D,GACrD,IAAIF,EAAO,IAAI8B,GAAK5B,EAAG1uC,MACvB8sC,UAAYyB,GAAMC,KACjB,KAOA,SAASgC,GAAKxwC,EAAMuP,EAAMp2B,GAE/B,GADKA,IAAIA,EAAKo2B,EAAMA,EAAO,IACV,mBAANp2B,EAAkB,KAAM,cACnC,OAAOi1D,GAAMpuC,EAAMuP,EAAM,CAACg+B,GAAOS,GAAK,WACpC,MAAO,CAACyC,OACN,SAAU/B,GACZ,OAAOrB,GAAIoD,GAAS/B,EAAG1uC,KAAK,GAAI0uC,EAAG1uC,KAAK,OACvC,EAAG7mB,GASD,SAASs3D,GAASzwC,EAAMuP,GACxBA,IAAMA,EAAO,IAClB,IAAI5+B,EAAIg7D,KACRh7D,EAAE4R,EAAEyd,GACJ,IAAIhe,EAAI4pD,GAAK5rC,EAAMuP,EAAM,EAAG,GAC5B,OAAO0+B,GAAIjsD,EAAGutB,GAAOq+B,GAAO5rD,EAAGA,EAAEjU,OAAS,EAAG4C,EAAEqR,KAAMA,EAMvD,IAAI0uD,GAAS,WAKX,SAASA,EAAOv3D,GACdgG,KAAKwD,EAAI,EACT+sD,GAAQ79D,KAAKsN,KAAMhG,GA2BrB,OAlBAu3D,EAAO3jE,UAAU2K,KAAO,SAAU63D,EAAO3K,GAGvC,GAFA8K,GAAQ3iE,UAAUiD,EAAE6B,KAAKsN,KAAMowD,GAE3BpwD,KAAKwD,EAAG,CACV,GAAIxD,KAAKoD,EAAExU,OAAS,IAAM62D,EAAO,OACjCzlD,KAAKoD,EAAIpD,KAAKoD,EAAE0hD,SAAS,GAAI9kD,KAAKwD,EAAI,EAGxC,GAAIiiD,EAAO,CACT,GAAIzlD,KAAKoD,EAAExU,OAAS,EAAG,KAAM,sBAC7BoR,KAAKoD,EAAIpD,KAAKoD,EAAE0hD,SAAS,GAAI,GAK/ByL,GAAQ3iE,UAAUgV,EAAElQ,KAAKsN,KAAMylD,IAG1B8L,EAlCI,GA0CTC,GAKF,SAAqBx3D,GACnBgG,KAAKsvD,OAASt1D,EACdw1D,GAAS,CAACxB,GAAQe,GAAM,WACtB,MAAO,CAACK,GAAOmB,GAASgB,MACtBvxD,KAAM,GAAG,WACX,IAAIqvD,EAAO,IAAIkC,GACf5D,UAAYyB,GAAMC,KACjB,KAOA,SAASoC,GAAO5wC,EAAMuP,EAAMp2B,GAEjC,GADKA,IAAIA,EAAKo2B,EAAMA,EAAO,IACV,mBAANp2B,EAAkB,KAAM,cACnC,OAAOi1D,GAAMpuC,EAAMuP,EAAM,CAAC49B,GAAQe,GAAM,WACtC,MAAO,CAAC2C,OACN,SAAUnC,GACZ,OAAOrB,GAAIwD,GAAWnC,EAAG1uC,KAAK,GAAIstC,GAAIoB,EAAG1uC,KAAK,QAC7C,EAAG7mB,GASD,SAAS03D,GAAW7wC,EAAM2nC,GAC/B,OAAOzD,GAAOiK,GAAInuC,GAAOA,EAAKikC,SAAS,GAAI,IAAK0D,GAUlD,IAAImJ,GAAa,WAKf,SAASA,EAAW33D,GAClBgG,KAAK4xD,EAAIb,GACT/wD,KAAK6xD,EAAItB,GACTvwD,KAAK8xD,EAAIP,GACTvxD,KAAKsvD,OAASt1D,EAgChB,OAvBA23D,EAAW/jE,UAAU2K,KAAO,SAAU63D,EAAO3K,GAC3C,IAAKzlD,KAAKsvD,OAAQ,KAAM,oBAExB,GAAKtvD,KAAKunC,EAiBHvnC,KAAKunC,EAAEhvC,KAAK63D,EAAO3K,OAjBb,CACX,GAAIzlD,KAAKoD,GAAKpD,KAAKoD,EAAExU,OAAQ,CAC3B,IAAIuU,EAAI,IAAIs/C,EAAGziD,KAAKoD,EAAExU,OAASwhE,EAAMxhE,QACrCuU,EAAEhB,IAAInC,KAAKoD,GAAID,EAAEhB,IAAIiuD,EAAOpwD,KAAKoD,EAAExU,aAC9BoR,KAAKoD,EAAIgtD,EAEhB,GAAIpwD,KAAKoD,EAAExU,OAAS,EAAG,CACrB,IAAImjE,EAAU/xD,KAEVhG,EAAK,WACP+3D,EAAQzC,OAAOrvD,MAAM8xD,EAAShjE,YAGhCiR,KAAKunC,EAAiB,IAAbvnC,KAAKoD,EAAE,IAAyB,KAAbpD,KAAKoD,EAAE,IAA0B,GAAbpD,KAAKoD,EAAE,GAAU,IAAIpD,KAAK4xD,EAAE53D,GAA0B,IAAP,GAAZgG,KAAKoD,EAAE,KAAiBpD,KAAKoD,EAAE,IAAM,EAAI,IAAMpD,KAAKoD,EAAE,IAAM,EAAIpD,KAAKoD,EAAE,IAAM,GAAK,IAAIpD,KAAK6xD,EAAE73D,GAAM,IAAIgG,KAAK8xD,EAAE93D,GACjMgG,KAAKunC,EAAEhvC,KAAKyH,KAAKoD,EAAGqiD,GACpBzlD,KAAKoD,EAAI,QAKRuuD,EAzCQ,GAiDbK,GAAkB,WAKpB,SAASA,EAAgBh4D,GACvBgG,KAAK4xD,EAAIZ,GACThxD,KAAK6xD,EAAIpB,GACTzwD,KAAK8xD,EAAIN,GACTxxD,KAAKsvD,OAASt1D,EAahB,OAJAg4D,EAAgBpkE,UAAU2K,KAAO,SAAU63D,EAAO3K,GAChDkM,GAAW/jE,UAAU2K,KAAK7F,KAAKsN,KAAMowD,EAAO3K,IAGvCuM,EAtBa,GA0Bf,SAASC,GAAWpxC,EAAMuP,EAAMp2B,GAErC,GADKA,IAAIA,EAAKo2B,EAAMA,EAAO,IACV,mBAANp2B,EAAkB,KAAM,cACnC,OAAkB,IAAX6mB,EAAK,IAAuB,KAAXA,EAAK,IAAwB,GAAXA,EAAK,GAAUowC,GAAOpwC,EAAMuP,EAAMp2B,GAAwB,IAAP,GAAV6mB,EAAK,KAAiBA,EAAK,IAAM,EAAI,IAAMA,EAAK,IAAM,EAAIA,EAAK,IAAM,GAAK6vC,GAAQ7vC,EAAMuP,EAAMp2B,GAAMy3D,GAAO5wC,EAAMuP,EAAMp2B,GASrM,SAASk4D,GAAerxC,EAAM2nC,GACnC,OAAkB,IAAX3nC,EAAK,IAAuB,KAAXA,EAAK,IAAwB,GAAXA,EAAK,GAAUqwC,GAAWrwC,EAAM2nC,GAAyB,IAAP,GAAV3nC,EAAK,KAAiBA,EAAK,IAAM,EAAI,IAAMA,EAAK,IAAM,EAAIA,EAAK,IAAM,GAAKotC,GAAYptC,EAAM2nC,GAAOkJ,GAAW7wC,EAAM2nC,GAGxM,IAAI2J,GAAO,SAASA,EAAKtvD,EAAGO,EAAGG,EAAGmhD,GAChC,IAAK,IAAI1hD,KAAKH,EAAG,CACf,IAAIyf,EAAMzf,EAAEG,GACRG,EAAIC,EAAIJ,EACRsf,aAAemgC,EAAIl/C,EAAEJ,GAAK,CAACmf,EAAKoiC,GAAY/yD,MAAMC,QAAQ0wB,GAAM/e,EAAEJ,GAAK,CAACmf,EAAI,GAAIsqC,GAAIlI,EAAGpiC,EAAI,KAAU6vC,EAAK7vC,EAAKnf,EAAI,IAAKI,EAAGmhD,KAK/H0N,GAA2B,oBAAfC,aAA2C,IAAIA,YAE3DtF,GAA2B,oBAAfuF,aAA2C,IAAIA,YAE3DC,GAAM,EAEV,IACExF,GAAGyF,OAAOrL,GAAI,CACZsL,QAAQ,IAEVF,GAAM,EACN,MAAO1hE,KAGT,IAAI6hE,GAAQ,SAAe7vD,GACzB,IAAK,IAAIS,EAAI,GAAI5S,EAAI,IAAK,CACxB,IAAIkS,EAAIC,EAAEnS,KACNyyD,GAAMvgD,EAAI,MAAQA,EAAI,MAAQA,EAAI,KACtC,GAAIlS,EAAIyyD,EAAKtgD,EAAEjU,OAAQ,MAAO,CAAC0U,EAAGuhD,EAAIhiD,EAAGnS,EAAI,IACxCyyD,EAA+C,GAANA,GAC5CvgD,IAAU,GAAJA,IAAW,IAAe,GAATC,EAAEnS,OAAc,IAAe,GAATmS,EAAEnS,OAAc,EAAa,GAATmS,EAAEnS,MAAa,MAAO4S,GAAK9M,OAAOm8D,aAAa,MAAQ/vD,GAAK,GAAI,MAAY,KAAJA,IACxHU,GAAH,EAAL6/C,EAAa3sD,OAAOm8D,cAAkB,GAAJ/vD,IAAW,EAAa,GAATC,EAAEnS,MAAqB8F,OAAOm8D,cAAkB,GAAJ/vD,IAAW,IAAe,GAATC,EAAEnS,OAAc,EAAa,GAATmS,EAAEnS,MAFtI4S,GAAK9M,OAAOm8D,aAAa/vD,KAUlCgwD,GAAa,WAKf,SAASA,EAAW54D,GAClBgG,KAAKsvD,OAASt1D,EACVu4D,GAAKvyD,KAAKuD,EAAI,IAAI+uD,YAAmBtyD,KAAKoD,EAAI+jD,GA2CpD,OAlCAyL,EAAWhlE,UAAU2K,KAAO,SAAU63D,EAAO3K,GAC3C,IAAKzlD,KAAKsvD,OAAQ,KAAM,cAGxB,GAFA7J,IAAUA,EAENzlD,KAAKuD,GAKP,GAJAvD,KAAKsvD,OAAOtvD,KAAKuD,EAAEivD,OAAOpC,EAAO,CAC/BqC,QAAQ,IACNhN,GAEAA,EAAO,CACT,GAAIzlD,KAAKuD,EAAEivD,SAAS5jE,OAAQ,KAAM,qBAClCoR,KAAKuD,EAAI,UAPb,CAaA,IAAKvD,KAAKoD,EAAG,KAAM,kBACnB,IAAI4hD,EAAM,IAAIvC,EAAGziD,KAAKoD,EAAExU,OAASwhE,EAAMxhE,QACvCo2D,EAAI7iD,IAAInC,KAAKoD,GACb4hD,EAAI7iD,IAAIiuD,EAAOpwD,KAAKoD,EAAExU,QAEtB,IAAIw0D,EAAKsP,GAAM1N,GACXoI,EAAKhK,EAAG,GACRyP,EAAKzP,EAAG,GAEZ,GAAIqC,EAAO,CACT,GAAIoN,EAAGjkE,OAAQ,KAAM,qBACrBoR,KAAKoD,EAAI,UACJpD,KAAKoD,EAAIyvD,EAEhB7yD,KAAKsvD,OAAOlC,EAAI3H,KAGXmN,EAlDQ,GA0DbE,GAAa,WAKf,SAASA,EAAW94D,GAClBgG,KAAKsvD,OAASt1D,EAehB,OANA84D,EAAWllE,UAAU2K,KAAO,SAAU63D,EAAO3K,GAC3C,IAAKzlD,KAAKsvD,OAAQ,KAAM,cACxB,GAAItvD,KAAK6C,EAAG,KAAM,kBAClB7C,KAAKsvD,OAAOyD,GAAQ3C,GAAQpwD,KAAK6C,EAAI4iD,IAAS,IAGzCqN,EArBQ,GAiCV,SAASC,GAAQ18D,EAAK28D,GAC3B,GAAIA,EAAQ,CAGV,IAFA,IAAIC,EAAO,IAAIxQ,EAAGpsD,EAAIzH,QAEb8B,EAAI,EAAGA,EAAI2F,EAAIzH,SAAU8B,EAChCuiE,EAAKviE,GAAK2F,EAAIy5D,WAAWp/D,GAG3B,OAAOuiE,EAGT,GAAIb,GAAI,OAAOA,GAAG97D,OAAOD,GACzB,IAAI4M,EAAI5M,EAAIzH,OACRskE,EAAK,IAAIzQ,EAAGpsD,EAAIzH,QAAUyH,EAAIzH,QAAU,IACxCukE,EAAK,EAEL1vD,EAAI,SAAWD,GACjB0vD,EAAGC,KAAQ3vD,GAGb,IAAS9S,EAAI,EAAGA,EAAIuS,IAAKvS,EAAG,CAC1B,GAAIyiE,EAAK,EAAID,EAAGtkE,OAAQ,CACtB,IAAIuU,EAAI,IAAIs/C,EAAG0Q,EAAK,GAAKlwD,EAAIvS,GAAK,IAClCyS,EAAEhB,IAAI+wD,GACNA,EAAK/vD,EAGP,IAAIP,EAAIvM,EAAIy5D,WAAWp/D,GACnBkS,EAAI,KAAOowD,EAAQvvD,EAAEb,GAAYA,EAAI,MAAMa,EAAE,IAAMb,GAAK,GAAIa,EAAE,IAAU,GAAJb,IAAiBA,EAAI,OAASA,EAAI,OAAkEa,EAAE,KAA7Db,EAAI,OAAa,QAAJA,GAAwC,KAAtBvM,EAAIy5D,aAAap/D,KAAwB,IAAK+S,EAAE,IAAMb,GAAK,GAAK,IAAKa,EAAE,IAAMb,GAAK,EAAI,IAAKa,EAAE,IAAU,GAAJb,KAAaa,EAAE,IAAMb,GAAK,IAAKa,EAAE,IAAMb,GAAK,EAAI,IAAKa,EAAE,IAAU,GAAJb,IAGlT,OAAOiiD,EAAIqO,EAAI,EAAGC,GAUb,SAASC,GAAUpO,EAAKgO,GAC7B,GAAIA,EAAQ,CAGV,IAFA,IAAI1vD,EAAI,GAEC5S,EAAI,EAAGA,EAAIs0D,EAAIp2D,OAAQ8B,GAAK,MACnC4S,GAAK9M,OAAOm8D,aAAa1yD,MAAM,KAAM+kD,EAAIF,SAASp0D,EAAGA,EAAI,QAG3D,OAAO4S,EACF,GAAIypD,GAAI,OAAOA,GAAGyF,OAAOxN,GAC9B,IAAI5B,EAAKsP,GAAM1N,GACXwD,EAAMpF,EAAG,GAGb,GAFUA,EAAG,GAELx0D,OAAQ,KAAM,qBACtB,OAAO45D,EAKX,IAAI6K,GAAM,SAAapwD,GACrB,OAAY,GAALA,EAAS,EAAIA,EAAI,EAAI,EAAS,GAALA,EAAS,EAAI,GAI3CqwD,GAAO,SAAczwD,EAAGpR,GAC1B,OAAOA,EAAI,GAAKg+D,GAAG5sD,EAAGpR,EAAI,IAAMg+D,GAAG5sD,EAAGpR,EAAI,KAIxC8hE,GAAK,SAAY1wD,EAAGpR,EAAGmS,GACzB,IAAI4vD,EAAM/D,GAAG5sD,EAAGpR,EAAI,IAChB4wB,EAAK+wC,GAAUvwD,EAAEiiD,SAASrzD,EAAI,GAAIA,EAAI,GAAK+hE,KAAuB,KAAf/D,GAAG5sD,EAAGpR,EAAI,KAC7DgiE,EAAKhiE,EAAI,GAAK+hE,EACd1K,EAAK4G,GAAG7sD,EAAGpR,EAAI,IAEf2xD,EAAKx/C,GAAW,YAANklD,EAAmB4K,GAAK7wD,EAAG4wD,GAAM,CAAC3K,EAAI4G,GAAG7sD,EAAGpR,EAAI,IAAKi+D,GAAG7sD,EAAGpR,EAAI,KACzEkiE,EAAKvQ,EAAG,GACRwQ,EAAKxQ,EAAG,GACRyQ,EAAMzQ,EAAG,GAEb,MAAO,CAACqM,GAAG5sD,EAAGpR,EAAI,IAAKkiE,EAAIC,EAAIvxC,EAAIoxC,EAAKhE,GAAG5sD,EAAGpR,EAAI,IAAMg+D,GAAG5sD,EAAGpR,EAAI,IAAKoiE,IAIrEH,GAAO,SAAc7wD,EAAGpR,GAC1B,KAAmB,GAAZg+D,GAAG5sD,EAAGpR,GAASA,GAAK,EAAIg+D,GAAG5sD,EAAGpR,EAAI,IAIzC,MAAO,CAACk+D,GAAG9sD,EAAGpR,EAAI,IAAKk+D,GAAG9sD,EAAGpR,EAAI,GAAIk+D,GAAG9sD,EAAGpR,EAAI,MAI7CqiE,GAAO,SAAcvuD,GACvB,IAAIw+C,EAAK,EAET,GAAIx+C,EACF,IAAK,IAAIvC,KAAKuC,EAAI,CAChB,IAAItC,EAAIsC,EAAGvC,GAAGpU,OACd,GAAIqU,EAAI,MAAO,KAAM,uBACrB8gD,GAAM9gD,EAAI,EAId,OAAO8gD,GAILgQ,GAAM,SAAalxD,EAAGpR,EAAGqR,EAAGuf,EAAIxe,EAAGjB,EAAGoxD,EAAIlQ,GAC5C,IAAIT,EAAKhhC,EAAGzzB,OACR2W,EAAKzC,EAAEmxD,MACPC,EAAMpQ,GAAMA,EAAGl1D,OACfulE,EAAML,GAAKvuD,GACfkpD,GAAO5rD,EAAGpR,EAAS,MAANuiE,EAAa,SAAY,UAAYviE,GAAK,EAC7C,MAANuiE,IAAYnxD,EAAEpR,KAAO,GAAIoR,EAAEpR,KAAOqR,EAAEsxD,IACxCvxD,EAAEpR,GAAK,GAAIA,GAAK,EAEhBoR,EAAEpR,KAAOqR,EAAEuxD,MAAQ,GAAU,MAALzxD,GAAa,GAAIC,EAAEpR,KAAOoS,GAAK,EACvDhB,EAAEpR,KAAuB,IAAhBqR,EAAEwxD,YAAmBzxD,EAAEpR,KAAOqR,EAAEwxD,aAAe,EACxD,IAAI7N,EAAK,IAAI9tD,KAAgB,MAAXmK,EAAE+sD,MAAgBl3D,KAAKC,MAAQkK,EAAE+sD,OAC/ClsD,EAAI8iD,EAAG8N,cAAgB,KAC3B,GAAI5wD,EAAI,GAAKA,EAAI,IAAK,KAAM,8BAqB5B,GApBA8qD,GAAO5rD,EAAGpR,EAAGkS,GAAK,GAAK8iD,EAAG+N,WAAa,GAAK,GAAK/N,EAAGgO,WAAa,GAAKhO,EAAGiO,YAAc,GAAKjO,EAAGkO,cAAgB,EAAIlO,EAAGmO,eAAiB,GAAInjE,GAAK,EAEvI,MAALmR,IACF6rD,GAAO5rD,EAAGpR,EAAGqR,EAAEwpD,KACfmC,GAAO5rD,EAAGpR,EAAI,EAAGmR,GACjB6rD,GAAO5rD,EAAGpR,EAAI,EAAGqR,EAAEjR,OAGrB48D,GAAO5rD,EAAGpR,EAAI,GAAI4xD,GAClBoL,GAAO5rD,EAAGpR,EAAI,GAAI0iE,GAAM1iE,GAAK,GAEnB,MAANuiE,IACFvF,GAAO5rD,EAAGpR,EAAGyiE,GACbzF,GAAO5rD,EAAGpR,EAAI,EAAGqR,EAAE+xD,OACnBpG,GAAO5rD,EAAGpR,EAAI,GAAIuiE,GAAKviE,GAAK,IAG9BoR,EAAEV,IAAIkgB,EAAI5wB,GACVA,GAAK4xD,EAED8Q,EACF,IAAK,IAAInxD,KAAKuC,EAAI,CAChB,IAAIuvD,EAAMvvD,EAAGvC,GACTC,EAAI6xD,EAAIlmE,OACZ6/D,GAAO5rD,EAAGpR,GAAIuR,GACdyrD,GAAO5rD,EAAGpR,EAAI,EAAGwR,GACjBJ,EAAEV,IAAI2yD,EAAKrjE,EAAI,GAAIA,GAAK,EAAIwR,EAKhC,OADIixD,IAAKrxD,EAAEV,IAAI2hD,EAAIryD,GAAIA,GAAKyiE,GACrBziE,GAILsjE,GAAM,SAAarQ,EAAGjzD,EAAGmR,EAAGC,EAAGhS,GACjC49D,GAAO/J,EAAGjzD,EAAG,WAEbg9D,GAAO/J,EAAGjzD,EAAI,EAAGmR,GACjB6rD,GAAO/J,EAAGjzD,EAAI,GAAImR,GAClB6rD,GAAO/J,EAAGjzD,EAAI,GAAIoR,GAClB4rD,GAAO/J,EAAGjzD,EAAI,GAAIZ,IAOhBmkE,GAAiB,WAKnB,SAASA,EAAepF,GACtB5vD,KAAK4vD,SAAWA,EAChB5vD,KAAK4C,EAAI0pD,KACTtsD,KAAKnO,KAAO,EACZmO,KAAKs0D,YAAc,EAgCrB,OApBAU,EAAepnE,UAAU8vB,QAAU,SAAU0yC,EAAO3K,GAClDzlD,KAAKsvD,OAAO,KAAMc,EAAO3K,IAW3BuP,EAAepnE,UAAU2K,KAAO,SAAU63D,EAAO3K,GAC/C,IAAKzlD,KAAKsvD,OAAQ,KAAM,kDACxBtvD,KAAK4C,EAAEQ,EAAEgtD,GACTpwD,KAAKnO,MAAQu+D,EAAMxhE,OACf62D,IAAOzlD,KAAKssD,IAAMtsD,KAAK4C,EAAEC,KAC7B7C,KAAK0d,QAAQ0yC,EAAO3K,IAAS,IAGxBuP,EAzCY,GAmDjBC,GAAa,WAMf,SAASA,EAAWrF,EAAUx/B,GAC5B,IAAI2hC,EAAU/xD,KAETowB,IAAMA,EAAO,IAClB4kC,GAAetiE,KAAKsN,KAAM4vD,GAC1B5vD,KAAK6C,EAAI,IAAIstD,GAAQ//B,GAAM,SAAU40B,EAAKS,GACxCsM,EAAQzC,OAAO,KAAMtK,EAAKS,MAE5BzlD,KAAKs0D,YAAc,EACnBt0D,KAAKq0D,KAAOhB,GAAIjjC,EAAKs8B,OAqBvB,OAlBAuI,EAAWrnE,UAAU8vB,QAAU,SAAU0yC,EAAO3K,GAC9C,IACEzlD,KAAK6C,EAAEtK,KAAK63D,EAAO3K,GACnB,MAAO50D,IACPmP,KAAKsvD,OAAOz+D,GAAG,KAAM40D,KAUzBwP,EAAWrnE,UAAU2K,KAAO,SAAU63D,EAAO3K,GAC3CuP,GAAepnE,UAAU2K,KAAK7F,KAAKsN,KAAMowD,EAAO3K,IAG3CwP,EApCQ,GA4CbC,GAAkB,WAMpB,SAASA,EAAgBtF,EAAUx/B,GACjC,IAAI2hC,EAAU/xD,KAETowB,IAAMA,EAAO,IAClB4kC,GAAetiE,KAAKsN,KAAM4vD,GAC1B5vD,KAAK6C,EAAI,IAAIwtD,GAAajgC,GAAM,SAAU6F,EAAK+uB,EAAKS,GAClDsM,EAAQzC,OAAOr5B,EAAK+uB,EAAKS,MAE3BzlD,KAAKs0D,YAAc,EACnBt0D,KAAKq0D,KAAOhB,GAAIjjC,EAAKs8B,OACrB1sD,KAAKkvD,UAAYlvD,KAAK6C,EAAEqsD,UAiB1B,OAdAgG,EAAgBtnE,UAAU8vB,QAAU,SAAU0yC,EAAO3K,GACnDzlD,KAAK6C,EAAEtK,KAAK63D,EAAO3K,IASrByP,EAAgBtnE,UAAU2K,KAAO,SAAU63D,EAAO3K,GAChDuP,GAAepnE,UAAU2K,KAAK7F,KAAKsN,KAAMowD,EAAO3K,IAG3CyP,EAjCa,GA0ClBC,GAAM,WAMR,SAASA,EAAIn7D,GACXgG,KAAKsvD,OAASt1D,EACdgG,KAAK6D,EAAI,GACT7D,KAAK6C,EAAI,EAkJX,OA1IAsyD,EAAIvnE,UAAUuf,IAAM,SAAUioD,GAC5B,IAAIrD,EAAU/xD,KAEd,GAAa,EAATA,KAAK6C,EAAO,KAAM,kBACtB,IAAIC,EAAIiwD,GAAQqC,EAAKxF,UACjBvM,EAAKvgD,EAAElU,OACPymE,EAAMD,EAAKz+B,QACX+tB,EAAI2Q,GAAOtC,GAAQsC,GACnBxxD,EAAIw/C,GAAM+R,EAAKxF,SAAShhE,QAAU81D,GAAK2Q,EAAIzmE,QAAU81D,EAAE91D,OACvD0mE,EAAKjS,EAAKyQ,GAAKsB,EAAKnB,OAAS,GACjC,GAAI5Q,EAAK,MAAO,KAAM,oBACtB,IAAIkS,EAAS,IAAI9S,EAAG6S,GACpBvB,GAAIwB,EAAQ,EAAGH,EAAMtyD,EAAGe,GACxB,IAAI2xD,EAAO,CAACD,GAERE,EAAO,WACT,IAAK,IAAIp5D,EAAK,EAAGq5D,EAASF,EAAMn5D,EAAKq5D,EAAO9mE,OAAQyN,IAAM,CACxD,IAAIs5D,EAAMD,EAAOr5D,GAEjB01D,EAAQzC,OAAO,KAAMqG,GAAK,GAG5BH,EAAO,IAGLhO,EAAKxnD,KAAK6C,EACd7C,KAAK6C,EAAI,EACT,IAAI+yD,EAAM51D,KAAK6D,EAAEjV,OACbinE,EAAKjJ,GAAIwI,EAAM,CACjBtyD,EAAGA,EACHe,EAAGA,EACH6gD,EAAGA,EACHnhD,EAAG,WACG6xD,EAAKlG,WAAWkG,EAAKlG,aAE3B5rD,EAAG,WAGD,GAFAmyD,IAEIjO,EAAI,CACN,IAAIsO,EAAM/D,EAAQluD,EAAE+xD,EAAM,GACtBE,EAAKA,EAAIxyD,IAASyuD,EAAQlvD,EAAI,EAGpC2kD,EAAK,KAGLS,EAAK,EAETmN,EAAK9F,OAAS,SAAUr5B,EAAK+uB,EAAKS,GAChC,GAAIxvB,EACF87B,EAAQzC,OAAOr5B,EAAK+uB,EAAKS,GAEzBsM,EAAQ7C,iBAKR,GAHAjH,GAAMjD,EAAIp2D,OACV4mE,EAAKj9D,KAAKysD,GAENS,EAAO,CACT,IAAIsQ,EAAK,IAAItT,EAAG,IAChBgM,GAAOsH,EAAI,EAAG,WACdtH,GAAOsH,EAAI,EAAGX,EAAK9I,KACnBmC,GAAOsH,EAAI,EAAG9N,GACdwG,GAAOsH,EAAI,GAAIX,EAAKvjE,MACpB2jE,EAAKj9D,KAAKw9D,GACVF,EAAGjzD,EAAIqlD,EAAI4N,EAAGpkE,EAAI6jE,EAAKrN,EAAK,GAAI4N,EAAGvJ,IAAM8I,EAAK9I,IAAKuJ,EAAGhkE,KAAOujE,EAAKvjE,KAC9D21D,GAAIqO,EAAGvyD,IACXkkD,EAAK,OACIA,GAAIiO,KAInBz1D,KAAK6D,EAAEtL,KAAKs9D,IASdV,EAAIvnE,UAAUwqB,IAAM,WAClB,IAAI25C,EAAU/xD,KAEd,GAAa,EAATA,KAAK6C,EAAO,CACd,GAAa,EAAT7C,KAAK6C,EAAO,KAAM,mBACtB,KAAM,kBAGJ7C,KAAK6C,EAAG7C,KAAKnP,IAASmP,KAAK6D,EAAEtL,KAAK,CACpC+K,EAAG,WACiB,EAAZyuD,EAAQlvD,IAEdkvD,EAAQluD,EAAEzH,QAAQ,EAAG,GAErB21D,EAAQlhE,MAEV0S,EAAG,eAELvD,KAAK6C,EAAI,GAGXsyD,EAAIvnE,UAAUiD,EAAI,WAKhB,IAJA,IAAI60D,EAAK,EACLziD,EAAI,EACJijD,EAAK,EAEA7pD,EAAK,EAAG+mD,EAAKpjD,KAAK6D,EAAGxH,EAAK+mD,EAAGx0D,OAAQyN,IAAM,CAElD6pD,GAAM,IADFpjD,EAAIsgD,EAAG/mD,IACEyG,EAAElU,OAASklE,GAAKhxD,EAAEmxD,QAAUnxD,EAAE4hD,EAAI5hD,EAAE4hD,EAAE91D,OAAS,GAK9D,IAFA,IAAI45D,EAAM,IAAI/F,EAAGyD,EAAK,IAEb3C,EAAK,EAAG4F,EAAKnpD,KAAK6D,EAAG0/C,EAAK4F,EAAGv6D,OAAQ20D,IAAM,CAClD,IAAIzgD,EAAIqmD,EAAG5F,GACXwQ,GAAIvL,EAAK9C,EAAI5iD,EAAGA,EAAEA,EAAGA,EAAEe,EAAGf,EAAEF,EAAGK,EAAGH,EAAE4hD,GACpCgB,GAAM,GAAK5iD,EAAEA,EAAElU,OAASklE,GAAKhxD,EAAEmxD,QAAUnxD,EAAE4hD,EAAI5hD,EAAE4hD,EAAE91D,OAAS,GAAIqU,GAAKH,EAAErR,EAGzEsjE,GAAIvM,EAAK9C,EAAI1lD,KAAK6D,EAAEjV,OAAQs3D,EAAIjjD,GAChCjD,KAAKsvD,OAAO,KAAM9G,GAAK,GACvBxoD,KAAK6C,EAAI,GAQXsyD,EAAIvnE,UAAUshE,UAAY,WACxB,IAAK,IAAI7yD,EAAK,EAAG+mD,EAAKpjD,KAAK6D,EAAGxH,EAAK+mD,EAAGx0D,OAAQyN,IAAM,CAC1C+mD,EAAG/mD,GACTkH,IAGJvD,KAAK6C,EAAI,GAGJsyD,EA3JC,GA+JH,SAASa,GAAIn1C,EAAMuP,EAAMp2B,GAE9B,GADKA,IAAIA,EAAKo2B,EAAMA,EAAO,IACV,mBAANp2B,EAAkB,KAAM,cACnC,IAAIsJ,EAAI,GACR6uD,GAAKtxC,EAAM,GAAIvd,EAAG8sB,GAClB,IAAIptB,EAAIrT,OAAOW,KAAKgT,GAChBqkD,EAAM3kD,EAAEpU,OACR81D,EAAI,EACJuR,EAAM,EACNC,EAAOvO,EACPwO,EAAQ,IAAIxkE,MAAMg2D,GAClByO,EAAO,GAEPC,EAAO,WACT,IAAK,IAAI3lE,EAAI,EAAGA,EAAI0lE,EAAKxnE,SAAU8B,EACjC0lE,EAAK1lE,MAIL4lE,EAAM,WACR,IAAI9N,EAAM,IAAI/F,EAAGwT,EAAM,IACnBM,EAAK7R,EACL8R,EAAMP,EAAMvR,EAChBuR,EAAM,EAEN,IAAK,IAAIvlE,EAAI,EAAGA,EAAIwlE,IAAQxlE,EAAG,CAC7B,IAAIoS,EAAIqzD,EAAMzlE,GAEd,IACE,IAAIuS,EAAIH,EAAEF,EAAEhU,OACZmlE,GAAIvL,EAAKyN,EAAKnzD,EAAGA,EAAEA,EAAGA,EAAEe,EAAGZ,GAC3B,IAAIwzD,EAAO,GAAK3zD,EAAEA,EAAElU,OAASklE,GAAKhxD,EAAEmxD,OAChCyC,EAAMT,EAAMQ,EAChBjO,EAAIrmD,IAAIW,EAAEF,EAAG8zD,GACb3C,GAAIvL,EAAK9D,EAAG5hD,EAAGA,EAAEA,EAAGA,EAAEe,EAAGZ,EAAGgzD,EAAKnzD,EAAEI,GAAIwhD,GAAK,GAAK+R,GAAQ3zD,EAAEI,EAAIJ,EAAEI,EAAEtU,OAAS,GAAIqnE,EAAMS,EAAMzzD,EAC5F,MAAOpS,IACP,OAAOmJ,EAAGnJ,GAAG,OAIjBkkE,GAAIvM,EAAK9D,EAAGyR,EAAMvnE,OAAQ4nE,EAAKD,GAC/Bv8D,EAAG,KAAMwuD,IAGNb,GAAK2O,IAkDV,IAhDA,IAAIK,EAAU,SAAiBjmE,GAC7B,IAAI2xB,EAAKrf,EAAEtS,GACP0yD,EAAK9/C,EAAE+e,GACP+yC,EAAOhS,EAAG,GACVhgD,EAAIggD,EAAG,GACPxgD,EAAI0pD,KACJz6D,EAAOujE,EAAKxmE,OAChBgU,EAAEQ,EAAEgyD,GACJ,IAAItyD,EAAIiwD,GAAQ1wC,GACZklB,EAAIzkC,EAAElU,OACNymE,EAAMjyD,EAAEuzB,QACRzzB,EAAImyD,GAAOtC,GAAQsC,GACnBt5B,EAAK74B,GAAKA,EAAEtU,OACZulE,EAAML,GAAK1wD,EAAE6wD,OACbK,EAAyB,GAAXlxD,EAAEspD,MAAa,EAAI,EAEjCkK,EAAM,SAAa/lE,EAAGgS,GACxB,GAAIhS,EACFwlE,IACAr8D,EAAGnJ,EAAG,UACD,CACL,IAAIoS,EAAIJ,EAAEjU,OACVunE,EAAMzlE,GAAKk8D,GAAIxpD,EAAG,CAChBvR,KAAMA,EACNy6D,IAAK1pD,EAAEC,IACPD,EAAGC,EACHC,EAAGA,EACHI,EAAGA,EACHW,EAAG0jC,GAAKllB,EAAGzzB,QAAUsU,GAAKmyD,EAAIzmE,QAAUmtC,EACxCu4B,YAAaA,IAEf5P,GAAK,GAAKnd,EAAI4sB,EAAMlxD,EACpBgzD,GAAO,GAAK,GAAK1uB,EAAI4sB,IAAQp4B,GAAM,GAAK94B,IAChC0kD,GAAK2O,MAKjB,GADI/uB,EAAI,OAAOqvB,EAAI,oBAAqB,MACnCtC,EAAkC,GAAIziE,EAAO,KAChD,IACE+kE,EAAI,KAAMvI,GAAY+G,EAAMhyD,IAC5B,MAAOvS,IACP+lE,EAAI/lE,GAAG,WAEJulE,EAAK79D,KAAK+3D,GAAQ8E,EAAMhyD,EAAGwzD,SANhBA,EAAI,KAAMxB,IAUrB1kE,EAAI,EAAGA,EAAIwlE,IAAQxlE,EAC1BimE,EAAQjmE,GAGV,OAAO2lE,EAUF,SAASQ,GAAQh2C,EAAMuP,GACvBA,IAAMA,EAAO,IAClB,IAAI9sB,EAAI,GACJ6yD,EAAQ,GACZhE,GAAKtxC,EAAM,GAAIvd,EAAG8sB,GAClB,IAAIs0B,EAAI,EACJuR,EAAM,EAEV,IAAK,IAAI5zC,KAAM/e,EAAG,CAChB,IAAI8/C,EAAK9/C,EAAE+e,GACP+yC,EAAOhS,EAAG,GACVhgD,EAAIggD,EAAG,GACPkR,EAAyB,GAAXlxD,EAAEspD,MAAa,EAAI,EAEjCnlB,GADAzkC,EAAIiwD,GAAQ1wC,IACNzzB,OACNymE,EAAMjyD,EAAEuzB,QACRzzB,EAAImyD,GAAOtC,GAAQsC,GACnBt5B,EAAK74B,GAAKA,EAAEtU,OACZulE,EAAML,GAAK1wD,EAAE6wD,OACjB,GAAI1sB,EAAI,MAAO,KAAM,oBACrB,IAAI1kC,EAAIyxD,EAAcjG,GAAY+G,EAAMhyD,GAAKgyD,EACzCnyD,EAAIJ,EAAEjU,OACNgU,EAAI0pD,KACR1pD,EAAEQ,EAAEgyD,GACJe,EAAM59D,KAAKq0D,GAAIxpD,EAAG,CAChBvR,KAAMujE,EAAKxmE,OACX09D,IAAK1pD,EAAEC,IACPD,EAAGC,EACHC,EAAGA,EACHI,EAAGA,EACHW,EAAG0jC,GAAKllB,EAAGzzB,QAAUsU,GAAKmyD,EAAIzmE,QAAUmtC,EACxC2oB,EAAGA,EACH4P,YAAaA,KAEf5P,GAAK,GAAKnd,EAAI4sB,EAAMlxD,EACpBgzD,GAAO,GAAK,GAAK1uB,EAAI4sB,IAAQp4B,GAAM,GAAK94B,EAO1C,IAJA,IAAIulD,EAAM,IAAI/F,EAAGwT,EAAM,IACnBM,EAAK7R,EACL8R,EAAMP,EAAMvR,EAEPh0D,EAAI,EAAGA,EAAIylE,EAAMvnE,SAAU8B,EAAG,CACrC,IAAIoS,EAAIqzD,EAAMzlE,GACdqjE,GAAIvL,EAAK1lD,EAAE4hD,EAAG5hD,EAAGA,EAAEA,EAAGA,EAAEe,EAAGf,EAAEF,EAAEhU,QAC/B,IAAI6nE,EAAO,GAAK3zD,EAAEA,EAAElU,OAASklE,GAAKhxD,EAAEmxD,OACpCzL,EAAIrmD,IAAIW,EAAEF,EAAGE,EAAE4hD,EAAI+R,GACnB1C,GAAIvL,EAAK9D,EAAG5hD,EAAGA,EAAEA,EAAGA,EAAEe,EAAGf,EAAEF,EAAEhU,OAAQkU,EAAE4hD,EAAG5hD,EAAEI,GAAIwhD,GAAK,GAAK+R,GAAQ3zD,EAAEI,EAAIJ,EAAEI,EAAEtU,OAAS,GAIvF,OADAmmE,GAAIvM,EAAK9D,EAAGyR,EAAMvnE,OAAQ4nE,EAAKD,GACxB/N,EAMT,IAAIsO,GAAmB,WACrB,SAASA,KAOT,OALAA,EAAiBlpE,UAAU2K,KAAO,SAAUsoB,EAAM4kC,GAChDzlD,KAAKsvD,OAAO,KAAMzuC,EAAM4kC,IAG1BqR,EAAiBxC,YAAc,EACxBwC,EARc,GAiBnBC,GAAe,WAIjB,SAASA,IACP,IAAIhF,EAAU/xD,KAEdA,KAAKtP,EAAI,IAAI6/D,IAAQ,SAAUvL,EAAKS,GAClCsM,EAAQzC,OAAO,KAAMtK,EAAKS,MAa9B,OATAsR,EAAanpE,UAAU2K,KAAO,SAAUsoB,EAAM4kC,GAC5C,IACEzlD,KAAKtP,EAAE6H,KAAKsoB,EAAM4kC,GAClB,MAAO50D,IACPmP,KAAKsvD,OAAOz+D,GAAGgwB,EAAM4kC,KAIzBsR,EAAazC,YAAc,EACpByC,EArBU,GA6BfC,GAAoB,WAItB,SAASA,EAAkBpa,EAAGqa,GAC5B,IAAIlF,EAAU/xD,KAEVi3D,EAAK,KACPj3D,KAAKtP,EAAI,IAAI6/D,IAAQ,SAAUvL,EAAKS,GAClCsM,EAAQzC,OAAO,KAAMtK,EAAKS,OAG5BzlD,KAAKtP,EAAI,IAAI+/D,IAAa,SAAUx6B,EAAK+uB,EAAKS,GAC5CsM,EAAQzC,OAAOr5B,EAAK+uB,EAAKS,MAE3BzlD,KAAKkvD,UAAYlvD,KAAKtP,EAAEw+D,WAU5B,OANA8H,EAAkBppE,UAAU2K,KAAO,SAAUsoB,EAAM4kC,GAC7CzlD,KAAKtP,EAAEw+D,YAAWruC,EAAOgkC,EAAIhkC,EAAM,IACvC7gB,KAAKtP,EAAE6H,KAAKsoB,EAAM4kC,IAGpBuR,EAAkB1C,YAAc,EACzB0C,EAzBe,GAiCpBE,GAAQ,WAKV,SAASA,EAAMl9D,GACbgG,KAAKm3D,OAASn9D,EACdgG,KAAKgD,EAAI,GACThD,KAAK0kD,EAAI,CACP,EAAGoS,IAEL92D,KAAKoD,EAAI+jD,GA+IX,OAtIA+P,EAAMtpE,UAAU2K,KAAO,SAAU63D,EAAO3K,GACtC,IAAIsM,EAAU/xD,KAEd,IAAKA,KAAKm3D,OAAQ,KAAM,cACxB,IAAKn3D,KAAKoD,EAAG,KAAM,kBAEnB,GAAIpD,KAAK4C,EAAI,EAAG,CACd,IAAI0nD,EAAMthD,KAAK2D,IAAI3M,KAAK4C,EAAGwtD,EAAMxhE,QAC7BwoE,EAAQhH,EAAMtL,SAAS,EAAGwF,GAI9B,GAHAtqD,KAAK4C,GAAK0nD,EACNtqD,KAAK6C,EAAG7C,KAAK6C,EAAEtK,KAAK6+D,GAAQp3D,KAAK4C,GAAQ5C,KAAKgD,EAAE,GAAGzK,KAAK6+D,IAC5DhH,EAAQA,EAAMtL,SAASwF,IACb17D,OAAQ,OAAOoR,KAAKzH,KAAK63D,EAAO3K,OACrC,CACL,IAAI3iD,EAAI,EACJpS,EAAI,EACJ2mE,OAAK,EACLpS,OAAM,EACLjlD,KAAKoD,EAAExU,OAA8BwhE,EAAMxhE,SAC9Cq2D,EAAM,IAAIxC,EAAGziD,KAAKoD,EAAExU,OAASwhE,EAAMxhE,SAC/BuT,IAAInC,KAAKoD,GAAI6hD,EAAI9iD,IAAIiuD,EAAOpwD,KAAKoD,EAAExU,SAFeq2D,EAAMjlD,KAAKoD,EAA/C6hD,EAAMmL,EAmF1B,IA/EA,IAAIntD,EAAIgiD,EAAIr2D,OACR0oE,EAAKt3D,KAAK4C,EACVuK,EAAMmqD,GAAMt3D,KAAK6C,EAEjB00D,EAAU,WACZ,IAAInU,EAEAoU,EAAM9H,GAAGzK,EAAKv0D,GAElB,GAAW,UAAP8mE,EAAkB,CACpB10D,EAAI,EAAGu0D,EAAK3mE,EACZ+mE,EAAO50D,EAAI,KACX40D,EAAO70D,EAAI,EACX,IAAI80D,EAAKjI,GAAGxK,EAAKv0D,EAAI,GACjBinE,EAAQlI,GAAGxK,EAAKv0D,EAAI,GACpBmT,EAAS,KAAL6zD,EACJ3B,EAAU,EAAL2B,EACLlE,EAAM/D,GAAGxK,EAAKv0D,EAAI,IAClB+iE,EAAKhE,GAAGxK,EAAKv0D,EAAI,IAErB,GAAIuS,EAAIvS,EAAI,GAAK8iE,EAAMC,EAAI,CACzB,IAAImE,EAAS,GACbH,EAAOz0D,EAAE4oB,QAAQgsC,GACjB90D,EAAI,EACJ,IAUI+0D,EAVAC,EAAOpI,GAAGzK,EAAKv0D,EAAI,IACnBqnE,EAAOrI,GAAGzK,EAAKv0D,EAAI,IACnBsnE,EAAO5E,GAAUnO,EAAIH,SAASp0D,EAAI,GAAIA,GAAK,GAAK8iE,IAAO3vD,GAE/C,YAARi0D,GACF1U,EAAK2S,EAAK,EAAE,GAAKrC,GAAKzO,EAAKv0D,GAAIonE,EAAO1U,EAAG,GAAI2U,EAAO3U,EAAG,IAC9C2S,IAAI+B,GAAQ,GAEvBpnE,GAAK+iE,EACLgE,EAAO70D,EAAIk1D,EAEX,IAAIG,EAAS,CACXtpE,KAAMqpE,EACN1D,YAAaqD,EACbx/C,MAAO,WACL,IAAK8/C,EAAO3I,OAAQ,KAAM,cAC1B,GAAKwI,EAAyC,CAC5C,IAAII,EAAMnG,EAAQrN,EAAEiT,GACpB,IAAKO,EAAK,KAAM,4BAA8BP,GAC9CE,EAAMC,EAAO,EAAI,IAAII,EAAIF,GAAQ,IAAIE,EAAIF,EAAMF,EAAMC,IAEjDzI,OAAS,SAAUr5B,EAAK+uB,EAAKS,GAC/BwS,EAAO3I,OAAOr5B,EAAK+uB,EAAKS,IAG1B,IAAK,IAAIppD,EAAK,EAAG87D,EAASP,EAAQv7D,EAAK87D,EAAOvpE,OAAQyN,IAAM,CAC1D,IAAI2oD,EAAMmT,EAAO97D,GACjBw7D,EAAIt/D,KAAKysD,GAAK,GAGZ+M,EAAQ/uD,EAAE,IAAM40D,GAAU7F,EAAQnvD,EAAGmvD,EAAQlvD,EAAIg1D,EAASA,EAAIt/D,KAAK4uD,IAAI,QAdlE8Q,EAAO3I,OAAO,KAAMnI,IAAI,IAiBrC+H,UAAW,WACL2I,GAAOA,EAAI3I,WAAW2I,EAAI3I,cAG9B4I,GAAQ,IAAGG,EAAOpmE,KAAOimE,EAAMG,EAAOG,aAAeL,GACzDN,EAAON,OAAOc,GAGhB,MAAO,QACF,GAAIX,EAAI,CACb,GAAW,WAAPE,EAEF,OADAH,EAAK3mE,GAAK,KAAa,GAAP4mE,GAAY,GAAIx0D,EAAI,EAAG20D,EAAO70D,EAAI,EAC3C,QACF,GAAW,UAAP40D,EAET,OADAH,EAAK3mE,GAAK,EAAGoS,EAAI,EAAG20D,EAAO70D,EAAI,EACxB,UAKT60D,EAASz3D,KAENtP,EAAIuS,EAAI,IAAKvS,EAAG,CAGrB,GAAgB,UAFF6mE,IAEW,MAK3B,GAFAv3D,KAAKoD,EAAI+jD,GAELmQ,EAAK,EAAG,CACV,IAAItS,EAAMliD,EAAImiD,EAAIH,SAAS,EAAGuS,EAAK,KAAa,GAAPC,GAAY,IAA0B,WAApB5H,GAAGzK,EAAKoS,EAAK,KAAoB,IAAMpS,EAAIH,SAAS,EAAGp0D,GAC9Gyc,EAAKA,EAAI5U,KAAKysD,IAAOliD,GAAQ9C,KAAKgD,IAAS,GAALF,IAASvK,KAAKysD,GAG1D,GAAQ,EAAJliD,EAAO,OAAO9C,KAAKzH,KAAK0sD,EAAIH,SAASp0D,GAAI+0D,GAC7CzlD,KAAKoD,EAAI6hD,EAAIH,SAASp0D,GAGxB,GAAI+0D,EAAO,CACT,GAAIzlD,KAAK4C,EAAG,KAAM,mBAClB5C,KAAKoD,EAAI,OAUb8zD,EAAMtpE,UAAUylC,SAAW,SAAUglC,GACnCr4D,KAAK0kD,EAAE2T,EAAQ/D,aAAe+D,GAGzBnB,EA1JG,GAqKL,SAASoB,GAAMz3C,EAAM7mB,GAC1B,GAAiB,mBAANA,EAAkB,KAAM,cAYnC,IAXA,IAAIo8D,EAAO,GAEPC,EAAO,WACT,IAAK,IAAI3lE,EAAI,EAAGA,EAAI0lE,EAAKxnE,SAAU8B,EACjC0lE,EAAK1lE,MAILylE,EAAQ,GACRtlE,EAAIgwB,EAAKjyB,OAAS,GAEA,WAAf8gE,GAAG7uC,EAAMhwB,KAAmBA,EACjC,IAAKA,GAAKgwB,EAAKjyB,OAASiC,EAAI,MAE1B,YADAmJ,EAAG,mBAAoB,MAM3B,IAAI2tD,EAAM8H,GAAG5uC,EAAMhwB,EAAI,GAClB82D,GAAK3tD,EAAG,KAAM,IACnB,IAAI4I,EAAI+kD,EACJjD,EAAIgL,GAAG7uC,EAAMhwB,EAAI,IACjB+S,EAAS,YAAL8gD,EAER,GAAI9gD,EAAG,CAGL,GAFA/S,EAAI6+D,GAAG7uC,EAAMhwB,EAAI,IAEE,WAAf6+D,GAAG7uC,EAAMhwB,GAEX,YADAmJ,EAAG,mBAAoB,MAIzB4I,EAAI+kD,EAAM+H,GAAG7uC,EAAMhwB,EAAI,IACvB6zD,EAAIgL,GAAG7uC,EAAMhwB,EAAI,IAwCnB,IArCA,IAAI0nE,EAAU,SAAiB7nE,GAC7B,IAAI0yD,EAAKmQ,GAAG1yC,EAAM6jC,EAAG9gD,GACjB40D,EAAMpV,EAAG,GACTuQ,EAAKvQ,EAAG,GACRwQ,EAAKxQ,EAAG,GACR/gC,EAAK+gC,EAAG,GACRqV,EAAKrV,EAAG,GACRyQ,EAAMzQ,EAAG,GACT3xD,EAAI6hE,GAAKzyC,EAAMgzC,GAEnBnP,EAAI+T,EAEJ,IAAI7B,EAAM,SAAa/lE,EAAGgS,GACpBhS,GACFwlE,IACAr8D,EAAGnJ,EAAG,QAENslE,EAAM9zC,GAAMxf,IACJ8kD,GAAK3tD,EAAG,KAAMm8D,KAI1B,GAAKqC,EAA0C,GAAW,GAAPA,EAAU,CAC3D,IAAIE,EAAO73C,EAAKikC,SAASrzD,EAAGA,EAAIkiE,GAEhC,GAAIA,EAAK,KACP,IACEiD,EAAI,KAAM3I,GAAYyK,EAAM,IAAIjW,EAAGmR,KACnC,MAAO/iE,GACP+lE,EAAI/lE,EAAG,WAEJulE,EAAK79D,KAAKm4D,GAAQgI,EAAM,CAC7B7mE,KAAM+hE,GACLgD,SACEA,EAAI,4BAA8B4B,EAAK,WAZpC5B,EAAI,KAAM/R,EAAIhkC,EAAMpvB,EAAGA,EAAIkiE,KAe9BjjE,EAAI,EAAGA,EAAIkS,IAAKlS,EACvB6nE,IAGF,OAAOlC,EASF,SAASsC,GAAU93C,GAIxB,IAHA,IAAIs1C,EAAQ,GACRtlE,EAAIgwB,EAAKjyB,OAAS,GAEA,WAAf8gE,GAAG7uC,EAAMhwB,KAAmBA,EACjC,IAAKA,GAAKgwB,EAAKjyB,OAASiC,EAAI,MAAO,KAAM,mBAI3C,IAAI+R,EAAI6sD,GAAG5uC,EAAMhwB,EAAI,GACrB,IAAK+R,EAAG,MAAO,GACf,IAAI8hD,EAAIgL,GAAG7uC,EAAMhwB,EAAI,IACjB+S,EAAS,YAAL8gD,EAER,GAAI9gD,EAAG,CAEL,GADA/S,EAAI6+D,GAAG7uC,EAAMhwB,EAAI,IACE,WAAf6+D,GAAG7uC,EAAMhwB,GAAiB,KAAM,mBACpC+R,EAAI8sD,GAAG7uC,EAAMhwB,EAAI,IACjB6zD,EAAIgL,GAAG7uC,EAAMhwB,EAAI,IAGnB,IAAK,IAAIH,EAAI,EAAGA,EAAIkS,IAAKlS,EAAG,CAC1B,IAAI0yD,EAAKmQ,GAAG1yC,EAAM6jC,EAAG9gD,GACjBg1D,EAAMxV,EAAG,GACTuQ,EAAKvQ,EAAG,GACRwQ,EAAKxQ,EAAG,GACR/gC,EAAK+gC,EAAG,GACRqV,EAAKrV,EAAG,GACRyQ,EAAMzQ,EAAG,GACT3xD,EAAI6hE,GAAKzyC,EAAMgzC,GAGnB,GADAnP,EAAI+T,EACCG,EAA2C,IAAW,GAAPA,EAA6E,KAAM,4BAA8BA,EAAvGzC,EAAM9zC,GAAM4rC,GAAYptC,EAAKikC,SAASrzD,EAAGA,EAAIkiE,GAAK,IAAIlR,EAAGmR,SAA7GuC,EAAM9zC,GAAMwiC,EAAIhkC,EAAMpvB,EAAGA,EAAIkiE,GAGzC,OAAOwC,ECz2FT,IAAI0C,GAA0B,WAC5B,SAASA,KACP,OAAgB74D,KAAM64D,GAqXxB,OAlXA,OAAaA,EAAY,KAAM,CAAC,CAC9BloE,IAAK,WACLuB,MAQA,SAAkBkR,EAAGS,EAAGi1D,GACtB,IAAI31D,EAAI21D,EAAElqE,OAASwU,EAAI,EAEvB,GAAIS,GAAKi1D,EAAE31D,GACT,OAAOA,EAAI,EAGb,GAAIU,GAAKi1D,EAAE11D,GACT,OAAOA,EAOT,IAJA,IAAI21D,EAAM31D,EACN41D,EAAO71D,EACP81D,EAAMjwD,KAAK+a,OAAOg1C,EAAMC,GAAQ,GAE7Bn1D,EAAIi1D,EAAEG,IAAQp1D,GAAKi1D,EAAEG,EAAM,IAC5Bp1D,EAAIi1D,EAAEG,GACRD,EAAOC,EAEPF,EAAME,EAGRA,EAAMjwD,KAAK+a,OAAOg1C,EAAMC,GAAQ,GAGlC,OAAOC,IAWR,CACDtoE,IAAK,qBACLuB,MAAO,SAA4BgnE,EAAMr1D,EAAGT,EAAG01D,GAC7C,IAAIK,EAAI,GACJvoD,EAAO,GACPD,EAAQ,GACZwoD,EAAE,GAAK,EAEP,IAAK,IAAIzjD,EAAI,EAAGA,GAAKtS,IAAKsS,EAAG,CAC3B9E,EAAK8E,GAAK7R,EAAIi1D,EAAEI,EAAO,EAAIxjD,GAC3B/E,EAAM+E,GAAKojD,EAAEI,EAAOxjD,GAAK7R,EAGzB,IAFA,IAAIu1D,EAAQ,EAEH91D,EAAI,EAAGA,EAAIoS,IAAKpS,EAAG,CAC1B,IAAI+1D,EAAK1oD,EAAMrN,EAAI,GACf2sD,EAAKr/C,EAAK8E,EAAIpS,GACdg2D,EAAOH,EAAE71D,IAAM+1D,EAAKpJ,GACxBkJ,EAAE71D,GAAK81D,EAAQC,EAAKC,EACpBF,EAAQnJ,EAAKqJ,EAGfH,EAAEzjD,GAAK0jD,EAGT,OAAOD,IAWR,CACDxoE,IAAK,mBACLuB,MAAO,SAA0BkR,EAAG01D,EAAGp3C,EAAG7d,GAKxC,IAJA,IAAIq1D,EAAOl5D,KAAKu5D,SAASn2D,EAAGS,EAAGi1D,GAC3BK,EAAIn5D,KAAKw5D,mBAAmBN,EAAMr1D,EAAGT,EAAG01D,GACxCW,EAAI,IAAI,MAAQ,EAAG,EAAG,EAAG,GAEpB/jD,EAAI,EAAGA,GAAKtS,IAAKsS,EAAG,CAC3B,IAAIiD,EAAQ+I,EAAEw3C,EAAO91D,EAAIsS,GACrBgkD,EAAKP,EAAEzjD,GACPikD,EAAMhhD,EAAMlV,EAAIi2D,EACpBD,EAAE/1D,GAAKiV,EAAMjV,EAAIi2D,EACjBF,EAAE91D,GAAKgV,EAAMhV,EAAIg2D,EACjBF,EAAE71D,GAAK+U,EAAM/U,EAAI+1D,EACjBF,EAAEh2D,GAAKkV,EAAMlV,EAAIi2D,EAGnB,OAAOD,IAYR,CACD9oE,IAAK,+BACLuB,MAAO,SAAsCgnE,EAAMr1D,EAAGT,EAAGD,EAAG21D,GAG1D,IAFA,IAAIc,EAAU,GAELlpE,EAAI,EAAGA,GAAK0S,IAAK1S,EACxBkpE,EAAQlpE,GAAK,EAKf,IAFA,IAAImpE,EAAO,GAEFx9D,EAAK,EAAGA,GAAM8G,IAAK9G,EAC1Bw9D,EAAKx9D,GAAMu9D,EAAQ/8D,MAAM,GAK3B,IAFA,IAAIi9D,EAAM,GAEDC,EAAM,EAAGA,GAAO32D,IAAK22D,EAC5BD,EAAIC,GAAOH,EAAQ/8D,MAAM,GAG3Bi9D,EAAI,GAAG,GAAK,EAIZ,IAHA,IAAIlpD,EAAOgpD,EAAQ/8D,MAAM,GACrB8T,EAAQipD,EAAQ/8D,MAAM,GAEjB6Y,EAAI,EAAGA,GAAKtS,IAAKsS,EAAG,CAC3B9E,EAAK8E,GAAK7R,EAAIi1D,EAAEI,EAAO,EAAIxjD,GAC3B/E,EAAM+E,GAAKojD,EAAEI,EAAOxjD,GAAK7R,EAGzB,IAFA,IAAIu1D,EAAQ,EAEHY,EAAK,EAAGA,EAAKtkD,IAAKskD,EAAI,CAC7B,IAAIX,EAAK1oD,EAAMqpD,EAAK,GAChB/J,EAAKr/C,EAAK8E,EAAIskD,GAClBF,EAAIpkD,GAAGskD,GAAMX,EAAKpJ,EAClB,IAAIqJ,EAAOQ,EAAIE,GAAItkD,EAAI,GAAKokD,EAAIpkD,GAAGskD,GACnCF,EAAIE,GAAItkD,GAAK0jD,EAAQC,EAAKC,EAC1BF,EAAQnJ,EAAKqJ,EAGfQ,EAAIpkD,GAAGA,GAAK0jD,EAGd,IAAK,IAAIa,EAAK,EAAGA,GAAM72D,IAAK62D,EAC1BJ,EAAK,GAAGI,GAAMH,EAAIG,GAAI72D,GAGxB,IAAK,IAAI82D,EAAM,EAAGA,GAAO92D,IAAK82D,EAAK,CAKjC,IAJA,IAAIC,EAAK,EACLC,EAAK,EACL5oE,EAAI,GAEC6oE,EAAM,EAAGA,GAAOj3D,IAAKi3D,EAC5B7oE,EAAE6oE,GAAOT,EAAQ/8D,MAAM,GAGzBrL,EAAE,GAAG,GAAK,EAEV,IAAK,IAAIwR,EAAI,EAAGA,GAAKG,IAAKH,EAAG,CAC3B,IAAIH,EAAI,EACJy3D,EAAKJ,EAAMl3D,EACXu3D,EAAKn3D,EAAIJ,EAETk3D,GAAOl3D,IACTxR,EAAE4oE,GAAI,GAAK5oE,EAAE2oE,GAAI,GAAKL,EAAIS,EAAK,GAAGD,GAClCz3D,EAAIrR,EAAE4oE,GAAI,GAAKN,EAAIQ,GAAIC,IAMzB,IAHA,IACIC,EAAKN,EAAM,GAAKK,EAAKv3D,EAAI,EAAII,EAAI82D,EAE5BO,EAHAH,IAAO,EAAI,GAAKA,EAGNG,GAAOD,IAAMC,EAC9BjpE,EAAE4oE,GAAIK,IAAQjpE,EAAE2oE,GAAIM,GAAOjpE,EAAE2oE,GAAIM,EAAM,IAAMX,EAAIS,EAAK,GAAGD,EAAKG,GAC9D53D,GAAKrR,EAAE4oE,GAAIK,GAAOX,EAAIQ,EAAKG,GAAKF,GAG9BL,GAAOK,IACT/oE,EAAE4oE,GAAIp3D,IAAMxR,EAAE2oE,GAAIn3D,EAAI,GAAK82D,EAAIS,EAAK,GAAGL,GACvCr3D,GAAKrR,EAAE4oE,GAAIp3D,GAAK82D,EAAII,GAAKK,IAG3BV,EAAK72D,GAAGk3D,GAAOr3D,EACf,IAAI63D,EAAMP,EACVA,EAAKC,EACLA,EAAKM,GAMT,IAFA,IAAIp3D,EAAIF,EAECu3D,EAAK,EAAGA,GAAMx3D,IAAKw3D,EAAI,CAC9B,IAAK,IAAIC,EAAM,EAAGA,GAAOx3D,IAAKw3D,EAC5Bf,EAAKc,GAAIC,IAAQt3D,EAGnBA,GAAKF,EAAIu3D,EAGX,OAAOd,IAYR,CACDlpE,IAAK,yBACLuB,MAAO,SAAgCkR,EAAG01D,EAAGp3C,EAAG7d,EAAGg3D,GAOjD,IANA,IAAIC,EAAKD,EAAKz3D,EAAIy3D,EAAKz3D,EACnB23D,EAAK,GACL7B,EAAOl5D,KAAKu5D,SAASn2D,EAAGS,EAAGi1D,GAC3BkC,EAAQh7D,KAAKi7D,6BAA6B/B,EAAMr1D,EAAGT,EAAG03D,EAAIhC,GAC1DoC,EAAK,GAEAxqE,EAAI,EAAGA,EAAIgxB,EAAE9yB,SAAU8B,EAAG,CACjC,IAAIioB,EAAQ+I,EAAEhxB,GAAGga,QACbjH,EAAIkV,EAAMlV,EACdkV,EAAMjV,GAAKD,EACXkV,EAAMhV,GAAKF,EACXkV,EAAM/U,GAAKH,EACXy3D,EAAGxqE,GAAKioB,EAGV,IAAK,IAAI3V,EAAI,EAAGA,GAAK83D,IAAM93D,EAAG,CAG5B,IAFA,IAAIm4D,EAASD,EAAGhC,EAAO91D,GAAGsH,QAAQ4C,eAAe0tD,EAAMh4D,GAAG,IAEjD0S,EAAI,EAAGA,GAAKtS,IAAKsS,EACxBylD,EAAOhuD,IAAI+tD,EAAGhC,EAAO91D,EAAIsS,GAAGhL,QAAQ4C,eAAe0tD,EAAMh4D,GAAG0S,KAG9DqlD,EAAG/3D,GAAKm4D,EAGV,IAAK,IAAIC,EAAMN,EAAK,EAAGM,GAAOP,EAAK,IAAKO,EACtCL,EAAGK,GAAO,IAAI,MAAQ,EAAG,EAAG,GAG9B,OAAOL,IAOR,CACDpqE,IAAK,aACLuB,MAAO,SAAoB8Q,EAAGtS,GAG5B,IAFA,IAAI2qE,EAAM,EAED3lD,EAAI,EAAGA,GAAK1S,IAAK0S,EACxB2lD,GAAO3lD,EAKT,IAFA,IAAI4lD,EAAQ,EAEHC,EAAM,EAAGA,GAAO7qE,IAAK6qE,EAC5BD,GAASC,EAGX,IAAK,IAAIC,EAAM,EAAGA,GAAOx4D,EAAItS,IAAK8qE,EAChCF,GAASE,EAGX,OAAOH,EAAMC,IAQd,CACD3qE,IAAK,+BACLuB,MAAO,SAAsCupE,GAK3C,IAJA,IAAIZ,EAAKY,EAAM7sE,OACX8sE,EAAQ,GACRC,EAAQ,GAEHjrE,EAAI,EAAGA,EAAImqE,IAAMnqE,EAAG,CAC3B,IAAIioB,EAAQ8iD,EAAM/qE,GAClBgrE,EAAMhrE,GAAK,IAAI,MAAQioB,EAAMjV,EAAGiV,EAAMhV,EAAGgV,EAAM/U,GAC/C+3D,EAAMjrE,GAAKioB,EAAMlV,EAKnB,IAFA,IAAIs3D,EAAK,GAEA/3D,EAAI,EAAGA,EAAI63D,IAAM73D,EAAG,CAG3B,IAFA,IAAIQ,EAAIk4D,EAAM14D,GAAG0H,QAERkxD,EAAM,EAAGA,GAAO54D,IAAK44D,EAC5Bp4D,EAAE8I,IAAIyuD,EAAG/3D,EAAI44D,GAAKlxD,QAAQ4C,eAAetN,KAAK67D,WAAW74D,EAAG44D,GAAOD,EAAMC,KAG3Eb,EAAG/3D,GAAKQ,EAAEs4D,aAAaH,EAAM,IAG/B,OAAOZ,IAYR,CACDpqE,IAAK,uBACLuB,MAAO,SAA8BkR,EAAG01D,EAAGp3C,EAAG7d,EAAGg3D,GAC/C,IAAIY,EAAQz7D,KAAK+7D,uBAAuB34D,EAAG01D,EAAGp3C,EAAG7d,EAAGg3D,GACpD,OAAO76D,KAAKg8D,6BAA6BP,KAW1C,CACD9qE,IAAK,mBACLuB,MAAO,SAA0BkR,EAAGC,EAAGy1D,EAAG52C,EAAGR,EAAG7d,EAAGL,EAAGlO,GAOpD,IANA,IAAI2mE,EAAQj8D,KAAKu5D,SAASn2D,EAAGS,EAAGi1D,GAC5BoD,EAAQl8D,KAAKu5D,SAASl2D,EAAGG,EAAG0e,GAC5Bi6C,EAAKn8D,KAAKw5D,mBAAmByC,EAAOp4D,EAAGT,EAAG01D,GAC1CsD,EAAKp8D,KAAKw5D,mBAAmB0C,EAAO14D,EAAGH,EAAG6e,GAC1Co3C,EAAO,GAEFr2D,EAAI,EAAGA,GAAKI,IAAKJ,EAAG,CAC3Bq2D,EAAKr2D,GAAK,IAAI,MAAQ,EAAG,EAAG,EAAG,GAE/B,IAAK,IAAID,EAAI,EAAGA,GAAKI,IAAKJ,EAAG,CAC3B,IAAI2V,EAAQ+I,EAAEu6C,EAAQ74D,EAAIJ,GAAGk5D,EAAQ74D,EAAIJ,GAAGyH,QACxCjH,EAAIkV,EAAMlV,EACdkV,EAAMjV,GAAKD,EACXkV,EAAMhV,GAAKF,EACXkV,EAAM/U,GAAKH,EACX61D,EAAKr2D,GAAGkK,IAAIwL,EAAMrL,eAAe6uD,EAAGn5D,MAMxC,IAFA,IAAIq5D,EAAK,IAAI,MAAQ,EAAG,EAAG,EAAG,GAErBC,EAAK,EAAGA,GAAMj5D,IAAKi5D,EAC1BD,EAAGlvD,IAAImsD,EAAKgD,GAAIhvD,eAAe8uD,EAAGE,KAGpCD,EAAGP,aAAaO,EAAG54D,GACnBnO,EAAO6M,IAAIk6D,EAAG34D,EAAG24D,EAAG14D,EAAG04D,EAAGz4D,OAIvBi1D,EAvXqB,GCP9B,SAASnyD,GAAaC,GAAW,IAAIC,EAErC,WAAuC,GAAuB,oBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQrZ,UAAU2E,QAAQG,KAAKmU,QAAQC,UAAUG,QAAS,IAAI,iBAAyB,EAAQ,MAAOpW,IAAK,OAAO,GAF9PqW,GAA6B,OAAO,WAAkC,IAAsCC,EAAlCC,GAAQ,OAAgBT,GAAkB,GAAIC,EAA2B,CAAE,IAAIS,GAAY,OAAgBrH,MAAMrS,YAAawZ,EAASN,QAAQC,UAAUM,EAAOrY,UAAWsY,QAAqBF,EAASC,EAAMnH,MAAMD,KAAMjR,WAAc,OAAO,OAA2BiR,KAAMmH,IAe5Z,ICQIo1D,GACAC,GACAC,GDVAC,GAA0B,SAAUC,IACtC,OAAUD,EAAYC,GAEtB,IAAIh1D,EAASjB,GAAag2D,GAE1B,SAASA,EAAWE,EAAQC,EAE1BC,EAEAC,EAEAC,GAGA,IAAIl1D,GAEJ,OAAgB9H,KAAM08D,IAEtB50D,EAAQH,EAAOjV,KAAKsN,OACd48D,OAASA,EACf90D,EAAM+0D,MAAQA,EACd/0D,EAAMg1D,cAAgB,GAEtBh1D,EAAMi1D,UAAYA,GAAa,EAC/Bj1D,EAAMk1D,QAAUA,GAAWl1D,EAAM+0D,MAAMjuE,OAAS,EAEhD,IAAK,IAAI8B,EAAI,EAAGA,EAAIosE,EAAcluE,SAAU8B,EAAG,CAE7C,IAAIioB,EAAQmkD,EAAcpsE,GAC1BoX,EAAMg1D,cAAcpsE,GAAK,IAAI,MAAQioB,EAAMjV,EAAGiV,EAAMhV,EAAGgV,EAAM/U,EAAG+U,EAAMlV,GAGxE,OAAOqE,EAgCT,OA7BA,OAAa40D,EAAY,CAAC,CACxB/rE,IAAK,WACLuB,MAAO,SAAkBqR,GACvB,IAAI05D,EAAiBluE,UAAUH,OAAS,QAAsB2H,IAAjBxH,UAAU,GAAmBA,UAAU,GAAK,IAAI,MACzF4pB,EAAQskD,EACRp5D,EAAI7D,KAAK68D,MAAM78D,KAAK+8D,WAAax5D,GAAKvD,KAAK68D,MAAM78D,KAAKg9D,SAAWh9D,KAAK68D,MAAM78D,KAAK+8D,YAGjFG,EAASrE,GAAWsE,iBAAiBn9D,KAAK48D,OAAQ58D,KAAK68D,MAAO78D,KAAK88D,cAAej5D,GAOtF,OALiB,IAAbq5D,EAAOz5D,GAETy5D,EAAOpB,aAAaoB,EAAOz5D,GAGtBkV,EAAMxW,IAAI+6D,EAAOx5D,EAAGw5D,EAAOv5D,EAAGu5D,EAAOt5D,KAE7C,CACDjT,IAAK,aACLuB,MAAO,SAAoBqR,GACzB,IAAI05D,EAAiBluE,UAAUH,OAAS,QAAsB2H,IAAjBxH,UAAU,GAAmBA,UAAU,GAAK,IAAI,MACzFquE,EAAUH,EACVp5D,EAAI7D,KAAK68D,MAAM,GAAKt5D,GAAKvD,KAAK68D,MAAM78D,KAAK68D,MAAMjuE,OAAS,GAAKoR,KAAK68D,MAAM,IACxEhD,EAAOhB,GAAWwE,qBAAqBr9D,KAAK48D,OAAQ58D,KAAK68D,MAAO78D,KAAK88D,cAAej5D,EAAG,GAE3F,OADAu5D,EAAQxxD,KAAKiuD,EAAK,IAAI/4C,YACfs8C,MAIJV,EAhEqB,CAiE5B,OChFF,SAAS,GAAa/1D,GAAW,IAAIC,EAErC,WAAuC,GAAuB,oBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQrZ,UAAU2E,QAAQG,KAAKmU,QAAQC,UAAUG,QAAS,IAAI,iBAAyB,EAAQ,MAAOpW,IAAK,OAAO,GAF9P,GAA6B,OAAO,WAAkC,IAAsCsW,EAAlCC,GAAQ,OAAgBT,GAAkB,GAAIC,EAA2B,CAAE,IAAIS,GAAY,OAAgBrH,MAAMrS,YAAawZ,EAASN,QAAQC,UAAUM,EAAOrY,UAAWsY,QAAqBF,EAASC,EAAMnH,MAAMD,KAAMjR,WAAc,OAAO,OAA2BiR,KAAMmH,IA2B5Z,IAAIm2D,GAAyB,SAAUC,IACrC,OAAUD,EAAWC,GAErB,IAAI51D,EAAS,GAAa21D,GAE1B,SAASA,EAAUE,GAGjB,OAFA,OAAgBx9D,KAAMs9D,GAEf31D,EAAOjV,KAAKsN,KAAMw9D,GAoD3B,OAjDA,OAAaF,EAAW,CAAC,CACvB3sE,IAAK,OACLuB,MAAO,SAAcm0C,EAAKo3B,EAAQC,EAAYC,GAC5C,IAAIhyD,EAAQ3L,KACR49D,EAAsB,KAAfjyD,EAAMiyD,KAAc,qBAA2Bv3B,GAAO16B,EAAMiyD,KACnEC,EAAS,IAAI,MAAW79D,KAAKw9D,SACjCK,EAAOC,QAAQnyD,EAAMiyD,MACrBC,EAAOE,gBAAgB,eACvBF,EAAOG,iBAAiBryD,EAAMsyD,eAC9BJ,EAAOK,mBAAmBvyD,EAAMwyD,iBAChCN,EAAOO,KAAK/3B,GAAK,SAAUynB,GACzB,IACE2P,EAAO9xD,EAAM0yD,MAAMvQ,EAAQ8P,IAC3B,MAAO/sE,IACH8sE,EACFA,EAAQ9sE,IAERkC,QAAQH,MAAM/B,IAGhB8a,EAAM6xD,QAAQc,UAAUj4B,MAEzBq3B,EAAYC,KAEhB,CACDhtE,IAAK,QACLuB,MAAO,SAAeqsE,EAAWX,GAC/B,GAqvFAY,EAAU,0BADW1Q,EApvFCyQ,GAsvFZE,YAAcD,EAAQ5vE,QAAU4vE,IAAYE,GAA2B5Q,EAAQ,EAAG0Q,EAAQ5vE,QArvFlG2tE,IAAU,IAAIoC,IAAeN,MAAME,OAC9B,CACL,IAAIK,EAAUF,GAA2BH,GAEzC,IAovFR,SAA0B3nC,GACxB,IAAI4nC,EAAU,CAAC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KAAM,IAAK,IAAK,IAAK,KAAM,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KAAM,MAC7G91C,EAAS,EAEb,SAASm2C,EAAK92D,GACZ,IAAIZ,EAASyvB,EAAK7uB,EAAS,GAG3B,OAFA6uB,EAAOA,EAAK/5B,MAAM6rB,EAAS3gB,GAC3B2gB,IACOvhB,EAGT,IAAK,IAAIzW,EAAI,EAAGA,EAAI8tE,EAAQ5vE,SAAU8B,EAAG,CAGvC,GAFUmuE,EAAK,KAEHL,EAAQ9tE,GAClB,OAAO,EAIX,OAAO,EAvwFIouE,CAAiBF,GACpB,MAAM,IAAI/9D,MAAM,oCAGlB,GAAIk+D,GAAcH,GAAW,IAC3B,MAAM,IAAI/9D,MAAM,4DAA8Dk+D,GAAcH,IAG9FrC,IAAU,IAAIyC,IAAaX,MAAMO,GAuuFzC,IAA2B9Q,EACrB0Q,EApuFIS,EAAgB,IAAI,MAAcj/D,KAAKw9D,SAASM,QAAQ99D,KAAKk/D,cAAgBtB,GAAMuB,eAAen/D,KAAKo/D,aAC3G,OAAO,IAAIC,GAAcJ,EAAej/D,KAAKw9D,SAASa,MAAM9B,QAIzDe,EA5DoB,CA6D3B,OAGE+B,GAA6B,WAC/B,SAASA,EAAcJ,EAAezB,IACpC,OAAgBx9D,KAAMq/D,GAEtBr/D,KAAKi/D,cAAgBA,EACrBj/D,KAAKw9D,QAAUA,EAm+BjB,OAh+BA,OAAa6B,EAAe,CAAC,CAC3B1uE,IAAK,QACLuB,MAAO,WACLsqE,GAAcx8D,KAAKs/D,mBACnB,IAAIC,EAASv/D,KAAKw/D,cACdC,EAAWz/D,KAAK0/D,cAAcH,GAC9BI,EAAY3/D,KAAK4/D,eAAeH,GAChCI,EAAY7/D,KAAK8/D,iBACjBC,GAAc,IAAIC,IAAiB3B,MAAMwB,GAE7C,OADA7/D,KAAKigE,WAAWJ,EAAWE,EAAaJ,GACjClD,KAIR,CACD9rE,IAAK,mBACLuB,MAAO,WACL,IAAIguE,EAAgB,IAAIjvE,IAEpB,gBAAiBsrE,IACEA,GAAQ4D,YAAY3D,YAC1BlkE,SAAQ,SAAU8nE,GAC/B,IAAIC,EAASD,EAAc,GACvBE,EAAOF,EAAc,GACrBG,EAAeH,EAAc,GAE5BF,EAAcjuE,IAAIouE,IACrBH,EAAc/9D,IAAIk+D,EAAQ,CACxBG,QAAS,GACT3+D,SAAU,KAId,IAAI4+D,EAAqB,CACvBC,GAAIJ,EACJC,aAAcA,GAEhBL,EAAc/tE,IAAIkuE,GAAQG,QAAQjoE,KAAKkoE,GAElCP,EAAcjuE,IAAIquE,IACrBJ,EAAc/9D,IAAIm+D,EAAM,CACtBE,QAAS,GACT3+D,SAAU,KAId,IAAI8+D,EAAoB,CACtBD,GAAIL,EACJE,aAAcA,GAEhBL,EAAc/tE,IAAImuE,GAAMz+D,SAAStJ,KAAKooE,MAI1C,OAAOT,IAKR,CACDvvE,IAAK,cACLuB,MAAO,WACL,IAAIqtE,EAAS,GACTqB,EAAQ,GAEZ,GAAI,UAAWrE,GAAQsE,QAAS,CAC9B,IAAIC,EAAavE,GAAQsE,QAAQE,MAEjC,IAAK,IAAIC,KAAUF,EAAY,CAC7B,IAAIG,EAAYH,EAAWE,GAI3B,GAFAzB,EADSh/B,SAASygC,IACLC,EAAUC,kBAAoBD,EAAUE,SAEjD,YAAaF,EAAW,CAC1B,IAAIG,EAAqBH,EAAUI,mBAAmBhwE,aAAe4vE,EAAUI,QAAQ5C,WAAa,EAChG6C,EAA6C,iBAAtBL,EAAUI,SAA8C,KAAtBJ,EAAUI,QAEvE,GAAID,GAAsBE,EAAe,CACvC,IAAIC,EAAQvhE,KAAKwhE,WAAWV,EAAWE,IACvCJ,EAAMK,EAAUC,kBAAoBD,EAAUE,UAAYI,KAMlE,IAAK,IAAIl6C,KAAOk4C,EAAQ,CACtB,IAAI3P,EAAW2P,EAAOl4C,QACE9wB,IAApBqqE,EAAMhR,GAAyB2P,EAAOl4C,GAAOu5C,EAAMhR,GAAe2P,EAAOl4C,GAAOk4C,EAAOl4C,GAAKvrB,MAAM,MAAM2lE,MAG9G,OAAOlC,IAGR,CACD5uE,IAAK,aACLuB,MAAO,SAAoB+uE,GACzB,IAGIxyE,EAHAgQ,EAAUwiE,EAAUI,QACpBK,EAAWT,EAAUC,kBAAoBD,EAAUE,SACnDQ,EAAYD,EAAS7kE,MAAM6kE,EAASzU,YAAY,KAAO,GAAGp1D,cAG9D,OAAQ8pE,GACN,IAAK,MACHlzE,EAAO,YACP,MAEF,IAAK,MACL,IAAK,OACHA,EAAO,aACP,MAEF,IAAK,MACHA,EAAO,YACP,MAEF,IAAK,MACHA,EAAO,aACP,MAEF,IAAK,MACqC,OAApCuR,KAAKw9D,QAAQoE,WAAW,SAC1B7uE,QAAQC,KAAK,6CAA8C0uE,GAG7DjzE,EAAO,YACP,MAEF,QAEE,YADAsE,QAAQC,KAAK,0BAA4B2uE,EAAY,uBAIzD,GAAuB,iBAAZljE,EAET,MAAO,QAAUhQ,EAAO,WAAagQ,EAGrC,IAAI6a,EAAQ,IAAIopC,WAAWjkD,GAC3B,OAAOrF,OAAO8oD,IAAIC,gBAAgB,IAAIC,KAAK,CAAC9oC,GAAQ,CAClD7qB,KAAMA,OAOX,CACDkC,IAAK,gBACLuB,MAAO,SAAuBqtE,GAC5B,IAAIsC,EAAa,IAAI5wE,IAErB,GAAI,YAAasrE,GAAQsE,QAAS,CAChC,IAAIiB,EAAevF,GAAQsE,QAAQkB,QAEnC,IAAK,IAAIf,KAAUc,EAAc,CAC/B,IAAIE,EAAUhiE,KAAKiiE,aAAaH,EAAad,GAASzB,GACtDsC,EAAW1/D,IAAIo+B,SAASygC,GAASgB,IAIrC,OAAOH,IAGR,CACDlxE,IAAK,eACLuB,MAAO,SAAsBgwE,EAAa3C,GACxC,IAAIyC,EAAUhiE,KAAKmiE,YAAYD,EAAa3C,GAC5CyC,EAAQtB,GAAKwB,EAAYjpE,GACzB+oE,EAAQrzE,KAAOuzE,EAAYE,SAC3B,IAAIC,EAAYH,EAAYI,UACxBC,EAAYL,EAAYM,UACxBC,OAAuBlsE,IAAd8rE,EAA0BA,EAAUnwE,MAAQ,EACrDwwE,OAAuBnsE,IAAdgsE,EAA0BA,EAAUrwE,MAAQ,EAMzD,GAHA8vE,EAAQW,MAAmB,IAAXF,EAAe,MAAiB,MAChDT,EAAQY,MAAmB,IAAXF,EAAe,MAAiB,MAE5C,YAAaR,EAAa,CAC5B,IAAIh+B,EAASg+B,EAAYW,QAAQ3wE,MACjC8vE,EAAQc,OAAOp/D,EAAIwgC,EAAO,GAC1B89B,EAAQc,OAAOn/D,EAAIugC,EAAO,GAG5B,OAAO89B,IAGR,CACDrxE,IAAK,cACLuB,MAAO,SAAqBgwE,EAAa3C,GACvC,IAAImC,EAYAM,EAXAe,EAAc/iE,KAAKi/D,cAAcrB,KACjC/7D,EAAW26D,GAAYrqE,IAAI+vE,EAAYjpE,IAAI4I,cAE9BtL,IAAbsL,GAA0BA,EAASjT,OAAS,QAAgC2H,IAA3BgpE,EAAO19D,EAAS,GAAG6+D,MAGpC,KAFlCgB,EAAWnC,EAAO19D,EAAS,GAAG6+D,KAEjB1qE,QAAQ,UAAgD,IAA9B0rE,EAAS1rE,QAAQ,UACtDgK,KAAKi/D,cAAcnB,aAAQvnE,IAK/B,IAAIorE,EAAYO,EAAYc,SAASnmE,OAAO,GAAGhF,cAE/C,GAAkB,QAAd8pE,EAAqB,CACvB,IAAI9D,EAAS79D,KAAKw9D,QAAQoE,WAAW,QAEtB,OAAX/D,GACF9qE,QAAQC,KAAK,oEAAqEkvE,EAAYhB,kBAC9Fc,EAAU,IAAI,QAEdnE,EAAOC,QAAQ99D,KAAKi/D,cAAcrB,MAClCoE,EAAUnE,EAAOO,KAAKsD,QAED,QAAdC,GACT5uE,QAAQC,KAAK,8EAA+EkvE,EAAYhB,kBACxGc,EAAU,IAAI,OAEdA,EAAUhiE,KAAKi/D,cAAcb,KAAKsD,GAIpC,OADA1hE,KAAKi/D,cAAcnB,QAAQiF,GACpBf,IAGR,CACDrxE,IAAK,iBACLuB,MAAO,SAAwB2vE,GAC7B,IAAIoB,EAAc,IAAIhyE,IAEtB,GAAI,aAAcsrE,GAAQsE,QAAS,CACjC,IAAIqC,EAAgB3G,GAAQsE,QAAQsC,SAEpC,IAAK,IAAInC,KAAUkC,EAAe,CAChC,IAAIjuD,EAAWjV,KAAKojE,cAAcF,EAAclC,GAASa,GACxC,OAAb5sD,GAAmBguD,EAAY9gE,IAAIo+B,SAASygC,GAAS/rD,IAI7D,OAAOguD,IAKR,CACDtyE,IAAK,gBACLuB,MAAO,SAAuBmxE,EAAcxB,GAC1C,IAAInB,EAAK2C,EAAapqE,GAClBtK,EAAO00E,EAAajB,SACpB3zE,EAAO40E,EAAaC,aAOxB,GALoB,iBAAT70E,IACTA,EAAOA,EAAKyD,QAITsqE,GAAYvqE,IAAIyuE,GAAK,OAAO,KACjC,IACIzrD,EADAsF,EAAava,KAAKujE,gBAAgBF,EAAcxB,EAAYnB,GAGhE,OAAQjyE,EAAKoJ,eACX,IAAK,QACHod,EAAW,IAAI,MACf,MAEF,IAAK,UACHA,EAAW,IAAI,MACf,MAEF,QACEliB,QAAQC,KAAK,gFAAiFvE,GAC9FwmB,EAAW,IAAI,MAMnB,OAFAA,EAASgG,UAAUV,GACnBtF,EAAStmB,KAAOA,EACTsmB,IAIR,CACDtkB,IAAK,kBACLuB,MAAO,SAAyBmxE,EAAcxB,EAAYnB,GACxD,IAAInmD,EAAa,GAEb8oD,EAAaG,aACfjpD,EAAWkpD,UAAYJ,EAAaG,WAAWtxE,OAG7CmxE,EAAaK,QACfnpD,EAAWpF,OAAQ,IAAI,OAAQwuD,UAAUN,EAAaK,QAAQxxE,QACrDmxE,EAAaO,cAAoD,UAAnCP,EAAaO,aAAan1E,MAAuD,aAAnC40E,EAAaO,aAAan1E,OAE/G8rB,EAAWpF,OAAQ,IAAI,OAAQwuD,UAAUN,EAAaO,aAAa1xE,QAGjEmxE,EAAaQ,qBACftpD,EAAWupD,kBAAoBT,EAAaQ,mBAAmB3xE,OAG7DmxE,EAAaU,SACfxpD,EAAWypD,UAAW,IAAI,OAAQL,UAAUN,EAAaU,SAAS7xE,QACzDmxE,EAAaY,eAAsD,UAApCZ,EAAaY,cAAcx1E,MAAwD,aAApC40E,EAAaY,cAAcx1E,OAElH8rB,EAAWypD,UAAW,IAAI,OAAQL,UAAUN,EAAaY,cAAc/xE,QAGrEmxE,EAAaa,iBACf3pD,EAAW4pD,kBAAoBh9B,WAAWk8B,EAAaa,eAAehyE,QAGpEmxE,EAAae,UACf7pD,EAAWL,QAAUitB,WAAWk8B,EAAae,QAAQlyE,QAGnDqoB,EAAWL,QAAU,IACvBK,EAAWgN,aAAc,GAGvB87C,EAAagB,mBACf9pD,EAAW+pD,aAAejB,EAAagB,iBAAiBnyE,OAGtDmxE,EAAakB,YACfhqD,EAAWiqD,UAAYnB,EAAakB,UAAUryE,OAG5CmxE,EAAaoB,SACflqD,EAAWmqD,UAAW,IAAI,OAAQf,UAAUN,EAAaoB,SAASvyE,OACzDmxE,EAAasB,eAAqD,UAApCtB,EAAasB,cAAcl2E,OAElE8rB,EAAWmqD,UAAW,IAAI,OAAQf,UAAUN,EAAasB,cAAczyE,QAGzE,IAAIyZ,EAAQ3L,KA8EZ,OA7EAw8D,GAAYrqE,IAAIuuE,GAAI7+D,SAASvJ,SAAQ,SAAUqI,GAC7C,IAAIlS,EAAOkS,EAAM4/D,aAEjB,OAAQ9xE,GACN,IAAK,OACH8rB,EAAWqqD,QAAUj5D,EAAMk5D,WAAWhD,EAAYlhE,EAAM+/D,IACxD,MAEF,IAAK,kBACHnmD,EAAWuqD,MAAQn5D,EAAMk5D,WAAWhD,EAAYlhE,EAAM+/D,IACtD,MAEF,IAAK,eACL,IAAK,qBACHnmD,EAAWrmB,IAAMyX,EAAMk5D,WAAWhD,EAAYlhE,EAAM+/D,SAE7BnqE,IAAnBgkB,EAAWrmB,MACbqmB,EAAWrmB,IAAI6wE,SAAW,OAG5B,MAEF,IAAK,oBACHxqD,EAAWyqD,gBAAkBr5D,EAAMk5D,WAAWhD,EAAYlhE,EAAM+/D,IAChE,MAEF,IAAK,gBACHnmD,EAAW0qD,YAAct5D,EAAMk5D,WAAWhD,EAAYlhE,EAAM+/D,SAE7BnqE,IAA3BgkB,EAAW0qD,cACb1qD,EAAW0qD,YAAYF,SAAW,OAGpC,MAEF,IAAK,YACL,IAAK,sBACHxqD,EAAW2qD,UAAYv5D,EAAMk5D,WAAWhD,EAAYlhE,EAAM+/D,IAC1D,MAEF,IAAK,kBACHnmD,EAAW4qD,OAASx5D,EAAMk5D,WAAWhD,EAAYlhE,EAAM+/D,SAE7BnqE,IAAtBgkB,EAAW4qD,SACb5qD,EAAW4qD,OAAOC,QAAU,MAC5B7qD,EAAW4qD,OAAOJ,SAAW,OAG/B,MAEF,IAAK,gBACHxqD,EAAW8qD,YAAc15D,EAAMk5D,WAAWhD,EAAYlhE,EAAM+/D,SAE7BnqE,IAA3BgkB,EAAW8qD,cACb9qD,EAAW8qD,YAAYN,SAAW,OAGpC,MAEF,IAAK,mBACL,IAAK,qBACHxqD,EAAW+qD,SAAW35D,EAAMk5D,WAAWhD,EAAYlhE,EAAM+/D,IACzDnmD,EAAWgN,aAAc,EACzB,MAEF,IAAK,eACL,IAAK,oBAEL,IAAK,iBAEL,IAAK,0BAEL,QACEx0B,QAAQC,KAAK,0EAA2EvE,OAIvF8rB,IAGR,CACD5pB,IAAK,aACLuB,MAAO,SAAoB2vE,EAAY5oE,GAEjC,mBAAoBsjE,GAAQsE,SAAW5nE,KAAMsjE,GAAQsE,QAAQ0E,iBAC/DxyE,QAAQC,KAAK,oGACbiG,EAAKujE,GAAYrqE,IAAI8G,GAAI4I,SAAS,GAAG6+D,IAGvC,IAAIsB,EAAUH,EAAW1vE,IAAI8G,GAE7B,YAAsB1C,IAAlByrE,EAAQT,MACHS,OAEP,IAMH,CACDrxE,IAAK,iBACLuB,MAAO,WACL,IAAIszE,EAAY,GACZC,EAAe,GAEnB,GAAI,aAAclJ,GAAQsE,QAAS,CACjC,IAAI6E,EAAgBnJ,GAAQsE,QAAQ8E,SAEpC,IAAK,IAAI3E,KAAU0E,EAAe,CAChC,IAAIE,EAAeF,EAAc1E,GAC7B6E,EAAgBrJ,GAAYrqE,IAAIouC,SAASygC,IAE7C,GAA8B,SAA1B4E,EAAaE,SAAqB,CACpC,IAAIC,EAAW/lE,KAAKgmE,cAAcH,EAAeH,GACjDK,EAASrF,GAAKM,EACV6E,EAAcrF,QAAQ5xE,OAAS,GAAGmE,QAAQC,KAAK,kFACnD+yE,EAASE,WAAaJ,EAAcrF,QAAQ,GAAGE,GAC/C8E,EAAUxE,GAAU+E,OACf,GAA8B,eAA1BH,EAAaE,SAA2B,CACjD,IAAII,EAAc,CAChBjtE,GAAI+nE,GAENkF,EAAYC,WAAanmE,KAAKomE,kBAAkBP,EAAeH,GAC/DQ,EAAYjtE,GAAK+nE,EACb6E,EAAcrF,QAAQ5xE,OAAS,GAAGmE,QAAQC,KAAK,sFACnDyyE,EAAazE,GAAUkF,IAK7B,MAAO,CACLV,UAAWA,EACXC,aAAcA,KAMjB,CACD90E,IAAK,gBACLuB,MAAO,SAAuB2zE,EAAeQ,GAC3C,IAAIC,EAAW,GAoBf,OAnBAT,EAAchkE,SAASvJ,SAAQ,SAAUqI,GACvC,IAAI4lE,EAAWF,EAAc1lE,EAAM+/D,IACnC,GAA0B,YAAtB6F,EAAST,SAAb,CACA,IAAIU,EAAU,CACZ9F,GAAI//D,EAAM+/D,GACV+F,QAAS,GACTC,QAAS,GACTC,eAAe,IAAI,OAAUhD,UAAU4C,EAASK,cAAcp1E,IAK5D,YAAa+0E,IACfC,EAAQC,QAAUF,EAASM,QAAQr1E,EACnCg1E,EAAQE,QAAUH,EAASO,QAAQt1E,GAGrC80E,EAAS/tE,KAAKiuE,OAET,CACLF,SAAUA,EACVS,MAAO,MAIV,CACDp2E,IAAK,oBACLuB,MAAO,SAA2B2zE,EAAeQ,GAG/C,IAFA,IAAIW,EAAkB,GAEbt2E,EAAI,EAAGA,EAAIm1E,EAAchkE,SAASjT,OAAQ8B,IAAK,CACtD,IAAIiQ,EAAQklE,EAAchkE,SAASnR,GAC/Bu2E,EAAkBZ,EAAc1lE,EAAM+/D,IACtCwG,EAAiB,CACnBv4E,KAAMs4E,EAAgB7E,SACtB+E,cAAeF,EAAgBG,cAC/BnuE,GAAIguE,EAAgBhuE,GACpBouE,YAAaJ,EAAgBK,YAAY91E,GAE3C,GAAiC,sBAA7By1E,EAAgBnB,SAAkC,OACtDoB,EAAeK,MAAQ/K,GAAYrqE,IAAIouC,SAAS5/B,EAAM+/D,KAAK7+D,SAASzK,QAAO,SAAUuJ,GACnF,YAA8BpK,IAAvBoK,EAAM4/D,gBACZ,GAAGG,GACNsG,EAAgBzuE,KAAK2uE,GAGvB,OAAOF,IAGR,CACDr2E,IAAK,aACLuB,MAAO,SAAoB2tE,EAAWE,EAAakD,GACjDxG,GAAa,IAAI,MACjB,IAAI+K,EAAWxnE,KAAKynE,YAAY5H,EAAU2F,UAAWzF,EAAakD,GAC9DyE,EAAanL,GAAQsE,QAAQ8G,MAC7Bh8D,EAAQ3L,KACZwnE,EAASlvE,SAAQ,SAAUsvE,GACzB,IAAIC,EAAYH,EAAWE,EAAMlH,IACjC/0D,EAAMm8D,oBAAoBF,EAAOC,GACTrL,GAAYrqE,IAAIy1E,EAAMlH,IAAIF,QAChCloE,SAAQ,SAAUyvE,GAClC,IAAIv3C,EAASg3C,EAASr1E,IAAI41E,EAAWrH,SACtBnqE,IAAXi6B,GAAsBA,EAAOrjB,IAAIy6D,MAGlB,OAAjBA,EAAMp3C,QACRisC,GAAWtvD,IAAIy6D,MAGnB5nE,KAAKgoE,aAAanI,EAAU2F,UAAWzF,EAAayH,GACpDxnE,KAAKioE,qBACLxL,GAAWyL,UAAS,SAAU1xC,GAC5B,GAAIA,EAAK2xC,SAASC,cAAe,CAC3B5xC,EAAKhG,SACPgG,EAAK2xC,SAASC,cAAcC,aAAe7xC,EAAKhG,OAAO/f,OACvD+lB,EAAK2xC,SAASC,cAAcE,kBAAoB9xC,EAAKhG,OAAOna,aAG9D,IAAIgoB,EAAYkqC,GAAkB/xC,EAAK2xC,SAASC,eAChD5xC,EAAKzf,aAAasnB,GAClB7H,EAAKgyC,wBAGT,IAAIC,GAAa,IAAIC,IAAkBrK,QAEJ,IAA/B5B,GAAW56D,SAASjT,QAAgB6tE,GAAW56D,SAAS,GAAG8mE,UAC7DlM,GAAW56D,SAAS,GAAG4mE,WAAaA,EACpChM,GAAaA,GAAW56D,SAAS,IAGnC46D,GAAWgM,WAAaA,IAGzB,CACD93E,IAAK,cACLuB,MAAO,SAAqBszE,EAAWzF,EAAakD,GAClD,IAAIuE,EAAW,IAAIv2E,IACfy2E,EAAanL,GAAQsE,QAAQ8G,MAEjC,IAAK,IAAI3G,KAAU0G,EAAY,CAC7B,IAAIzuE,EAAKsnC,SAASygC,GACdxqC,EAAOkxC,EAAW1G,GAClB6E,EAAgBrJ,GAAYrqE,IAAI8G,GAChC2uE,EAAQ5nE,KAAK4oE,cAAc/C,EAAeL,EAAWvsE,EAAIu9B,EAAK4rC,UAElE,IAAKwF,EAAO,CACV,OAAQpxC,EAAKsvC,UACX,IAAK,SACH8B,EAAQ5nE,KAAK6oE,aAAahD,GAC1B,MAEF,IAAK,QACH+B,EAAQ5nE,KAAK8oE,YAAYjD,GACzB,MAEF,IAAK,OACH+B,EAAQ5nE,KAAK+oE,WAAWlD,EAAe9F,EAAakD,GACpD,MAEF,IAAK,aACH2E,EAAQ5nE,KAAKgpE,YAAYnD,EAAe9F,GACxC,MAEF,IAAK,WACL,IAAK,OACH6H,EAAQ,IAAI,MACZ,MAEF,IAAK,OACL,QACEA,EAAQ,IAAI,MAIhBA,EAAMj5E,KAAO6nC,EAAK4rC,SAAW,uBAAiC5rC,EAAK4rC,UAAY,GAC/EwF,EAAMlH,GAAKznE,EAGb+G,KAAKipE,iBAAiBrB,EAAOpxC,GAC7BgxC,EAASrlE,IAAIlJ,EAAI2uE,GAGnB,OAAOJ,IAER,CACD72E,IAAK,gBACLuB,MAAO,SAAuB2zE,EAAeL,EAAWvsE,EAAItK,GAC1D,IAAIu6E,EAAO,KA0BX,OAzBArD,EAAcrF,QAAQloE,SAAQ,SAAUk4B,GACtC,IAAI24C,EAAQ,SAAezI,GACzB,IAAIqF,EAAWP,EAAU9E,GACzBqF,EAASO,SAAShuE,SAAQ,SAAUkuE,EAAS91E,GAC3C,GAAI81E,EAAQ9F,KAAOlwC,EAAOkwC,GAAI,CAC5B,IAAI0I,EAAUF,GACdA,EAAO,IAAI,OACN7yD,YAAYzK,KAAK46D,EAAQG,eAE9BuC,EAAKv6E,KAAOA,EAAO,uBAAiCA,GAAQ,GAC5Du6E,EAAKxI,GAAKznE,EACV8sE,EAASgB,MAAMr2E,GAAKw4E,EAGJ,OAAZE,GACFF,EAAK/7D,IAAIi8D,QAMjB,IAAK,IAAI1I,KAAM8E,EACb2D,EAAMzI,MAGHwI,IAGR,CACDv4E,IAAK,eACLuB,MAAO,SAAsB2zE,GAC3B,IAAI+B,EACAyB,EASJ,GARAxD,EAAchkE,SAASvJ,SAAQ,SAAUqI,GACvC,IAAI9C,EAAO0+D,GAAQsE,QAAQyI,cAAc3oE,EAAM+/D,SAElCnqE,IAATsH,IACFwrE,EAAkBxrE,WAIEtH,IAApB8yE,EACFzB,EAAQ,IAAI,UACP,CACL,IAAIn5E,EAAO,OAEkC8H,IAAzC8yE,EAAgBE,sBAAqF,IAA/CF,EAAgBE,qBAAqBr3E,QAC7FzD,EAAO,GAGT,IAAI+6E,EAAoB,OAEUjzE,IAA9B8yE,EAAgBI,YAClBD,EAAoBH,EAAgBI,UAAUv3E,MAAQ,KAGxD,IAAIw3E,EAAmB,SAEUnzE,IAA7B8yE,EAAgBM,WAClBD,EAAmBL,EAAgBM,SAASz3E,MAAQ,KAGtD,IAAIykB,EAAQvd,OAAOwwE,WACfhzD,EAASxd,OAAOywE,iBAEgBtzE,IAAhC8yE,EAAgBS,kBAA8DvzE,IAAjC8yE,EAAgBU,eAC/DpzD,EAAQ0yD,EAAgBS,YAAY53E,MACpC0kB,EAASyyD,EAAgBU,aAAa73E,OAGxC,IAAI83E,EAASrzD,EAAQC,EACjBrG,EAAM,QAE0Bha,IAAhC8yE,EAAgBY,cAClB15D,EAAM84D,EAAgBY,YAAY/3E,OAGpC,IAAIg4E,EAAcb,EAAgBc,YAAcd,EAAgBc,YAAYj4E,MAAQ,KAEpF,OAAQzD,GACN,KAAK,EAEHm5E,EAAQ,IAAI,MAAkBr3D,EAAKy5D,EAAQR,EAAmBE,GAC1C,OAAhBQ,GAAsBtC,EAAMwC,eAAeF,GAC/C,MAEF,KAAK,EAEHtC,EAAQ,IAAI,OAAoBjxD,EAAQ,EAAGA,EAAQ,EAAGC,EAAS,GAAIA,EAAS,EAAG4yD,EAAmBE,GAClG,MAEF,QACE32E,QAAQC,KAAK,wCAA0CvE,EAAO,KAC9Dm5E,EAAQ,IAAI,OAKlB,OAAOA,IAGR,CACDj3E,IAAK,cACLuB,MAAO,SAAqB2zE,GAC1B,IAAI+B,EACAyC,EASJ,GARAxE,EAAchkE,SAASvJ,SAAQ,SAAUqI,GACvC,IAAI9C,EAAO0+D,GAAQsE,QAAQyI,cAAc3oE,EAAM+/D,SAElCnqE,IAATsH,IACFwsE,EAAiBxsE,WAIEtH,IAAnB8zE,EACFzC,EAAQ,IAAI,UACP,CACL,IAAIn5E,EAGFA,OAD+B8H,IAA7B8zE,EAAeC,UACV,EAEAD,EAAeC,UAAUp4E,MAGlC,IAAIijB,EAAQ,cAEiB5e,IAAzB8zE,EAAeE,QACjBp1D,GAAQ,IAAI,OAAQwuD,UAAU0G,EAAeE,MAAMr4E,QAGrD,IAAIs4E,OAAyCj0E,IAA7B8zE,EAAeI,UAA0B,EAAIJ,EAAeI,UAAUv4E,MAAQ,SAErDqE,IAArC8zE,EAAeK,mBAA8E,IAA3CL,EAAeK,kBAAkBx4E,QACrFs4E,EAAY,GAGd,IAAI76D,EAAW,OAE0BpZ,IAArC8zE,EAAeM,oBAEfh7D,OAD0CpZ,IAAxC8zE,EAAeO,sBAAoF,IAA9CP,EAAeO,qBAAqB14E,MAChF,EAEAm4E,EAAeM,kBAAkBz4E,OAOhD,OAAQzD,GACN,KAAK,EAEHm5E,EAAQ,IAAI,MAAWzyD,EAAOq1D,EAAW76D,EALjC,GAMR,MAEF,KAAK,EAEHi4D,EAAQ,IAAI,MAAiBzyD,EAAOq1D,GACpC,MAEF,KAAK,EAEH,IAAIh7D,EAAQxG,KAAKC,GAAK,OAEY1S,IAA9B8zE,EAAeQ,aACjBr7D,EAAQ,eAAmB66D,EAAeQ,WAAW34E,QAGvD,IAAI44E,EAAW,OAEmBv0E,IAA9B8zE,EAAeU,aAIjBD,EAAW,eAAmBT,EAAeU,WAAW74E,OACxD44E,EAAW9hE,KAAK4D,IAAIk+D,EAAU,IAGhClD,EAAQ,IAAI,MAAUzyD,EAAOq1D,EAAW76D,EAAUH,EAAOs7D,EA/BjD,GAgCR,MAEF,QACE/3E,QAAQC,KAAK,uCAAyCq3E,EAAeC,UAAUp4E,MAAQ,iCACvF01E,EAAQ,IAAI,MAAWzyD,EAAOq1D,QAICj0E,IAA/B8zE,EAAeW,aAAkE,IAArCX,EAAeW,YAAY94E,QACzE01E,EAAMqD,YAAa,GAIvB,OAAOrD,IAER,CACDj3E,IAAK,aACLuB,MAAO,SAAoB2zE,EAAe9F,EAAakD,GACrD,IAAI2E,EACA7yD,EAAW,KACXE,EAAW,KACX0qD,EAAY,GAoChB,OAlCAkG,EAAchkE,SAASvJ,SAAQ,SAAUqI,GACnCo/D,EAAY9tE,IAAI0O,EAAM+/D,MACxB3rD,EAAWgrD,EAAY5tE,IAAIwO,EAAM+/D,KAG/BuC,EAAYhxE,IAAI0O,EAAM+/D,KACxBf,EAAUpnE,KAAK0qE,EAAY9wE,IAAIwO,EAAM+/D,QAIrCf,EAAU/wE,OAAS,EACrBqmB,EAAW0qD,EACFA,EAAU/wE,OAAS,EAC5BqmB,EAAW0qD,EAAU,IAErB1qD,EAAW,IAAI,MAAkB,CAC/BE,MAAO,WAETwqD,EAAUpnE,KAAK0c,IAGb,UAAWF,EAASxZ,YACtBokE,EAAUrnE,SAAQ,SAAU2c,GAC1BA,EAASi2D,cAAe,KAIxBn2D,EAASo2D,cACXvD,EAAQ,IAAI,MAAY7yD,EAAUE,IAC5Bm2D,uBAENxD,EAAQ,IAAI,MAAK7yD,EAAUE,GAGtB2yD,IAER,CACDj3E,IAAK,cACLuB,MAAO,SAAqB2zE,EAAe9F,GACzC,IAAIhrD,EAAW8wD,EAAchkE,SAAShN,QAAO,SAAUw2E,EAAK1qE,GAE1D,OADIo/D,EAAY9tE,IAAI0O,EAAM+/D,MAAK2K,EAAMtL,EAAY5tE,IAAIwO,EAAM+/D,KACpD2K,IACN,MAECp2D,EAAW,IAAI,MAAkB,CACnCE,MAAO,QACPqB,UAAW,IAEb,OAAO,IAAI,MAAKzB,EAAUE,KAG3B,CACDtkB,IAAK,mBACLuB,MAAO,SAA0B01E,EAAOC,GACtC,IAAIO,EAAgB,GAChB,gBAAiBP,IAAWO,EAAckD,YAAc/qC,SAASsnC,EAAU0D,YAAYr5E,QACzDk2E,EAAcoD,WAA5C,kBAAmB3D,EAAsC4D,GAAc5D,EAAU6D,cAAcx5E,OAAuC,MACtI,oBAAqB21E,IAAWO,EAAcuD,YAAc9D,EAAU+D,gBAAgB15E,OACtF,gBAAiB21E,IAAWO,EAAcyD,YAAchE,EAAUiE,YAAY55E,OAC9E,iBAAkB21E,IAAWO,EAAc2D,SAAWlE,EAAUmE,aAAa95E,OAC7E,iBAAkB21E,IAAWO,EAAc6D,aAAepE,EAAUqE,aAAah6E,OACjF,gBAAiB21E,IAAWO,EAAcp7D,MAAQ66D,EAAUsE,YAAYj6E,OACxE,kBAAmB21E,IAAWO,EAAcgE,cAAgBvE,EAAUwE,cAAcn6E,OACpF,iBAAkB21E,IAAWO,EAAckE,aAAezE,EAAU0E,aAAar6E,OACjF,mBAAoB21E,IAAWO,EAAcoE,eAAiB3E,EAAU4E,eAAev6E,OACvF,kBAAmB21E,IAAWO,EAAcsE,cAAgB7E,EAAU8E,cAAcz6E,OACxF01E,EAAMO,SAASC,cAAgBA,IAEhC,CACDz3E,IAAK,sBACLuB,MAAO,SAA6B01E,EAAOC,GACrC,mBAAoBA,GACPrL,GAAYrqE,IAAIy1E,EAAMlH,IAAI7+D,SAChCvJ,SAAQ,SAAUqI,GACzB,GAA2B,mBAAvBA,EAAM4/D,aAAmC,CAC3C,IAAIqM,EAAerQ,GAAQsE,QAAQ8G,MAAMhnE,EAAM+/D,IAE/C,GAAI,oBAAqBkM,EAAc,CACrC,IAAInmD,EAAMmmD,EAAahB,gBAAgB15E,WAElBqE,IAAjBqxE,EAAMtyE,QACRsyE,EAAMtyE,OAAOsV,SAAS+4D,UAAUl9C,GAChCg2C,GAAWtvD,IAAIy6D,EAAMtyE,SAGrBsyE,EAAMv6D,QAAO,IAAI,OAAUs2D,UAAUl9C,WAOhD,CACD91B,IAAK,eACLuB,MAAO,SAAsBszE,EAAWzF,EAAayH,GACnD,IAAIqF,EAAe7sE,KAAK8sE,iBAEpBC,EAAS,SAAgBrM,GAC3B,IAAIqF,EAAWP,EAAU9E,GACXlE,GAAYrqE,IAAIouC,SAASwlC,EAASrF,KAAKF,QAC7CloE,SAAQ,SAAUk4B,GACxB,GAAIuvC,EAAY9tE,IAAIu+B,EAAOkwC,IAAK,CAC9B,IAAI6G,EAAQ/2C,EAAOkwC,GACIlE,GAAYrqE,IAAIo1E,GACtB/G,QAAQloE,SAAQ,SAAU00E,GACrCxF,EAASv1E,IAAI+6E,EAActM,KACjB8G,EAASr1E,IAAI66E,EAActM,IACjCrnE,KAAK,IAAI,MAAS0sE,EAASgB,OAAQ8F,EAAaG,EAActM,aAO9E,IAAK,IAAIA,KAAM8E,EACbuH,EAAOrM,KAGV,CACD/vE,IAAK,iBACLuB,MAAO,WACL,IAAI26E,EAAe,GAEnB,GAAI,SAAUtQ,GAAQsE,QAAS,CAC7B,IAAIoM,EAAe1Q,GAAQsE,QAAQqM,KAEnC,IAAK,IAAIlM,KAAUiM,EACjB,GAAsC,aAAlCA,EAAajM,GAAQ8E,SAAyB,CAChD,IAAIqH,EAAYF,EAAajM,GAAQoM,SAEjCz7E,MAAMC,QAAQu7E,GAChBA,EAAU70E,SAAQ,SAAU+0E,GAC1BR,EAAaQ,EAASC,OAAQ,IAAI,OAAU3J,UAAU0J,EAASE,OAAO/7E,MAGxEq7E,EAAaM,EAAUG,OAAQ,IAAI,OAAU3J,UAAUwJ,EAAUI,OAAO/7E,IAMhF,OAAOq7E,IAGR,CACDl8E,IAAK,qBACLuB,MAAO,WACL,GAAI,mBAAoBqqE,IAAW,iBAAkBA,GAAQiR,eAAgB,CAC3E,IAAIC,EAAelR,GAAQiR,eAAeE,aAAax7E,MACnDoR,EAAImqE,EAAa,GACjBj0E,EAAIi0E,EAAa,GACjBh8E,EAAIg8E,EAAa,GAErB,GAAU,IAANnqE,GAAiB,IAAN9J,GAAiB,IAAN/H,EAAS,CACjC,IAAI0jB,EAAQ,IAAI,MAAM7R,EAAG9J,EAAG/H,GAC5BgrE,GAAWtvD,IAAI,IAAI,MAAagI,EAAO,UAMxCkqD,EAx+BwB,GA4+B7BW,GAA8B,WAChC,SAASA,KACP,OAAgBhgE,KAAMggE,GA8lBxB,OA3lBA,OAAaA,EAAgB,CAAC,CAC5BrvE,IAAK,QACLuB,MACA,SAAe2tE,GACb,IAAIE,EAAc,IAAI9uE,IAEtB,GAAI,aAAcsrE,GAAQsE,QAAS,CACjC,IAAI8M,EAAWpR,GAAQsE,QAAQ+M,SAE/B,IAAK,IAAI5M,KAAU2M,EAAU,CAC3B,IAAI9H,EAAgBrJ,GAAYrqE,IAAIouC,SAASygC,IACzCqK,EAAMrrE,KAAK6tE,cAAchI,EAAe8H,EAAS3M,GAASnB,GAC9DE,EAAY59D,IAAIo+B,SAASygC,GAASqK,IAItC,OAAOtL,IAGR,CACDpvE,IAAK,gBACLuB,MAAO,SAAuB2zE,EAAeiI,EAASjO,GACpD,OAAQiO,EAAQhI,UACd,IAAK,OACH,OAAO9lE,KAAK+tE,kBAAkBlI,EAAeiI,EAASjO,GAGxD,IAAK,aACH,OAAO7/D,KAAKguE,mBAAmBF,MAKpC,CACDn9E,IAAK,oBACLuB,MAAO,SAA2B2zE,EAAeiI,EAASjO,GACxD,IAAI2F,EAAY3F,EAAU2F,UACtBC,EAAe,GACfiC,EAAa7B,EAAcrF,QAAQtsE,KAAI,SAAUs8B,GACnD,OAAO+rC,GAAQsE,QAAQ8G,MAAMn3C,EAAOkwC,OAGtC,GAA0B,IAAtBgH,EAAW94E,OAAf,CACA,IAAIm3E,EAAWF,EAAchkE,SAAShN,QAAO,SAAUkxE,EAAUplE,GAE/D,YAD4BpK,IAAxBivE,EAAU7kE,EAAM+/D,MAAmBqF,EAAWP,EAAU7kE,EAAM+/D,KAC3DqF,IACN,MACHF,EAAchkE,SAASvJ,SAAQ,SAAUqI,QACEpK,IAArCspE,EAAU4F,aAAa9kE,EAAM+/D,KAC/B+E,EAAaltE,KAAKsnE,EAAU4F,aAAa9kE,EAAM+/D,QAKnD,IAAImH,EAAYH,EAAW,GACvBU,EAAgB,GAChB,kBAAmBP,IAAWO,EAAcoD,WAAaC,GAAc5D,EAAU6D,cAAcx5E,QAC/F,gBAAiB21E,IAAWO,EAAckD,YAAc/qC,SAASsnC,EAAU0D,YAAYr5E,QACvF,yBAA0B21E,IAAWO,EAAcuD,YAAc9D,EAAUoG,qBAAqB/7E,OAChG,sBAAuB21E,IAAWO,EAAc2D,SAAWlE,EAAUqG,kBAAkBh8E,OACvF,qBAAsB21E,IAAWO,EAAcp7D,MAAQ66D,EAAUsG,iBAAiBj8E,OACtF,IAAImsC,EAAYkqC,GAAkBH,GAClC,OAAOpoE,KAAKouE,YAAYN,EAAS/H,EAAUN,EAAcpnC,MAG1D,CACD1tC,IAAK,cACLuB,MAAO,SAAqB47E,EAAS/H,EAAUN,EAAc4I,GAC3D,IAAIhD,EAAM,IAAI,MACVyC,EAAQ1L,WAAUiJ,EAAI18E,KAAOm/E,EAAQ1L,UACzC,IAAIkM,EAAUtuE,KAAKuuE,aAAaT,EAAS/H,GACrCyI,EAAUxuE,KAAKyuE,WAAWH,GAC1BI,EAAoB,IAAI,MAAuBF,EAAQG,OAAQ,GAenE,GAdAD,EAAkB33D,aAAas3D,GAC/BhD,EAAInvE,aAAa,WAAYwyE,GAEzBF,EAAQh1D,OAAO5qB,OAAS,GAC1By8E,EAAInvE,aAAa,QAAS,IAAI,MAAuBsyE,EAAQh1D,OAAQ,IAGnEusD,IACFsF,EAAInvE,aAAa,YAAa,IAAI,MAAsBsyE,EAAQI,eAAgB,IAChFvD,EAAInvE,aAAa,aAAc,IAAI,MAAuBsyE,EAAQK,cAAe,IAEjFxD,EAAIF,aAAepF,GAGjByI,EAAQM,OAAOlgF,OAAS,EAAG,CAC7B,IAAImgF,GAAe,IAAI,OAAUC,gBAAgBX,GAC7CY,EAAkB,IAAI,MAAuBT,EAAQM,OAAQ,GACjEG,EAAgBC,kBAAkBH,GAClC1D,EAAInvE,aAAa,SAAU+yE,GAc7B,GAXAT,EAAQW,IAAI72E,SAAQ,SAAU82E,EAAU1+E,GAEtC,IAAI/B,EAAO,MAAQ+B,EAAI,GAAG8B,WAEhB,IAAN9B,IACF/B,EAAO,MAGT08E,EAAInvE,aAAavN,EAAM,IAAI,MAAuB6/E,EAAQW,IAAIz+E,GAAI,OAGhE49E,EAAQr5D,UAA6C,YAAjCq5D,EAAQr5D,SAASo6D,YAA2B,CAElE,IAAIC,EAAoBd,EAAQe,cAAc,GAC1CC,EAAa,EASjB,GARAhB,EAAQe,cAAcj3E,SAAQ,SAAUm3E,EAAc/+E,GAChD++E,IAAiBH,IACnBjE,EAAIqE,SAASF,EAAY9+E,EAAI8+E,EAAYF,GACzCA,EAAoBG,EACpBD,EAAa9+E,MAIb26E,EAAIsE,OAAO/gF,OAAS,EAAG,CACzB,IAAIghF,EAAYvE,EAAIsE,OAAOtE,EAAIsE,OAAO/gF,OAAS,GAC3CihF,EAAYD,EAAUz3D,MAAQy3D,EAAUn6D,MAExCo6D,IAAcrB,EAAQe,cAAc3gF,QACtCy8E,EAAIqE,SAASG,EAAWrB,EAAQe,cAAc3gF,OAASihF,EAAWP,GAM5C,IAAtBjE,EAAIsE,OAAO/gF,QACby8E,EAAIqE,SAAS,EAAGlB,EAAQe,cAAc3gF,OAAQ4/E,EAAQe,cAAc,IAKxE,OADAvvE,KAAK8vE,gBAAgBzE,EAAKyC,EAASrI,EAAc4I,GAC1ChD,IAER,CACD16E,IAAK,eACLuB,MAAO,SAAsB47E,EAAS/H,GACpC,IAAIuI,EAAU,GAgBd,GAfAA,EAAQyB,qBAAuCx5E,IAArBu3E,EAAQkC,SAAyBlC,EAAQkC,SAASx+E,EAAI,GAChF88E,EAAQ2B,mBAA+C15E,IAA/Bu3E,EAAQoC,mBAAmCpC,EAAQoC,mBAAmB1+E,EAAI,GAE9Fs8E,EAAQqC,oBACV7B,EAAQn5D,MAAQnV,KAAKowE,kBAAkBtC,EAAQqC,kBAAkB,KAG/DrC,EAAQuC,uBACV/B,EAAQr5D,SAAWjV,KAAKswE,qBAAqBxC,EAAQuC,qBAAqB,KAGxEvC,EAAQyC,qBACVjC,EAAQQ,OAAS9uE,KAAKwwE,aAAa1C,EAAQyC,mBAAmB,KAG5DzC,EAAQ2C,eAAgB,CAC1BnC,EAAQv1D,GAAK,GAGb,IAFA,IAAIroB,EAAI,EAEDo9E,EAAQ2C,eAAe//E,IACxBo9E,EAAQ2C,eAAe//E,GAAGggF,IAC5BpC,EAAQv1D,GAAGxgB,KAAKyH,KAAK2wE,SAAS7C,EAAQ2C,eAAe//E,KAGvDA,IAoBJ,OAhBA49E,EAAQsC,YAAc,GAEL,OAAb7K,IACFuI,EAAQvI,SAAWA,EACnBA,EAASO,SAAShuE,SAAQ,SAAUkuE,EAAS91E,GAE3C81E,EAAQC,QAAQnuE,SAAQ,SAAUkF,EAAOkY,QACJnf,IAA/B+3E,EAAQsC,YAAYpzE,KAAsB8wE,EAAQsC,YAAYpzE,GAAS,IAC3E8wE,EAAQsC,YAAYpzE,GAAOjF,KAAK,CAC9BU,GAAIvI,EACJmgF,OAAQrK,EAAQE,QAAQhxD,YAMzB44D,IAER,CACD39E,IAAK,aACLuB,MAAO,SAAoBo8E,GACzB,IAAIE,EAAU,CACZG,OAAQ,GACRG,OAAQ,GACRt1D,OAAQ,GACR21D,IAAK,GACLI,cAAe,GACfV,cAAe,GACfD,eAAgB,IAEdkC,EAAe,EACfC,EAAa,EACbC,GAA0B,EAE1BC,EAAsB,GACtBC,EAAc,GACdC,EAAa,GACbC,EAAU,GACVC,EAAc,GACdC,EAAoB,GACpB3lE,EAAQ3L,KA6GZ,OA5GAsuE,EAAQ2B,cAAc33E,SAAQ,SAAUi5E,EAAaC,GACnD,IAAIjC,EACAkC,GAAY,EAQZF,EAAc,IAChBA,IAA6B,EAE7BE,GAAY,GAGd,IAAIC,EAAgB,GAChBhL,EAAU,GAGd,GAFAuK,EAAoB14E,KAAmB,EAAdg5E,EAA+B,EAAdA,EAAkB,EAAiB,EAAdA,EAAkB,GAE7EjD,EAAQn5D,MAAO,CACjB,IAAI0L,EAAO8wD,GAAQH,EAAoBV,EAAcS,EAAajD,EAAQn5D,OAC1Eg8D,EAAW54E,KAAKsoB,EAAK,GAAIA,EAAK,GAAIA,EAAK,IAGzC,GAAIytD,EAAQvI,SAAU,CAQpB,QAPyCxvE,IAArC+3E,EAAQsC,YAAYW,IACtBjD,EAAQsC,YAAYW,GAAaj5E,SAAQ,SAAUs5E,GACjDlL,EAAQnuE,KAAKq5E,EAAGf,QAChBa,EAAcn5E,KAAKq5E,EAAG34E,OAItBytE,EAAQ93E,OAAS,EAAG,CACjBoiF,IACHj+E,QAAQC,KAAK,6GACbg+E,GAA0B,GAG5B,IAAIa,EAAS,CAAC,EAAG,EAAG,EAAG,GACnBC,EAAS,CAAC,EAAG,EAAG,EAAG,GACvBpL,EAAQpuE,SAAQ,SAAUu4E,EAAQkB,GAChC,IAAIC,EAAgBnB,EAChBpB,EAAeiC,EAAcK,GACjCD,EAAOx5E,SAAQ,SAAU25E,EAAgBC,EAAqBC,GAC5D,GAAIH,EAAgBC,EAAgB,CAClCE,EAAoBD,GAAuBF,EAC3CA,EAAgBC,EAChB,IAAI7+B,EAAMy+B,EAAOK,GACjBL,EAAOK,GAAuBzC,EAC9BA,EAAer8B,SAIrBs+B,EAAgBG,EAChBnL,EAAUoL,EAIZ,KAAOpL,EAAQ93E,OAAS,GACtB83E,EAAQnuE,KAAK,GACbm5E,EAAcn5E,KAAK,GAGrB,IAAK,IAAI7H,EAAI,EAAGA,EAAI,IAAKA,EACvB2gF,EAAY94E,KAAKmuE,EAAQh2E,IACzB4gF,EAAkB/4E,KAAKm5E,EAAchhF,IAIzC,GAAI49E,EAAQQ,OAAQ,CAClB,IAAIsD,EAAQT,GAAQH,EAAoBV,EAAcS,EAAajD,EAAQQ,QAE3EoC,EAAY34E,KAAK65E,EAAM,GAAIA,EAAM,GAAIA,EAAM,IAGzC9D,EAAQr5D,UAA6C,YAAjCq5D,EAAQr5D,SAASo6D,cACvCE,EAAgBoC,GAAQH,EAAoBV,EAAcS,EAAajD,EAAQr5D,UAAU,IAGvFq5D,EAAQv1D,IACVu1D,EAAQv1D,GAAGzgB,SAAQ,SAAUygB,EAAIroB,GAC/B,IAAImwB,EAAO8wD,GAAQH,EAAoBV,EAAcS,EAAax4D,QAE/CxiB,IAAf66E,EAAQ1gF,KACV0gF,EAAQ1gF,GAAK,IAGf0gF,EAAQ1gF,GAAG6H,KAAKsoB,EAAK,IACrBuwD,EAAQ1gF,GAAG6H,KAAKsoB,EAAK,OAIzBkwD,IAEIU,IACF9lE,EAAM0mE,QAAQ7D,EAASF,EAAS2C,EAAqB1B,EAAe2B,EAAaC,EAAYC,EAASC,EAAaC,EAAmBP,GACtID,IACAC,EAAa,EAEbE,EAAsB,GACtBC,EAAc,GACdC,EAAa,GACbC,EAAU,GACVC,EAAc,GACdC,EAAoB,OAGjB9C,IAGR,CACD79E,IAAK,UACLuB,MAAO,SAAiBs8E,EAASF,EAAS2C,EAAqB1B,EAAe2B,EAAaC,EAAYC,EAASC,EAAaC,EAAmBP,GAkF9I,IAjFA,IAAIuB,EAAS,SAAgB5hF,GAC3B89E,EAAQG,OAAOp2E,KAAK+1E,EAAQyB,gBAAgBkB,EAAoB,KAChEzC,EAAQG,OAAOp2E,KAAK+1E,EAAQyB,gBAAgBkB,EAAoB,KAChEzC,EAAQG,OAAOp2E,KAAK+1E,EAAQyB,gBAAgBkB,EAAoB,KAChEzC,EAAQG,OAAOp2E,KAAK+1E,EAAQyB,gBAAgBkB,EAA8B,GAATvgF,EAAI,MACrE89E,EAAQG,OAAOp2E,KAAK+1E,EAAQyB,gBAAgBkB,EAA8B,GAATvgF,EAAI,GAAS,KAC9E89E,EAAQG,OAAOp2E,KAAK+1E,EAAQyB,gBAAgBkB,EAA8B,GAATvgF,EAAI,GAAS,KAC9E89E,EAAQG,OAAOp2E,KAAK+1E,EAAQyB,gBAAgBkB,EAAwB,EAAJvgF,KAChE89E,EAAQG,OAAOp2E,KAAK+1E,EAAQyB,gBAAgBkB,EAAwB,EAAJvgF,EAAQ,KACxE89E,EAAQG,OAAOp2E,KAAK+1E,EAAQyB,gBAAgBkB,EAAwB,EAAJvgF,EAAQ,KAEpE49E,EAAQvI,WACVyI,EAAQK,cAAct2E,KAAK84E,EAAY,IACvC7C,EAAQK,cAAct2E,KAAK84E,EAAY,IACvC7C,EAAQK,cAAct2E,KAAK84E,EAAY,IACvC7C,EAAQK,cAAct2E,KAAK84E,EAAY,IACvC7C,EAAQK,cAAct2E,KAAK84E,EAAsB,GAAT3gF,EAAI,KAC5C89E,EAAQK,cAAct2E,KAAK84E,EAAsB,GAAT3gF,EAAI,GAAS,IACrD89E,EAAQK,cAAct2E,KAAK84E,EAAsB,GAAT3gF,EAAI,GAAS,IACrD89E,EAAQK,cAAct2E,KAAK84E,EAAsB,GAAT3gF,EAAI,GAAS,IACrD89E,EAAQK,cAAct2E,KAAK84E,EAAgB,EAAJ3gF,IACvC89E,EAAQK,cAAct2E,KAAK84E,EAAgB,EAAJ3gF,EAAQ,IAC/C89E,EAAQK,cAAct2E,KAAK84E,EAAgB,EAAJ3gF,EAAQ,IAC/C89E,EAAQK,cAAct2E,KAAK84E,EAAgB,EAAJ3gF,EAAQ,IAC/C89E,EAAQI,eAAer2E,KAAK+4E,EAAkB,IAC9C9C,EAAQI,eAAer2E,KAAK+4E,EAAkB,IAC9C9C,EAAQI,eAAer2E,KAAK+4E,EAAkB,IAC9C9C,EAAQI,eAAer2E,KAAK+4E,EAAkB,IAC9C9C,EAAQI,eAAer2E,KAAK+4E,EAA4B,GAAT5gF,EAAI,KACnD89E,EAAQI,eAAer2E,KAAK+4E,EAA4B,GAAT5gF,EAAI,GAAS,IAC5D89E,EAAQI,eAAer2E,KAAK+4E,EAA4B,GAAT5gF,EAAI,GAAS,IAC5D89E,EAAQI,eAAer2E,KAAK+4E,EAA4B,GAAT5gF,EAAI,GAAS,IAC5D89E,EAAQI,eAAer2E,KAAK+4E,EAAsB,EAAJ5gF,IAC9C89E,EAAQI,eAAer2E,KAAK+4E,EAAsB,EAAJ5gF,EAAQ,IACtD89E,EAAQI,eAAer2E,KAAK+4E,EAAsB,EAAJ5gF,EAAQ,IACtD89E,EAAQI,eAAer2E,KAAK+4E,EAAsB,EAAJ5gF,EAAQ,KAGpD49E,EAAQn5D,QACVq5D,EAAQh1D,OAAOjhB,KAAK44E,EAAW,IAC/B3C,EAAQh1D,OAAOjhB,KAAK44E,EAAW,IAC/B3C,EAAQh1D,OAAOjhB,KAAK44E,EAAW,IAC/B3C,EAAQh1D,OAAOjhB,KAAK44E,EAAqB,GAATzgF,EAAI,KACpC89E,EAAQh1D,OAAOjhB,KAAK44E,EAAqB,GAATzgF,EAAI,GAAS,IAC7C89E,EAAQh1D,OAAOjhB,KAAK44E,EAAqB,GAATzgF,EAAI,GAAS,IAC7C89E,EAAQh1D,OAAOjhB,KAAK44E,EAAe,EAAJzgF,IAC/B89E,EAAQh1D,OAAOjhB,KAAK44E,EAAe,EAAJzgF,EAAQ,IACvC89E,EAAQh1D,OAAOjhB,KAAK44E,EAAe,EAAJzgF,EAAQ,KAGrC49E,EAAQr5D,UAA6C,YAAjCq5D,EAAQr5D,SAASo6D,cACvCb,EAAQe,cAAch3E,KAAKg3E,GAC3Bf,EAAQe,cAAch3E,KAAKg3E,GAC3Bf,EAAQe,cAAch3E,KAAKg3E,IAGzBjB,EAAQQ,SACVN,EAAQM,OAAOv2E,KAAK24E,EAAY,IAChC1C,EAAQM,OAAOv2E,KAAK24E,EAAY,IAChC1C,EAAQM,OAAOv2E,KAAK24E,EAAY,IAChC1C,EAAQM,OAAOv2E,KAAK24E,EAAsB,GAATxgF,EAAI,KACrC89E,EAAQM,OAAOv2E,KAAK24E,EAAsB,GAATxgF,EAAI,GAAS,IAC9C89E,EAAQM,OAAOv2E,KAAK24E,EAAsB,GAATxgF,EAAI,GAAS,IAC9C89E,EAAQM,OAAOv2E,KAAK24E,EAAgB,EAAJxgF,IAChC89E,EAAQM,OAAOv2E,KAAK24E,EAAgB,EAAJxgF,EAAQ,IACxC89E,EAAQM,OAAOv2E,KAAK24E,EAAgB,EAAJxgF,EAAQ,KAGtC49E,EAAQv1D,IACVu1D,EAAQv1D,GAAGzgB,SAAQ,SAAUygB,EAAIrD,QACRnf,IAAnBi4E,EAAQW,IAAIz5D,KAAkB84D,EAAQW,IAAIz5D,GAAK,IACnD84D,EAAQW,IAAIz5D,GAAGnd,KAAK64E,EAAQ17D,GAAG,IAC/B84D,EAAQW,IAAIz5D,GAAGnd,KAAK64E,EAAQ17D,GAAG,IAC/B84D,EAAQW,IAAIz5D,GAAGnd,KAAK64E,EAAQ17D,GAAa,GAAThlB,EAAI,KACpC89E,EAAQW,IAAIz5D,GAAGnd,KAAK64E,EAAQ17D,GAAa,GAAThlB,EAAI,GAAS,IAC7C89E,EAAQW,IAAIz5D,GAAGnd,KAAK64E,EAAQ17D,GAAO,EAAJhlB,IAC/B89E,EAAQW,IAAIz5D,GAAGnd,KAAK64E,EAAQ17D,GAAO,EAAJhlB,EAAQ,QAKpCA,EAAI,EAAGA,EAAIqgF,EAAYrgF,IAC9B4hF,EAAO5hF,KAGV,CACDC,IAAK,kBACLuB,MAAO,SAAyBqgF,EAAWC,EAAe/M,EAAc4I,GACtE,GAA4B,IAAxB5I,EAAa72E,OAAjB,CACA2jF,EAAUE,sBAAuB,EACjCF,EAAUG,gBAAgB9nE,SAAW,GAErC,IAAIe,EAAQ3L,KACZylE,EAAantE,SAAQ,SAAU4tE,GAC7BA,EAAYC,WAAW7tE,SAAQ,SAAUq6E,GACvC,IAAIC,EAAerW,GAAQsE,QAAQ+M,SAAS+E,EAAUpL,YAEjChxE,IAAjBq8E,GACFjnE,EAAMknE,iBAAiBN,EAAWC,EAAeI,EAAcvE,EAAcsE,EAAUhkF,eAS9F,CACDgC,IAAK,mBACLuB,MAAO,SAA0BqgF,EAAWC,EAAeI,EAAcvE,EAAc1/E,GAOrF,IANA,IAAIshF,OAAqD15E,IAArCi8E,EAActC,mBAAmCsC,EAActC,mBAAmB1+E,EAAI,GACtGshF,OAAiDv8E,IAA1Bq8E,EAAa5C,SAAyB4C,EAAa5C,SAASx+E,EAAI,GACvFi1E,OAAmClwE,IAAzBq8E,EAAa/L,QAAwB+L,EAAa/L,QAAQr1E,EAAI,GACxE5C,EAA+C,EAAtC2jF,EAAUh3E,WAAWqP,SAAS6K,MACvCs9D,EAAiB,IAAIv9D,aAAa5mB,GAE7B8B,EAAI,EAAGA,EAAI+1E,EAAQ73E,OAAQ8B,IAAK,CACvC,IAAIsiF,EAA0B,EAAbvM,EAAQ/1E,GACzBqiF,EAAeC,GAAcF,EAAyB,EAAJpiF,GAClDqiF,EAAeC,EAAa,GAAKF,EAAyB,EAAJpiF,EAAQ,GAC9DqiF,EAAeC,EAAa,GAAKF,EAAyB,EAAJpiF,EAAQ,GAIhE,IAAIuiF,EAAe,CACjBhD,cAAeA,EACfF,gBAAiBgD,GAEfG,EAAelzE,KAAKyuE,WAAWwE,GAC/BvE,EAAoB,IAAI,MAAuBwE,EAAavE,OAAQ,GACxED,EAAkB//E,KAAOA,GAAQikF,EAAaxQ,SAC9CsM,EAAkB33D,aAAas3D,GAC/BkE,EAAUG,gBAAgB9nE,SAASrS,KAAKm2E,KAGzC,CACD/9E,IAAK,eACLuB,MAAO,SAAsBihF,GAC3B,IAAI9D,EAAc8D,EAAWC,uBACzBC,EAAgBF,EAAWG,yBAC3BxlB,EAASqlB,EAAWI,QAAQ/hF,EAC5BgiF,EAAc,GAUlB,MARsB,kBAAlBH,IACE,gBAAiBF,EACnBK,EAAcL,EAAWM,YAAYjiF,EAC5B,iBAAkB2hF,IAC3BK,EAAcL,EAAWO,aAAaliF,IAInC,CACLmiF,SAAU,EACV7lB,OAAQA,EACR2Y,QAAS+M,EACTnE,YAAaA,EACbgE,cAAeA,KAIlB,CACD1iF,IAAK,WACLuB,MAAO,SAAkB0hF,GACvB,IAAIvE,EAAcuE,EAAOR,uBACrBC,EAAgBO,EAAON,yBACvBxlB,EAAS8lB,EAAOlD,GAAGl/E,EACnBgiF,EAAc,GAMlB,MAJsB,kBAAlBH,IACFG,EAAcI,EAAOC,QAAQriF,GAGxB,CACLmiF,SAAU,EACV7lB,OAAQA,EACR2Y,QAAS+M,EACTnE,YAAaA,EACbgE,cAAeA,KAIlB,CACD1iF,IAAK,oBACLuB,MAAO,SAA2B4hF,GAChC,IAAIzE,EAAcyE,EAAUV,uBACxBC,EAAgBS,EAAUR,yBAC1BxlB,EAASgmB,EAAUC,OAAOviF,EAC1BgiF,EAAc,GAMlB,MAJsB,kBAAlBH,IACFG,EAAcM,EAAUE,WAAWxiF,GAG9B,CACLmiF,SAAU,EACV7lB,OAAQA,EACR2Y,QAAS+M,EACTnE,YAAaA,EACbgE,cAAeA,KAIlB,CACD1iF,IAAK,uBACLuB,MAAO,SAA8B+hF,GACnC,IAAI5E,EAAc4E,EAAab,uBAC3BC,EAAgBY,EAAaX,yBAEjC,GAAoB,yBAAhBjE,EACF,MAAO,CACLsE,SAAU,EACV7lB,OAAQ,CAAC,GACT2Y,QAAS,CAAC,GACV4I,YAAa,UACbgE,cAAeA,GAUnB,IANA,IAAIa,EAAsBD,EAAaE,UAAU3iF,EAI7C4iF,EAAkB,GAEb1jF,EAAI,EAAGA,EAAIwjF,EAAoBtlF,SAAU8B,EAChD0jF,EAAgB77E,KAAK7H,GAGvB,MAAO,CACLijF,SAAU,EACV7lB,OAAQomB,EACRzN,QAAS2N,EACT/E,YAAaA,EACbgE,cAAeA,KAIlB,CACD1iF,IAAK,qBACLuB,MAAO,SAA4B47E,GACjC,QAAmBv3E,IAAfmmE,GAEF,OADA3pE,QAAQH,MAAM,8HACP,IAAI,MAGb,IAAIusC,EAAQoB,SAASutC,EAAQuG,OAE7B,GAAIp4D,MAAMkjB,GAER,OADApsC,QAAQH,MAAM,8DAA+Dk7E,EAAQuG,MAAOvG,EAAQ70E,IAC7F,IAAI,MAQb,IALA,IASI8jE,EAAWC,EATXJ,EAASz9B,EAAQ,EACjB09B,EAAQiR,EAAQwG,WAAW9iF,EAC3BsrE,EAAgB,GAChByX,EAAezG,EAAQ0G,OAAOhjF,EAEzBd,EAAI,EAAGuS,EAAIsxE,EAAa3lF,OAAQ8B,EAAIuS,EAAGvS,GAAK,EACnDosE,EAAcvkE,MAAK,IAAI,OAAUorE,UAAU4Q,EAAc7jF,IAK3D,GAAqB,WAAjBo9E,EAAQ2G,KACV3X,EAAcvkE,KAAKukE,EAAc,SAC5B,GAAqB,aAAjBgR,EAAQ2G,KAAqB,CACtC1X,EAAYH,EACZI,EAAUH,EAAMjuE,OAAS,EAAImuE,EAE7B,IAAK,IAAI1gE,EAAK,EAAGA,EAAKugE,IAAUvgE,EAC9BygE,EAAcvkE,KAAKukE,EAAczgE,IAIrC,IACIkd,EADQ,IAAImjD,GAAWE,EAAQC,EAAOC,EAAeC,EAAWC,GACjD0X,UAAiC,GAAvB5X,EAAcluE,QAC3C,OAAO,IAAI,OAAiB+lF,cAAcp7D,OAIvCymD,EAhmByB,GAomB9B0I,GAA+B,WACjC,SAASA,KACP,OAAgB1oE,KAAM0oE,GA4axB,OAzaA,OAAaA,EAAiB,CAAC,CAC7B/3E,IAAK,QACLuB,MACA,WACE,IAAI0iF,EAAiB,GACjBC,EAAW70E,KAAK80E,aAEpB,QAAiBv+E,IAAbs+E,EACF,IAAK,IAAIlkF,KAAOkkF,EAAU,CACxB,IAAIE,EAAUF,EAASlkF,GACnBqkF,EAAOh1E,KAAKi1E,QAAQF,GACxBH,EAAer8E,KAAKy8E,GAIxB,OAAOJ,IAER,CACDjkF,IAAK,aACLuB,MAAO,WAGL,QAAuCqE,IAAnCgmE,GAAQsE,QAAQqU,eAApB,CACA,IAAIC,EAAgBn1E,KAAKo1E,2BACzBp1E,KAAKq1E,qBAAqBF,GAC1B,IAAIG,EAAYt1E,KAAKu1E,qBAAqBJ,GAE1C,OADen1E,KAAKw1E,gBAAgBF,MAMrC,CACD3kF,IAAK,2BACLuB,MAAO,WACL,IAAIujF,EAAgBlZ,GAAQsE,QAAQ6U,mBAChCP,EAAgB,IAAIlkF,IAExB,IAAK,IAAI+vE,KAAUyU,EAAe,CAChC,IAAIE,EAAeF,EAAczU,GAEjC,GAA2D,OAAvD2U,EAAavT,SAAStvE,MAAM,uBAAiC,CAC/D,IAAI8iF,EAAY,CACd38E,GAAI08E,EAAa18E,GACjB4E,KAAM83E,EAAavT,SACnByT,OAAQ,IAEVV,EAAchzE,IAAIyzE,EAAU38E,GAAI28E,IAIpC,OAAOT,IAKR,CACDxkF,IAAK,uBACLuB,MAAO,SAA8BijF,GACnC,IAAIW,EAAYvZ,GAAQsE,QAAQqU,eAOhC,IAAK,IAAIlU,KAAU8U,EAAW,CAC5B,IAAIC,EAAiB,CACnB98E,GAAI68E,EAAU9U,GAAQ/nE,GACtB+8E,MAAOF,EAAU9U,GAAQiV,QAAQzkF,EAAE0C,IAAIgiF,IACvChyC,OAAQ4xC,EAAU9U,GAAQmV,cAAc3kF,GAEtCq0E,EAAgBrJ,GAAYrqE,IAAI4jF,EAAe98E,IAEnD,QAAsB1C,IAAlBsvE,EAA6B,CAC/B,IAAIuQ,EAAmBvQ,EAAcrF,QAAQ,GAAGE,GAC5C2V,EAA6BxQ,EAAcrF,QAAQ,GAAGD,aAEtD8V,EAA2BvjF,MAAM,KACnCqiF,EAAchjF,IAAIikF,GAAkBP,OAAU,EAAIE,EACzCM,EAA2BvjF,MAAM,KAC1CqiF,EAAchjF,IAAIikF,GAAkBP,OAAU,EAAIE,EACzCM,EAA2BvjF,MAAM,KAC1CqiF,EAAchjF,IAAIikF,GAAkBP,OAAU,EAAIE,EACzCM,EAA2BvjF,MAAM,oBAAsBqiF,EAAcljF,IAAImkF,KAClFjB,EAAchjF,IAAIikF,GAAkBP,OAAc,MAAIE,OAQ7D,CACDplF,IAAK,uBACLuB,MAAO,SAA8BijF,GACnC,IAAImB,EAAY/Z,GAAQsE,QAAQ0V,eAC5BjB,EAAY,IAAIrkF,IAEhBulF,EAAS,SAAgBxV,GAC3B,IAAIyV,EAAkB,GAClB1O,EAAavL,GAAYrqE,IAAIouC,SAASygC,SAEvBzqE,IAAfwxE,IAEaA,EAAWlmE,SACjBvJ,SAAQ,SAAUqI,EAAOjQ,GAChC,GAAIykF,EAAcljF,IAAI0O,EAAM+/D,IAAK,CAC/B,IAAIkV,EAAYT,EAAchjF,IAAIwO,EAAM+/D,IAExC,QAA2BnqE,IAAvBq/E,EAAUC,OAAOnyE,QAA0CnN,IAAvBq/E,EAAUC,OAAOlyE,QAA0CpN,IAAvBq/E,EAAUC,OAAOjyE,EAAiB,CAC5G,QAA2BrN,IAAvBkgF,EAAgB/lF,GAAkB,CACpC,IAAIgmF,EAAUla,GAAYrqE,IAAIwO,EAAM+/D,IAAIF,QAAQppE,QAAO,SAAUo5B,GAC/D,YAA+Bj6B,IAAxBi6B,EAAO+vC,gBACb,GAAGG,GAEN,QAAgBnqE,IAAZmgF,EAAuB,CACzB,IAAIC,EAAWpa,GAAQsE,QAAQ8G,MAAM+O,EAAQlkF,YAE7C,QAAiB+D,IAAbogF,EAEF,YADA5jF,QAAQC,KAAK,+CAAgD2N,GAI/D,IAAI61B,EAAO,CACTogD,UAAWD,EAASvU,SAAW,uBAAiCuU,EAASvU,UAAY,GACrF1B,GAAIiW,EAAS19E,GACb49E,gBAAiB,CAAC,EAAG,EAAG,GACxBC,gBAAiB,CAAC,EAAG,EAAG,GACxBC,aAAc,CAAC,EAAG,EAAG,IAEvBta,GAAWyL,UAAS,SAAUvnE,GACxBA,EAAM+/D,KAAOiW,EAAS19E,KACxBu9B,EAAK6H,UAAY19B,EAAM8P,OACnB9P,EAAMwnE,SAASC,gBAAe5xC,EAAKg1C,WAAa7qE,EAAMwnE,SAASC,cAAcoD,gBAGhFh1C,EAAK6H,YAAW7H,EAAK6H,UAAY,IAAI,OAGtC,gBAAiBs4C,IAAUngD,EAAKq1C,YAAc8K,EAAS7K,YAAY55E,OACnE,iBAAkBykF,IAAUngD,EAAKy1C,aAAe0K,EAASzK,aAAah6E,OAC1EukF,EAAgB/lF,GAAK8lC,GAIrBigD,EAAgB/lF,KAAI+lF,EAAgB/lF,GAAGklF,EAAU/3E,MAAQ+3E,QACxD,QAA+Br/E,IAA3Bq/E,EAAUC,OAAOmB,MAAqB,CAC/C,QAA2BzgF,IAAvBkgF,EAAgB/lF,GAAkB,CACpC,IAAIumF,EAAaza,GAAYrqE,IAAIwO,EAAM+/D,IAAIF,QAAQppE,QAAO,SAAUo5B,GAClE,YAA+Bj6B,IAAxBi6B,EAAO+vC,gBACb,GAAGG,GACFwW,EAAY1a,GAAYrqE,IAAI8kF,GAAYzW,QAAQ,GAAGE,GACnD6G,EAAQ/K,GAAYrqE,IAAI+kF,GAAW1W,QAAQ,GAAGE,GAE9CyW,EAAW3a,GAAYrqE,IAAIo1E,GAAO/G,QAAQ,GAAGE,GAC7C0W,EAAY7a,GAAQsE,QAAQ8G,MAAMwP,GAClCE,EAAQ,CACVT,UAAWQ,EAAUhV,SAAW,uBAAiCgV,EAAUhV,UAAY,GACvFkV,UAAW/a,GAAQsE,QAAQ8E,SAASsR,GAAY7U,UAElDqU,EAAgB/lF,GAAK2mF,EAGvBZ,EAAgB/lF,GAAGklF,EAAU/3E,MAAQ+3E,OAI3CN,EAAUnzE,IAAIo+B,SAASygC,GAASyV,KAIpC,IAAK,IAAIzV,KAAUsV,EACjBE,EAAOxV,GAGT,OAAOsU,IAIR,CACD3kF,IAAK,kBACLuB,MAAO,SAAyBojF,GAC9B,IAAIiC,EAAYhb,GAAQsE,QAAQ2W,eAE5B3C,EAAW,GAEf,IAAK,IAAI7T,KAAUuW,EAAW,CAC5B,IAAI11E,EAAW26D,GAAYrqE,IAAIouC,SAASygC,IAASn/D,SAE7CA,EAASjT,OAAS,GAGpBmE,QAAQC,KAAK,sIAGf,IAAIykF,EAAQnC,EAAUnjF,IAAI0P,EAAS,GAAG6+D,IACtCmU,EAAS7T,GAAU,CACjBryE,KAAM4oF,EAAUvW,GAAQoB,SACxBqV,MAAOA,GAIX,OAAO5C,IAER,CACDlkF,IAAK,UACLuB,MAAO,SAAiB6iF,GACtB,IAAI2C,EAAS,GACT/rE,EAAQ3L,KAIZ,OAHA+0E,EAAQ0C,MAAMn/E,SAAQ,SAAUq/E,GAC9BD,EAASA,EAAOnnF,OAAOob,EAAMisE,eAAeD,OAEvC,IAAI,MAAc5C,EAAQpmF,MAAO,EAAG+oF,KAE5C,CACD/mF,IAAK,iBACLuB,MAAO,SAAwBylF,GAC7B,IAAID,EAAS,GACTb,EAAkB,IAAI,MACtBC,EAAkB,IAAI,MACtBC,EAAe,IAAI,MAMvB,GALIY,EAAUt5C,WAAWs5C,EAAUt5C,UAAUw5C,UAAUhB,EAAiBC,EAAiBC,GACzFF,EAAkBA,EAAgBiB,UAClChB,GAAkB,IAAI,OAAQiB,kBAAkBjB,EAAiBa,EAAUnM,YAAYsM,UACvFf,EAAeA,EAAae,eAERvhF,IAAhBohF,EAAUK,GAAmBroF,OAAOW,KAAKqnF,EAAUK,EAAEnC,QAAQjnF,OAAS,EAAG,CAC3E,IAAIqpF,EAAgBj4E,KAAKk4E,oBAAoBP,EAAUf,UAAWe,EAAUK,EAAEnC,OAAQgB,EAAiB,iBACjFtgF,IAAlB0hF,GAA6BP,EAAOn/E,KAAK0/E,GAG/C,QAAoB1hF,IAAhBohF,EAAUQ,GAAmBxoF,OAAOW,KAAKqnF,EAAUQ,EAAEtC,QAAQjnF,OAAS,EAAG,CAC3E,IAAIwpF,EAAgBp4E,KAAKq4E,sBAAsBV,EAAUf,UAAWe,EAAUQ,EAAEtC,OAAQiB,EAAiBa,EAAU9L,YAAa8L,EAAU1L,aAAc0L,EAAUnM,iBAC5Ij1E,IAAlB6hF,GAA6BV,EAAOn/E,KAAK6/E,GAG/C,QAAoB7hF,IAAhBohF,EAAUW,GAAmB3oF,OAAOW,KAAKqnF,EAAUW,EAAEzC,QAAQjnF,OAAS,EAAG,CAC3E,IAAI2pF,EAAav4E,KAAKk4E,oBAAoBP,EAAUf,UAAWe,EAAUW,EAAEzC,OAAQkB,EAAc,cAC9ExgF,IAAfgiF,GAA0Bb,EAAOn/E,KAAKggF,GAG5C,QAAgChiF,IAA5BohF,EAAUvQ,cAA6B,CACzC,IAAIoR,EAAax4E,KAAKy4E,mBAAmBd,QACtBphF,IAAfiiF,GAA0Bd,EAAOn/E,KAAKigF,GAG5C,OAAOd,IAER,CACD/mF,IAAK,sBACLuB,MAAO,SAA6B0kF,EAAWf,EAAQ6C,EAAcjqF,GACnE,IAAIunF,EAAQh2E,KAAK24E,mBAAmB9C,GAChC3xC,EAASlkC,KAAK44E,uBAAuB5C,EAAOH,EAAQ6C,GACxD,OAAO,IAAI,MAAoB9B,EAAY,IAAMnoF,EAAMunF,EAAO9xC,KAE/D,CACDvzC,IAAK,wBACLuB,MAAO,SAA+B0kF,EAAWf,EAAQ6C,EAAc7M,EAAaI,EAAcT,QAC/Ej1E,IAAbs/E,EAAOnyE,IACT1D,KAAK64E,qBAAqBhD,EAAOnyE,GACjCmyE,EAAOnyE,EAAEwgC,OAAS2xC,EAAOnyE,EAAEwgC,OAAOhwC,IAAI,sBAGvBqC,IAAbs/E,EAAOlyE,IACT3D,KAAK64E,qBAAqBhD,EAAOlyE,GACjCkyE,EAAOlyE,EAAEugC,OAAS2xC,EAAOlyE,EAAEugC,OAAOhwC,IAAI,sBAGvBqC,IAAbs/E,EAAOjyE,IACT5D,KAAK64E,qBAAqBhD,EAAOjyE,GACjCiyE,EAAOjyE,EAAEsgC,OAAS2xC,EAAOjyE,EAAEsgC,OAAOhwC,IAAI,iBAGxC,IAAI8hF,EAAQh2E,KAAK24E,mBAAmB9C,GAChC3xC,EAASlkC,KAAK44E,uBAAuB5C,EAAOH,EAAQ6C,QAEpCniF,IAAhBs1E,KACFA,EAAcA,EAAY33E,IAAI,iBAClBqE,KAAKizE,GACjBK,GAAc,IAAI,OAAQlI,UAAUkI,GACpCA,GAAc,IAAI,OAAaiN,aAAajN,SAGzBt1E,IAAjB01E,KACFA,EAAeA,EAAa/3E,IAAI,iBACnBqE,KAAKizE,GAClBS,GAAe,IAAI,OAAQtI,UAAUsI,GACrCA,GAAe,IAAI,OAAa6M,aAAa7M,GAAc5/D,UAO7D,IAJA,IAAIsB,EAAa,IAAI,MACjBorE,EAAQ,IAAI,MACZC,EAAmB,GAEdtoF,EAAI,EAAGA,EAAIwzC,EAAOt1C,OAAQ8B,GAAK,EACtCqoF,EAAM52E,IAAI+hC,EAAOxzC,GAAIwzC,EAAOxzC,EAAI,GAAIwzC,EAAOxzC,EAAI,GAAI86E,GACnD79D,EAAWmrE,aAAaC,QACJxiF,IAAhBs1E,GAA2Bl+D,EAAWsrE,YAAYpN,QACjCt1E,IAAjB01E,GAA4Bt+D,EAAWurE,SAASjN,GACpDt+D,EAAWmqE,QAAQkB,EAAkBtoF,EAAI,EAAI,GAG/C,OAAO,IAAI,MAAwBkmF,EAAY,cAAeZ,EAAOgD,KAEtE,CACDroF,IAAK,qBACLuB,MAAO,SAA4BylF,GACjC,IAAI9B,EAAS8B,EAAUvQ,cAAcyO,OAAOmB,MACxC9yC,EAAS2xC,EAAO3xC,OAAOhwC,KAAI,SAAUouB,GACvC,OAAOA,EAAM,OAEX62D,EAAW1c,GAAW2c,gBAAgBzB,EAAUf,WAAWyC,sBAAsB1B,EAAUL,WAC/F,OAAO,IAAI,MAAoBK,EAAUf,UAAY,0BAA4BuC,EAAW,IAAKtD,EAAOG,MAAO9xC,KAIhH,CACDvzC,IAAK,qBACLuB,MAAO,SAA4B2jF,GACjC,IAAIG,EAAQ,GAUZ,QARiBz/E,IAAbs/E,EAAOnyE,IAAiBsyE,EAAQA,EAAMzlF,OAAOslF,EAAOnyE,EAAEsyE,aACzCz/E,IAAbs/E,EAAOlyE,IAAiBqyE,EAAQA,EAAMzlF,OAAOslF,EAAOlyE,EAAEqyE,aACzCz/E,IAAbs/E,EAAOjyE,IAAiBoyE,EAAQA,EAAMzlF,OAAOslF,EAAOjyE,EAAEoyE,SAE1DA,EAAQA,EAAMh1C,MAAK,SAAUxvC,EAAGC,GAC9B,OAAOD,EAAIC,MAGH7C,OAAS,EAAG,CAIpB,IAHA,IAAI0qF,EAAc,EACdC,EAAYvD,EAAM,GAEbtlF,EAAI,EAAGA,EAAIslF,EAAMpnF,OAAQ8B,IAAK,CACrC,IAAI8nD,EAAew9B,EAAMtlF,GAErB8nD,IAAiB+gC,IACnBvD,EAAMsD,GAAe9gC,EACrB+gC,EAAY/gC,EACZ8gC,KAIJtD,EAAQA,EAAMn5E,MAAM,EAAGy8E,GAGzB,OAAOtD,IAER,CACDrlF,IAAK,yBACLuB,MAAO,SAAgC8jF,EAAOH,EAAQ6C,GACpD,IAAIc,EAAYd,EACZx0C,EAAS,GACTu1C,GAAU,EACVC,GAAU,EACVzmC,GAAU,EA+Bd,OA9BA+iC,EAAM19E,SAAQ,SAAUq+C,GAKtB,GAJIk/B,EAAOnyE,IAAG+1E,EAAS5D,EAAOnyE,EAAEsyE,MAAMhgF,QAAQ2gD,IAC1Ck/B,EAAOlyE,IAAG+1E,EAAS7D,EAAOlyE,EAAEqyE,MAAMhgF,QAAQ2gD,IAC1Ck/B,EAAOjyE,IAAGqvC,EAAS4iC,EAAOjyE,EAAEoyE,MAAMhgF,QAAQ2gD,KAE9B,IAAZ8iC,EAAe,CACjB,IAAIE,EAAS9D,EAAOnyE,EAAEwgC,OAAOu1C,GAC7Bv1C,EAAO3rC,KAAKohF,GACZH,EAAU,GAAKG,OAGfz1C,EAAO3rC,KAAKihF,EAAU,IAGxB,IAAgB,IAAZE,EAAe,CACjB,IAAIE,EAAS/D,EAAOlyE,EAAEugC,OAAOw1C,GAC7Bx1C,EAAO3rC,KAAKqhF,GACZJ,EAAU,GAAKI,OAEf11C,EAAO3rC,KAAKihF,EAAU,IAGxB,IAAgB,IAAZvmC,EAAe,CACjB,IAAI4mC,EAAShE,EAAOjyE,EAAEsgC,OAAO+O,GAC7B/O,EAAO3rC,KAAKshF,GACZL,EAAU,GAAKK,OAEf31C,EAAO3rC,KAAKihF,EAAU,OAGnBt1C,IAKR,CACDvzC,IAAK,uBACLuB,MAAO,SAA8B4nF,GACnC,IAAK,IAAIppF,EAAI,EAAGA,EAAIopF,EAAM51C,OAAOt1C,OAAQ8B,IAAK,CAC5C,IAAIgoF,EAAeoB,EAAM51C,OAAOxzC,EAAI,GAChCqpF,EAAaD,EAAM51C,OAAOxzC,GAAKgoF,EAC/BsB,EAAehxE,KAAKqO,IAAI0iE,GAE5B,GAAIC,GAAgB,IAAK,CAWvB,IAVA,IAAIC,EAAkBD,EAAe,IACjC30C,EAAO00C,EAAaE,EACpBtmD,EAAY+kD,EAAerzC,EAC3B60C,EAAcJ,EAAM9D,MAAMtlF,EAAI,GAE9BypF,GADWL,EAAM9D,MAAMtlF,GAAKwpF,GACND,EACtBG,EAAWF,EAAcC,EACzBE,EAAoB,GACpBC,EAAqB,GAElBF,EAAWN,EAAM9D,MAAMtlF,IAC5B2pF,EAAkB9hF,KAAK6hF,GACvBA,GAAYD,EACZG,EAAmB/hF,KAAKo7B,GACxBA,GAAa0R,EAGfy0C,EAAM9D,MAAQuE,GAAOT,EAAM9D,MAAOtlF,EAAG2pF,GACrCP,EAAM51C,OAASq2C,GAAOT,EAAM51C,OAAQxzC,EAAG4pF,SAMxC5R,EA9a0B,GAkb/B1J,GAA0B,WAC5B,SAASA,KACP,OAAgBh/D,KAAMg/D,GAyPxB,OAtPA,OAAaA,EAAY,CAAC,CACxBruE,IAAK,cACLuB,MAAO,WACL,OAAO8N,KAAKw6E,UAAUx6E,KAAKy6E,cAAgB,KAE5C,CACD9pF,IAAK,iBACLuB,MAAO,WACL,OAAO8N,KAAKw6E,UAAUx6E,KAAKy6E,cAAgB,KAE5C,CACD9pF,IAAK,iBACLuB,MAAO,WACL,OAAO8N,KAAK06E,cAEb,CACD/pF,IAAK,YACLuB,MAAO,SAAmBskC,GACxBx2B,KAAKw6E,UAAUjiF,KAAKi+B,GACpBx2B,KAAKy6E,eAAiB,IAEvB,CACD9pF,IAAK,WACLuB,MAAO,WACL8N,KAAKw6E,UAAU/Y,MACfzhE,KAAKy6E,eAAiB,IAEvB,CACD9pF,IAAK,iBACLuB,MAAO,SAAwBowB,EAAK3zB,GAClCqR,KAAK06E,YAAcp4D,EACnBtiB,KAAK26E,gBAAkBhsF,IAExB,CACDgC,IAAK,QACLuB,MAAO,SAAe0kC,GACpB52B,KAAKy6E,cAAgB,EACrBz6E,KAAK46E,SAAW,IAAIC,GACpB76E,KAAKw6E,UAAY,GACjBx6E,KAAK06E,YAAc,GACnB16E,KAAK26E,gBAAkB,GACvB,IAAIhvE,EAAQ3L,KACRlE,EAAQ86B,EAAK96B,MAAM,WAqBvB,OApBAA,EAAMxD,SAAQ,SAAUmhB,EAAM/oB,GAC5B,IAAIoqF,EAAerhE,EAAK3mB,MAAM,aAC1BioF,EAAathE,EAAK3mB,MAAM,aAC5B,IAAIgoF,IAAgBC,EAApB,CACA,IAAIC,EAAiBvhE,EAAK3mB,MAAM,QAAU6Y,EAAM8uE,cAAgB,gBAAiB,IAC7EQ,EAAgBxhE,EAAK3mB,MAAM,QAAU6Y,EAAM8uE,cAAgB,8BAC3DS,EAAWzhE,EAAK3mB,MAAM,SAAW6Y,EAAM8uE,cAAgB,GAAK,MAE5DO,EACFrvE,EAAMwvE,eAAe1hE,EAAMuhE,GAClBC,EACTtvE,EAAMyvE,kBAAkB3hE,EAAMwhE,EAAen/E,IAAQpL,IAC5CwqF,EACTvvE,EAAM0vE,WACG5hE,EAAK3mB,MAAM,cAGpB6Y,EAAM2vE,2BAA2B7hE,OAG9BzZ,KAAK46E,WAEb,CACDjqF,IAAK,iBACLuB,MAAO,SAAwBunB,EAAMhhB,GACnC,IAAI8iF,EAAW9iF,EAAS,GAAGirB,OAAOjtB,QAAQ,KAAM,IAAIA,QAAQ,KAAM,IAC9D+kF,EAAY/iF,EAAS,GAAGqD,MAAM,KAAK5H,KAAI,SAAU2J,GACnD,OAAOA,EAAK6lB,OAAOjtB,QAAQ,KAAM,IAAIA,QAAQ,KAAM,OAEjD+/B,EAAO,CACT7nC,KAAM4sF,GAEJ1mB,EAAQ70D,KAAKy7E,cAAcD,GAC3BE,EAAc17E,KAAK27E,iBAEI,IAAvB37E,KAAKy6E,cACPz6E,KAAK46E,SAASztE,IAAIouE,EAAU/kD,GAIxB+kD,KAAYG,GAEG,aAAbH,EACFG,EAAYtO,SAAS70E,KAAKi+B,QACYjgC,IAA7BmlF,EAAYH,GAAUtiF,KAC/ByiF,EAAYH,GAAY,GACxBG,EAAYH,GAAUG,EAAYH,GAAUtiF,IAAMyiF,EAAYH,IAG/C,KAAb1mB,EAAM57D,KAAWyiF,EAAYH,GAAU1mB,EAAM57D,IAAMu9B,IAC1B,iBAAbq+B,EAAM57D,IACtByiF,EAAYH,GAAY,GACxBG,EAAYH,GAAU1mB,EAAM57D,IAAMu9B,GACZ,iBAAb+kD,IACoBG,EAAYH,GAAxB,aAAbA,EAAiD,CAAC/kD,GAAmCA,GAIrE,iBAAbq+B,EAAM57D,KAAiBu9B,EAAKv9B,GAAK47D,EAAM57D,IAC/B,KAAf47D,EAAMlmE,OAAa6nC,EAAK4rC,SAAWvN,EAAMlmE,MAC1B,KAAfkmE,EAAMpmE,OAAa+nC,EAAKsvC,SAAWjR,EAAMpmE,MAC7CuR,KAAK47E,UAAUplD,KAEhB,CACD7lC,IAAK,gBACLuB,MAAO,SAAuB2iE,GAC5B,IAAI57D,EAAK47D,EAAM,GAEE,KAAbA,EAAM,KACR57D,EAAKsnC,SAASs0B,EAAM,IAEhB54C,MAAMhjB,KACRA,EAAK47D,EAAM,KAIf,IAAIlmE,EAAO,GACPF,EAAO,GAOX,OALIomE,EAAMjmE,OAAS,IACjBD,EAAOkmE,EAAM,GAAGp+D,QAAQ,WAAY,IACpChI,EAAOomE,EAAM,IAGR,CACL57D,GAAIA,EACJtK,KAAMA,EACNF,KAAMA,KAGT,CACDkC,IAAK,oBACLuB,MAAO,SAA2BunB,EAAMhhB,EAAUojF,GAChD,IAAIvoC,EAAW76C,EAAS,GAAGhC,QAAQ,KAAM,IAAIA,QAAQ,KAAM,IAAIitB,OAC3D8rB,EAAY/2C,EAAS,GAAGhC,QAAQ,KAAM,IAAIA,QAAQ,KAAM,IAAIitB,OAI/C,YAAb4vB,GAAwC,MAAd9D,IAC5BA,EAAYqsC,EAAYplF,QAAQ,KAAM,IAAIA,QAAQ,KAAM,IAAIitB,QAG9D,IAAIg4D,EAAc17E,KAAK27E,iBAGvB,GAAmB,iBAFFD,EAAY/sF,KAE7B,CAMA,GAAiB,MAAb2kD,EAAkB,CACpB,IAAIwoC,EAAYtsC,EAAU1zC,MAAM,KAAKe,MAAM,GACvCk/E,EAAOx7C,SAASu7C,EAAU,IAC1B9iD,EAAKuH,SAASu7C,EAAU,IACxBE,EAAOxsC,EAAU1zC,MAAM,KAAKe,MAAM,GAItCy2C,EAAW,cA6vBnB,SAAgB9hD,EAAGC,GACjB,IAAK,IAAIf,EAAI,EAAGglB,EAAIlkB,EAAE5C,OAAQqU,EAAIxR,EAAE7C,OAAQ8B,EAAIuS,EAAGvS,IAAKglB,IACtDlkB,EAAEkkB,GAAKjkB,EAAEf,GA7vBLurF,CADAzsC,EAAY,CAACusC,EAAM/iD,GAJnBgjD,EAAOA,EAAK9nF,KAAI,SAAUgoF,GACxB,OAAOA,EAAKx4D,OAAOjtB,QAAQ,KAAM,aAMLF,IAA1BmlF,EAAYpoC,KACdooC,EAAYpoC,GAAY,IAKX,SAAbA,IAAqBooC,EAAYziF,GAAKu2C,GAEtC8D,KAAYooC,GAAe/pF,MAAMC,QAAQ8pF,EAAYpoC,IACvDooC,EAAYpoC,GAAU/6C,KAAKi3C,GAEV,MAAb8D,EAAkBooC,EAAYpoC,GAAY9D,EAAeksC,EAAYlqF,EAAIg+C,EAG/ExvC,KAAKm8E,eAAeT,EAAapoC,GAEhB,MAAbA,GAA4C,MAAxB9D,EAAU3yC,OAAO,KACvC6+E,EAAYlqF,EAAI4qF,GAAiB5sC,SAlCjCxvC,KAAKq8E,yBAAyB5iE,EAAM65B,EAAU9D,KAqCjD,CACD7+C,IAAK,6BACLuB,MAAO,SAAoCunB,GACzC,IAAIiiE,EAAc17E,KAAK27E,iBACvBD,EAAYlqF,GAAKioB,EAGM,MAAnBA,EAAK5c,OAAO,KACd6+E,EAAYlqF,EAAI4qF,GAAiBV,EAAYlqF,MAIhD,CACDb,IAAK,2BACLuB,MAAO,SAAkCunB,EAAM65B,EAAU9D,GAKvD,IAAIj6C,EAAQi6C,EAAU1zC,MAAM,MAAM5H,KAAI,SAAUi6B,GAC9C,OAAOA,EAAKzK,OAAOjtB,QAAQ,MAAO,IAAIA,QAAQ,KAAM,QAElD6lF,EAAgB/mF,EAAM,GACtBgnF,EAAiBhnF,EAAM,GACvBinF,EAAiBjnF,EAAM,GACvBknF,EAAgBlnF,EAAM,GACtBmnF,EAAiBnnF,EAAM,GAE3B,OAAQgnF,GACN,IAAK,MACL,IAAK,OACL,IAAK,OACL,IAAK,YACL,IAAK,SACL,IAAK,SACL,IAAK,cACHG,EAAiBv1C,WAAWu1C,GAC5B,MAEF,IAAK,QACL,IAAK,WACL,IAAK,WACL,IAAK,kBACL,IAAK,eACL,IAAK,cACHA,EAAiBN,GAAiBM,GAKtC18E,KAAK28E,cAAcL,GAAiB,CAClC,KAAQC,EACR,MAASC,EACT,KAAQC,EACR,MAASC,GAEX18E,KAAKm8E,eAAen8E,KAAK28E,cAAeL,OAIrCtd,EA3PqB,GA+P1BL,GAA4B,WAC9B,SAASA,KACP,OAAgB3+D,KAAM2+D,GA0PxB,OAvPA,OAAaA,EAAc,CAAC,CAC1BhuE,IAAK,QACLuB,MAAO,SAAe47D,GACpB,IAAI8uB,EAAS,IAAIC,GAAa/uB,GAC9B8uB,EAAOE,KAAK,IAEZ,IAAIt/D,EAAUo/D,EAAOG,YAErB,GAAIv/D,EAAU,KACZ,MAAM,IAAI3c,MAAM,4DAA8D2c,GAKhF,IAFA,IAAIo9D,EAAW,IAAIC,IAEX76E,KAAKg9E,aAAaJ,IAAS,CACjC,IAAIpmD,EAAOx2B,KAAKi9E,UAAUL,EAAQp/D,GACrB,OAATgZ,GAAeokD,EAASztE,IAAIqpB,EAAK7nC,KAAM6nC,GAG7C,OAAOokD,IAGR,CACDjqF,IAAK,eACLuB,MAAO,SAAsB0qF,GAS3B,OAAIA,EAAO/qF,OAAS,IAAO,GACjB+qF,EAAOM,YAAc,IAAM,IAAK,KAASN,EAAO/qF,OAEjD+qF,EAAOM,YAAc,IAAM,IAAMN,EAAO/qF,SAIlD,CACDlB,IAAK,YACLuB,MAAO,SAAmB0qF,EAAQp/D,GAChC,IAAIgZ,EAAO,GAEP2mD,EAAY3/D,GAAW,KAAOo/D,EAAOQ,YAAcR,EAAOG,YAC1DM,EAAgB7/D,GAAW,KAAOo/D,EAAOQ,YAAcR,EAAOG,YAClEv/D,GAAW,KAAOo/D,EAAOQ,YAAcR,EAAOG,YAE9C,IAAIO,EAAUV,EAAOW,WACjB5uF,EAAOiuF,EAAOY,UAAUF,GAE5B,GAAkB,IAAdH,EAAiB,OAAO,KAG5B,IAFA,IAAIM,EAAe,GAEV/sF,EAAI,EAAGA,EAAI2sF,EAAe3sF,IACjC+sF,EAAallF,KAAKyH,KAAK09E,cAAcd,IAIvC,IAAI3jF,EAAKwkF,EAAa7uF,OAAS,EAAI6uF,EAAa,GAAK,GACjDrb,EAAWqb,EAAa7uF,OAAS,EAAI6uF,EAAa,GAAK,GACvD3X,EAAW2X,EAAa7uF,OAAS,EAAI6uF,EAAa,GAAK,GAK3D,IAFAjnD,EAAKmnD,eAAmC,IAAlBN,GAAuBT,EAAOM,cAAgBC,EAE7DA,EAAYP,EAAOM,aAAa,CACrC,IAAIU,EAAU59E,KAAKi9E,UAAUL,EAAQp/D,GACrB,OAAZogE,GAAkB59E,KAAK69E,aAAalvF,EAAM6nC,EAAMonD,GAStD,OANApnD,EAAKinD,aAAeA,EAEF,iBAAPxkF,IAAiBu9B,EAAKv9B,GAAKA,GACrB,KAAbmpE,IAAiB5rC,EAAK4rC,SAAWA,GACpB,KAAb0D,IAAiBtvC,EAAKsvC,SAAWA,GACxB,KAATn3E,IAAa6nC,EAAK7nC,KAAOA,GACtB6nC,IAER,CACD7lC,IAAK,eACLuB,MAAO,SAAsBvD,EAAM6nC,EAAMonD,GAEvC,IAA+B,IAA3BA,EAAQD,eAAyB,CACnC,IAAIzrF,EAAQ0rF,EAAQH,aAAa,GAE7B9rF,MAAMC,QAAQM,IAChBskC,EAAKonD,EAAQjvF,MAAQivF,EACrBA,EAAQpsF,EAAIU,GAEZskC,EAAKonD,EAAQjvF,MAAQuD,OAElB,GAAa,gBAATvD,GAA2C,MAAjBivF,EAAQjvF,KAAc,CACzD,IAAI2qB,EAAQ,GACZskE,EAAQH,aAAanlF,SAAQ,SAAUG,EAAU/H,GAErC,IAANA,GAAS4oB,EAAM/gB,KAAKE,WAGDlC,IAArBigC,EAAKgmC,cACPhmC,EAAKgmC,YAAc,IAGrBhmC,EAAKgmC,YAAYjkE,KAAK+gB,QACjB,GAAqB,iBAAjBskE,EAAQjvF,KAAyB,CAC/BgB,OAAOW,KAAKstF,GAClBtlF,SAAQ,SAAU3H,GACrB6lC,EAAK7lC,GAAOitF,EAAQjtF,WAEjB,GAAa,iBAAThC,GAA4C,MAAjBivF,EAAQjvF,KAAc,CAC1D,IAII+tF,EAJAJ,EAAgBsB,EAAQH,aAAa,GACrClB,EAAiBqB,EAAQH,aAAa,GACtCjB,EAAiBoB,EAAQH,aAAa,GACtChB,EAAgBmB,EAAQH,aAAa,GAEH,IAAlCnB,EAActmF,QAAQ,UAAesmF,EAAgBA,EAAc7lF,QAAQ,OAAQ,SAChD,IAAnC8lF,EAAevmF,QAAQ,UAAeumF,EAAiBA,EAAe9lF,QAAQ,OAAQ,SAGxFimF,EADqB,UAAnBH,GAAiD,aAAnBA,GAAoD,WAAnBA,GAAkD,aAAnBA,GAAoE,IAAnCA,EAAevmF,QAAQ,QACvI,CAAC4nF,EAAQH,aAAa,GAAIG,EAAQH,aAAa,GAAIG,EAAQH,aAAa,IAExEG,EAAQH,aAAa,GAIxCjnD,EAAK8lD,GAAiB,CACpB,KAAQC,EACR,MAASC,EACT,KAAQC,EACR,MAASC,aAEqBnmF,IAAvBigC,EAAKonD,EAAQjvF,MACI,iBAAfivF,EAAQ3kF,IACjBu9B,EAAKonD,EAAQjvF,MAAQ,GACrB6nC,EAAKonD,EAAQjvF,MAAMivF,EAAQ3kF,IAAM2kF,GAEjCpnD,EAAKonD,EAAQjvF,MAAQivF,EAGF,aAAjBA,EAAQjvF,MACLgD,MAAMC,QAAQ4kC,EAAKonD,EAAQjvF,SAC9B6nC,EAAKonD,EAAQjvF,MAAQ,CAAC6nC,EAAKonD,EAAQjvF,QAGrC6nC,EAAKonD,EAAQjvF,MAAM4J,KAAKqlF,SACoBrnF,IAAnCigC,EAAKonD,EAAQjvF,MAAMivF,EAAQ3kF,MACpCu9B,EAAKonD,EAAQjvF,MAAMivF,EAAQ3kF,IAAM2kF,KAItC,CACDjtF,IAAK,gBACLuB,MAAO,SAAuB0qF,GAC5B,IACIhuF,EADAH,EAAOmuF,EAAOY,UAAU,GAG5B,OAAQ/uF,GACN,IAAK,IACH,OAAOmuF,EAAOkB,aAEhB,IAAK,IACH,OAAOlB,EAAOmB,aAEhB,IAAK,IACH,OAAOnB,EAAOoB,aAEhB,IAAK,IACH,OAAOpB,EAAOqB,WAEhB,IAAK,IACH,OAAOrB,EAAOsB,WAEhB,IAAK,IAEH,OADAtvF,EAASguF,EAAOG,YACTH,EAAOuB,eAAevvF,GAE/B,IAAK,IAEH,OADAA,EAASguF,EAAOG,YACTH,EAAOY,UAAU5uF,GAE1B,IAAK,IACH,OAAOguF,EAAOwB,WAEhB,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACH,IAAIC,EAAczB,EAAOG,YACrBhY,EAAW6X,EAAOG,YAElBuB,EAAmB1B,EAAOG,YAE9B,GAAiB,IAAbhY,EACF,OAAQt2E,GACN,IAAK,IACL,IAAK,IACH,OAAOmuF,EAAO2B,gBAAgBF,GAEhC,IAAK,IACH,OAAOzB,EAAO4B,gBAAgBH,GAEhC,IAAK,IACH,OAAOzB,EAAO6B,gBAAgBJ,GAEhC,IAAK,IACH,OAAOzB,EAAO8B,cAAcL,GAE9B,IAAK,IACH,OAAOzB,EAAO+B,cAAcN,QAIZ,IAAX,GACTtrF,QAAQH,MAAM,6DAGhB,IAAIiuB,EAAO,GAAkB,IAAI6hC,WAAWk6B,EAAOuB,eAAeG,KAE9DM,EAAU,IAAI/B,GAAah8D,EAAKitC,QAEpC,OAAQr/D,GACN,IAAK,IACL,IAAK,IACH,OAAOmwF,EAAQL,gBAAgBF,GAEjC,IAAK,IACH,OAAOO,EAAQJ,gBAAgBH,GAEjC,IAAK,IACH,OAAOO,EAAQH,gBAAgBJ,GAEjC,IAAK,IACH,OAAOO,EAAQF,cAAcL,GAE/B,IAAK,IACH,OAAOO,EAAQD,cAAcN,GAGnC,QACE,MAAM,IAAIx9E,MAAM,0CAA4CpS,QAK7DkwE,EA5PuB,GA+P5Bke,GAA4B,WAC9B,SAASA,EAAa/uB,EAAQ+wB,IAC5B,OAAgB7+E,KAAM68E,GAEtB78E,KAAK8+E,GAAK,IAAIC,SAASjxB,GACvB9tD,KAAK+H,OAAS,EACd/H,KAAK6+E,kBAAgCtoF,IAAjBsoF,GAA6BA,EA+LnD,OA5LA,OAAahC,EAAc,CAAC,CAC1BlsF,IAAK,YACLuB,MAAO,WACL,OAAO8N,KAAK+H,SAEb,CACDpX,IAAK,OACLuB,MAAO,WACL,OAAO8N,KAAK8+E,GAAGhxB,OAAO2Q,aAEvB,CACD9tE,IAAK,OACLuB,MAAO,SAActD,GACnBoR,KAAK+H,QAAUnZ,IAKhB,CACD+B,IAAK,aACLuB,MAAO,WACL,OAAiC,IAAP,EAAlB8N,KAAKu9E,cAEd,CACD5sF,IAAK,kBACLuB,MAAO,SAAyBL,GAG9B,IAFA,IAAIL,EAAI,GAECd,EAAI,EAAGA,EAAImB,EAAMnB,IACxBc,EAAE+G,KAAKyH,KAAK89E,cAGd,OAAOtsF,IAER,CACDb,IAAK,WACLuB,MAAO,WACL,IAAIA,EAAQ8N,KAAK8+E,GAAGvB,SAASv9E,KAAK+H,QAElC,OADA/H,KAAK+H,QAAU,EACR7V,IAER,CACDvB,IAAK,WACLuB,MAAO,WACL,IAAIA,EAAQ8N,KAAK8+E,GAAGV,SAASp+E,KAAK+H,OAAQ/H,KAAK6+E,cAE/C,OADA7+E,KAAK+H,QAAU,EACR7V,IAER,CACDvB,IAAK,WACLuB,MAAO,WACL,IAAIA,EAAQ8N,KAAK8+E,GAAGb,SAASj+E,KAAK+H,OAAQ/H,KAAK6+E,cAE/C,OADA7+E,KAAK+H,QAAU,EACR7V,IAER,CACDvB,IAAK,gBACLuB,MAAO,SAAuBL,GAG5B,IAFA,IAAIL,EAAI,GAECd,EAAI,EAAGA,EAAImB,EAAMnB,IACxBc,EAAE+G,KAAKyH,KAAKi+E,YAGd,OAAOzsF,IAER,CACDb,IAAK,YACLuB,MAAO,WACL,IAAIA,EAAQ8N,KAAK8+E,GAAG/B,UAAU/8E,KAAK+H,OAAQ/H,KAAK6+E,cAEhD,OADA7+E,KAAK+H,QAAU,EACR7V,IAOR,CACDvB,IAAK,WACLuB,MAAO,WACL,IAAI6mE,EAAKC,EAWT,OATIh5D,KAAK6+E,cACP9lB,EAAM/4D,KAAK+8E,YACX/jB,EAAOh5D,KAAK+8E,cAEZ/jB,EAAOh5D,KAAK+8E,YACZhkB,EAAM/4D,KAAK+8E,aAIF,WAAP/jB,GACFA,EAAe,YAAPA,EAEI,cADZD,EAAa,YAANA,KACiBC,EAAOA,EAAO,EAAI,cAE1B,WAAPA,GADTD,EAAMA,EAAM,EAAI,cAIJ,WAAPC,EAAqBD,IAE7B,CACDpoE,IAAK,gBACLuB,MAAO,SAAuBL,GAG5B,IAFA,IAAIL,EAAI,GAECd,EAAI,EAAGA,EAAImB,EAAMnB,IACxBc,EAAE+G,KAAKyH,KAAKk+E,YAGd,OAAO1sF,IAGR,CACDb,IAAK,YACLuB,MAAO,WACL,IAAI6mE,EAAKC,EAUT,OARIh5D,KAAK6+E,cACP9lB,EAAM/4D,KAAK+8E,YACX/jB,EAAOh5D,KAAK+8E,cAEZ/jB,EAAOh5D,KAAK+8E,YACZhkB,EAAM/4D,KAAK+8E,aAGC,WAAP/jB,EAAqBD,IAE7B,CACDpoE,IAAK,aACLuB,MAAO,WACL,IAAIA,EAAQ8N,KAAK8+E,GAAGd,WAAWh+E,KAAK+H,OAAQ/H,KAAK6+E,cAEjD,OADA7+E,KAAK+H,QAAU,EACR7V,IAER,CACDvB,IAAK,kBACLuB,MAAO,SAAyBL,GAG9B,IAFA,IAAIL,EAAI,GAECd,EAAI,EAAGA,EAAImB,EAAMnB,IACxBc,EAAE+G,KAAKyH,KAAKg+E,cAGd,OAAOxsF,IAER,CACDb,IAAK,aACLuB,MAAO,WACL,IAAIA,EAAQ8N,KAAK8+E,GAAGf,WAAW/9E,KAAK+H,OAAQ/H,KAAK6+E,cAEjD,OADA7+E,KAAK+H,QAAU,EACR7V,IAER,CACDvB,IAAK,kBACLuB,MAAO,SAAyBL,GAG9B,IAFA,IAAIL,EAAI,GAECd,EAAI,EAAGA,EAAImB,EAAMnB,IACxBc,EAAE+G,KAAKyH,KAAK+9E,cAGd,OAAOvsF,IAER,CACDb,IAAK,iBACLuB,MAAO,SAAwBL,GAC7B,IAAIK,EAAQ8N,KAAK8+E,GAAGhxB,OAAOjxD,MAAMmD,KAAK+H,OAAQ/H,KAAK+H,OAASlW,GAE5D,OADAmO,KAAK+H,QAAUlW,EACRK,IAER,CACDvB,IAAK,YACLuB,MAAO,SAAmBL,GAIxB,IAFA,IAAIL,EAAI,GAECd,EAAI,EAAGA,EAAImB,EAAMnB,IACxBc,EAAEd,GAAKsP,KAAKu9E,WAGd,IAAIyB,EAAWxtF,EAAEwE,QAAQ,GAEzB,OADIgpF,GAAY,IAAGxtF,EAAIA,EAAEqL,MAAM,EAAGmiF,IAC3B,iBAAuB,IAAIt8B,WAAWlxD,QAI1CqrF,EArMuB,GA0M5BhC,GAAuB,WACzB,SAASA,KACP,OAAgB76E,KAAM66E,GAUxB,OAPA,OAAaA,EAAS,CAAC,CACrBlqF,IAAK,MACLuB,MAAO,SAAavB,EAAK2xB,GACvBtiB,KAAKrP,GAAO2xB,MAITu4D,EAZkB,GA2C3B,SAAS9b,GAAcnoC,GACrB,IACI9jC,EAAQ8jC,EAAK9jC,MADG,qBAGpB,GAAIA,EAEF,OADcytC,SAASztC,EAAM,IAI/B,MAAM,IAAI+N,MAAM,uEAIlB,SAASq1E,GAAwBv/B,GAC/B,OAAOA,EAAO,WAGhB,IAAIsoC,GAAY,GAEhB,SAAStN,GAAQH,EAAoBV,EAAcS,EAAa2N,GAC9D,IAAI1hF,EAEJ,OAAQ0hF,EAAW7P,aACjB,IAAK,kBACH7xE,EAAQg0E,EACR,MAEF,IAAK,YACHh0E,EAAQszE,EACR,MAEF,IAAK,YACHtzE,EAAQ+zE,EACR,MAEF,IAAK,UACH/zE,EAAQ0hF,EAAWzY,QAAQ,GAC3B,MAEF,QACE1zE,QAAQC,KAAK,mDAAqDksF,EAAW7P,aAGhD,kBAA7B6P,EAAW7L,gBAAmC71E,EAAQ0hF,EAAWzY,QAAQjpE,IAC7E,IAAIu+E,EAAOv+E,EAAQ0hF,EAAWvL,SAC1B36C,EAAK+iD,EAAOmD,EAAWvL,SAC3B,OAyIF,SAAeniF,EAAGC,EAAGsqF,EAAM/iD,GACzB,IAAK,IAAItoC,EAAIqrF,EAAMrmE,EAAI,EAAGhlB,EAAIsoC,EAAItoC,IAAKglB,IACrClkB,EAAEkkB,GAAKjkB,EAAEf,GAGX,OAAOc,EA9IAqL,CAAMoiF,GAAWC,EAAWpxB,OAAQiuB,EAAM/iD,GAGnD,IAAImmD,GAAY,IAAI,MAChBC,GAAU,IAAI,MAIlB,SAAS7W,GAAkBH,GACzB,IAAIiX,EAAgB,IAAI,MACpBC,EAAgB,IAAI,MACpBC,EAAa,IAAI,MACjBC,EAAiB,IAAI,MACrBC,EAAY,IAAI,MAChBC,EAAiB,IAAI,MACrBC,EAAkB,IAAI,MACtBC,EAAmB,IAAI,MACvBC,EAAkB,IAAI,MACtBC,EAAY,IAAI,MAChBC,EAAY,IAAI,MAChBC,EAAW,IAAI,MACf1U,EAAclD,EAAckD,YAAclD,EAAckD,YAAc,EAG1E,GAFIlD,EAAcuD,aAAa0T,EAAcY,YAAYb,GAAQzb,UAAUyE,EAAcuD,cAErFvD,EAAcyD,YAAa,CAC7B,IAAIvyD,EAAQ8uD,EAAcyD,YAAY33E,IAAI,gBAC1ColB,EAAM/gB,KAAK6vE,EAAcoD,YACzB8T,EAAcY,sBAAsBf,GAAUxb,UAAUrqD,IAG1D,GAAI8uD,EAAc2D,SAAU,CAC1B,IAAIoU,EAAS/X,EAAc2D,SAAS73E,IAAI,gBAExCisF,EAAO5nF,KAAK6vE,EAAcoD,YAE1B+T,EAAWW,sBAAsBf,GAAUxb,UAAUwc,IAGvD,GAAI/X,EAAc6D,aAAc,CAC9B,IAAImU,EAAUhY,EAAc6D,aAAa/3E,IAAI,gBAE7CksF,EAAQ7nF,KAAK6vE,EAAcoD,YAE3BgU,EAAeU,sBAAsBf,GAAUxb,UAAUyc,IACzDZ,EAAenzE,SAGb+7D,EAAcp7D,OAAOyyE,EAAUzyE,MAAMoyE,GAAQzb,UAAUyE,EAAcp7D,QAErEo7D,EAAcgE,eAAeuT,EAAgBM,YAAYb,GAAQzb,UAAUyE,EAAcgE,gBACzFhE,EAAckE,cAAcoT,EAAeO,YAAYb,GAAQzb,UAAUyE,EAAckE,eACvFlE,EAAcoE,gBAAgBoT,EAAiBK,YAAYb,GAAQzb,UAAUyE,EAAcoE,iBAC3FpE,EAAcsE,eAAemT,EAAgBI,YAAYb,GAAQzb,UAAUyE,EAAcsE,gBAEzFtE,EAAcE,oBAChByX,EAAUn0E,KAAKw8D,EAAcC,cAC7ByX,EAAUl0E,KAAKw8D,EAAcE,oBAG/B,IAAI+X,EAAOf,EAAc50E,QAAQwuE,SAASqG,GAAYrG,SAASsG,GAE3Dc,EAAa,IAAI,MACrBA,EAAWC,gBAAgBT,GAE3B,IAAIU,EAAY,IAAI,MACpBA,EAAUC,aAAaX,GACvB,IAAIY,EAAcF,EAAU91E,QAAQ2B,SAAS6sE,SAAS4G,GAClDa,EAAaL,EAAW51E,QAAQ2B,SAAS6sE,SAASwH,GAClDE,EAAOnB,EACPoB,EAAY,IAAI,MAEpB,GAAoB,IAAhBvV,EACFuV,EAAUj1E,KAAK00E,GAAYpH,SAASmH,GAAMnH,SAASyH,GAAYzH,SAAS0H,QACnE,GAAoB,IAAhBtV,EACTuV,EAAUj1E,KAAK00E,GAAYpH,SAASyH,GAAYzH,SAASmH,GAAMnH,SAAS0H,OACnE,CACL,IACIE,GADa,IAAI,OAAU9zE,OAAM,IAAI,OAAU+zE,mBAAmBhB,IACtCr1E,QAAQ2B,SACpC20E,EAAqBL,EAAWj2E,QAAQwuE,SAAS4H,GACrDD,EAAUj1E,KAAK00E,GAAYpH,SAASmH,GAAMnH,SAAS8H,GAAoB9H,SAAS0H,GAGlF,IAAIK,EAAsBpB,EAAgBn1E,QAAQ2B,SAC9C60E,EAAqBxB,EAAeh1E,QAAQ2B,SAE5C80E,EAAa9B,EAAc30E,QAAQwuE,SAAS0G,GAAkB1G,SAAS2G,GAAiB3G,SAASoG,GAAepG,SAASqG,GAAYrG,SAASsG,GAAgBtG,SAAS+H,GAAqB/H,SAASyG,GAAiBzG,SAASwG,GAAgBxG,SAASuG,GAAWvG,SAASgI,GAC5QE,GAAmC,IAAI,OAAUX,aAAaU,GAC9DE,EAAqBvB,EAAUp1E,QAAQwuE,SAASkI,GAKpD,OAJApB,EAASS,aAAaY,IACtBF,EAAanB,EAASt1E,QAAQwuE,SAAS2H,IAE5B5H,YAAY6G,EAAUzzE,UAC1B80E,EAKT,SAAS1V,GAActsC,GAErB,IAAImiD,EAAQ,CAAC,MACb,MACA,MACA,MACA,MACA,OAIA,OAAc,KAVdniD,EAAQA,GAAS,IAWfpsC,QAAQC,KAAK,uGACNsuF,EAAM,IAGRA,EAAMniD,GAKf,SAASi9C,GAAiBlqF,GAIxB,OAHYA,EAAM4J,MAAM,KAAK5H,KAAI,SAAUouB,GACzC,OAAO6kB,WAAW7kB,MAKtB,SAASo8C,GAA2B5Q,EAAQiuB,EAAM/iD,GAGhD,YAFaziC,IAATwlF,IAAoBA,EAAO,QACpBxlF,IAAPyiC,IAAkBA,EAAK80B,EAAO2Q,YAC3B,iBAAuB,IAAI/b,WAAWoL,EAAQiuB,EAAM/iD,IAkB7D,SAASuhD,GAAOgH,EAAI/jF,EAAOgkF,GACzB,OAAOD,EAAG1kF,MAAM,EAAGW,GAAOjN,OAAOixF,GAAIjxF,OAAOgxF,EAAG1kF,MAAMW,ICrhGxC,SAASikF,GAAaC,EAAWpsF,EAAQ3G,GACpD,IAAM+U,EAASg+E,EAATh+E,EAAGE,EAAM89E,EAAN99E,EAIL+9E,EAAM,KACNC,EAAY,EAEbjzF,EAAKkJ,cAAcglB,SAAS,WAC3B8kE,GAAO,EACPC,EAAY,KAEZD,EAAM,EACNC,GAAa,GAEjB,IAAIC,EAAY,IAAIC,EAAAA,IAAU,SAAU,GAAI,EAAG,GAAK,IACpDD,EAAU5W,YAAa,EACvB4W,EAAUE,OAAOC,MAAQ,KACzBH,EAAUE,OAAOE,QAAQtrE,MAAQ,MACjCkrE,EAAUE,OAAOE,QAAQrrE,OAAS,MAClCirE,EAAUvsF,OAAOsV,SAASzI,IAAI7M,EAAOoO,EAAEpO,EAAOqO,EAAErO,EAAOsO,EAAIg+E,GAC3DC,EAAUj3E,SAASzI,IAAIuB,EAAG,GAAIE,EAAI+9E,GAKlCE,EAAUlzF,KAAOA,EACjByK,OAAO2tB,MAAM5Z,IAAK00E,GAClBzoF,OAAO2tB,MAAM5Z,IAAK00E,EAAUvsF,gBCvBhC,SAAS,GAAaqR,GAAW,IAAIC,EAErC,WAAuC,GAAuB,oBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQrZ,UAAU2E,QAAQG,KAAKmU,QAAQC,UAAUG,QAAS,IAAI,iBAAyB,EAAQ,MAAOpW,IAAK,OAAO,GAF9P,GAA6B,OAAO,WAAkC,IAAsCsW,EAAlCC,GAAQ,OAAgBT,GAAkB,GAAIC,EAA2B,CAAE,IAAIS,GAAY,OAAgBrH,MAAMrS,YAAawZ,EAASN,QAAQC,UAAUM,EAAOrY,UAAWsY,QAAqBF,EAASC,EAAMnH,MAAMD,KAAMjR,WAAc,OAAO,OAA2BiR,KAAMmH,IAM5Z,IAAI+6E,GAAkB,gBAElBC,GAA4B,WAE5BC,GAAwB,WAExBC,GAAmB,WAEnBC,GAAM,IAAI,MAEVC,GAAM,IAAI,MAEVC,GAAM,IAAI,MAEVC,GAAM,IAAI,MAEVC,GAAM,IAAI,MAEd,SAASC,KACP,IAAI78E,EAAQ,CACV88E,QAAS,GACTh7E,OAAQ,GACRi7E,SAAU,GACVC,QAAS,GACTtpE,OAAQ,GACR21D,IAAK,GACLxP,UAAW,GACXojB,kBAAmB,GACnBC,YAAa,SAAqBr0F,EAAMs0F,GAGtC,GAAIjjF,KAAK4H,SAA0C,IAAhC5H,KAAK4H,OAAOq7E,gBAG7B,OAFAjjF,KAAK4H,OAAOjZ,KAAOA,OACnBqR,KAAK4H,OAAOq7E,iBAAsC,IAApBA,GAIhC,IAAIC,EAAmBljF,KAAK4H,QAAiD,mBAAhC5H,KAAK4H,OAAOu7E,gBAAiCnjF,KAAK4H,OAAOu7E,uBAAoB5sF,EA+F1H,GA7FIyJ,KAAK4H,QAA2C,mBAA1B5H,KAAK4H,OAAOw7E,WACpCpjF,KAAK4H,OAAOw7E,WAAU,GAGxBpjF,KAAK4H,OAAS,CACZjZ,KAAMA,GAAQ,GACds0F,iBAAqC,IAApBA,EACjBluE,SAAU,CACR8tE,SAAU,GACVC,QAAS,GACTtpE,OAAQ,GACR21D,IAAK,GACLkU,cAAc,GAEhB1jB,UAAW,GACX2jB,QAAQ,EACRC,cAAe,SAAuB50F,EAAM60F,GAC1C,IAAIC,EAAWzjF,KAAKojF,WAAU,GAI1BK,IAAaA,EAASC,WAAaD,EAASE,YAAc,IAC5D3jF,KAAK2/D,UAAUvjE,OAAOqnF,EAASjmF,MAAO,GAGxC,IAAIyX,EAAW,CACbzX,MAAOwC,KAAK2/D,UAAU/wE,OACtBD,KAAMA,GAAQ,GACdi1F,OAAQjyF,MAAMC,QAAQ4xF,IAAcA,EAAU50F,OAAS,EAAI40F,EAAUA,EAAU50F,OAAS,GAAK,GAC7F00F,YAAqB/sF,IAAbktF,EAAyBA,EAASH,OAAStjF,KAAKsjF,OACxDO,gBAAyBttF,IAAbktF,EAAyBA,EAASK,SAAW,EACzDA,UAAW,EACXH,YAAa,EACbD,WAAW,EACXh5E,MAAO,SAAelN,GACpB,IAAIumF,EAAS,CACXvmF,MAAwB,iBAAVA,EAAqBA,EAAQwC,KAAKxC,MAChD7O,KAAMqR,KAAKrR,KACXi1F,OAAQ5jF,KAAK4jF,OACbN,OAAQtjF,KAAKsjF,OACbO,WAAY,EACZC,UAAW,EACXH,YAAa,EACbD,WAAW,GAGb,OADAK,EAAOr5E,MAAQ1K,KAAK0K,MAAMrR,KAAK0qF,GACxBA,IAIX,OADA/jF,KAAK2/D,UAAUpnE,KAAK0c,GACbA,GAETkuE,gBAAiB,WACf,GAAInjF,KAAK2/D,UAAU/wE,OAAS,EAC1B,OAAOoR,KAAK2/D,UAAU3/D,KAAK2/D,UAAU/wE,OAAS,IAKlDw0F,UAAW,SAAmBhrE,GAC5B,IAAI4rE,EAAoBhkF,KAAKmjF,kBAS7B,GAPIa,IAAqD,IAAhCA,EAAkBF,WACzCE,EAAkBF,SAAW9jF,KAAK+U,SAAS8tE,SAASj0F,OAAS,EAC7Do1F,EAAkBL,WAAaK,EAAkBF,SAAWE,EAAkBH,WAC9EG,EAAkBN,WAAY,GAI5BtrE,GAAOpY,KAAK2/D,UAAU/wE,OAAS,EACjC,IAAK,IAAIq1F,EAAKjkF,KAAK2/D,UAAU/wE,OAAS,EAAGq1F,GAAM,EAAGA,IAC5CjkF,KAAK2/D,UAAUskB,GAAIN,YAAc,GACnC3jF,KAAK2/D,UAAUvjE,OAAO6nF,EAAI,GAahC,OAPI7rE,GAAiC,IAA1BpY,KAAK2/D,UAAU/wE,QACxBoR,KAAK2/D,UAAUpnE,KAAK,CAClB5J,KAAM,GACN20F,OAAQtjF,KAAKsjF,SAIVU,IAQPd,GAAoBA,EAAiBv0F,MAA0C,mBAA3Bu0F,EAAiBx4E,MAAsB,CAC7F,IAAIw5E,EAAWhB,EAAiBx4E,MAAM,GACtCw5E,EAASR,WAAY,EACrB1jF,KAAK4H,OAAO+3D,UAAUpnE,KAAK2rF,GAG7BlkF,KAAK4iF,QAAQrqF,KAAKyH,KAAK4H,SAEzBu8E,SAAU,WACJnkF,KAAK4H,QAA2C,mBAA1B5H,KAAK4H,OAAOw7E,WACpCpjF,KAAK4H,OAAOw7E,WAAU,IAG1BgB,iBAAkB,SAA0BlyF,EAAOo4D,GACjD,IAAI9sD,EAAQ+iC,SAASruC,EAAO,IAC5B,OAAoD,GAA5CsL,GAAS,EAAIA,EAAQ,EAAIA,EAAQ8sD,EAAM,IAEjD+5B,iBAAkB,SAA0BnyF,EAAOo4D,GACjD,IAAI9sD,EAAQ+iC,SAASruC,EAAO,IAC5B,OAAoD,GAA5CsL,GAAS,EAAIA,EAAQ,EAAIA,EAAQ8sD,EAAM,IAEjDg6B,aAAc,SAAsBpyF,EAAOo4D,GACzC,IAAI9sD,EAAQ+iC,SAASruC,EAAO,IAC5B,OAAoD,GAA5CsL,GAAS,EAAIA,EAAQ,EAAIA,EAAQ8sD,EAAM,IAEjDi6B,UAAW,SAAmB/yF,EAAGC,EAAGmR,GAClC,IAAIwiB,EAAMplB,KAAK6iF,SACXt4B,EAAMvqD,KAAK4H,OAAOmN,SAAS8tE,SAC/Bt4B,EAAIhyD,KAAK6sB,EAAI5zB,EAAI,GAAI4zB,EAAI5zB,EAAI,GAAI4zB,EAAI5zB,EAAI,IACzC+4D,EAAIhyD,KAAK6sB,EAAI3zB,EAAI,GAAI2zB,EAAI3zB,EAAI,GAAI2zB,EAAI3zB,EAAI,IACzC84D,EAAIhyD,KAAK6sB,EAAIxiB,EAAI,GAAIwiB,EAAIxiB,EAAI,GAAIwiB,EAAIxiB,EAAI,KAE3C4hF,eAAgB,SAAwBhzF,GACtC,IAAI4zB,EAAMplB,KAAK6iF,SACL7iF,KAAK4H,OAAOmN,SAAS8tE,SAC3BtqF,KAAK6sB,EAAI5zB,EAAI,GAAI4zB,EAAI5zB,EAAI,GAAI4zB,EAAI5zB,EAAI,KAE3CizF,cAAe,SAAuBjzF,GACpC,IAAI4zB,EAAMplB,KAAK6iF,SACL7iF,KAAK4H,OAAOmN,SAAS8tE,SAC3BtqF,KAAK6sB,EAAI5zB,EAAI,GAAI4zB,EAAI5zB,EAAI,GAAI4zB,EAAI5zB,EAAI,KAE3CkzF,UAAW,SAAmBlzF,EAAGC,EAAGmR,GAClC,IAAIwiB,EAAMplB,KAAK8iF,QACXv4B,EAAMvqD,KAAK4H,OAAOmN,SAAS+tE,QAC/Bv4B,EAAIhyD,KAAK6sB,EAAI5zB,EAAI,GAAI4zB,EAAI5zB,EAAI,GAAI4zB,EAAI5zB,EAAI,IACzC+4D,EAAIhyD,KAAK6sB,EAAI3zB,EAAI,GAAI2zB,EAAI3zB,EAAI,GAAI2zB,EAAI3zB,EAAI,IACzC84D,EAAIhyD,KAAK6sB,EAAIxiB,EAAI,GAAIwiB,EAAIxiB,EAAI,GAAIwiB,EAAIxiB,EAAI,KAE3C+hF,cAAe,SAAuBnzF,EAAGC,EAAGmR,GAC1C,IAAIwiB,EAAMplB,KAAK6iF,SACXt4B,EAAMvqD,KAAK4H,OAAOmN,SAAS+tE,QAE/BR,GAAI3e,UAAUv+C,EAAK5zB,GAEnB+wF,GAAI5e,UAAUv+C,EAAK3zB,GAEnB+wF,GAAI7e,UAAUv+C,EAAKxiB,GAEnB8/E,GAAIzwE,WAAWuwE,GAAKD,IAEpBE,GAAIxwE,WAAWqwE,GAAKC,IAEpBG,GAAIkC,MAAMnC,IAEVC,GAAI5hE,YAEJypC,EAAIhyD,KAAKmqF,GAAIh/E,EAAGg/E,GAAI/+E,EAAG++E,GAAI9+E,GAC3B2mD,EAAIhyD,KAAKmqF,GAAIh/E,EAAGg/E,GAAI/+E,EAAG++E,GAAI9+E,GAC3B2mD,EAAIhyD,KAAKmqF,GAAIh/E,EAAGg/E,GAAI/+E,EAAG++E,GAAI9+E,IAE7BihF,SAAU,SAAkBrzF,EAAGC,EAAGmR,GAChC,IAAIwiB,EAAMplB,KAAKwZ,OACX+wC,EAAMvqD,KAAK4H,OAAOmN,SAASyE,YAChBjjB,IAAX6uB,EAAI5zB,IAAkB+4D,EAAIhyD,KAAK6sB,EAAI5zB,EAAI,GAAI4zB,EAAI5zB,EAAI,GAAI4zB,EAAI5zB,EAAI,SACpD+E,IAAX6uB,EAAI3zB,IAAkB84D,EAAIhyD,KAAK6sB,EAAI3zB,EAAI,GAAI2zB,EAAI3zB,EAAI,GAAI2zB,EAAI3zB,EAAI,SACpD8E,IAAX6uB,EAAIxiB,IAAkB2nD,EAAIhyD,KAAK6sB,EAAIxiB,EAAI,GAAIwiB,EAAIxiB,EAAI,GAAIwiB,EAAIxiB,EAAI,KAErEkiF,MAAO,SAAetzF,EAAGC,EAAGmR,GAC1B,IAAIwiB,EAAMplB,KAAKmvE,IACX5kB,EAAMvqD,KAAK4H,OAAOmN,SAASo6D,IAC/B5kB,EAAIhyD,KAAK6sB,EAAI5zB,EAAI,GAAI4zB,EAAI5zB,EAAI,IAC7B+4D,EAAIhyD,KAAK6sB,EAAI3zB,EAAI,GAAI2zB,EAAI3zB,EAAI,IAC7B84D,EAAIhyD,KAAK6sB,EAAIxiB,EAAI,GAAIwiB,EAAIxiB,EAAI,KAE/BmiF,aAAc,WACZ,IAAIx6B,EAAMvqD,KAAK4H,OAAOmN,SAASo6D,IAC/B5kB,EAAIhyD,KAAK,EAAG,GACZgyD,EAAIhyD,KAAK,EAAG,GACZgyD,EAAIhyD,KAAK,EAAG,IAEdysF,UAAW,SAAmBxzF,GAC5B,IAAI4zB,EAAMplB,KAAKmvE,IACLnvE,KAAK4H,OAAOmN,SAASo6D,IAC3B52E,KAAK6sB,EAAI5zB,EAAI,GAAI4zB,EAAI5zB,EAAI,KAE/ByzF,QAAS,SAAiBzzF,EAAGC,EAAGmR,EAAGsiF,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,GACrD,IAAIC,EAAOxlF,KAAK6iF,SAASj0F,OACrB62F,EAAKzlF,KAAKokF,iBAAiB5yF,EAAGg0F,GAC9BE,EAAK1lF,KAAKokF,iBAAiB3yF,EAAG+zF,GAC9BG,EAAK3lF,KAAKokF,iBAAiBxhF,EAAG4iF,GAIlC,GAHAxlF,KAAKukF,UAAUkB,EAAIC,EAAIC,GACvB3lF,KAAK6kF,SAASY,EAAIC,EAAIC,QAEXpvF,IAAP8uF,GAA2B,KAAPA,EAAW,CACjC,IAAIO,EAAO5lF,KAAK8iF,QAAQl0F,OACxB62F,EAAKzlF,KAAKqkF,iBAAiBgB,EAAIO,GAC/BF,EAAK1lF,KAAKqkF,iBAAiBiB,EAAIM,GAC/BD,EAAK3lF,KAAKqkF,iBAAiBkB,EAAIK,GAC/B5lF,KAAK0kF,UAAUe,EAAIC,EAAIC,QAEvB3lF,KAAK2kF,cAAcc,EAAIC,EAAIC,GAI7B,QAAWpvF,IAAP2uF,GAA2B,KAAPA,EAAW,CACjC,IAAIW,EAAQ7lF,KAAKmvE,IAAIvgF,OACrB62F,EAAKzlF,KAAKskF,aAAaY,EAAIW,GAC3BH,EAAK1lF,KAAKskF,aAAaa,EAAIU,GAC3BF,EAAK3lF,KAAKskF,aAAac,EAAIS,GAC3B7lF,KAAK8kF,MAAMW,EAAIC,EAAIC,GACnB3lF,KAAK4H,OAAOmN,SAASsuE,cAAe,OAGpCrjF,KAAK+kF,gBAGTe,iBAAkB,SAA0BjD,GAC1C7iF,KAAK4H,OAAOmN,SAAStmB,KAAO,SAG5B,IAFA,IAAI+2F,EAAOxlF,KAAK6iF,SAASj0F,OAEhBm3F,EAAK,EAAG9iF,EAAI4/E,EAASj0F,OAAQm3F,EAAK9iF,EAAG8iF,IAAM,CAClD,IAAIvoF,EAAQwC,KAAKokF,iBAAiBvB,EAASkD,GAAKP,GAChDxlF,KAAKwkF,eAAehnF,GACpBwC,KAAK6kF,SAASrnF,KAGlBwoF,gBAAiB,SAAyBnD,EAAU1T,GAClDnvE,KAAK4H,OAAOmN,SAAStmB,KAAO,OAI5B,IAHA,IAAI+2F,EAAOxlF,KAAK6iF,SAASj0F,OACrBi3F,EAAQ7lF,KAAKmvE,IAAIvgF,OAEZm3F,EAAK,EAAG9iF,EAAI4/E,EAASj0F,OAAQm3F,EAAK9iF,EAAG8iF,IAC5C/lF,KAAKykF,cAAczkF,KAAKokF,iBAAiBvB,EAASkD,GAAKP,IAGzD,IAAK,IAAIS,EAAM,EAAG3pB,EAAK6S,EAAIvgF,OAAQq3F,EAAM3pB,EAAI2pB,IAC3CjmF,KAAKglF,UAAUhlF,KAAKskF,aAAanV,EAAI8W,GAAMJ,MAKjD,OADA//E,EAAMk9E,YAAY,IAAI,GACfl9E,EAoVP,MAhVF,0BCrSA,SAAS,GAAaa,GAAW,IAAIC,EAErC,WAAuC,GAAuB,oBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQrZ,UAAU2E,QAAQG,KAAKmU,QAAQC,UAAUG,QAAS,IAAI,iBAAyB,EAAQ,MAAOpW,IAAK,OAAO,GAF9P,GAA6B,OAAO,WAAkC,IAAsCsW,EAAlCC,GAAQ,OAAgBT,GAAkB,GAAIC,EAA2B,CAAE,IAAIS,GAAY,OAAgBrH,MAAMrS,YAAawZ,EAASN,QAAQC,UAAUM,EAAOrY,UAAWsY,QAAqBF,EAASC,EAAMnH,MAAMD,KAAMjR,WAAc,OAAO,OAA2BiR,KAAMmH,IAmP1Z,MAIF,SAAS++E,KACP,IAAItD,EAAU,GACd,MAAO,CACLzwF,IAAK,SAAaxB,GAChB,OAAOiyF,EAAQjyF,IAEjBwc,IAAK,SAAaxc,EAAKiX,GACrBg7E,EAAQjyF,GAAOiX,GAEjB2nB,OAAQ,SAAgB5+B,UACfiyF,EAAQjyF,IAEjBw1F,UAAW,WACTvD,EAAU,KAWhB,IAAIwD,GAAa,CACfC,gBAAiB,kBACjBC,2BAA4B,6BAC5BC,oBAAqB,sBACrBC,wBAAyB,0BACzBC,kBAAmB,oBACnBC,sCAAuC,sCACvCC,uBAAwB,yBACxBC,2BAA4B,6BAC5BC,oBAAqB,sBACrBC,qBAAsB,uBACtBC,mBAAoB,qBACpBC,sBAAuB,wBACvBC,sBAAuB,wBACvBC,iBAAkB,mBAClBC,wBAAyB,2BAQvBC,GAAmC,WACrC,SAASA,EAAoBC,IAC3B,OAAgBrnF,KAAMonF,GAEtBpnF,KAAKqnF,OAASA,EACdrnF,KAAKrR,KAAOy3F,GAAWG,oBAEvBvmF,KAAKu5B,MAAQ,CACXgK,KAAM,GACN+jD,KAAM,IAyFV,OArFA,OAAaF,EAAqB,CAAC,CACjCz2F,IAAK,YACLuB,MAAO,WAIL,IAHA,IAAIm1F,EAASrnF,KAAKqnF,OACdE,EAAWvnF,KAAKqnF,OAAOn3D,KAAKs3D,OAAS,GAEhCC,EAAY,EAAGC,EAAaH,EAAS34F,OAAQ64F,EAAYC,EAAYD,IAAa,CACzF,IAAIE,EAAUJ,EAASE,GAEnBE,EAAQ5sE,YAAc4sE,EAAQ5sE,WAAW/a,KAAKrR,YAAiD4H,IAAxCoxF,EAAQ5sE,WAAW/a,KAAKrR,MAAMm5C,OACvFu/C,EAAOO,YAAY5nF,KAAKu5B,MAAOouD,EAAQ5sE,WAAW/a,KAAKrR,MAAMm5C,UAIlE,CACDn3C,IAAK,aACLuB,MAAO,SAAoB21F,GACzB,IAAIR,EAASrnF,KAAKqnF,OACd7mD,EAAW,SAAWqnD,EACtBC,EAAaT,EAAO9tD,MAAMpnC,IAAIquC,GAClC,GAAIsnD,EAAY,OAAOA,EACvB,IAIIC,EAJA73D,EAAOm3D,EAAOn3D,KAGd83D,IAFa93D,EAAKnV,YAAcmV,EAAKnV,WAAW/a,KAAKrR,OAAS,IACvCs5F,QAAU,IACZJ,GAErB1yE,EAAQ,IAAI,MAAM,eACC5e,IAAnByxF,EAAS7yE,OAAqBA,EAAMwuD,UAAUqkB,EAAS7yE,OAC3D,IAAIwnC,OAA2BpmD,IAAnByxF,EAASrrC,MAAsBqrC,EAASrrC,MAAQ,EAE5D,OAAQqrC,EAASv5F,MACf,IAAK,eACHs5F,EAAY,IAAI,MAAiB5yE,IACvB7f,OAAOsV,SAASzI,IAAI,EAAG,GAAI,GACrC4lF,EAAU56E,IAAI46E,EAAUzyF,QACxB,MAEF,IAAK,SACHyyF,EAAY,IAAI,MAAW5yE,IACjBxF,SAAWgtC,EACrB,MAEF,IAAK,QACHorC,EAAY,IAAI,MAAU5yE,IAChBxF,SAAWgtC,EAErBqrC,EAASE,KAAOF,EAASE,MAAQ,GACjCF,EAASE,KAAKC,oBAAkD5xF,IAAjCyxF,EAASE,KAAKC,eAA+BH,EAASE,KAAKC,eAAiB,EAC3GH,EAASE,KAAKE,oBAAkD7xF,IAAjCyxF,EAASE,KAAKE,eAA+BJ,EAASE,KAAKE,eAAiBp/E,KAAKC,GAAK,EACrH8+E,EAAUv4E,MAAQw4E,EAASE,KAAKE,eAChCL,EAAUjd,SAAW,EAAMkd,EAASE,KAAKC,eAAiBH,EAASE,KAAKE,eACxEL,EAAUzyF,OAAOsV,SAASzI,IAAI,EAAG,GAAI,GACrC4lF,EAAU56E,IAAI46E,EAAUzyF,QACxB,MAEF,QACE,MAAM,IAAIuL,MAAM,4CAA8CmnF,EAASv5F,MAW3E,OANAs5F,EAAUn9E,SAASzI,IAAI,EAAG,EAAG,GAC7B4lF,EAAUM,MAAQ,OACS9xF,IAAvByxF,EAASxd,YAAyBud,EAAUvd,UAAYwd,EAASxd,WACrEud,EAAUp5F,KAAO04F,EAAOiB,iBAAiBN,EAASr5F,MAAQ,SAAWk5F,GACrEC,EAAaS,QAAQC,QAAQT,GAC7BV,EAAO9tD,MAAMpsB,IAAIqzB,EAAUsnD,GACpBA,IAER,CACDn3F,IAAK,uBACLuB,MAAO,SAA8Bu1F,GACnC,IAAIvxF,EAAO8J,KACPqnF,EAASrnF,KAAKqnF,OAEdM,EADON,EAAOn3D,KACCs3D,MAAMC,GAErBI,GADWF,EAAQ5sE,YAAc4sE,EAAQ5sE,WAAW/a,KAAKrR,OAAS,IAC5Cm5C,MAC1B,YAAmBvxC,IAAfsxF,EAAiC,KAC9B7nF,KAAKyoF,WAAWZ,GAAYa,MAAK,SAAU5gD,GAChD,OAAOu/C,EAAOsB,YAAYzyF,EAAKqjC,MAAOsuD,EAAY//C,UAKjDs/C,EAlG8B,GA2GnCwB,GAA2C,WAC7C,SAASA,KACP,OAAgB5oF,KAAM4oF,GAEtB5oF,KAAKrR,KAAOy3F,GAAWS,oBAgCzB,OA7BA,OAAa+B,EAA6B,CAAC,CACzCj4F,IAAK,kBACLuB,MAAO,WACL,OAAO,QAER,CACDvB,IAAK,eACLuB,MAAO,SAAsB22F,EAAgBC,EAAazB,GACxD,IAAI0B,EAAU,GACdF,EAAe1zE,MAAQ,IAAI,MAAM,EAAK,EAAK,GAC3C0zE,EAAe3uE,QAAU,EACzB,IAAI8uE,EAAoBF,EAAYG,qBAEpC,GAAID,EAAmB,CACrB,GAAIr3F,MAAMC,QAAQo3F,EAAkBE,iBAAkB,CACpD,IAAI5vE,EAAQ0vE,EAAkBE,gBAC9BL,EAAe1zE,MAAMwuD,UAAUrqD,GAC/BuvE,EAAe3uE,QAAUZ,EAAM,QAGU/iB,IAAvCyyF,EAAkBG,kBACpBJ,EAAQxwF,KAAK8uF,EAAO+B,cAAcP,EAAgB,MAAOG,EAAkBG,mBAI/E,OAAOZ,QAAQc,IAAIN,OAIhBH,EApCsC,GA6C3CU,GAA+C,WACjD,SAASA,EAAgCjC,IACvC,OAAgBrnF,KAAMspF,GAEtBtpF,KAAKqnF,OAASA,EACdrnF,KAAKrR,KAAOy3F,GAAWI,wBAsDzB,OAnDA,OAAa8C,EAAiC,CAAC,CAC7C34F,IAAK,kBACLuB,MAAO,SAAyBq9E,GAC9B,IACIuZ,EADS9oF,KAAKqnF,OACOn3D,KAAKyvC,UAAU4P,GACxC,OAAKuZ,EAAY/tE,YAAe+tE,EAAY/tE,WAAW/a,KAAKrR,MACrD,MADmE,OAG3E,CACDgC,IAAK,uBACLuB,MAAO,SAA8Bq9E,EAAesZ,GAClD,IAAIxB,EAASrnF,KAAKqnF,OACdyB,EAAczB,EAAOn3D,KAAKyvC,UAAU4P,GAExC,IAAKuZ,EAAY/tE,aAAe+tE,EAAY/tE,WAAW/a,KAAKrR,MAC1D,OAAO45F,QAAQC,UAGjB,IAAIO,EAAU,GACVpnB,EAAYmnB,EAAY/tE,WAAW/a,KAAKrR,MAkB5C,QAhBkC4H,IAA9BorE,EAAU4nB,kBACZV,EAAeW,UAAY7nB,EAAU4nB,sBAGJhzF,IAA/BorE,EAAU8nB,kBACZV,EAAQxwF,KAAK8uF,EAAO+B,cAAcP,EAAgB,eAAgBlnB,EAAU8nB,wBAGnClzF,IAAvCorE,EAAU+nB,2BACZb,EAAec,mBAAqBhoB,EAAU+nB,+BAGJnzF,IAAxCorE,EAAUioB,2BACZb,EAAQxwF,KAAK8uF,EAAO+B,cAAcP,EAAgB,wBAAyBlnB,EAAUioB,iCAG9CrzF,IAArCorE,EAAUkoB,yBACZd,EAAQxwF,KAAK8uF,EAAO+B,cAAcP,EAAgB,qBAAsBlnB,EAAUkoB,8BAEnCtzF,IAA3CorE,EAAUkoB,uBAAuB78E,OAAqB,CACxD,IAAIA,EAAQ20D,EAAUkoB,uBAAuB78E,MAE7C67E,EAAeiB,qBAAuB,IAAI,MAAQ98E,GAAQA,GAI9D,OAAOu7E,QAAQc,IAAIN,OAIhBO,EA3D0C,GAqE/CS,GAAkD,WACpD,SAASA,EAAmC1C,IAC1C,OAAgBrnF,KAAM+pF,GAEtB/pF,KAAKqnF,OAASA,EACdrnF,KAAKrR,KAAOy3F,GAAWQ,2BAoCzB,OAjCA,OAAamD,EAAoC,CAAC,CAChDp5F,IAAK,kBACLuB,MAAO,SAAyBq9E,GAC9B,IACIuZ,EADS9oF,KAAKqnF,OACOn3D,KAAKyvC,UAAU4P,GACxC,OAAKuZ,EAAY/tE,YAAe+tE,EAAY/tE,WAAW/a,KAAKrR,MACrD,MADmE,OAG3E,CACDgC,IAAK,uBACLuB,MAAO,SAA8Bq9E,EAAesZ,GAClD,IAAIxB,EAASrnF,KAAKqnF,OACdyB,EAAczB,EAAOn3D,KAAKyvC,UAAU4P,GAExC,IAAKuZ,EAAY/tE,aAAe+tE,EAAY/tE,WAAW/a,KAAKrR,MAC1D,OAAO45F,QAAQC,UAGjB,IAAIO,EAAU,GACVpnB,EAAYmnB,EAAY/tE,WAAW/a,KAAKrR,MAU5C,YARqC4H,IAAjCorE,EAAUqoB,qBACZnB,EAAeoB,aAAetoB,EAAUqoB,yBAGJzzF,IAAlCorE,EAAUuoB,qBACZnB,EAAQxwF,KAAK8uF,EAAO+B,cAAcP,EAAgB,kBAAmBlnB,EAAUuoB,sBAG1E3B,QAAQc,IAAIN,OAIhBgB,EAzC6C,GAkDlDI,GAA4C,WAC9C,SAASA,EAA6B9C,IACpC,OAAgBrnF,KAAMmqF,GAEtBnqF,KAAKqnF,OAASA,EACdrnF,KAAKrR,KAAOy3F,GAAWU,qBAoCzB,OAjCA,OAAaqD,EAA8B,CAAC,CAC1Cx5F,IAAK,kBACLuB,MAAO,SAAyBq9E,GAC9B,IACIuZ,EADS9oF,KAAKqnF,OACOn3D,KAAKyvC,UAAU4P,GACxC,OAAKuZ,EAAY/tE,YAAe+tE,EAAY/tE,WAAW/a,KAAKrR,MACrD,MADmE,OAG3E,CACDgC,IAAK,uBACLuB,MAAO,SAA8Bq9E,EAAesZ,GAClD,IAAIxB,EAASrnF,KAAKqnF,OACdyB,EAAczB,EAAOn3D,KAAKyvC,UAAU4P,GAExC,IAAKuZ,EAAY/tE,aAAe+tE,EAAY/tE,WAAW/a,KAAKrR,MAC1D,OAAO45F,QAAQC,UAGjB,IAAIO,EAAU,GACVpnB,EAAYmnB,EAAY/tE,WAAW/a,KAAKrR,MAC5Ck6F,EAAeuB,eAA0C7zF,IAA9BorE,EAAU0oB,gBAAgC1oB,EAAU0oB,gBAAkB,OAE9D9zF,IAA/BorE,EAAU2oB,kBACZvB,EAAQxwF,KAAK8uF,EAAO+B,cAAcP,EAAgB,eAAgBlnB,EAAU2oB,mBAG9EzB,EAAe0B,oBAAsB5oB,EAAU4oB,qBAAuB,EACtE,IAAIC,EAAa7oB,EAAU8oB,kBAAoB,CAAC,EAAG,EAAG,GAEtD,OADA5B,EAAe6B,gBAAkB,IAAI,MAAMF,EAAW,GAAIA,EAAW,GAAIA,EAAW,IAC7EjC,QAAQc,IAAIN,OAIhBoB,EAzCuC,GAkD5CQ,GAAyC,WAC3C,SAASA,EAA0BtD,IACjC,OAAgBrnF,KAAM2qF,GAEtB3qF,KAAKqnF,OAASA,EACdrnF,KAAKrR,KAAOy3F,GAAWK,kBA2BzB,OAxBA,OAAakE,EAA2B,CAAC,CACvCh6F,IAAK,kBACLuB,MAAO,SAAyBq9E,GAC9B,IACIuZ,EADS9oF,KAAKqnF,OACOn3D,KAAKyvC,UAAU4P,GACxC,OAAKuZ,EAAY/tE,YAAe+tE,EAAY/tE,WAAW/a,KAAKrR,MACrD,MADmE,OAG3E,CACDgC,IAAK,uBACLuB,MAAO,SAA8Bq9E,EAAesZ,GAClD,IACIC,EADS9oF,KAAKqnF,OACOn3D,KAAKyvC,UAAU4P,GAExC,IAAKuZ,EAAY/tE,aAAe+tE,EAAY/tE,WAAW/a,KAAKrR,MAC1D,OAAO45F,QAAQC,UAGjB,IAAI7mB,EAAYmnB,EAAY/tE,WAAW/a,KAAKrR,MAE5C,OADAk6F,EAAe+B,SAAwBr0F,IAAlBorE,EAAUipB,IAAoBjpB,EAAUipB,IAAM,IAC5DrC,QAAQC,cAIZmC,EAhCoC,GAyCzCE,GAA8C,WAChD,SAASA,EAA+BxD,IACtC,OAAgBrnF,KAAM6qF,GAEtB7qF,KAAKqnF,OAASA,EACdrnF,KAAKrR,KAAOy3F,GAAWO,uBA0CzB,OAvCA,OAAakE,EAAgC,CAAC,CAC5Cl6F,IAAK,kBACLuB,MAAO,SAAyBq9E,GAC9B,IACIuZ,EADS9oF,KAAKqnF,OACOn3D,KAAKyvC,UAAU4P,GACxC,OAAKuZ,EAAY/tE,YAAe+tE,EAAY/tE,WAAW/a,KAAKrR,MACrD,MADmE,OAG3E,CACDgC,IAAK,uBACLuB,MAAO,SAA8Bq9E,EAAesZ,GAClD,IAAIxB,EAASrnF,KAAKqnF,OACdyB,EAAczB,EAAOn3D,KAAKyvC,UAAU4P,GAExC,IAAKuZ,EAAY/tE,aAAe+tE,EAAY/tE,WAAW/a,KAAKrR,MAC1D,OAAO45F,QAAQC,UAGjB,IAAIO,EAAU,GACVpnB,EAAYmnB,EAAY/tE,WAAW/a,KAAKrR,MAC5Ck6F,EAAeiC,uBAAiDv0F,IAA7BorE,EAAUopB,eAA+BppB,EAAUopB,eAAiB,OAErEx0F,IAA9BorE,EAAUqpB,iBACZjC,EAAQxwF,KAAK8uF,EAAO+B,cAAcP,EAAgB,uBAAwBlnB,EAAUqpB,kBAGtF,IAAIR,EAAa7oB,EAAUspB,qBAAuB,CAAC,EAAG,EAAG,GASzD,OARApC,EAAeqC,aAAe,IAAI,MAAMV,EAAW,GAAIA,EAAW,GAAIA,EAAW,SAE1Cj0F,IAAnCorE,EAAUwpB,sBACZpC,EAAQxwF,KAAK8uF,EAAO+B,cAAcP,EAAgB,kBAAmBlnB,EAAUwpB,sBAAsBzC,MAAK,SAAU1mB,GAClHA,EAAQ+C,SAAW,UAIhBwjB,QAAQc,IAAIN,OAIhB8B,EA/CyC,GAwD9CO,GAA0C,WAC5C,SAASA,EAA2B/D,IAClC,OAAgBrnF,KAAMorF,GAEtBprF,KAAKqnF,OAASA,EACdrnF,KAAKrR,KAAOy3F,GAAWW,mBA+BzB,OA5BA,OAAaqE,EAA4B,CAAC,CACxCz6F,IAAK,cACLuB,MAAO,SAAqBm5F,GAC1B,IAAIhE,EAASrnF,KAAKqnF,OACdn3D,EAAOm3D,EAAOn3D,KACdo7D,EAAap7D,EAAKuvC,SAAS4rB,GAE/B,IAAKC,EAAWvwE,aAAeuwE,EAAWvwE,WAAW/a,KAAKrR,MACxD,OAAO,KAGT,IAAIgzE,EAAY2pB,EAAWvwE,WAAW/a,KAAKrR,MACvC0D,EAAS69B,EAAKqvC,OAAOoC,EAAUtvE,QAC/BwrE,EAASwpB,EAAOlpE,QAAQotE,WAE5B,IAAK1tB,EAAQ,CACX,GAAI3tC,EAAKs7D,oBAAsBt7D,EAAKs7D,mBAAmBx1F,QAAQgK,KAAKrR,OAAS,EAC3E,MAAM,IAAIkS,MAAM,+EAGhB,OAAO,KAIX,OAAOwmF,EAAOoE,iBAAiBJ,EAAch5F,EAAQwrE,OAIlDutB,EApCqC,GA6C1CM,GAAwC,WAC1C,SAASA,EAAyBrE,IAChC,OAAgBrnF,KAAM0rF,GAEtB1rF,KAAKqnF,OAASA,EACdrnF,KAAKrR,KAAOy3F,GAAWc,iBACvBlnF,KAAK2rF,YAAc,KAuDrB,OApDA,OAAaD,EAA0B,CAAC,CACtC/6F,IAAK,cACLuB,MAAO,SAAqBm5F,GAC1B,IAAI18F,EAAOqR,KAAKrR,KACZ04F,EAASrnF,KAAKqnF,OACdn3D,EAAOm3D,EAAOn3D,KACdo7D,EAAap7D,EAAKuvC,SAAS4rB,GAE/B,IAAKC,EAAWvwE,aAAeuwE,EAAWvwE,WAAWpsB,GACnD,OAAO,KAGT,IAAIgzE,EAAY2pB,EAAWvwE,WAAWpsB,GAClC0D,EAAS69B,EAAKqvC,OAAOoC,EAAUtvE,QAC/BwrE,EAASwpB,EAAOpoB,cAEpB,GAAI5sE,EAAOu5F,IAAK,CACd,IAAItlE,EAAU+gE,EAAOlpE,QAAQq/C,QAAQoE,WAAWvvE,EAAOu5F,KACvC,OAAZtlE,IAAkBu3C,EAASv3C,GAGjC,OAAOtmB,KAAK6rF,gBAAgBnD,MAAK,SAAUiD,GACzC,GAAIA,EAAa,OAAOtE,EAAOoE,iBAAiBJ,EAAch5F,EAAQwrE,GAEtE,GAAI3tC,EAAKs7D,oBAAsBt7D,EAAKs7D,mBAAmBx1F,QAAQrH,IAAS,EACtE,MAAM,IAAIkS,MAAM,6DAIlB,OAAOwmF,EAAOllB,YAAYkpB,QAG7B,CACD16F,IAAK,gBACLuB,MAAO,WAcL,OAbK8N,KAAK2rF,cACR3rF,KAAK2rF,YAAc,IAAIpD,SAAQ,SAAUC,GACvC,IAAIjnB,EAAQ,IAAIuqB,MAGhBvqB,EAAMn8C,IAAM,kFAEZm8C,EAAMwqB,OAASxqB,EAAM7T,QAAU,WAC7B86B,EAAyB,IAAjBjnB,EAAM3qD,aAKb5W,KAAK2rF,gBAITD,EA7DmC,GAsExCM,GAAsC,WACxC,SAASA,EAAuB3E,IAC9B,OAAgBrnF,KAAMgsF,GAEtBhsF,KAAKrR,KAAOy3F,GAAWe,wBACvBnnF,KAAKqnF,OAASA,EAuChB,OApCA,OAAa2E,EAAwB,CAAC,CACpCr7F,IAAK,iBACLuB,MAAO,SAAwBsL,GAC7B,IAAI0yB,EAAOlwB,KAAKqnF,OAAOn3D,KACnB+7D,EAAa/7D,EAAKg8D,YAAY1uF,GAElC,GAAIyuF,EAAWlxE,YAAckxE,EAAWlxE,WAAW/a,KAAKrR,MAAO,CAC7D,IAAIw9F,EAAeF,EAAWlxE,WAAW/a,KAAKrR,MAC1Cm/D,EAAS9tD,KAAKqnF,OAAO+E,cAAc,SAAUD,EAAar+B,QAC1DuK,EAAUr4D,KAAKqnF,OAAOlpE,QAAQkuE,eAElC,IAAKh0B,IAAYA,EAAQi0B,UAAW,CAClC,GAAIp8D,EAAKs7D,oBAAsBt7D,EAAKs7D,mBAAmBx1F,QAAQgK,KAAKrR,OAAS,EAC3E,MAAM,IAAIkS,MAAM,sFAGhB,OAAO,KAIX,OAAO0nF,QAAQc,IAAI,CAACv7B,EAAQuK,EAAQk0B,QAAQ7D,MAAK,SAAU8D,GACzD,IAAIC,EAAaN,EAAaM,YAAc,EACxChuB,EAAa0tB,EAAa1tB,YAAc,EACxChpD,EAAQ02E,EAAa12E,MACrBi3E,EAASP,EAAaQ,WACtBxlF,EAAS,IAAI9V,YAAYokB,EAAQi3E,GACjCr6F,EAAS,IAAIqwD,WAAW8pC,EAAI,GAAIC,EAAYhuB,GAEhD,OADApG,EAAQu0B,iBAAiB,IAAIlqC,WAAWv7C,GAASsO,EAAOi3E,EAAQr6F,EAAQ85F,EAAajpE,KAAMipE,EAAa/0F,QACjG+P,KAGT,OAAO,SAKN6kF,EA5CiC,GAiDtCa,GAAgC,OAEhCC,GACI,WADJA,GAEG,QAGHC,GAAsB,SAASA,EAAoBlsE,IACrD,OAAgB7gB,KAAM+sF,GAEtB/sF,KAAKrR,KAAOy3F,GAAWC,gBACvBrmF,KAAKvB,QAAU,KACfuB,KAAKgtF,KAAO,KACZ,IAAIC,EAAa,IAAIlO,SAASl+D,EAAM,EAZD,IAmBnC,GANA7gB,KAAKu1D,OAAS,CACZ23B,MAAO,iBAAuB,IAAIxqC,WAAW7hC,EAAKhkB,MAAM,EAAG,KAC3D2gB,QAASyvE,EAAWlQ,UAAU,GAAG,GACjCnuF,OAAQq+F,EAAWlQ,UAAU,GAAG,IAG9B/8E,KAAKu1D,OAAO23B,QAAUL,GACxB,MAAM,IAAIhsF,MAAM,qDACX,GAAIb,KAAKu1D,OAAO/3C,QAAU,EAC/B,MAAM,IAAI3c,MAAM,kDAOlB,IAJA,IAAIssF,EAAsBntF,KAAKu1D,OAAO3mE,OAzBH,GA0B/Bw+F,EAAY,IAAIrO,SAASl+D,EA1BM,IA2B/BwsE,EAAa,EAEVA,EAAaF,GAAqB,CACvC,IAAIG,EAAcF,EAAUrQ,UAAUsQ,GAAY,GAClDA,GAAc,EACd,IAAIE,EAAYH,EAAUrQ,UAAUsQ,GAAY,GAGhD,GAFAA,GAAc,EAEVE,IAAcT,GAAmC,CACnD,IAAIU,EAAe,IAAI9qC,WAAW7hC,EApCH,GAoC0CwsE,EAAYC,GACrFttF,KAAKvB,QAAU,iBAAuB+uF,QACjC,GAAID,IAAcT,GAAkC,CACzD,IAAIL,EAvC2B,GAuCmBY,EAClDrtF,KAAKgtF,KAAOnsE,EAAKhkB,MAAM4vF,EAAYA,EAAaa,GAIlDD,GAAcC,EAGhB,GAAqB,OAAjBttF,KAAKvB,QACP,MAAM,IAAIoC,MAAM,8CAUhB4sF,GAAiD,WACnD,SAASA,EAAkCv9D,EAAMw9D,GAG/C,IAFA,OAAgB1tF,KAAMytF,IAEjBC,EACH,MAAM,IAAI7sF,MAAM,uDAGlBb,KAAKrR,KAAOy3F,GAAWE,2BACvBtmF,KAAKkwB,KAAOA,EACZlwB,KAAK0tF,YAAcA,EACnB1tF,KAAK0tF,YAAYC,UA8CnB,OA3CA,OAAaF,EAAmC,CAAC,CAC/C98F,IAAK,kBACLuB,MAAO,SAAyB07F,EAAWvG,GACzC,IAAIn3D,EAAOlwB,KAAKkwB,KACZw9D,EAAc1tF,KAAK0tF,YACnBG,EAAkBD,EAAU7yE,WAAW/a,KAAKrR,MAAMs9F,WAClD6B,EAAmBF,EAAU7yE,WAAW/a,KAAKrR,MAAM4M,WACnDwyF,EAAoB,GACpBC,EAAyB,GACzBC,EAAmB,GAEvB,IAAK,IAAIC,KAAiBJ,EAAkB,CAC1C,IAAIK,EAAqBC,GAAWF,IAAkBA,EAAcr2F,cACpEk2F,EAAkBI,GAAsBL,EAAiBI,GAG3D,IAAK,IAAIG,KAAkBT,EAAUryF,WAAY,CAC/C,IAAI+yF,EAAsBF,GAAWC,IAAmBA,EAAex2F,cAEvE,QAAyCtB,IAArCu3F,EAAiBO,GAA+B,CAClD,IAAIE,EAAcr+D,EAAKs+D,UAAUZ,EAAUryF,WAAW8yF,IAClDI,EAAgBC,GAAsBH,EAAYE,eACtDR,EAAiBK,GAAuBG,EACxCT,EAAuBM,IAAkD,IAA3BC,EAAYI,YAI9D,OAAOtH,EAAO+E,cAAc,aAAcyB,GAAiBnF,MAAK,SAAUuD,GACxE,OAAO,IAAI1D,SAAQ,SAAUC,GAC3BkF,EAAYkB,gBAAgB3C,GAAY,SAAUl3E,GAChD,IAAK,IAAI85E,KAAmB95E,EAASxZ,WAAY,CAC/C,IAAIU,EAAY8Y,EAASxZ,WAAWszF,GAChCF,EAAaX,EAAuBa,QACrBt4F,IAAfo4F,IAA0B1yF,EAAU0yF,WAAaA,GAGvDnG,EAAQzzE,KACPg5E,EAAmBE,aAMvBR,EAzD4C,GAkEjDqB,GAA6C,WAC/C,SAASA,KACP,OAAgB9uF,KAAM8uF,GAEtB9uF,KAAKrR,KAAOy3F,GAAWY,sBAkCzB,OA/BA,OAAa8H,EAA+B,CAAC,CAC3Cn+F,IAAK,gBACLuB,MAAO,SAAuB8vE,EAAS3jC,GAKrC,YAJ2B9nC,IAAvB8nC,EAAU0wD,UACZh8F,QAAQC,KAAK,wCAA0CgN,KAAKrR,KAAO,uCAG5C4H,IAArB8nC,EAAUt2B,aAA+CxR,IAAvB8nC,EAAU0tC,eAA8Cx1E,IAApB8nC,EAAUrxB,QAKpFg1D,EAAUA,EAAQt3D,aAEOnU,IAArB8nC,EAAUt2B,QACZi6D,EAAQj6D,OAAO47D,UAAUtlC,EAAUt2B,aAGVxR,IAAvB8nC,EAAU0tC,WACZ/J,EAAQ+J,SAAW1tC,EAAU0tC,eAGPx1E,IAApB8nC,EAAUrxB,OACZg1D,EAAQc,OAAOa,UAAUtlC,EAAUrxB,OAGrCg1D,EAAQpuD,aAAc,GAjBbouD,MAsBN8sB,EAtCwC,GAqD7CE,GAA0C,SAAUC,IACtD,OAAUD,EAA4BC,GAEtC,IAAIC,EAAU,GAAaF,GAE3B,SAASA,EAA2B/4E,GAClC,IAAInU,GAEJ,OAAgB9B,KAAMgvF,IAEtBltF,EAASotF,EAAQx8F,KAAKsN,OACfmvF,kCAAmC,EAE1C,IAAIC,EAA+B,CAAC,yBAA0B,mCAAmC,UAAUr4F,KAAK,MAC5Gs4F,EAAiC,CAAC,2BAA4B,qCAAqC,UAAUt4F,KAAK,MAClHu4F,EAA2B,CAAC,kCAAmC,yBAA0B,wDAAwD,mDAAmD,oFAAoF,yCAAyC,UAAUv4F,KAAK,MAChVw4F,EAA6B,CAAC,uCAAwC,2BAA4B,4DAA4D,kFAAkF,2CAA2C,UAAUx4F,KAAK,MAC1Sy4F,EAA6B,CAAC,6BAA8B,0HAA2H,kFAAmF,+DAAgE,8HAA+H,mDAAoD,uEAAwE,4CAA4Cz4F,KAAK,MACtnBojB,EAAW,CACbuqD,SAAU,CACRxyE,OAAO,IAAI,OAAQu9F,OAAO,WAE5BC,WAAY,CACVx9F,MAAO,GAETmzE,YAAa,CACXnzE,MAAO,MAETy9F,cAAe,CACbz9F,MAAO,OAoEX,OAjEA4P,EAAO8tF,eAAiBz1E,EAExBrY,EAAO+tF,gBAAkB,SAAUC,GACjC,IAAK,IAAIC,KAAe51E,EACtB21E,EAAO31E,SAAS41E,GAAe51E,EAAS41E,GAG1CD,EAAOz1E,eAAiBy1E,EAAOz1E,eAAe5jB,QAAQ,2BAA4B,0BAA0BA,QAAQ,2BAA4B,6BAA6BA,QAAQ,wCAAyC24F,GAA8B34F,QAAQ,wCAAyC44F,GAAgC54F,QAAQ,mCAAoC64F,GAA0B74F,QAAQ,mCAAoC84F,GAA4B94F,QAAQ,sCAAuC+4F,IAG5gB7/F,OAAO0F,kBAAiB,QAAuByM,GAAS,CACtD4iE,SAAU,CACRvyE,IAAK,WACH,OAAOgoB,EAASuqD,SAASxyE,OAE3BiQ,IAAK,SAAaqB,GAChB2W,EAASuqD,SAASxyE,MAAQsR,IAG9B6hE,YAAa,CACXlzE,IAAK,WACH,OAAOgoB,EAASkrD,YAAYnzE,OAE9BiQ,IAAK,SAAaqB,GAChB2W,EAASkrD,YAAYnzE,MAAQsR,EAEzBA,EACFxD,KAAK2a,QAAQq1E,gBAAkB,UAExBhwF,KAAK2a,QAAQq1E,kBAI1BN,WAAY,CACVv9F,IAAK,WACH,OAAOgoB,EAASu1E,WAAWx9F,OAE7BiQ,IAAK,SAAaqB,GAChB2W,EAASu1E,WAAWx9F,MAAQsR,IAGhCmsF,cAAe,CACbx9F,IAAK,WACH,OAAOgoB,EAASw1E,cAAcz9F,OAEhCiQ,IAAK,SAAaqB,GAChB2W,EAASw1E,cAAcz9F,MAAQsR,EAE3BA,GACFxD,KAAK2a,QAAQs1E,kBAAoB,GACjCjwF,KAAK2a,QAAQu1E,OAAS,YAEflwF,KAAK2a,QAAQs1E,yBACbjwF,KAAK2a,QAAQu1E,mBAKrBpuF,EAAOquF,iBACPruF,EAAOsuF,iBACPtuF,EAAOuuF,oBACPvuF,EAAOwuF,aAEdxuF,EAAOmZ,UAAUhF,GAEVnU,EAoBT,OAjBA,OAAaktF,EAA4B,CAAC,CACxCr+F,IAAK,OACLuB,MAAO,SAAcG,GAWnB,OAVA,SAAK,OAAgB28F,EAA2BphG,WAAY,OAAQoS,MAAMtN,KAAKsN,KAAM3N,GAErF2N,KAAKqlE,YAAchzE,EAAOgzE,YAC1BrlE,KAAK0kE,SAAS94D,KAAKvZ,EAAOqyE,UAC1B1kE,KAAK2vF,cAAgBt9F,EAAOs9F,cAC5B3vF,KAAK0vF,WAAar9F,EAAOq9F,kBAClB1vF,KAAKmwF,iBACLnwF,KAAKowF,iBACLpwF,KAAKqwF,oBACLrwF,KAAKswF,aACLtwF,SAIJgvF,EArHqC,CAsH5C,OAEEuB,GAA2D,WAC7D,SAASA,KACP,OAAgBvwF,KAAMuwF,GAEtBvwF,KAAKrR,KAAOy3F,GAAWM,sCACvB1mF,KAAKwwF,yBAA2B,CAAC,QAAS,MAAO,WAAY,oBAAqB,QAAS,iBAAkB,WAAY,oBAAqB,cAAe,UAAW,YAAa,YAAa,gBAAiB,kBAAmB,oBAAqB,mBAAoB,cAAe,WAAY,gBAAiB,aAAc,WAAY,SAAU,kBAAmB,mBA4EpX,OAzEA,OAAaD,EAA6C,CAAC,CACzD5/F,IAAK,kBACLuB,MAAO,WACL,OAAO88F,KAER,CACDr+F,IAAK,eACLuB,MAAO,SAAsB22F,EAAgBC,EAAazB,GACxD,IAAIoJ,EAAwB3H,EAAY/tE,WAAW/a,KAAKrR,MACxDk6F,EAAe1zE,MAAQ,IAAI,MAAM,EAAK,EAAK,GAC3C0zE,EAAe3uE,QAAU,EACzB,IAAI6uE,EAAU,GAEd,GAAIp3F,MAAMC,QAAQ6+F,EAAsBC,eAAgB,CACtD,IAAIp3E,EAAQm3E,EAAsBC,cAClC7H,EAAe1zE,MAAMwuD,UAAUrqD,GAC/BuvE,EAAe3uE,QAAUZ,EAAM,GAejC,QAZ6C/iB,IAAzCk6F,EAAsBE,gBACxB5H,EAAQxwF,KAAK8uF,EAAO+B,cAAcP,EAAgB,MAAO4H,EAAsBE,iBAGjF9H,EAAe7kB,SAAW,IAAI,MAAM,EAAK,EAAK,GAC9C6kB,EAAe6G,gBAAwDn5F,IAA3Ck6F,EAAsBG,iBAAiCH,EAAsBG,iBAAmB,EAC5H/H,EAAenkB,SAAW,IAAI,MAAM,EAAK,EAAK,GAE1C/yE,MAAMC,QAAQ6+F,EAAsB1F,iBACtClC,EAAenkB,SAASf,UAAU8sB,EAAsB1F,qBAGFx0F,IAApDk6F,EAAsBI,0BAAyC,CACjE,IAAIC,EAAkBL,EAAsBI,0BAC5C9H,EAAQxwF,KAAK8uF,EAAO+B,cAAcP,EAAgB,gBAAiBiI,IACnE/H,EAAQxwF,KAAK8uF,EAAO+B,cAAcP,EAAgB,cAAeiI,IAGnE,OAAOvI,QAAQc,IAAIN,KAEpB,CACDp4F,IAAK,iBACLuB,MAAO,SAAwB22F,GAC7B,IAAI5zE,EAAW,IAAI+5E,GAA2BnG,GA2B9C,OA1BA5zE,EAAS87E,KAAM,EACf97E,EAASE,MAAQ0zE,EAAe1zE,MAChCF,EAAS/gB,SAA6BqC,IAAvBsyF,EAAe30F,IAAoB,KAAO20F,EAAe30F,IACxE+gB,EAAS+7E,SAAW,KACpB/7E,EAASg8E,kBAAoB,EAC7Bh8E,EAAS6vD,WAAiCvuE,IAAzBsyF,EAAe/jB,MAAsB,KAAO+jB,EAAe/jB,MAC5E7vD,EAASi8E,eAAiB,EAC1Bj8E,EAAS+uD,SAAW6kB,EAAe7kB,SACnC/uD,EAASkvD,kBAAoB,EAC7BlvD,EAASgwD,iBAA6C1uE,IAA/BsyF,EAAe5jB,YAA4B,KAAO4jB,EAAe5jB,YACxFhwD,EAAS2vD,aAAqCruE,IAA3BsyF,EAAejkB,QAAwB,KAAOikB,EAAejkB,QAChF3vD,EAASwuD,UAAY,EACrBxuD,EAASiwD,eAAyC3uE,IAA7BsyF,EAAe3jB,UAA0B,KAAO2jB,EAAe3jB,UACpFjwD,EAASk8E,cAAgB,MACrBtI,EAAeuI,cAAan8E,EAASm8E,YAAcvI,EAAeuI,aACtEn8E,EAAS+vD,gBAAkB,KAC3B/vD,EAAS6uD,kBAAoB,EAC7B7uD,EAASo8E,iBAAmB,EAC5Bp8E,EAASowD,iBAA6C9uE,IAA/BsyF,EAAexjB,YAA4B,KAAOwjB,EAAexjB,YACxFpwD,EAASyvD,SAAWmkB,EAAenkB,SACnCzvD,EAAS06E,mBAAiDp5F,IAAjCsyF,EAAe8G,cAA8B,KAAO9G,EAAe8G,cAC5F16E,EAASy6E,WAAa7G,EAAe6G,WACrCz6E,EAASqwD,SAAW,KACpBrwD,EAASkwD,YAAmC5uE,IAA1BsyF,EAAe1jB,OAAuB,KAAO0jB,EAAe1jB,OAC9ElwD,EAASq8E,gBAAkB,EAC3Br8E,EAASs8E,gBAAkB,IACpBt8E,MAIJs7E,EAjFsD,GA0F3DiB,GAAgC,SAASA,KAC3C,OAAgBxxF,KAAMwxF,GAEtBxxF,KAAKrR,KAAOy3F,GAAWa,uBAWrBwK,GAA0C,SAAUC,IACtD,OAAUD,EAA4BC,GAEtC,IAAIC,EAAU,GAAaF,GAE3B,SAASA,EAA2BG,EAAoBC,EAAcC,EAAYC,GAGhF,OAFA,OAAgB/xF,KAAMyxF,GAEfE,EAAQj/F,KAAKsN,KAAM4xF,EAAoBC,EAAcC,EAAYC,GAqB1E,OAlBA,OAAaN,EAA4B,CAAC,CACxC9gG,IAAK,mBACLuB,MAAO,SAA0BsL,GAQ/B,IALA,IAAI2J,EAASnH,KAAK+xF,aACd7tD,EAASlkC,KAAK6xF,aACdG,EAAYhyF,KAAKgyF,UACjBjqF,EAASvK,EAAQw0F,EAAY,EAAIA,EAE5BthG,EAAI,EAAGA,IAAMshG,EAAWthG,IAC/ByW,EAAOzW,GAAKwzC,EAAOn8B,EAASrX,GAG9B,OAAOyW,MAIJsqF,EA7BqC,CA8B5C,OAEFA,GAA2B7jG,UAAUqkG,aAAeR,GAA2B7jG,UAAUskG,iBACzFT,GAA2B7jG,UAAUukG,UAAYV,GAA2B7jG,UAAUskG,iBAEtFT,GAA2B7jG,UAAUwkG,aAAe,SAAU/qC,EAAIgrC,EAAI9uF,EAAG+uF,GAkBvE,IAjBA,IAAInrF,EAASnH,KAAK+xF,aACd7tD,EAASlkC,KAAK6xF,aACdnF,EAAS1sF,KAAKgyF,UACdO,EAAmB,EAAT7F,EACV8F,EAAmB,EAAT9F,EACV3/B,EAAKulC,EAAKD,EACVjvF,GAAKG,EAAI8uF,GAAMtlC,EACf0lC,EAAKrvF,EAAIA,EACTsvF,EAAMD,EAAKrvF,EACXuvF,EAAUtrC,EAAKmrC,EACfI,EAAUD,EAAUH,EACpBp4B,GAAM,EAAIs4B,EAAM,EAAID,EACpBI,EAAKH,EAAMD,EACXK,EAAK,EAAI14B,EACTD,EAAK04B,EAAKJ,EAAKrvF,EAGV1S,EAAI,EAAGA,IAAMg8F,EAAQh8F,IAAK,CACjC,IAAIqiG,EAAK7uD,EAAO0uD,EAAUliG,EAAIg8F,GAE1BsG,EAAK9uD,EAAO0uD,EAAUliG,EAAI6hG,GAAWxlC,EAErC5sB,EAAK+D,EAAOyuD,EAAUjiG,EAAIg8F,GAE1BuG,EAAK/uD,EAAOyuD,EAAUjiG,GAAKq8D,EAE/B5lD,EAAOzW,GAAKoiG,EAAKC,EAAK54B,EAAK64B,EAAK54B,EAAKj6B,EAAK0yD,EAAKI,EAGjD,OAAO9rF,GAWT,IAAI+rF,GAWM,EAXNA,GAYK,EAZLA,GAaS,EAbTA,GAcU,EAdVA,GAeS,EAfTA,GAgBc,EAhBdA,GAiBY,EAIZxE,GAAwB,CAC1B,KAAMyE,UACN,KAAMzwC,WACN,KAAM0wC,WACN,KAAMxwC,YACN,KAAME,YACN,KAAMttC,cAEJ69E,GAAgB,CAClB,KAAM,MACN,KAAM,MACN,KAAM,MACN,KAAM,MACN,KAAM,MACN,KAAM,OAEJC,GAAkB,CACpB,MAAO,MACP,MAAO,MACP,MAAO,OAELC,GAAmB,CACrB,OAAU,EACV,KAAQ,EACR,KAAQ,EACR,KAAQ,EACR,KAAQ,EACR,KAAQ,EACR,KAAQ,IAENnF,GAAa,CACfoF,SAAU,WACVC,OAAQ,SACRC,QAAS,UACTC,WAAY,KACZC,WAAY,MACZC,QAAS,QACTC,UAAW,aACXC,SAAU,aAERC,GAAkB,CACpBhnF,MAAO,QACP2+D,YAAa,WACbI,SAAU,aACVrF,QAAS,yBAEPutB,GAAgB,CAClBC,iBAAa39F,EAGb49F,OAAQ,MACRC,KAAM,OAEJC,GACM,SADNA,GAEI,OAFJA,GAGK,QAIT,SAASC,GAAWjuD,EAAKu3B,GAEvB,MAAmB,iBAARv3B,GAA4B,KAARA,EAAmB,IAE9C,gBAAgBhlB,KAAKu8C,IAAS,MAAMv8C,KAAKglB,KAC3Cu3B,EAAOA,EAAKnnE,QAAQ,0BAA2B,OAI7C,mBAAmB4qB,KAAKglB,IAExB,gBAAgBhlB,KAAKglB,IAErB,aAAahlB,KAAKglB,GAJmBA,EAMlCu3B,EAAOv3B,GAuBhB,SAASkuD,GAA+BC,EAAiB5sF,EAAQ6sF,GAE/D,IAAK,IAAI9lG,KAAQ8lG,EAAU15E,gBACKxkB,IAA1Bi+F,EAAgB7lG,KAClBiZ,EAAOugE,SAASusB,eAAiB9sF,EAAOugE,SAASusB,gBAAkB,GACnE9sF,EAAOugE,SAASusB,eAAe/lG,GAAQ8lG,EAAU15E,WAAWpsB,IAUlE,SAASgmG,GAAuB/sF,EAAQgtF,QACfr+F,IAAnBq+F,EAAQC,SACoB,iBAAnBD,EAAQC,OACjBllG,OAAOmG,OAAO8R,EAAOugE,SAAUysB,EAAQC,QAEvC9hG,QAAQC,KAAK,sDAAwD4hG,EAAQC,SA2DnF,SAASC,GAAmBr5E,EAAMs5E,GAGhC,GAFAt5E,EAAKq5E,0BAEmBv+F,IAApBw+F,EAAQruB,QACV,IAAK,IAAIh2E,EAAI,EAAGsrB,EAAK+4E,EAAQruB,QAAQ93E,OAAQ8B,EAAIsrB,EAAItrB,IACnD+qB,EAAKu5E,sBAAsBtkG,GAAKqkG,EAAQruB,QAAQh2E,GAKpD,GAAIqkG,EAAQF,QAAUljG,MAAMC,QAAQmjG,EAAQF,OAAOI,aAAc,CAC/D,IAAIA,EAAcF,EAAQF,OAAOI,YAEjC,GAAIx5E,EAAKu5E,sBAAsBpmG,SAAWqmG,EAAYrmG,OAAQ,CAC5D6sB,EAAK49D,sBAAwB,GAE7B,IAAK,IAAIhf,EAAM,EAAG66B,EAAOD,EAAYrmG,OAAQyrE,EAAM66B,EAAM76B,IACvD5+C,EAAK49D,sBAAsB4b,EAAY56B,IAAQA,OAGjDtnE,QAAQC,KAAK,yEAkBnB,SAASmiG,GAAoB55F,GAI3B,IAHA,IAAI65F,EAAgB,GAChB9kG,EAAOX,OAAOW,KAAKiL,GAAYylC,OAE1BtwC,EAAI,EAAGsrB,EAAK1rB,EAAK1B,OAAQ8B,EAAIsrB,EAAItrB,IACxC0kG,GAAiB9kG,EAAKI,GAAK,IAAM6K,EAAWjL,EAAKI,IAAM,IAGzD,OAAO0kG,EAGT,SAASC,GAA4B1nG,GAGnC,OAAQA,GACN,KAAKwlG,UACH,OAAO,EAAI,IAEb,KAAKzwC,WACH,OAAO,EAAI,IAEb,KAAK0wC,WACH,OAAO,EAAI,MAEb,KAAKxwC,YACH,OAAO,EAAI,MAEb,QACE,MAAM,IAAI/hD,MAAM,sEAMtB,IAAIy0F,GAA0B,WAC5B,SAASA,IACP,IAAIplE,EAAOnhC,UAAUH,OAAS,QAAsB2H,IAAjBxH,UAAU,GAAmBA,UAAU,GAAK,GAC3EovB,EAAUpvB,UAAUH,OAAS,QAAsB2H,IAAjBxH,UAAU,GAAmBA,UAAU,GAAK,IAElF,OAAgBiR,KAAMs1F,GAEtBt1F,KAAKkwB,KAAOA,EACZlwB,KAAK+a,WAAa,GAClB/a,KAAKstB,QAAU,GACfttB,KAAKme,QAAUA,EAEfne,KAAKu5B,MAAQ,IAAI2sD,GAEjBlmF,KAAKu1F,aAAe,IAAItkG,IAExB+O,KAAKw1F,eAAiB,GAEtBx1F,KAAKy1F,UAAY,CACflyD,KAAM,GACN+jD,KAAM,IAERtnF,KAAK01F,YAAc,CACjBnyD,KAAM,GACN+jD,KAAM,IAERtnF,KAAK21F,WAAa,CAChBpyD,KAAM,GACN+jD,KAAM,IAERtnF,KAAK41F,aAAe,GAEpB51F,KAAK61F,cAAgB,GAGY,oBAAtBC,oBAA6E,IAAxC,UAAUz0E,KAAK00E,UAAUt4E,WACvEzd,KAAKi/D,cAAgB,IAAI,MAAkBj/D,KAAKme,QAAQq/C,SAExDx9D,KAAKi/D,cAAgB,IAAI,MAAcj/D,KAAKme,QAAQq/C,SAGtDx9D,KAAKi/D,cAAcE,eAAen/D,KAAKme,QAAQihD,aAC/Cp/D,KAAKi/D,cAAcjB,iBAAiBh+D,KAAKme,QAAQ8/C,eACjDj+D,KAAKg2F,WAAa,IAAI,MAAWh2F,KAAKme,QAAQq/C,SAC9Cx9D,KAAKg2F,WAAWj4B,gBAAgB,eAEC,oBAA7B/9D,KAAKme,QAAQihD,aACfp/D,KAAKg2F,WAAW93B,oBAAmB,GAqsCvC,OAjsCA,OAAao3B,EAAY,CAAC,CACxB3kG,IAAK,gBACLuB,MAAO,SAAuB6oB,GAC5B/a,KAAK+a,WAAaA,IAEnB,CACDpqB,IAAK,aACLuB,MAAO,SAAoBo7B,GACzBttB,KAAKstB,QAAUA,IAEhB,CACD38B,IAAK,QACLuB,MAAO,SAAeurE,EAAQE,GAC5B,IAAI0pB,EAASrnF,KACTkwB,EAAOlwB,KAAKkwB,KACZnV,EAAa/a,KAAK+a,WAEtB/a,KAAKu5B,MAAM4sD,YAEXnmF,KAAKi2F,YAAW,SAAUC,GACxB,OAAOA,EAAIC,WAAaD,EAAIC,eAG9B5N,QAAQc,IAAIrpF,KAAKi2F,YAAW,SAAUC,GACpC,OAAOA,EAAIE,YAAcF,EAAIE,iBAC3B1N,MAAK,WACP,OAAOH,QAAQc,IAAI,CAAChC,EAAOgP,gBAAgB,SAAUhP,EAAOgP,gBAAgB,aAAchP,EAAOgP,gBAAgB,eAChH3N,MAAK,SAAU4N,GAChB,IAAInvF,EAAS,CACX4f,MAAOuvE,EAAa,GAAGpmE,EAAKnJ,OAAS,GACrCwvE,OAAQD,EAAa,GACrB7tB,WAAY6tB,EAAa,GACzBE,QAASF,EAAa,GACtBG,MAAOvmE,EAAKumE,MACZpP,OAAQA,EACRlf,SAAU,IAEZosB,GAA+Bx5E,EAAY5T,EAAQ+oB,GACnDykE,GAAuBxtF,EAAQ+oB,GAC/Bq4D,QAAQc,IAAIhC,EAAO4O,YAAW,SAAUC,GACtC,OAAOA,EAAIQ,WAAaR,EAAIQ,UAAUvvF,OACpCuhF,MAAK,WACPjrB,EAAOt2D,SAERwvF,MAAMh5B,KAMV,CACDhtE,IAAK,YACLuB,MAAO,WAML,IALA,IAAIq1F,EAAWvnF,KAAKkwB,KAAKs3D,OAAS,GAC9BoP,EAAW52F,KAAKkwB,KAAK2mE,OAAS,GAC9BC,EAAW92F,KAAKkwB,KAAK6mE,QAAU,GAG1BC,EAAY,EAAGC,EAAaL,EAAShoG,OAAQooG,EAAYC,EAAYD,IAG5E,IAFA,IAAIE,EAASN,EAASI,GAAWE,OAExBxmG,EAAI,EAAGsrB,EAAKk7E,EAAOtoG,OAAQ8B,EAAIsrB,EAAItrB,IAC1C62F,EAAS2P,EAAOxmG,IAAIymG,QAAS,EAMjC,IAAK,IAAI1P,EAAY,EAAGC,EAAaH,EAAS34F,OAAQ64F,EAAYC,EAAYD,IAAa,CACzF,IAAIE,EAAUJ,EAASE,QAEFlxF,IAAjBoxF,EAAQlsE,OACVzb,KAAK4nF,YAAY5nF,KAAKy1F,UAAW9N,EAAQlsE,WAKpBllB,IAAjBoxF,EAAQyP,OACVN,EAASnP,EAAQlsE,MAAM47E,eAAgB,SAIpB9gG,IAAnBoxF,EAAQ5xE,QACV/V,KAAK4nF,YAAY5nF,KAAK01F,YAAa/N,EAAQ5xE,WAchD,CACDplB,IAAK,cACLuB,MAAO,SAAqBqnC,EAAO/7B,QACnBjH,IAAViH,SAEsBjH,IAAtBgjC,EAAMgK,KAAK/lC,KACb+7B,EAAMgK,KAAK/lC,GAAS+7B,EAAM+tD,KAAK9pF,GAAS,GAG1C+7B,EAAMgK,KAAK/lC,QAIZ,CACD7M,IAAK,cACLuB,MAAO,SAAqBqnC,EAAO/7B,EAAOoK,GACxC,GAAI2xB,EAAMgK,KAAK/lC,IAAU,EAAG,OAAOoK,EACnC,IAAI8rC,EAAM9rC,EAAO8C,QAEjB,OADAgpC,EAAI/kD,MAAQ,aAAe4qC,EAAM+tD,KAAK9pF,KAC/Bk2C,IAER,CACD/iD,IAAK,aACLuB,MAAO,SAAoB+xC,GACzB,IAAIlpB,EAAaprB,OAAOu0C,OAAOlkC,KAAKstB,SACpCvS,EAAWxiB,KAAKyH,MAEhB,IAAK,IAAItP,EAAI,EAAGA,EAAIqqB,EAAWnsB,OAAQ8B,IAAK,CAC1C,IAAIyW,EAAS88B,EAAKlpB,EAAWrqB,IAC7B,GAAIyW,EAAQ,OAAOA,EAGrB,OAAO,OAER,CACDxW,IAAK,aACLuB,MAAO,SAAoB+xC,GACzB,IAAIlpB,EAAaprB,OAAOu0C,OAAOlkC,KAAKstB,SACpCvS,EAAW6Q,QAAQ5rB,MAGnB,IAFA,IAAI+oF,EAAU,GAELr4F,EAAI,EAAGA,EAAIqqB,EAAWnsB,OAAQ8B,IAAK,CAC1C,IAAIyW,EAAS88B,EAAKlpB,EAAWrqB,IACzByW,GAAQ4hF,EAAQxwF,KAAK4O,GAG3B,OAAO4hF,IASR,CACDp4F,IAAK,gBACLuB,MAAO,SAAuBzD,EAAM+O,GAClC,IAAIgjC,EAAW/xC,EAAO,IAAM+O,EACxBsqF,EAAa9nF,KAAKu5B,MAAMpnC,IAAIquC,GAEhC,IAAKsnD,EAAY,CACf,OAAQr5F,GACN,IAAK,QACHq5F,EAAa9nF,KAAKs3F,UAAU95F,GAC5B,MAEF,IAAK,OACHsqF,EAAa9nF,KAAKu3F,SAAS/5F,GAC3B,MAEF,IAAK,OACHsqF,EAAa9nF,KAAKw3F,YAAW,SAAUtB,GACrC,OAAOA,EAAIuB,UAAYvB,EAAIuB,SAASj6F,MAEtC,MAEF,IAAK,WACHsqF,EAAa9nF,KAAK03F,aAAal6F,GAC/B,MAEF,IAAK,aACHsqF,EAAa9nF,KAAKw3F,YAAW,SAAUtB,GACrC,OAAOA,EAAIyB,gBAAkBzB,EAAIyB,eAAen6F,MAElD,MAEF,IAAK,SACHsqF,EAAa9nF,KAAK43F,WAAWp6F,GAC7B,MAEF,IAAK,WACHsqF,EAAa9nF,KAAKw3F,YAAW,SAAUtB,GACrC,OAAOA,EAAI2B,cAAgB3B,EAAI2B,aAAar6F,MAE9C,MAEF,IAAK,UACHsqF,EAAa9nF,KAAKw3F,YAAW,SAAUtB,GACrC,OAAOA,EAAI/zB,aAAe+zB,EAAI/zB,YAAY3kE,MAE5C,MAEF,IAAK,OACHsqF,EAAa9nF,KAAK83F,SAASt6F,GAC3B,MAEF,IAAK,YACHsqF,EAAa9nF,KAAK+3F,cAAcv6F,GAChC,MAEF,IAAK,SACHsqF,EAAa9nF,KAAKg4F,WAAWx6F,GAC7B,MAEF,QACE,MAAM,IAAIqD,MAAM,iBAAmBpS,GAGvCuR,KAAKu5B,MAAMpsB,IAAIqzB,EAAUsnD,GAG3B,OAAOA,IAQR,CACDn3F,IAAK,kBACLuB,MAAO,SAAyBzD,GAC9B,IAAI6nG,EAAet2F,KAAKu5B,MAAMpnC,IAAI1D,GAElC,IAAK6nG,EAAc,CACjB,IAAIjP,EAASrnF,KACTi4F,EAAOj4F,KAAKkwB,KAAKzhC,GAAiB,SAATA,EAAkB,KAAO,OAAS,GAC/D6nG,EAAe/N,QAAQc,IAAI4O,EAAK/jG,KAAI,SAAUgkG,EAAK16F,GACjD,OAAO6pF,EAAO+E,cAAc39F,EAAM+O,OAEpCwC,KAAKu5B,MAAMpsB,IAAI1e,EAAM6nG,GAGvB,OAAOA,IAQR,CACD3lG,IAAK,aACLuB,MAAO,SAAoBimG,GACzB,IAAIC,EAAYp4F,KAAKkwB,KAAKs+C,QAAQ2pB,GAC9Bt6B,EAAS79D,KAAKg2F,WAElB,GAAIoC,EAAU3pG,MAA2B,gBAAnB2pG,EAAU3pG,KAC9B,MAAM,IAAIoS,MAAM,qBAAuBu3F,EAAU3pG,KAAO,kCAI1D,QAAsB8H,IAAlB6hG,EAAUxM,KAAqC,IAAhBuM,EACjC,OAAO5P,QAAQC,QAAQxoF,KAAK+a,WAAWqrE,GAAWC,iBAAiB2G,MAGrE,IAAI7uE,EAAUne,KAAKme,QACnB,OAAO,IAAIoqE,SAAQ,SAAUC,EAAS6P,GACpCx6B,EAAOO,KAAKk2B,GAAW8D,EAAUxM,IAAKztE,EAAQy/C,MAAO4qB,OAASjyF,GAAW,WACvE8hG,EAAO,IAAIx3F,MAAM,4CAA8Cu3F,EAAUxM,IAAM,eAUpF,CACDj7F,IAAK,iBACLuB,MAAO,SAAwB27F,GAC7B,IAAIyK,EAAgBt4F,KAAKkwB,KAAKg8D,YAAY2B,GAC1C,OAAO7tF,KAAKosF,cAAc,SAAUkM,EAAcxqC,QAAQ46B,MAAK,SAAU56B,GACvE,IAAI2Q,EAAa65B,EAAc75B,YAAc,EACzCguB,EAAa6L,EAAc7L,YAAc,EAC7C,OAAO3+B,EAAOjxD,MAAM4vF,EAAYA,EAAahuB,QAShD,CACD9tE,IAAK,eACLuB,MAAO,SAAsBqmG,GAC3B,IAAIlR,EAASrnF,KACTkwB,EAAOlwB,KAAKkwB,KACZq+D,EAAcvuF,KAAKkwB,KAAKs+D,UAAU+J,GAEtC,QAA+BhiG,IAA3Bg4F,EAAYtC,iBAAmD11F,IAAvBg4F,EAAYiK,OAItD,OAAOjQ,QAAQC,QAAQ,MAGzB,IAAIiQ,EAAqB,GAazB,YAX+BliG,IAA3Bg4F,EAAYtC,WACdwM,EAAmBlgG,KAAKyH,KAAKosF,cAAc,aAAcmC,EAAYtC,aAErEwM,EAAmBlgG,KAAK,WAGChC,IAAvBg4F,EAAYiK,SACdC,EAAmBlgG,KAAKyH,KAAKosF,cAAc,aAAcmC,EAAYiK,OAAO/xB,QAAQwlB,aACpFwM,EAAmBlgG,KAAKyH,KAAKosF,cAAc,aAAcmC,EAAYiK,OAAOt0D,OAAO+nD,cAG9E1D,QAAQc,IAAIoP,GAAoB/P,MAAK,SAAUwD,GACpD,IASI5yE,EAAOo/E,EATPzM,EAAaC,EAAY,GACzByM,EAAWpF,GAAiBhF,EAAY9/F,MACxCmqG,EAAalK,GAAsBH,EAAYE,eAE/CoK,EAAeD,EAAWE,kBAC1BC,EAAYF,EAAeF,EAC3BlM,EAAa8B,EAAY9B,YAAc,EACvCE,OAAwCp2F,IAA3Bg4F,EAAYtC,WAA2B/7D,EAAKg8D,YAAYqC,EAAYtC,YAAYU,gBAAap2F,EAC1Go4F,GAAwC,IAA3BJ,EAAYI,WAG7B,GAAIhC,GAAcA,IAAeoM,EAAW,CAG1C,IAAIC,EAAUhwF,KAAK+a,MAAM0oE,EAAaE,GAClCsM,EAAa,qBAAuB1K,EAAYtC,WAAa,IAAMsC,EAAYE,cAAgB,IAAMuK,EAAU,IAAMzK,EAAY94E,MACjIiwE,EAAK2B,EAAO9tD,MAAMpnC,IAAI8mG,GAErBvT,IACHpsE,EAAQ,IAAIs/E,EAAW3M,EAAY+M,EAAUrM,EAAY4B,EAAY94E,MAAQk3E,EAAakM,GAE1FnT,EAAK,IAAI,MAAkBpsE,EAAOqzE,EAAakM,GAC/CxR,EAAO9tD,MAAMpsB,IAAI8rF,EAAYvT,IAG/BgT,EAAkB,IAAI,MAA2BhT,EAAIiT,EAAUlM,EAAaE,EAAakM,EAAclK,QAGrGr1E,EADiB,OAAf2yE,EACM,IAAI2M,EAAWrK,EAAY94E,MAAQkjF,GAEnC,IAAIC,EAAW3M,EAAYQ,EAAY8B,EAAY94E,MAAQkjF,GAGrED,EAAkB,IAAI,MAAgBp/E,EAAOq/E,EAAUhK,GAIzD,QAA2Bp4F,IAAvBg4F,EAAYiK,OAAsB,CACpC,IAAIU,EAAkB3F,GAAiB4F,OACnCC,EAAoB1K,GAAsBH,EAAYiK,OAAO/xB,QAAQgoB,eACrE4K,EAAoB9K,EAAYiK,OAAO/xB,QAAQgmB,YAAc,EAC7D6M,EAAmB/K,EAAYiK,OAAOt0D,OAAOuoD,YAAc,EAC3D8M,EAAgB,IAAIH,EAAkBlN,EAAY,GAAImN,EAAmB9K,EAAYiK,OAAO/iF,MAAQyjF,GACpGM,EAAe,IAAIZ,EAAW1M,EAAY,GAAIoN,EAAkB/K,EAAYiK,OAAO/iF,MAAQkjF,GAE5E,OAAf1M,IAEFyM,EAAkB,IAAI,MAAgBA,EAAgBp/E,MAAMzc,QAAS67F,EAAgBC,SAAUD,EAAgB/J,aAGjH,IAAK,IAAIj+F,EAAI,EAAGsrB,EAAKu9E,EAAc3qG,OAAQ8B,EAAIsrB,EAAItrB,IAAK,CACtD,IAAI8M,EAAQ+7F,EAAc7oG,GAK1B,GAJAgoG,EAAgBe,KAAKj8F,EAAOg8F,EAAa9oG,EAAIioG,IACzCA,GAAY,GAAGD,EAAgBgB,KAAKl8F,EAAOg8F,EAAa9oG,EAAIioG,EAAW,IACvEA,GAAY,GAAGD,EAAgBiB,KAAKn8F,EAAOg8F,EAAa9oG,EAAIioG,EAAW,IACvEA,GAAY,GAAGD,EAAgBkB,KAAKp8F,EAAOg8F,EAAa9oG,EAAIioG,EAAW,IACvEA,GAAY,EAAG,MAAM,IAAI93F,MAAM,sEAIvC,OAAO63F,OASV,CACD/nG,IAAK,cACLuB,MAAO,SAAqBm5F,GAC1B,IAAIn7D,EAAOlwB,KAAKkwB,KACZ/R,EAAUne,KAAKme,QACfmtE,EAAap7D,EAAKuvC,SAAS4rB,GAC3Bh5F,EAAS69B,EAAKqvC,OAAO+rB,EAAWj5F,QAChCwrE,EAAS79D,KAAKi/D,cAElB,GAAI5sE,EAAOu5F,IAAK,CACd,IAAItlE,EAAUnI,EAAQq/C,QAAQoE,WAAWvvE,EAAOu5F,KAChC,OAAZtlE,IAAkBu3C,EAASv3C,GAGjC,OAAOtmB,KAAKyrF,iBAAiBJ,EAAch5F,EAAQwrE,KAEpD,CACDltE,IAAK,mBACLuB,MAAO,SAA0Bm5F,EAAch5F,EAAQwrE,GACrD,IAAIwpB,EAASrnF,KACTkwB,EAAOlwB,KAAKkwB,KACZ/R,EAAUne,KAAKme,QACfmtE,EAAap7D,EAAKuvC,SAAS4rB,GAC3B7qD,GAAYnuC,EAAOu5F,KAAOv5F,EAAO45F,YAAc,IAAMX,EAAWuO,QAEpE,GAAI75F,KAAK41F,aAAap1D,GAEpB,OAAOxgC,KAAK41F,aAAap1D,GAG3B,IAAI0hB,EAAMhsD,KAAKgsD,KAAOhsD,KAAK4jG,UACvBC,EAAY1nG,EAAOu5F,KAAO,GAC1BoO,GAAc,EACdC,GAAW,EACXC,EAASH,EAAU5jD,OAAO,kBAAoB,GAAgD,IAA3C4jD,EAAU5jD,OAAO,sBAGxE,IAFwB,eAApB9jD,EAAO8nG,UAA6BD,KAAQD,GAAW,QAEjC1jG,IAAtBlE,EAAO45F,WAET8N,EAAY1S,EAAO+E,cAAc,aAAc/5F,EAAO45F,YAAYvD,MAAK,SAAUuD,GAC/E,GAAwB,cAApB55F,EAAO8nG,SAA0B,CAOnC,IAAIC,EAAY,IAAIrb,SAASkN,EAAY,GAAI,GAAG1O,SAAS,GAAG,GAC5D0c,EAAyB,IAAdG,GAAiC,IAAdA,GAAiC,IAAdA,EAGnDJ,GAAc,EACd,IAAIK,EAAO,IAAIj4C,KAAK,CAAC6pC,GAAa,CAChCx9F,KAAM4D,EAAO8nG,WAGf,OADAJ,EAAY73C,EAAIC,gBAAgBk4C,WAG7B,QAAmB9jG,IAAflE,EAAOu5F,IAChB,MAAM,IAAI/qF,MAAM,2BAA6BwqF,EAAe,kCAG9D,IAAIiP,EAAU/R,QAAQC,QAAQuR,GAAWrR,MAAK,SAAUqR,GACtD,OAAO,IAAIxR,SAAQ,SAAUC,EAAS6P,GACpC,IAAI56B,EAAS+qB,GAEsB,IAA/B3qB,EAAO08B,sBACT98B,EAAS,SAAgB+8B,GACvB,IAAIx4B,EAAU,IAAI,MAAQw4B,GAC1Bx4B,EAAQpuD,aAAc,EACtB40E,EAAQxmB,KAIZnE,EAAOO,KAAKk2B,GAAWyF,EAAW57E,EAAQy/C,MAAOH,OAAQlnE,EAAW8hG,SAErE3P,MAAK,SAAU1mB,IAEI,IAAhBg4B,GACF93C,EAAIK,gBAAgBw3C,GAGtB/3B,EAAQy4B,OAAQ,EACZnP,EAAW38F,OAAMqzE,EAAQrzE,KAAO28F,EAAW38F,MAE1CsrG,IAAUj4B,EAAQ04B,OAAS,OAChC,IACIb,GADW3pE,EAAKyqE,UAAY,IACTrP,EAAWuO,UAAY,GAS9C,OARA73B,EAAQ44B,UAAYvH,GAAcwG,EAAQe,YAAc,MACxD54B,EAAQ64B,UAAYxH,GAAcwG,EAAQgB,YAAc,MACxD74B,EAAQW,MAAQ2wB,GAAgBuG,EAAQl3B,QAAU,MAClDX,EAAQY,MAAQ0wB,GAAgBuG,EAAQj3B,QAAU,MAClDykB,EAAOkO,aAAapzF,IAAI6/D,EAAS,CAC/BvzE,KAAM,WACN+O,MAAO6tF,IAEFrpB,KACN20B,OAAM,WAEP,OADA5jG,QAAQH,MAAM,0CAA4CmnG,GACnD,QAGT,OADA/5F,KAAK41F,aAAap1D,GAAY85D,EACvBA,IAUR,CACD3pG,IAAK,gBACLuB,MAAO,SAAuB22F,EAAgBiS,EAASC,GACrD,IAAI1T,EAASrnF,KACb,OAAOA,KAAKosF,cAAc,UAAW2O,EAAOv9F,OAAOkrF,MAAK,SAAU1mB,GAOhE,QAJwBzrE,IAApBwkG,EAAOhM,UAA6C,GAAnBgM,EAAOhM,UAA+B,UAAZ+L,GAA0C,GAAnBC,EAAOhM,UAC3Fh8F,QAAQC,KAAK,mCAAqC+nG,EAAOhM,SAAW,gBAAkB+L,EAAU,uBAG9FzT,EAAOtsE,WAAWqrE,GAAWY,uBAAwB,CACvD,IAAI3oD,OAAkC9nC,IAAtBwkG,EAAOhgF,WAA2BggF,EAAOhgF,WAAWqrE,GAAWY,4BAAyBzwF,EAExG,GAAI8nC,EAAW,CACb,IAAI28D,EAAgB3T,EAAOkO,aAAapjG,IAAI6vE,GAC5CA,EAAUqlB,EAAOtsE,WAAWqrE,GAAWY,uBAAuBiU,cAAcj5B,EAAS3jC,GACrFgpD,EAAOkO,aAAapzF,IAAI6/D,EAASg5B,IAKrC,OADAnS,EAAeiS,GAAW94B,EACnBA,OAYV,CACDrxE,IAAK,sBACLuB,MAAO,SAA6BupB,GAClC,IAAI1G,EAAW0G,EAAK1G,SAChBE,EAAWwG,EAAKxG,SAChBimF,OAAoD3kG,IAAhCwe,EAASxZ,WAAW6hE,QACxC+9B,OAAgD5kG,IAA9Bwe,EAASxZ,WAAW4Z,MACtCimF,OAAgD7kG,IAA/Bwe,EAASxZ,WAAWuzE,OAEzC,GAAIrzD,EAAK4/E,SAAU,CACjB,IAAI76D,EAAW,kBAAoBvrB,EAASqmF,KACxCC,EAAiBv7F,KAAKu5B,MAAMpnC,IAAIquC,GAE/B+6D,IACHA,EAAiB,IAAI,MACrB,0BAA6BA,EAAgBtmF,GAC7CsmF,EAAepmF,MAAMvJ,KAAKqJ,EAASE,OACnComF,EAAernG,IAAM+gB,EAAS/gB,IAC9BqnG,EAAeC,iBAAkB,EAEjCx7F,KAAKu5B,MAAMpsB,IAAIqzB,EAAU+6D,IAG3BtmF,EAAWsmF,OACN,GAAI9/E,EAAKggF,OAAQ,CACtB,IAAIC,EAAY,qBAAuBzmF,EAASqmF,KAE5CK,EAAe37F,KAAKu5B,MAAMpnC,IAAIupG,GAE7BC,IACHA,EAAe,IAAI,MACnB,0BAA6BA,EAAc1mF,GAC3C0mF,EAAaxmF,MAAMvJ,KAAKqJ,EAASE,OACjCnV,KAAKu5B,MAAMpsB,IAAIuuF,EAAWC,IAG5B1mF,EAAW0mF,EAIb,GAAIT,GAAqBC,GAAmBC,EAAgB,CAC1D,IAAIQ,EAAa,kBAAoB3mF,EAASqmF,KAAO,IAEjDrmF,EAASk6E,mCAAkCyM,GAAc,wBACzDV,IAAmBU,GAAc,oBACjCT,IAAiBS,GAAc,kBAC/BR,IAAgBQ,GAAc,iBAClC,IAAIC,EAAiB77F,KAAKu5B,MAAMpnC,IAAIypG,GAE/BC,IACHA,EAAiB5mF,EAASvK,QACtBywF,IAAiBU,EAAe3wB,cAAe,GAC/CkwB,IAAgBS,EAAeC,aAAc,GAE7CZ,IAEEW,EAAezK,cAAayK,EAAezK,YAAYztF,IAAM,GAC7Dk4F,EAAe/R,uBAAsB+R,EAAe/R,qBAAqBnmF,IAAM,IAGrF3D,KAAKu5B,MAAMpsB,IAAIyuF,EAAYC,GAC3B77F,KAAKu1F,aAAapzF,IAAI05F,EAAgB77F,KAAKu1F,aAAapjG,IAAI8iB,KAG9DA,EAAW4mF,EAIT5mF,EAAS6vD,YAAqCvuE,IAA5Bwe,EAASxZ,WAAWyd,UAAgDziB,IAA3Bwe,EAASxZ,WAAWwd,IACjFhE,EAAS7Y,aAAa,MAAO6Y,EAASxZ,WAAWwd,IAGnD0C,EAAKxG,SAAWA,IAEjB,CACDtkB,IAAK,kBACLuB,MAAO,WACL,OAAO,QAQR,CACDvB,IAAK,eACLuB,MAAO,SAAsBq9E,GAC3B,IAIIwsB,EAJA1U,EAASrnF,KACTkwB,EAAOlwB,KAAKkwB,KACZnV,EAAa/a,KAAK+a,WAClB+tE,EAAc54D,EAAKyvC,UAAU4P,GAE7BsZ,EAAiB,GACjBmT,EAAqBlT,EAAY/tE,YAAc,GAC/CguE,EAAU,GAEd,GAAIiT,EAAmB5V,GAAWM,uCAAwC,CACxE,IAAIuV,EAAclhF,EAAWqrE,GAAWM,uCACxCqV,EAAeE,EAAYC,kBAC3BnT,EAAQxwF,KAAK0jG,EAAYE,aAAatT,EAAgBC,EAAazB,SAC9D,GAAI2U,EAAmB5V,GAAWS,qBAAsB,CAC7D,IAAIuV,EAAerhF,EAAWqrE,GAAWS,qBACzCkV,EAAeK,EAAaF,kBAC5BnT,EAAQxwF,KAAK6jG,EAAaD,aAAatT,EAAgBC,EAAazB,QAC/D,CAGL,IAAI2B,EAAoBF,EAAYG,sBAAwB,GAI5D,GAHAJ,EAAe1zE,MAAQ,IAAI,MAAM,EAAK,EAAK,GAC3C0zE,EAAe3uE,QAAU,EAErBvoB,MAAMC,QAAQo3F,EAAkBE,iBAAkB,CACpD,IAAI5vE,EAAQ0vE,EAAkBE,gBAC9BL,EAAe1zE,MAAMwuD,UAAUrqD,GAC/BuvE,EAAe3uE,QAAUZ,EAAM,QAGU/iB,IAAvCyyF,EAAkBG,kBACpBJ,EAAQxwF,KAAK8uF,EAAO+B,cAAcP,EAAgB,MAAOG,EAAkBG,mBAG7EN,EAAesH,eAAiD55F,IAArCyyF,EAAkBqT,eAA+BrT,EAAkBqT,eAAiB,EAC/GxT,EAAeuH,eAAkD75F,IAAtCyyF,EAAkBsT,gBAAgCtT,EAAkBsT,gBAAkB,OAE9D/lG,IAA/CyyF,EAAkBuT,2BACpBxT,EAAQxwF,KAAK8uF,EAAO+B,cAAcP,EAAgB,eAAgBG,EAAkBuT,2BACpFxT,EAAQxwF,KAAK8uF,EAAO+B,cAAcP,EAAgB,eAAgBG,EAAkBuT,4BAGtFR,EAAe/7F,KAAKw3F,YAAW,SAAUtB,GACvC,OAAOA,EAAIgG,iBAAmBhG,EAAIgG,gBAAgB3sB,MAEpDwZ,EAAQxwF,KAAKgwF,QAAQc,IAAIrpF,KAAKi2F,YAAW,SAAUC,GACjD,OAAOA,EAAIsG,sBAAwBtG,EAAIsG,qBAAqBjtB,EAAesZ,SAI/C,IAA5BC,EAAY2T,cACd5T,EAAe6T,KAAO,OAGxB,IAAIC,EAAY7T,EAAY6T,WAAatI,GAwCzC,OAtCIsI,IAActI,IAChBxL,EAAethE,aAAc,EAE7BshE,EAAe+T,YAAa,IAE5B/T,EAAethE,aAAc,EAEzBo1E,IAActI,KAChBxL,EAAegU,eAAwCtmG,IAA5BuyF,EAAYgU,YAA4BhU,EAAYgU,YAAc,UAI/DvmG,IAA9BuyF,EAAYiU,eAA+BhB,IAAiB,QAC9DhT,EAAQxwF,KAAK8uF,EAAO+B,cAAcP,EAAgB,YAAaC,EAAYiU,gBAE3ElU,EAAeuI,YAAc,IAAI,MAAQ,GAAI,QAEL76F,IAApCuyF,EAAYiU,cAAc/vF,OAC5B67E,EAAeuI,YAAYjvF,IAAI2mF,EAAYiU,cAAc/vF,OAAQ87E,EAAYiU,cAAc/vF,aAI1DzW,IAAjCuyF,EAAYkU,kBAAkCjB,IAAiB,QACjEhT,EAAQxwF,KAAK8uF,EAAO+B,cAAcP,EAAgB,QAASC,EAAYkU,wBAEzBzmG,IAA1CuyF,EAAYkU,iBAAiBC,WAC/BpU,EAAeqI,eAAiBpI,EAAYkU,iBAAiBC,gBAI9B1mG,IAA/BuyF,EAAYoU,gBAAgCnB,IAAiB,QAC/DlT,EAAe7kB,UAAW,IAAI,OAAQL,UAAUmlB,EAAYoU,sBAG1B3mG,IAAhCuyF,EAAYqU,iBAAiCpB,IAAiB,OAChEhT,EAAQxwF,KAAK8uF,EAAO+B,cAAcP,EAAgB,cAAeC,EAAYqU,kBAGxE5U,QAAQc,IAAIN,GAASL,MAAK,WAC/B,IAAIzzE,EAkBJ,OAfEA,EADE8mF,IAAiB/M,GACRj0E,EAAWqrE,GAAWM,uCAAuC0W,eAAevU,GAE5E,IAAIkT,EAAalT,GAG1BC,EAAYn6F,OAAMsmB,EAAStmB,KAAOm6F,EAAYn6F,MAE9CsmB,EAAS/gB,MAAK+gB,EAAS/gB,IAAI6wE,SAAW,OACtC9vD,EAASgwD,cAAahwD,EAASgwD,YAAYF,SAAW,OAC1D4vB,GAAuB1/E,EAAU6zE,GACjCzB,EAAOkO,aAAapzF,IAAI8S,EAAU,CAChCxmB,KAAM,YACN+O,MAAO+xE,IAELuZ,EAAY/tE,YAAYw5E,GAA+Bx5E,EAAY9F,EAAU6zE,GAC1E7zE,OAKV,CACDtkB,IAAK,mBACLuB,MAAO,SAA0BmrG,GAI/B,IAHA,IAAIC,EAAgB,uBAAiCD,GAAgB,IACjE1uG,EAAO2uG,EAEF5sG,EAAI,EAAGsP,KAAK61F,cAAclnG,KAAS+B,EAC1C/B,EAAO2uG,EAAgB,IAAM5sG,EAI/B,OADAsP,KAAK61F,cAAclnG,IAAQ,EACpBA,IAWR,CACDgC,IAAK,iBACLuB,MAAO,SAAwBqrG,GAC7B,IAAIlW,EAASrnF,KACT+a,EAAa/a,KAAK+a,WAClBwe,EAAQv5B,KAAKw1F,eAEjB,SAASgI,EAAqB5P,GAC5B,OAAO7yE,EAAWqrE,GAAWE,4BAA4BmX,gBAAgB7P,EAAWvG,GAAQqB,MAAK,SAAU3zE,GACzG,OAAO2oF,GAAuB3oF,EAAU64E,EAAWvG,MAMvD,IAFA,IA32BsBsW,EACtBC,EA02BI7U,EAAU,GAELr4F,EAAI,EAAGsrB,EAAKuhF,EAAW3uG,OAAQ8B,EAAIsrB,EAAItrB,IAAK,CACnD,IAAIk9F,EAAY2P,EAAW7sG,GACvB8vC,GA92BNo9D,OAAAA,GAAAA,GADsBD,EA+2Bc/P,GA92BN7yE,YAAc4iF,EAAa5iF,WAAWqrE,GAAWE,6BAInE,SAAWsX,EAAe3R,WAAa,IAAM2R,EAAen3B,QAAU,IAAM0uB,GAAoByI,EAAeriG,YAE/GoiG,EAAal3B,QAAU,IAAM0uB,GAAoBwI,EAAapiG,YAAc,IAAMoiG,EAAaz6E,MA02BrG26E,EAAStkE,EAAMiH,GAEnB,GAAIq9D,EAEF9U,EAAQxwF,KAAKslG,EAAOvD,aACf,CACL,IAAIwD,OAAkB,EAIpBA,EAFElQ,EAAU7yE,YAAc6yE,EAAU7yE,WAAWqrE,GAAWE,4BAExCkX,EAAqB5P,GAGrB8P,GAAuB,IAAI,MAAkB9P,EAAWvG,GAI5E9tD,EAAMiH,GAAY,CAChBotD,UAAWA,EACX0M,QAASwD,GAEX/U,EAAQxwF,KAAKulG,IAIjB,OAAOvV,QAAQc,IAAIN,KAQpB,CACDp4F,IAAK,WACLuB,MAAO,SAAkB6rG,GAQvB,IAPA,IA7gCyBxkE,EA6gCrB8tD,EAASrnF,KACTkwB,EAAOlwB,KAAKkwB,KACZnV,EAAa/a,KAAK+a,WAClBg6E,EAAU7kE,EAAK6mE,OAAOgH,GACtBR,EAAaxI,EAAQwI,WACrBxU,EAAU,GAELr4F,EAAI,EAAGsrB,EAAKuhF,EAAW3uG,OAAQ8B,EAAIsrB,EAAItrB,IAAK,CACnD,IAAIukB,OAAsC1e,IAA3BgnG,EAAW7sG,GAAGukB,eAphCF1e,KADJgjC,EAqhCqDv5B,KAAKu5B,OAphC5D,kBACzBA,EAAuB,gBAAI,IAAI,MAAqB,CAClDpkB,MAAO,SACP6uD,SAAU,EACVmsB,UAAW,EACXC,UAAW,EACX7oE,aAAa,EACby2E,WAAW,EACXtB,KAAM,SAIHnjE,EAAuB,iBAwgCkEv5B,KAAKosF,cAAc,WAAYmR,EAAW7sG,GAAGukB,UACvI8zE,EAAQxwF,KAAK0c,GAIf,OADA8zE,EAAQxwF,KAAK8uF,EAAO4W,eAAeV,IAC5BhV,QAAQc,IAAIN,GAASL,MAAK,SAAUwV,GAKzC,IAJA,IAAIv+B,EAAYu+B,EAAQrhG,MAAM,EAAGqhG,EAAQtvG,OAAS,GAC9CuvG,EAAaD,EAAQA,EAAQtvG,OAAS,GACtCmoG,EAAS,GAEJn7B,EAAM,EAAGwiC,EAAOD,EAAWvvG,OAAQgtE,EAAMwiC,EAAMxiC,IAAO,CAC7D,IAAI7mD,EAAWopF,EAAWviC,GACtBgyB,EAAY2P,EAAW3hC,GAEvBngD,OAAO,EACP4iF,EAAY1+B,EAAU/D,GAE1B,GAAIgyB,EAAU1qE,OAASgwE,IAA6BtF,EAAU1qE,OAASgwE,IAAkCtF,EAAU1qE,OAASgwE,SAAmD38F,IAAnBq3F,EAAU1qE,MAIzI,KAF3BzH,GAAiC,IAA1Bs5E,EAAQsC,cAAyB,IAAI,MAAYtiF,EAAUspF,GAAa,IAAI,MAAKtpF,EAAUspF,IAEzFhH,eAA2B57E,EAAK1G,SAASxZ,WAAW+iG,WAAW3P,YAGtElzE,EAAK2vD,uBAGHwiB,EAAU1qE,OAASgwE,GACrBz3E,EAAK1G,SAAWwpF,GAAoB9iF,EAAK1G,SAAU,OAC1C64E,EAAU1qE,OAASgwE,KAC5Bz3E,EAAK1G,SAAWwpF,GAAoB9iF,EAAK1G,SAAU,aAEhD,GAAI64E,EAAU1qE,OAASgwE,GAC5Bz3E,EAAO,IAAI,MAAa1G,EAAUspF,QAC7B,GAAIzQ,EAAU1qE,OAASgwE,GAC5Bz3E,EAAO,IAAI,MAAK1G,EAAUspF,QACrB,GAAIzQ,EAAU1qE,OAASgwE,GAC5Bz3E,EAAO,IAAI,MAAS1G,EAAUspF,OACzB,IAAIzQ,EAAU1qE,OAASgwE,GAG5B,MAAM,IAAIryF,MAAM,iDAAmD+sF,EAAU1qE,MAF7EzH,EAAO,IAAI,MAAO1G,EAAUspF,GAK1B1uG,OAAOW,KAAKmrB,EAAK1G,SAAS29D,iBAAiB9jF,OAAS,GACtDkmG,GAAmBr5E,EAAMs5E,GAG3Bt5E,EAAK9sB,KAAO04F,EAAOiB,iBAAiByM,EAAQpmG,MAAQ,QAAUovG,GAC9DpJ,GAAuBl5E,EAAMs5E,GACzBnH,EAAU7yE,YAAYw5E,GAA+Bx5E,EAAYU,EAAMmyE,GAC3EvG,EAAOmX,oBAAoB/iF,GAC3Bs7E,EAAOx+F,KAAKkjB,GAGd,GAAsB,IAAlBs7E,EAAOnoG,OACT,OAAOmoG,EAAO,GAKhB,IAFA,IAAI0H,EAAQ,IAAI,MAEPC,EAAM,EAAGC,EAAO5H,EAAOnoG,OAAQ8vG,EAAMC,EAAMD,IAClDD,EAAMtxF,IAAI4pF,EAAO2H,IAGnB,OAAOD,OASV,CACD9tG,IAAK,aACLuB,MAAO,SAAoB0sG,GACzB,IAAI7oF,EACA8oF,EAAY7+F,KAAKkwB,KAAKsmE,QAAQoI,GAC9B3oF,EAAS4oF,EAAUA,EAAUpwG,MAEjC,GAAKwnB,EAaL,MARuB,gBAAnB4oF,EAAUpwG,KACZsnB,EAAS,IAAI,MAAkB,eAAmBE,EAAO6oF,MAAO7oF,EAAO8oF,aAAe,EAAG9oF,EAAO+oF,OAAS,EAAG/oF,EAAOgpF,MAAQ,KAC/F,iBAAnBJ,EAAUpwG,OACnBsnB,EAAS,IAAI,OAAoBE,EAAOipF,KAAMjpF,EAAOipF,KAAMjpF,EAAOkpF,MAAOlpF,EAAOkpF,KAAMlpF,EAAO+oF,MAAO/oF,EAAOgpF,OAGzGJ,EAAUlwG,OAAMonB,EAAOpnB,KAAOqR,KAAKsoF,iBAAiBuW,EAAUlwG,OAClEgmG,GAAuB5+E,EAAQ8oF,GACxBtW,QAAQC,QAAQzyE,GAZrBhjB,QAAQC,KAAK,kDAoBhB,CACDrC,IAAK,WACLuB,MAAO,SAAkB8kG,GACvB,IAAIoI,EAAUp/F,KAAKkwB,KAAK2mE,MAAMG,GAC1BqI,EAAY,CACdnI,OAAQkI,EAAQlI,QAGlB,YAAoC3gG,IAAhC6oG,EAAQE,oBACH/W,QAAQC,QAAQ6W,GAGlBr/F,KAAKosF,cAAc,WAAYgT,EAAQE,qBAAqB5W,MAAK,SAAU6W,GAEhF,OADAF,EAAUC,oBAAsBC,EACzBF,OASV,CACD1uG,IAAK,gBACLuB,MAAO,SAAuBstG,GAS5B,IARA,IACIC,EADOz/F,KAAKkwB,KACQu4C,WAAW+2B,GAC/BE,EAAe,GACfC,EAAwB,GACxBC,EAAyB,GACzBC,EAAkB,GAClBC,EAAiB,GAEZpvG,EAAI,EAAGsrB,EAAKyjF,EAAaM,SAASnxG,OAAQ8B,EAAIsrB,EAAItrB,IAAK,CAC9D,IAAIsvG,EAAUP,EAAaM,SAASrvG,GAChCmpG,EAAU4F,EAAa9E,SAASqF,EAAQnG,SACxCvkG,EAAS0qG,EAAQ1qG,OACjB3G,OAAuB4H,IAAhBjB,EAAOkhC,KAAqBlhC,EAAOkhC,KAAOlhC,EAAO2D,GAExDkpB,OAAoC5rB,IAA5BkpG,EAAallF,WAA2BklF,EAAallF,WAAWs/E,EAAQ13E,OAAS03E,EAAQ13E,MACjGsgB,OAAqClsC,IAA5BkpG,EAAallF,WAA2BklF,EAAallF,WAAWs/E,EAAQp3D,QAAUo3D,EAAQp3D,OACvGi9D,EAAannG,KAAKyH,KAAKosF,cAAc,OAAQz9F,IAC7CgxG,EAAsBpnG,KAAKyH,KAAKosF,cAAc,WAAYjqE,IAC1Dy9E,EAAuBrnG,KAAKyH,KAAKosF,cAAc,WAAY3pD,IAC3Do9D,EAAgBtnG,KAAKshG,GACrBiG,EAAevnG,KAAKjD,GAGtB,OAAOizF,QAAQc,IAAI,CAACd,QAAQc,IAAIqW,GAAenX,QAAQc,IAAIsW,GAAwBpX,QAAQc,IAAIuW,GAAyBrX,QAAQc,IAAIwW,GAAkBtX,QAAQc,IAAIyW,KAAkBpX,MAAK,SAAU4N,GAkFjM,IAjFA,IAAI9O,EAAQ8O,EAAa,GACrB2J,EAAiB3J,EAAa,GAC9B4J,EAAkB5J,EAAa,GAC/BqE,EAAWrE,EAAa,GACxB6J,EAAU7J,EAAa,GACvB5e,EAAS,GAETvO,EAAQ,SAAei3B,EAAKC,GAC9B,IAAI7pE,EAAOgxD,EAAM4Y,GACbE,EAAgBL,EAAeG,GAC/BG,EAAiBL,EAAgBE,GACjCvG,EAAUc,EAASyF,GACnB9qG,EAAS6qG,EAAQC,GACrB,QAAa7pG,IAATigC,EAAoB,MAAO,WAC/BA,EAAKgqE,eACLhqE,EAAKiqE,kBAAmB,EACxB,IAAIC,OAAqB,EAEzB,OAAQ1M,GAAgB1+F,EAAOsoE,OAC7B,KAAKo2B,GAAgBttB,QACnBg6B,EAAqB,MACrB,MAEF,KAAK1M,GAAgBjoB,SACnB20B,EAAqB,MACrB,MAEF,KAAK1M,GAAgBppF,SACrB,KAAKopF,GAAgBhnF,MACrB,QACE0zF,EAAqB,MAIzB,IAAIC,EAAanqE,EAAK7nC,KAAO6nC,EAAK7nC,KAAO6nC,EAAK8kE,KAC1CsF,OAA0CrqG,IAA1BsjG,EAAQ+G,cAA8B3M,GAAc4F,EAAQ+G,eAAiB,MAC7F3L,EAAc,GAEdjB,GAAgB1+F,EAAOsoE,QAAUo2B,GAAgBttB,QAEnDlwC,EAAK0xC,UAAS,SAAUtgE,IACA,IAAlBA,EAAOi5F,QAAmBj5F,EAAOotF,uBACnCC,EAAY18F,KAAKqP,EAAOjZ,KAAOiZ,EAAOjZ,KAAOiZ,EAAO0zF,SAIxDrG,EAAY18F,KAAKooG,GAGnB,IAAIG,EAAcP,EAAejnF,MAEjC,GAAIinF,EAAe5R,WAAY,CAI7B,IAHA,IAAI3hF,EAAQqoF,GAA4ByL,EAAYnzG,aAChDozG,EAAS,IAAIvrF,aAAasrF,EAAYlyG,QAEjC8mB,EAAI,EAAGsrF,EAAKF,EAAYlyG,OAAQ8mB,EAAIsrF,EAAItrF,IAC/CqrF,EAAOrrF,GAAKorF,EAAYprF,GAAK1I,EAG/B8zF,EAAcC,EAGhB,IAAK,IAAI9mC,EAAK,EAAGgnC,EAAMhM,EAAYrmG,OAAQqrE,EAAKgnC,EAAKhnC,IAAM,CACzD,IAAI1e,EAAQ,IAAImlD,EAAmBzL,EAAYh7B,GAAM,IAAM+5B,GAAgB1+F,EAAOsoE,MAAO0iC,EAAchnF,MAAOwnF,EAAaF,GAE7F,gBAA1B/G,EAAQ+G,gBACVrlD,EAAM2lD,kBAAoB,SAAiD/5F,GAIzE,OAAO,IAAIsqF,GAA2BzxF,KAAKg2E,MAAOh2E,KAAKkkC,OAAQlkC,KAAKmhG,eAAiB,EAAGh6F,IAI1Fo0C,EAAM2lD,kBAAkBE,2CAA4C,GAGtE1pB,EAAOn/E,KAAKgjD,KAIP6kD,EAAM,EAAGC,EAAO7Y,EAAM54F,OAAQwxG,EAAMC,EAAMD,IACtCj3B,EAAMi3B,GAKnB,IAAIzxG,EAAO8wG,EAAa9wG,KAAO8wG,EAAa9wG,KAAO,aAAe6wG,EAClE,OAAO,IAAI,MAAc7wG,OAAM4H,EAAWmhF,QAG7C,CACD/mF,IAAK,iBACLuB,MAAO,SAAwBu1F,GAC7B,IAAIv3D,EAAOlwB,KAAKkwB,KACZm3D,EAASrnF,KACT2nF,EAAUz3D,EAAKs3D,MAAMC,GACzB,YAAqBlxF,IAAjBoxF,EAAQlsE,KAA2B,KAChC4rE,EAAO+E,cAAc,OAAQzE,EAAQlsE,MAAMitE,MAAK,SAAUjtE,GAC/D,IAAI+a,EAAO6wD,EAAOsB,YAAYtB,EAAOoO,UAAW9N,EAAQlsE,KAAMA,GAa9D,YAVwBllB,IAApBoxF,EAAQjhB,SACVlwC,EAAK0xC,UAAS,SAAUxjB,GACtB,GAAKA,EAAEm8C,OAEP,IAAK,IAAInwG,EAAI,EAAGsrB,EAAK2rE,EAAQjhB,QAAQ93E,OAAQ8B,EAAIsrB,EAAItrB,IACnDg0D,EAAEswC,sBAAsBtkG,GAAKi3F,EAAQjhB,QAAQh2E,MAK5C8lC,OASV,CACD7lC,IAAK,WACLuB,MAAO,SAAkBu1F,GACvB,IAOMsB,EAEAsY,EATFnxE,EAAOlwB,KAAKkwB,KACZnV,EAAa/a,KAAK+a,WAClBssE,EAASrnF,KACT2nF,EAAUz3D,EAAKs3D,MAAMC,GAErBlM,EAAWoM,EAAQh5F,KAAO04F,EAAOiB,iBAAiBX,EAAQh5F,MAAQ,GACtE,OACMo6F,EAAU,GAEVsY,EAAcha,EAAOmQ,YAAW,SAAUtB,GAC5C,OAAOA,EAAIoL,gBAAkBpL,EAAIoL,eAAe7Z,MAG9C4Z,GACFtY,EAAQxwF,KAAK8oG,QAGQ9qG,IAAnBoxF,EAAQ5xE,QACVgzE,EAAQxwF,KAAK8uF,EAAO+E,cAAc,SAAUzE,EAAQ5xE,QAAQ2yE,MAAK,SAAU3yE,GACzE,OAAOsxE,EAAOsB,YAAYtB,EAAOqO,YAAa/N,EAAQ5xE,OAAQA,OAIlEsxE,EAAO4O,YAAW,SAAUC,GAC1B,OAAOA,EAAIqL,sBAAwBrL,EAAIqL,qBAAqB9Z,MAC3DnvF,SAAQ,SAAUgiG,GACnBvR,EAAQxwF,KAAK+hG,MAGR/R,QAAQc,IAAIN,IACjBL,MAAK,SAAU9F,GACjB,IAAIpsD,EAYJ,IATEA,GADqB,IAAnBmxD,EAAQwP,OACH,IAAI,MACFvU,EAAQh0F,OAAS,EACnB,IAAI,MACiB,IAAnBg0F,EAAQh0F,OACVg0F,EAAQ,GAER,IAAI,SAGAA,EAAQ,GACnB,IAAK,IAAIlyF,EAAI,EAAGsrB,EAAK4mE,EAAQh0F,OAAQ8B,EAAIsrB,EAAItrB,IAC3C8lC,EAAKrpB,IAAIy1E,EAAQlyF,IAYrB,GARIi3F,EAAQh5F,OACV6nC,EAAK2xC,SAASx5E,KAAOg5F,EAAQh5F,KAC7B6nC,EAAK7nC,KAAO4sF,GAGdoZ,GAAuBn+D,EAAMmxD,GACzBA,EAAQ5sE,YAAYw5E,GAA+Bx5E,EAAYyb,EAAMmxD,QAElDpxF,IAAnBoxF,EAAQl3E,OAAsB,CAChC,IAAIA,EAAS,IAAI,MACjBA,EAAOkzD,UAAUgkB,EAAQl3E,QACzB+lB,EAAKzf,aAAatG,aAEUla,IAAxBoxF,EAAQhc,aACVn1C,EAAK5rB,SAAS+4D,UAAUgkB,EAAQhc,kBAGTp1E,IAArBoxF,EAAQ5b,UACVv1C,EAAK7oB,WAAWg2D,UAAUgkB,EAAQ5b,eAGdx1E,IAAlBoxF,EAAQ36E,OACVwpB,EAAKxpB,MAAM22D,UAAUgkB,EAAQ36E,OAQjC,OAJAq6E,EAAOkO,aAAapzF,IAAIq0B,EAAM,CAC5B/nC,KAAM,QACN+O,MAAOiqF,IAEFjxD,OASV,CACD7lC,IAAK,YACLuB,MAAO,SAAmBsvG,GACxB,IAAItxE,EAAOlwB,KAAKkwB,KACZnV,EAAa/a,KAAK+a,WAClB0mF,EAAWzhG,KAAKkwB,KAAKqmE,OAAOiL,GAI5Bz6E,EAAQ,IAAI,MACZ06E,EAAS9yG,OAAMo4B,EAAMp4B,KAJZqR,KAI0BsoF,iBAAiBmZ,EAAS9yG,OACjEgmG,GAAuB5tE,EAAO06E,GAC1BA,EAAS1mF,YAAYw5E,GAA+Bx5E,EAAYgM,EAAO06E,GAI3E,IAHA,IAAIC,EAAUD,EAASja,OAAS,GAC5BuB,EAAU,GAELr4F,EAAI,EAAGsrB,EAAK0lF,EAAQ9yG,OAAQ8B,EAAIsrB,EAAItrB,IAC3Cq4F,EAAQxwF,KAAKopG,GAAkBD,EAAQhxG,GAAIq2B,EAAOmJ,EAXvClwB,OAcb,OAAOuoF,QAAQc,IAAIN,GAASL,MAAK,WAC/B,OAAO3hE,SAKNuuE,EApvCqB,GAuvC9B,SAASqM,GAAkBC,EAAQC,EAAc3xE,EAAMm3D,GACrD,IAAIM,EAAUz3D,EAAKs3D,MAAMoa,GACzB,OAAOva,EAAO+E,cAAc,OAAQwV,GAAQlZ,MAAK,SAAUlyD,GACzD,YAAqBjgC,IAAjBoxF,EAAQyP,KAA2B5gE,EAGhC6wD,EAAO+E,cAAc,OAAQzE,EAAQyP,MAAM1O,MAAK,SAAU0O,GAI/D,IAFA,IAAI0K,EAAgB,GAEXpxG,EAAI,EAAGsrB,GAHhBqjF,EAAYjI,GAGmBF,OAAOtoG,OAAQ8B,EAAIsrB,EAAItrB,IACpDoxG,EAAcvpG,KAAK8uF,EAAO+E,cAAc,OAAQiT,EAAUnI,OAAOxmG,KAGnE,OAAO63F,QAAQc,IAAIyY,MAClBpZ,MAAK,SAAUqZ,GAyBhB,OAxBAvrE,EAAK0xC,UAAS,SAAUzsD,GACtB,GAAKA,EAAKolF,OAAV,CAIA,IAHA,IAAI95B,EAAQ,GACRi7B,EAAe,GAEVtsF,EAAI,EAAGsrF,EAAKe,EAAWnzG,OAAQ8mB,EAAIsrF,EAAItrF,IAAK,CACnD,IAAIusF,EAAYF,EAAWrsF,GAE3B,GAAIusF,EAAW,CACbl7B,EAAMxuE,KAAK0pG,GACX,IAAIC,EAAM,IAAI,WAEwB3rG,IAAlC8oG,EAAUC,qBACZ4C,EAAIv+B,UAAU07B,EAAUC,oBAAoBhmF,MAAW,GAAJ5D,GAGrDssF,EAAazpG,KAAK2pG,QAElBnvG,QAAQC,KAAK,mDAAoDqsG,EAAUnI,OAAOxhF,IAItF+F,EAAKpiB,KAAK,IAAI,MAAS0tE,EAAOi7B,GAAevmF,EAAKpF,iBAE7CmgB,KAnCT,IAAI6oE,KAqCH3W,MAAK,SAAUlyD,GAEhBqrE,EAAa10F,IAAIqpB,GACjB,IAAIuyD,EAAU,GAEd,GAAIpB,EAAQ9lF,SAGV,IAFA,IAAIA,EAAW8lF,EAAQ9lF,SAEdnR,EAAI,EAAGsrB,EAAKna,EAASjT,OAAQ8B,EAAIsrB,EAAItrB,IAAK,CACjD,IAAIiQ,EAAQkB,EAASnR,GACrBq4F,EAAQxwF,KAAKopG,GAAkBhhG,EAAO61B,EAAMtG,EAAMm3D,IAItD,OAAOkB,QAAQc,IAAIN,MA0FvB,SAAS2U,GAAuB3oF,EAAU4oF,EAActW,GACtD,IAAI9rF,EAAaoiG,EAAapiG,WAC1BwtF,EAAU,GAEd,SAASoZ,EAAwB5J,EAAerK,GAC9C,OAAO7G,EAAO+E,cAAc,WAAYmM,GAAe7P,MAAK,SAAU6W,GACpExqF,EAAS7Y,aAAagyF,EAAeqR,MAIzC,IAAK,IAAI6C,KAAqB7mG,EAAY,CACxC,IAAI4yF,EAAqBC,GAAWgU,IAAsBA,EAAkBvqG,cAExEs2F,KAAsBp5E,EAASxZ,YACnCwtF,EAAQxwF,KAAK4pG,EAAwB5mG,EAAW6mG,GAAoBjU,IAGtE,QAA6B53F,IAAzBonG,EAAal3B,UAA0B1xD,EAASvX,MAAO,CACzD,IAAI+hG,EAAWlY,EAAO+E,cAAc,WAAYuR,EAAal3B,SAASiiB,MAAK,SAAU6W,GACnFxqF,EAASsG,SAASkkF,MAEpBxW,EAAQxwF,KAAKgnG,GAKf,OAFA5K,GAAuB5/E,EAAU4oF,GAxGnC,SAAuB5oF,EAAU4oF,EAActW,GAC7C,IAAI9rF,EAAaoiG,EAAapiG,WAC1B8mG,EAAM,IAAI,MAEd,QAA4B9rG,IAAxBgF,EAAWi4F,SAAf,CACE,IAAI+L,EAAWlY,EAAOn3D,KAAKs+D,UAAUjzF,EAAWi4F,UAC5C7mF,EAAM4yF,EAAS5yF,IACfC,EAAM2yF,EAAS3yF,IAEnB,QAAYrW,IAARoW,QAA6BpW,IAARqW,EAAzB,CAGE,GAFAy1F,EAAIlgG,IAAI,IAAI,MAAQwK,EAAI,GAAIA,EAAI,GAAIA,EAAI,IAAK,IAAI,MAAQC,EAAI,GAAIA,EAAI,GAAIA,EAAI,KAEzE2yF,EAAS5Q,WAAY,CACvB,IAAI2T,EAAWjN,GAA4B3G,GAAsB6Q,EAAS9Q,gBAC1E4T,EAAI11F,IAAIW,eAAeg1F,GACvBD,EAAIz1F,IAAIU,eAAeg1F,GAU7B,IAAInC,EAAUxC,EAAawC,QAE3B,QAAgB5pG,IAAZ4pG,EAAuB,CAIzB,IAHA,IAAIoC,EAAkB,IAAI,MACtBC,EAAS,IAAI,MAER9xG,EAAI,EAAGsrB,EAAKmkF,EAAQvxG,OAAQ8B,EAAIsrB,EAAItrB,IAAK,CAChD,IAAI4E,EAAS6qG,EAAQzvG,GAErB,QAAwB6F,IAApBjB,EAAOk+F,SAAwB,CACjC,IAAIiP,EAAYpb,EAAOn3D,KAAKs+D,UAAUl5F,EAAOk+F,UACzCkP,EAAOD,EAAU91F,IACjBg2F,EAAOF,EAAU71F,IAErB,QAAarW,IAATmsG,QAA+BnsG,IAATosG,EAAoB,CAM5C,GAJAH,EAAO/I,KAAKzwF,KAAK4D,IAAI5D,KAAKqO,IAAIqrF,EAAK,IAAK15F,KAAKqO,IAAIsrF,EAAK,MACtDH,EAAO9I,KAAK1wF,KAAK4D,IAAI5D,KAAKqO,IAAIqrF,EAAK,IAAK15F,KAAKqO,IAAIsrF,EAAK,MACtDH,EAAO7I,KAAK3wF,KAAK4D,IAAI5D,KAAKqO,IAAIqrF,EAAK,IAAK15F,KAAKqO,IAAIsrF,EAAK,MAElDF,EAAU9T,WAAY,CACxB,IAAIiU,EAAYvN,GAA4B3G,GAAsB+T,EAAUhU,gBAE5E+T,EAAOl1F,eAAes1F,GAOxBL,EAAgB31F,IAAI41F,QAEpBzvG,QAAQC,KAAK,wEAMnBqvG,EAAIQ,eAAeN,GAGrBxtF,EAASwC,YAAc8qF,EACvB,IAAIS,EAAS,IAAI,MACjBT,EAAIvmF,UAAUgnF,EAAOjnF,QACrBinF,EAAO/1F,OAASs1F,EAAI11F,IAAIrB,WAAW+2F,EAAIz1F,KAAO,EAC9CmI,EAAS8B,eAAiBisF,OApDtB/vG,QAAQC,KAAK,wEAuFjB+vG,CAAchuF,EAAU4oF,EAActW,GAC/BkB,QAAQc,IAAIN,GAASL,MAAK,WAC/B,YAAgCnyF,IAAzBonG,EAAawC,QAzhDxB,SAAyBprF,EAAUorF,EAAS9Y,GAI1C,IAHA,IAAI2b,GAAmB,EACnBC,GAAiB,EAEZvyG,EAAI,EAAGsrB,EAAKmkF,EAAQvxG,OAAQ8B,EAAIsrB,EAAItrB,IAAK,CAChD,IAAI4E,EAAS6qG,EAAQzvG,GAGrB,QAFwB6F,IAApBjB,EAAOk+F,WAAwBwP,GAAmB,QAChCzsG,IAAlBjB,EAAOm+F,SAAsBwP,GAAiB,GAC9CD,GAAoBC,EAAgB,MAG1C,IAAKD,IAAqBC,EAAgB,OAAO1a,QAAQC,QAAQzzE,GAIjE,IAHA,IAAImuF,EAA2B,GAC3BC,EAAyB,GAEpBppC,EAAM,EAAGqpC,EAAMjD,EAAQvxG,OAAQmrE,EAAMqpC,EAAKrpC,IAAO,CACxD,IAAIspC,EAAUlD,EAAQpmC,GAEtB,GAAIipC,EAAkB,CACpB,IAAIM,OAAuC/sG,IAArB8sG,EAAQ7P,SAAyBnM,EAAO+E,cAAc,WAAYiX,EAAQ7P,UAAYz+E,EAASxZ,WAAWqP,SAChIs4F,EAAyB3qG,KAAK+qG,GAGhC,GAAIL,EAAgB,CAClB,IAAIM,OAAsChtG,IAAnB8sG,EAAQ5P,OAAuBpM,EAAO+E,cAAc,WAAYiX,EAAQ5P,QAAU1+E,EAASxZ,WAAWuzE,OAE7Hq0B,EAAuB5qG,KAAKgrG,IAIhC,OAAOhb,QAAQc,IAAI,CAACd,QAAQc,IAAI6Z,GAA2B3a,QAAQc,IAAI8Z,KAA0Bza,MAAK,SAAU8F,GAC9G,IAAIzb,EAAiByb,EAAU,GAC3BgV,EAAehV,EAAU,GAI7B,OAHIwU,IAAkBjuF,EAAS29D,gBAAgB9nE,SAAWmoE,GACtDkwB,IAAgBluF,EAAS29D,gBAAgB5D,OAAS00B,GACtDzuF,EAAS09D,sBAAuB,EACzB19D,KAq/CqC+6D,CAAgB/6D,EAAU4oF,EAAawC,QAAS9Y,GAAUtyE,KAU1G,SAASwpF,GAAoBxpF,EAAU0uF,GACrC,IAAIjmG,EAAQuX,EAAS2uF,WAErB,GAAc,OAAVlmG,EAAgB,CAClB,IAAIipE,EAAU,GACV77D,EAAWmK,EAASnZ,aAAa,YAErC,QAAiBrF,IAAbqU,EASF,OADA7X,QAAQH,MAAM,kGACPmiB,EARP,IAAK,IAAIrkB,EAAI,EAAGA,EAAIka,EAAS6K,MAAO/kB,IAClC+1E,EAAQluE,KAAK7H,GAGfqkB,EAASsG,SAASorD,GAClBjpE,EAAQuX,EAAS2uF,WAQrB,IAAIC,EAAoBnmG,EAAMiY,MAAQ,EAClCmuF,EAAa,GAEjB,GAAIH,IAAa,MAEf,IAAK,IAAII,EAAM,EAAGA,GAAOF,EAAmBE,IAC1CD,EAAWrrG,KAAKiF,EAAMsmG,KAAK,IAC3BF,EAAWrrG,KAAKiF,EAAMsmG,KAAKD,IAC3BD,EAAWrrG,KAAKiF,EAAMsmG,KAAKD,EAAM,SAInC,IAAK,IAAIE,EAAM,EAAGA,EAAMJ,EAAmBI,IACrCA,EAAM,GAAM,GACdH,EAAWrrG,KAAKiF,EAAMsmG,KAAKC,IAC3BH,EAAWrrG,KAAKiF,EAAMsmG,KAAKC,EAAM,IACjCH,EAAWrrG,KAAKiF,EAAMsmG,KAAKC,EAAM,MAEjCH,EAAWrrG,KAAKiF,EAAMsmG,KAAKC,EAAM,IACjCH,EAAWrrG,KAAKiF,EAAMsmG,KAAKC,EAAM,IACjCH,EAAWrrG,KAAKiF,EAAMsmG,KAAKC,KAK7BH,EAAWh1G,OAAS,IAAM+0G,GAC5B5wG,QAAQH,MAAM,2FAIhB,IAAIoxG,EAAcjvF,EAASrK,QAE3B,OADAs5F,EAAY3oF,SAASuoF,GACdI,EC7jGT,SAAS,GAAar9F,GAAW,IAAIC,EAErC,WAAuC,GAAuB,oBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQrZ,UAAU2E,QAAQG,KAAKmU,QAAQC,UAAUG,QAAS,IAAI,iBAAyB,EAAQ,MAAOpW,IAAK,OAAO,GAF9P,GAA6B,OAAO,WAAkC,IAAsCsW,EAAlCC,GAAQ,OAAgBT,GAAkB,GAAIC,EAA2B,CAAE,IAAIS,GAAY,OAAgBrH,MAAMrS,YAAawZ,EAASN,QAAQC,UAAUM,EAAOrY,UAAWsY,QAAqBF,EAASC,EAAMnH,MAAMD,KAAMjR,WAAc,OAAO,OAA2BiR,KAAMmH,IAM5Z,IAAI88F,GAAyB,SAAUC,IACrC,OAAUD,EAAWC,GAErB,IAAIv8F,EAAS,GAAas8F,GAE1B,SAASA,EAAUzmC,GAGjB,OAFA,OAAgBx9D,KAAMikG,GAEft8F,EAAOjV,KAAKsN,KAAMw9D,GAwY3B,OArYA,OAAaymC,EAAW,CAAC,CACvBtzG,IAAK,QACLuB,MAAO,SAAe47D,GA8SpB,IAAIq2C,EAAmB,EACnBC,EAAmB,EACnBC,EAAe,EACfC,EAAgB,EAChBC,EAAuB,EACvBC,EAAmB,GACnBC,EAAoB,GACpBC,EAAkB,GAClBC,EAAmB,EACnBC,EAAgB,EAChBC,EAAgB,EAChBC,EAAgB,EAChBC,EAAgB,EAChBj3C,EAAOl/D,OAAS,IAAImE,QAAQH,MAAM,uDACtC,IAAImV,EAAS,EACTtJ,EAAU,IAAIikD,WAAWoL,GACzByH,EAAS,CACXyvC,UAAWvmG,EAAQsJ,KACnBk9F,cAAexmG,EAAQsJ,KACvBm9F,WAAYzmG,EAAQsJ,KACpBo9F,eAAgB1mG,EAAQsJ,KAAYtJ,EAAQsJ,MAAa,EACzDq9F,gBAAiB3mG,EAAQsJ,KAAYtJ,EAAQsJ,MAAa,EAC1Ds9F,cAAe5mG,EAAQsJ,KACvBmP,OAAQ,CAACzY,EAAQsJ,KAAYtJ,EAAQsJ,MAAa,EAAGtJ,EAAQsJ,KAAYtJ,EAAQsJ,MAAa,GAC9F4O,MAAOlY,EAAQsJ,KAAYtJ,EAAQsJ,MAAa,EAChD6O,OAAQnY,EAAQsJ,KAAYtJ,EAAQsJ,MAAa,EACjDu9F,WAAY7mG,EAAQsJ,KACpBzV,MAAOmM,EAAQsJ,OAvUjB,SAAwBwtD,GACtB,OAAQA,EAAO2vC,YAEb,KAAKd,EACL,KAAKG,GACChvC,EAAO6vC,gBAAkB,KAAgC,KAAzB7vC,EAAO8vC,eAAiD,IAAzB9vC,EAAO0vC,gBACxElyG,QAAQH,MAAM,iEAGhB,MAGF,KAAKyxG,EACL,KAAKC,EACL,KAAKE,EACL,KAAKC,EACClvC,EAAO0vC,eACTlyG,QAAQH,MAAM,kEAGhB,MAGF,KAAKuxG,EACHpxG,QAAQH,MAAM,6BAGhB,QACEG,QAAQH,MAAM,sCAAuC2iE,EAAO2vC,aAI5D3vC,EAAO5+C,OAAS,GAAK4+C,EAAO3+C,QAAU,IACxC7jB,QAAQH,MAAM,wCAIU,IAAtB2iE,EAAO+vC,YAA0C,KAAtB/vC,EAAO+vC,YAA2C,KAAtB/vC,EAAO+vC,YAA2C,KAAtB/vC,EAAO+vC,YAC5FvyG,QAAQH,MAAM,4CAA6C2iE,EAAO+vC,YAoStEC,CAAehwC,GAEXA,EAAOyvC,UAAYj9F,EAAS+lD,EAAOl/D,QACrCmE,QAAQH,MAAM,6BAIhBmV,GAAUwtD,EAAOyvC,UAEjB,IAAIQ,GAAU,EACVC,GAAU,EACVC,GAAW,EAEf,OAAQnwC,EAAO2vC,YACb,KAAKX,EACHiB,GAAU,EACVC,GAAU,EACV,MAEF,KAAKrB,EACHqB,GAAU,EACV,MAEF,KAAKjB,EACHgB,GAAU,EACV,MAEF,KAAKnB,EACH,MAEF,KAAKI,EACHe,GAAU,EACVE,GAAW,EACX,MAEF,KAAKpB,EACHoB,GAAW,EAKf,IAAIC,EAAY,IAAIjjD,WAAW6S,EAAO5+C,MAAQ4+C,EAAO3+C,OAAS,GAC1DzP,EAzUJ,SAAkBq+F,EAASC,EAASlwC,EAAQxtD,EAAQ8Y,GAClD,IAAI+kF,EAAYC,EACZP,EAAa/vC,EAAO+vC,YAAc,EAClCQ,EAAcvwC,EAAO5+C,MAAQ4+C,EAAO3+C,OAAS0uF,EAOjD,GALIG,IACFI,EAAWhlF,EAAKikC,SAAS/8C,EAAQA,GAAUwtD,EAAO6vC,iBAAmB7vC,EAAO8vC,eAAiB,KAI3FG,EAAS,CAEX,IAAI5iG,EAAG6S,EAAO/kB,EADdk1G,EAAa,IAAIljD,WAAWojD,GAK5B,IAHA,IAAIC,EAAQ,EACRC,EAAS,IAAItjD,WAAW4iD,GAErBS,EAAQD,GAIb,GAFArwF,EAAqB,GAAR,KADb7S,EAAIie,EAAK9Y,OAGD,IAAJnF,EAAU,CAEZ,IAAKlS,EAAI,EAAGA,EAAI40G,IAAc50G,EAC5Bs1G,EAAOt1G,GAAKmwB,EAAK9Y,KAInB,IAAKrX,EAAI,EAAGA,EAAI+kB,IAAS/kB,EACvBk1G,EAAWzjG,IAAI6jG,EAAQD,EAAQr1G,EAAI40G,GAGrCS,GAAST,EAAa7vF,MACjB,CAIL,IAFAA,GAAS6vF,EAEJ50G,EAAI,EAAGA,EAAI+kB,IAAS/kB,EACvBk1G,EAAWG,EAAQr1G,GAAKmwB,EAAK9Y,KAG/Bg+F,GAAStwF,QAKbmwF,EAAa/kF,EAAKikC,SAAS/8C,EAAQA,GAAU09F,EAAUlwC,EAAO5+C,MAAQ4+C,EAAO3+C,OAASkvF,GAGxF,MAAO,CACLF,WAAYA,EACZC,SAAUA,GAuRDI,CAAST,EAASC,EAASlwC,EAAQxtD,EAAQtJ,GAExD,OAjKA,SAAoBoiB,EAAMlK,EAAOC,EAAQ2qD,EAAO33B,GAC9C,IAAIs8D,EAASC,EAASC,EAAQC,EAAQC,EAAOC,EAE7C,QAAShxC,EAAOjjE,MAAQoyG,IAAoBC,GAC1C,QACA,KAAKG,EACHoB,EAAU,EACVE,EAAS,EACTE,EAAQ3vF,EACRwvF,EAAU,EACVE,EAAS,EACTE,EAAQ3vF,EACR,MAEF,KAAKguF,EACHsB,EAAU,EACVE,EAAS,EACTE,EAAQ3vF,EACRwvF,EAAUvvF,EAAS,EACnByvF,GAAU,EACVE,GAAS,EACT,MAEF,KAAKxB,EACHmB,EAAUvvF,EAAQ,EAClByvF,GAAU,EACVE,GAAS,EACTH,EAAU,EACVE,EAAS,EACTE,EAAQ3vF,EACR,MAEF,KAAKiuF,EACHqB,EAAUvvF,EAAQ,EAClByvF,GAAU,EACVE,GAAS,EACTH,EAAUvvF,EAAS,EACnByvF,GAAU,EACVE,GAAS,EAIb,GAAIb,EACF,OAAQnwC,EAAO+vC,YACb,KAAK,GAlFX,SAAkCK,EAAWQ,EAASE,EAAQE,EAAOL,EAASE,EAAQE,EAAO/kC,GAC3F,IAAIpsD,EAEAzR,EACAC,EAFAjT,EAAI,EAGJimB,EAAQ4+C,EAAO5+C,MAEnB,IAAKhT,EAAIwiG,EAASxiG,IAAM4iG,EAAO5iG,GAAK0iG,EAClC,IAAK3iG,EAAIwiG,EAASxiG,IAAM4iG,EAAO5iG,GAAK0iG,EAAQ11G,IAC1CykB,EAAQosD,EAAM7wE,GACdi1G,EAA4B,GAAjBjiG,EAAIiT,EAAQhT,GAAS,GAAKwR,EACrCwwF,EAA4B,GAAjBjiG,EAAIiT,EAAQhT,GAAS,GAAKwR,EACrCwwF,EAA4B,GAAjBjiG,EAAIiT,EAAQhT,GAAS,GAAKwR,EACrCwwF,EAA4B,GAAjBjiG,EAAIiT,EAAQhT,GAAS,GAAK,IAsEnC6iG,CAAyB3lF,EAAMslF,EAASE,EAAQE,EAAOL,EAASE,EAAQE,EAAO/kC,GAC/E,MAEF,KAAK,IAlEX,SAAmCokC,EAAWQ,EAASE,EAAQE,EAAOL,EAASE,EAAQE,EAAO/kC,GAC5F,IACI79D,EACAC,EAFAjT,EAAI,EAGJimB,EAAQ4+C,EAAO5+C,MAEnB,IAAKhT,EAAIwiG,EAASxiG,IAAM4iG,EAAO5iG,GAAK0iG,EAClC,IAAK3iG,EAAIwiG,EAASxiG,IAAM4iG,EAAO5iG,GAAK0iG,EAAQ11G,GAAK,EAC/Ci1G,EAA4B,GAAjBjiG,EAAIiT,EAAQhT,GAAS,GAAK49D,EAAM7wE,EAAI,GAC/Ci1G,EAA4B,GAAjBjiG,EAAIiT,EAAQhT,GAAS,GAAK49D,EAAM7wE,EAAI,GAC/Ci1G,EAA4B,GAAjBjiG,EAAIiT,EAAQhT,GAAS,GAAK49D,EAAM7wE,EAAI,GAC/Ci1G,EAA4B,GAAjBjiG,EAAIiT,EAAQhT,GAAS,GAAK49D,EAAM7wE,EAAI,GAwD7C+1G,CAA0B5lF,EAAMslF,EAASE,EAAQE,EAAOL,EAASE,EAAQE,EAAO/kC,GAChF,MAEF,QACExuE,QAAQH,MAAM,+CAIlB,OAAQ2iE,EAAO+vC,YACb,KAAK,GA9KX,SAA8BK,EAAWQ,EAASE,EAAQE,EAAOL,EAASE,EAAQE,EAAO/kC,EAAOskC,GAC9F,IACI1wF,EAEAzR,EACAC,EAJA+iG,EAAWb,EAEXn1G,EAAI,EAGJimB,EAAQ4+C,EAAO5+C,MAEnB,IAAKhT,EAAIwiG,EAASxiG,IAAM4iG,EAAO5iG,GAAK0iG,EAClC,IAAK3iG,EAAIwiG,EAASxiG,IAAM4iG,EAAO5iG,GAAK0iG,EAAQ11G,IAC1CykB,EAAQosD,EAAM7wE,GACdi1G,EAA4B,GAAjBjiG,EAAIiT,EAAQhT,GAAS,GAAK,IACrCgiG,EAA4B,GAAjBjiG,EAAIiT,EAAQhT,GAAS,GAAK+iG,EAAiB,EAARvxF,EAAY,GAC1DwwF,EAA4B,GAAjBjiG,EAAIiT,EAAQhT,GAAS,GAAK+iG,EAAiB,EAARvxF,EAAY,GAC1DwwF,EAA4B,GAAjBjiG,EAAIiT,EAAQhT,GAAS,GAAK+iG,EAAiB,EAARvxF,EAAY,GAiKxDwxF,CAAqB9lF,EAAMslF,EAASE,EAAQE,EAAOL,EAASE,EAAQE,EAAO/kC,EAAO33B,GAClF,MAEF,KAAK,IA7JX,SAA+B+7D,EAAWQ,EAASE,EAAQE,EAAOL,EAASE,EAAQE,EAAO/kC,GACxF,IAAIpsD,EAEAzR,EACAC,EAFAjT,EAAI,EAGJimB,EAAQ4+C,EAAO5+C,MAEnB,IAAKhT,EAAIwiG,EAASxiG,IAAM4iG,EAAO5iG,GAAK0iG,EAClC,IAAK3iG,EAAIwiG,EAASxiG,IAAM4iG,EAAO5iG,GAAK0iG,EAAQ11G,GAAK,EAC/CykB,EAAQosD,EAAM7wE,EAAI,IAAM6wE,EAAM7wE,EAAI,IAAM,GAExCi1G,EAA4B,GAAjBjiG,EAAIiT,EAAQhT,GAAS,IAAc,MAARwR,IAAmB,EACzDwwF,EAA4B,GAAjBjiG,EAAIiT,EAAQhT,GAAS,IAAc,IAARwR,IAAmB,EACzDwwF,EAA4B,GAAjBjiG,EAAIiT,EAAQhT,GAAS,IAAc,GAARwR,IAAmB,EACzDwwF,EAA4B,GAAjBjiG,EAAIiT,EAAQhT,GAAS,GAAa,MAARwR,EAAiB,EAAI,IAgJxDyxF,CAAsB/lF,EAAMslF,EAASE,EAAQE,EAAOL,EAASE,EAAQE,EAAO/kC,GAC5E,MAEF,KAAK,IA5IX,SAA+BokC,EAAWQ,EAASE,EAAQE,EAAOL,EAASE,EAAQE,EAAO/kC,GACxF,IACI79D,EACAC,EAFAjT,EAAI,EAGJimB,EAAQ4+C,EAAO5+C,MAEnB,IAAKhT,EAAIwiG,EAASxiG,IAAM4iG,EAAO5iG,GAAK0iG,EAClC,IAAK3iG,EAAIwiG,EAASxiG,IAAM4iG,EAAO5iG,GAAK0iG,EAAQ11G,GAAK,EAC/Ci1G,EAA4B,GAAjBjiG,EAAIiT,EAAQhT,GAAS,GAAK,IACrCgiG,EAA4B,GAAjBjiG,EAAIiT,EAAQhT,GAAS,GAAK49D,EAAM7wE,EAAI,GAC/Ci1G,EAA4B,GAAjBjiG,EAAIiT,EAAQhT,GAAS,GAAK49D,EAAM7wE,EAAI,GAC/Ci1G,EAA4B,GAAjBjiG,EAAIiT,EAAQhT,GAAS,GAAK49D,EAAM7wE,EAAI,GAkI7Cm2G,CAAsBhmF,EAAMslF,EAASE,EAAQE,EAAOL,EAASE,EAAQE,EAAO/kC,GAC5E,MAEF,KAAK,IA9HX,SAA+BokC,EAAWQ,EAASE,EAAQE,EAAOL,EAASE,EAAQE,EAAO/kC,GACxF,IACI79D,EACAC,EAFAjT,EAAI,EAGJimB,EAAQ4+C,EAAO5+C,MAEnB,IAAKhT,EAAIwiG,EAASxiG,IAAM4iG,EAAO5iG,GAAK0iG,EAClC,IAAK3iG,EAAIwiG,EAASxiG,IAAM4iG,EAAO5iG,GAAK0iG,EAAQ11G,GAAK,EAC/Ci1G,EAA4B,GAAjBjiG,EAAIiT,EAAQhT,GAAS,GAAK49D,EAAM7wE,EAAI,GAC/Ci1G,EAA4B,GAAjBjiG,EAAIiT,EAAQhT,GAAS,GAAK49D,EAAM7wE,EAAI,GAC/Ci1G,EAA4B,GAAjBjiG,EAAIiT,EAAQhT,GAAS,GAAK49D,EAAM7wE,EAAI,GAC/Ci1G,EAA4B,GAAjBjiG,EAAIiT,EAAQhT,GAAS,GAAK49D,EAAM7wE,EAAI,GAoH7Co2G,CAAsBjmF,EAAMslF,EAASE,EAAQE,EAAOL,EAASE,EAAQE,EAAO/kC,GAC5E,MAEF,QACExuE,QAAQH,MAAM,2CAqFtBm0G,CAAWpB,EAAWpwC,EAAO5+C,MAAO4+C,EAAO3+C,OAAQzP,EAAOy+F,WAAYz+F,EAAO0+F,UACtE,CACLhlF,KAAM8kF,EACNhvF,MAAO4+C,EAAO5+C,MACdC,OAAQ2+C,EAAO3+C,OACf6jF,OAAO,EACPuM,iBAAiB,EACjBnM,UAAW,WAKVoJ,EAhZoB,CAiZ3B,OCvZF,SAAS,GAAat9F,GAAW,IAAIC,EAErC,WAAuC,GAAuB,oBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQrZ,UAAU2E,QAAQG,KAAKmU,QAAQC,UAAUG,QAAS,IAAI,iBAAyB,EAAQ,MAAOpW,IAAK,OAAO,GAF9P,GAA6B,OAAO,WAAkC,IAAsCsW,EAAlCC,GAAQ,OAAgBT,GAAkB,GAAIC,EAA2B,CAAE,IAAIS,GAAY,OAAgBrH,MAAMrS,YAAawZ,EAASN,QAAQC,UAAUM,EAAOrY,UAAWsY,QAAqBF,EAASC,EAAMnH,MAAMD,KAAMjR,WAAc,OAAO,OAA2BiR,KAAMmH,IA64F1Z,MC74FF,SAAS,GAAaR,GAAW,IAAIC,EAErC,WAAuC,GAAuB,oBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQrZ,UAAU2E,QAAQG,KAAKmU,QAAQC,UAAUG,QAAS,IAAI,iBAAyB,EAAQ,MAAOpW,IAAK,OAAO,GAF9P,GAA6B,OAAO,WAAkC,IAAsCsW,EAAlCC,GAAQ,OAAgBT,GAAkB,GAAIC,EAA2B,CAAE,IAAIS,GAAY,OAAgBrH,MAAMrS,YAAawZ,EAASN,QAAQC,UAAUM,EAAOrY,UAAWsY,QAAqBF,EAASC,EAAMnH,MAAMD,KAAMjR,WAAc,OAAO,OAA2BiR,KAAMmH,IAwvB1Z,MA1uBF,IA6uBI8/F,GAAW,MAGXC,GAAY,MAEZC,GAAS,MACTC,GAAc,EAEdC,GAAU,GACVC,GAAW,GACXC,GAAe,GACfC,GAAc,GACdC,GAAiB,GACjBC,GAAmB,GACnBC,GAAQ,MACRC,GAAe,MACfC,GAAe,IAwBfC,GAAY,MACZC,GAAW,MACXC,GAAc,MACdC,GAAc,MACdC,GAAe,MACfC,GAAgB,MAEhBC,GAAmB,MAOnBC,GAAe,MAEfC,GAAe,MACfC,GAAW,MAKXC,GAAgB,MAChBC,GAAa,MAQbC,GAAc,MAIdC,GAAc,MAIdC,GAAc,MAgBdC,GAAc,MAGdC,GAAiB,MACjBC,GAAiB,MACjBC,GAAkB,MAClBC,GAAkB,MAOlBC,GAAe,MA8BfC,GAAe,MACfC,GAAc,MAEdC,GAAa,MACbC,GAAgB,MAGhBC,GAAY,MACZC,GAAc,MC34BdC,GAAiB,GAGjBC,GAAiB,GAEf1nC,IAAU,IAAI2nC,EAAAA,KAAsBvrC,KAAK,2DAC/C4D,GAAQW,MAAQgnC,EAAAA,IAChB3nC,GAAQY,MAAQ+mC,EAAAA,IAChB3nC,GAAQ44B,UAAY+O,EAAAA,IAEpB,IAAMC,IAAW,IAAID,EAAAA,KAAsBvrC,KAAK,iDAyHzC,SAASyrC,GAAUvwF,GAErBlgB,OAAO2tB,QAYX3tB,OAAO2tB,MAAMllB,SAAWzI,OAAO2tB,MAAMllB,SAASzK,QAAQ,SAAAsM,GAAC,MAAe,eAAXA,EAAE/U,MAAoC,mBAAX+U,EAAE/U,QA9DzF,SAAiBqL,GAChB,GAAGZ,OAAO0wG,IAAK,OAAO9vG,EAAGZ,OAAO0wG,MAEjB,IAAIxsC,IAEZc,KAAK,wCAAwC,SAAU2rC,GAC7D,IAAM90F,EAAW,IAAI00F,EAAAA,IAAyB,CAAEz1G,IAAK8tE,GAAS06B,KAAMiN,EAAAA,IAAkBpiF,aAAa,EAAMpS,MAAO,IAEhH40F,EAAI7hC,UAAS,SAAAvnE,GACM,aAAfA,EAAMhS,OACRgS,EAAMsU,SAAWA,MAGnB7b,OAAO0wG,IAAMC,EACb/vG,EAAG+vG,UACDxzG,GAAW,SAAW3D,GACxBG,QAAQH,MAAMA,MAgDfo3G,EAAS,SAAAF,GACR,IAAIG,EAAOH,EAAIp/F,QACf,GAAgB,IAAb4O,EAAM,GAAS,CACjB2wF,EAAKl+B,SAASpoE,EAAIqF,KAAKC,GAAK,EAC5BghG,EAAKr/F,SAASlH,EAAI,GAClB,IAAI2+F,GAAM,IAAIsH,EAAAA,KAAaO,cAAeD,GACxBjhG,KAAKqO,IAAIgrF,EAAIz1F,IAAIhJ,GAAKoF,KAAKqO,IAAIgrF,EAAI11F,IAAI/I,GACzDqmG,EAAKj9F,MAAM7K,IAAI,GAAI,GAAI,IAEvB8nG,EAAKr/F,SAAShH,GAAI,KAClBqmG,EAAKr/F,SAASjH,EAAI,GAClBsmG,EAAKt7G,KAAO,aACZyK,OAAO2tB,MAAM5Z,IAAI88F,GAGlB,GAAgB,IAAb3wF,EAAM,GAAS,CACjB2wF,EAAKl+B,SAASpoE,EAAIqF,KAAKC,GAAK,EAC5BghG,EAAKr/F,SAASlH,EAAI,GAClB,IAAI2+F,GAAM,IAAIsH,EAAAA,KAAaO,cAAeD,GACtCj9F,EAAQ,IAAMhE,KAAKqO,IAAIgrF,EAAIz1F,IAAIhJ,GAAKoF,KAAKqO,IAAIgrF,EAAI11F,IAAI/I,IACzDqmG,EAAKj9F,MAAM7K,IAAI6K,EAAM,IAAK,IAE1Bi9F,EAAKr/F,SAAShH,GAAI,KAClBqmG,EAAKr/F,SAASjH,EAAI,GAElBsmG,EAAKt7G,KAAO,iBACZyK,OAAO2tB,MAAM5Z,IAAI88F,GAGlB7wG,OAAO0uB,SAASt4B,OAAO4J,OAAO2tB,MAAO3tB,OAAO2c,YAGvC,SAASo0F,GAAY7wF,EAAM3C,EAAM/nB,IAhHxC,SAAoBoL,GACnB,GAAGZ,OAAO0uC,MAAO,OAAO9tC,EAAGZ,OAAO0uC,QAEnB,IAAIw1B,IAEZc,KAAM,wCAAwC,SAAW2rC,GAC/D3wG,OAAO0uC,MAAQiiE,EACf/vG,EAAG+vG,UAEDxzG,GAAW,SAAW3D,GAExBG,QAAQH,MAAOA,MAsGfw3G,EAAW,SAAStiE,GAEH,IAAbxuB,EAAM,IAAYowF,GAAc,aA9ErCtwG,OAAO2tB,MAAMllB,SAAWzI,OAAO2tB,MAAMllB,SAASzK,QAAO,SAAAsM,GAAC,MAAe,oBAAXA,EAAE/U,MAAyC,iBAAX+U,EAAE/U,QAgFzF+6G,GAAc,YAAiB,GAEhB,IAAbpwF,EAAM,IAAYowF,GAAc,UA9ErCtwG,OAAO2tB,MAAMllB,SAAWzI,OAAO2tB,MAAMllB,SAASzK,QAAO,SAAAsM,GAAC,MAAe,iBAAXA,EAAE/U,MAAsC,cAAX+U,EAAE/U,QAgFtF+6G,GAAc,SAAc,GAEb,IAAbpwF,EAAM,IAAYowF,GAAc,YA9ErCtwG,OAAO2tB,MAAMllB,SAAWzI,OAAO2tB,MAAMllB,SAASzK,QAAO,SAAAsM,GAAC,MAAe,mBAAXA,EAAE/U,MAAwC,gBAAX+U,EAAE/U,QAgFxF+6G,GAAc,WAAgB,GAEf,IAAbpwF,EAAM,IAAYowF,GAAc,eA9ErCtwG,OAAO2tB,MAAMllB,SAAWzI,OAAO2tB,MAAMllB,SAASzK,QAAO,SAAAsM,GAAC,MAAe,sBAAXA,EAAE/U,MAA2C,mBAAX+U,EAAE/U,QAgF3F+6G,GAAc,cAAmB,GAElB,IAAbpwF,EAAM,IAAYowF,GAAc,WA9ErCtwG,OAAO2tB,MAAMllB,SAAWzI,OAAO2tB,MAAMllB,SAASzK,QAAO,SAAAsM,GAAC,MAAe,kBAAXA,EAAE/U,MAAuC,eAAX+U,EAAE/U,QAgFvF+6G,GAAc,UAAe,GAEd,IAAbpwF,EAAM,IAAYowF,GAAc,cA9ErCtwG,OAAO2tB,MAAMllB,SAAWzI,OAAO2tB,MAAMllB,SAASzK,QAAO,SAAAsM,GAAC,MAAe,qBAAXA,EAAE/U,MAA0C,kBAAX+U,EAAE/U,QAgF1F+6G,GAAc,aAAkB,GAG9BpwF,EAAM,KAAOowF,GAAc,cA8BjC,SAA+B5hE,EAAOnxB,EAAO/nB,IAC5Ck5C,EAAQA,EAAMp9B,SACRsC,MAAM7K,IAAI,KAAM,KAAM,MAC5B2lC,EAAMikC,SAASpoE,EAAIqF,KAAKC,GAAK,EAAI,EAEjC6+B,EAAMl9B,SAASlH,IAAM9U,EAAO,EAAE,IAAI,EAAE,EACpCk5C,EAAMl9B,SAAShH,GAAK+S,EAAM,EAAE,IAAI,EAAE,EAClCmxB,EAAMn5C,KAAO,kBACbyK,OAAO2tB,MAAM5Z,IAAI26B,GACjB25C,GAAa35C,EAAMl9B,SAAU,CAAClH,EAAGokC,EAAMl9B,SAASlH,EAAGC,EAAG,EAAGC,GAAI,IAAK,gBAtC/DymG,CAAsBviE,EAAOnxB,EAAO/nB,GACpC86G,GAAc,YAAiB,GAE7BpwF,EAAM,KAAOowF,GAAc,WAuCjC,SAA4B5hE,EAAOnxB,EAAO/nB,IACzCk5C,EAAQA,EAAMp9B,SACRsC,MAAM7K,IAAI,KAAM,KAAM,MAC5B2lC,EAAMikC,SAASpoE,EAAIqF,KAAKC,GAAK,EAE7B6+B,EAAMl9B,SAASlH,IAAM9U,EAAO,EAAE,IAAI,EAAE,EACpCk5C,EAAMl9B,SAAShH,GAAK,IAAI+S,EAAM,EAAE,IAAI,EAAE,EACtCmxB,EAAMn5C,KAAO,eACbyK,OAAO2tB,MAAM5Z,IAAI26B,GACjB25C,GAAa35C,EAAMl9B,SAAU,CAAClH,EAAGokC,EAAMl9B,SAASlH,EAAGC,EAAG,EAAGC,GAAI,IAAK,aA/C/D0mG,CAAmBxiE,EAAOnxB,EAAO/nB,GACjC86G,GAAc,SAAc,GAE1BpwF,EAAM,KAAOowF,GAAc,aA+CjC,SAA8B5hE,EAAOnxB,EAAO/nB,IAC3Ck5C,EAAQA,EAAMp9B,SACRsC,MAAM7K,IAAI,KAAM,KAAM,MAC5B2lC,EAAMikC,SAASpoE,EAAIqF,KAAKC,GAAK,EAC7B,IAAIo5F,GAAM,IAAIsH,EAAAA,KAAaO,cAAepiE,GAC1C/0C,QAAQy0B,IAAI66E,GACZv6D,EAAMl9B,SAASlH,IAAM9U,EAAO,EAAE,IAAI,EAAEA,EAAO,EAAI,EAC/Ck5C,EAAMl9B,SAAShH,GAAK,IAAI+S,EAAM,EAAE,IAAI,EAAI,EACxCmxB,EAAMn5C,KAAO,iBACbyK,OAAO2tB,MAAM5Z,IAAI26B,GACjB25C,GAAa35C,EAAMl9B,SAAU,CAAClH,EAAG,GAAIC,EAAE,EAAGC,GAAG,IAAK,eAxD/C2mG,CAAqBziE,EAAOnxB,EAAO/nB,GACnC86G,GAAc,WAAgB,GAE5BpwF,EAAM,KAAOowF,GAAc,gBAwDjC,SAAiC5hE,EAAOnxB,EAAO/nB,IAC9Ck5C,EAAQA,EAAMp9B,SACRsC,MAAM7K,IAAI,KAAM,KAAM,MAC5B2lC,EAAMikC,SAASpoE,EAAIqF,KAAKC,GAAK,EAAI,EACjC,IAAIo5F,GAAM,IAAIsH,EAAAA,KAAaO,cAAepiE,GAC1CA,EAAMl9B,SAASlH,IAAM9U,EAAO,EAAE,IAAI,EAAEA,EAAO,GAAKyzG,EAAIz1F,IAAIlJ,EAAI2+F,EAAI11F,IAAIjJ,GAAK,EAAI,IAC7EokC,EAAMl9B,SAAShH,GAAK+S,EAAM,EAAE,IAAI,EAAI,EACpCmxB,EAAMn5C,KAAO,oBACbyK,OAAO2tB,MAAM5Z,IAAI26B,GACjB25C,GAAa35C,EAAMl9B,SAAU,CAAClH,EAAGokC,EAAMl9B,SAASlH,EAAGC,EAAG,EAAGC,GAAI,IAAK,kBAhE/D4mG,CAAwB1iE,EAAOnxB,EAAO/nB,GACtC86G,GAAc,cAAmB,GAE/BpwF,EAAM,KAAOowF,GAAc,YAiEjC,SAA6B5hE,EAAOnxB,EAAO/nB,IAC1Ck5C,EAAQA,EAAMp9B,SACRsC,MAAM7K,IAAI,KAAM,KAAM,MAC5B2lC,EAAMikC,SAASpoE,EAAIqF,KAAKC,GAAK,GACnB,IAAI0gG,EAAAA,KAAaO,cAAepiE,GAC1CA,EAAMl9B,SAASlH,IAAM9U,EAAO,EAAE,IAAI,EAAEA,EAAS,EAC7Ck5C,EAAMl9B,SAAShH,GAAK,IAAI+S,EAAM,EAAE,IAAI,EAAI,EACxCmxB,EAAMn5C,KAAO,gBACbyK,OAAO2tB,MAAM5Z,IAAI26B,GACjB25C,GAAa35C,EAAMl9B,SAAU,CAAClH,EAAGokC,EAAMl9B,SAASlH,EAAGC,EAAG,EAAGC,GAAI,IAAK,cAzE/D6mG,CAAoB3iE,EAAOnxB,EAAO/nB,GAClC86G,GAAc,UAAe,GAE3BpwF,EAAM,KAAOowF,GAAc,eAyEjC,SAAgC5hE,EAAOnxB,EAAO/nB,IAC7Ck5C,EAAQA,EAAMp9B,SACRsC,MAAM7K,IAAI,KAAM,KAAM,MAC5B2lC,EAAMikC,SAASpoE,EAAIqF,KAAKC,GAAK,EAAI,EACjC6+B,EAAMl9B,SAASlH,IAAM9U,EAAO,EAAE,IAAI,EAAEA,EAAS,EAC7Ck5C,EAAMl9B,SAAShH,GAAK+S,EAAM,EAAE,IAAI,EAAI,EACpCmxB,EAAMn5C,KAAO,mBACbyK,OAAO2tB,MAAM5Z,IAAI26B,GACjB25C,GAAa35C,EAAMl9B,SAAU,CAAClH,EAAGokC,EAAMl9B,SAASlH,EAAGC,EAAG,EAAGC,GAAI,IAAK,iBAhF/D8mG,CAAuB5iE,EAAOnxB,EAAO/nB,GACrC86G,GAAc,aAAkB,GAIjCtwG,OAAO0uB,SAASt4B,OAAO4J,OAAO2tB,MAAO3tB,OAAO2c,WA+ExC,SAAS6rC,GAAWtoC,EAAO3C,EAAO/nB,GAEpCwK,OAAO2tB,OA9QZ,SAAkB/sB,GACjB,GAAGZ,OAAOuxG,KAAM,OAAO3wG,EAAGZ,OAAOuxG,OAElB,IAAIrtC,IAEZc,KAAM,wCAAwC,SAAW2rC,GAC/DA,EAAI7hC,UAAS,SAAAvnE,GACTA,EAAMkgG,SACRlgG,EAAMsqE,YAAa,EACnBtqE,EAAMiqG,eAAgB,EACnBjqG,EAAMsU,SAAS/gB,MAAKyM,EAAMsU,SAAS/gB,IAAI22G,WAAa,QAGzDzxG,OAAOuxG,KAAOZ,EACd/vG,EAAG+vG,UAEDxzG,GAAW,SAAW3D,GAExBG,QAAQH,MAAOA,MAwQhBk4G,EAAS,SAASljC,GACD,IAAbtuD,EAAM,IAAamwF,GAAc,QAkDtC,SAAwB7hC,EAAOjxD,EAAO/nB,IACrCg5E,EAAQA,EAAMl9D,SACRsC,MAAM7K,IAAI,IAAK,IAAK,KAC1BylE,EAAMmE,SAAS5pE,KAAK6G,KAAKC,GAAK,EAAGD,KAAKC,GAAK,EAAGD,KAAKC,GAAK,GACxD2+D,EAAMh9D,SAASzI,IAAI,EAAG,GAAI,MAE1B,IAAIs8F,EAAQ,IAAIkL,EAAAA,IAEF,IAAIA,EAAAA,IAAkB,SAAU,IAAK,IAC7C/+F,SAASzI,KAAM,EAAG,GAAI,MAEb,IAAIwnG,EAAAA,IAAkB,SAAU,GAAI,GAC5C/+F,SAASzI,IAAK,EAAG,KAAM,MAEf,IAAIwnG,EAAAA,IAAkB,SAAU,EAAG,IAC3C/+F,SAASzI,IAAK,EAAG,IAAK,MAEd,IAAIwnG,EAAAA,IAAkB,SAAU,EAAG,IAC3C/+F,SAASzI,KAAK,EAAG,IAAK,MAQ7Bs8F,EAAMtxF,IAAIy6D,GAEV62B,EAAM9vG,KAAO,WACb8vG,EAAM7zF,SAASlH,KAAO9U,EAAO,IAAI,EAAE,GACnCwK,OAAO2tB,MAAM5Z,IAAIsxF,GA/EfsM,CAAenjC,EAAOjxD,EAAO/nB,GAC7B66G,GAAc,MAAW,GAEV,IAAbnwF,EAAM,IAAamwF,GAAc,SA+EtC,SAAyB7hC,EAAOjxD,EAAM/nB,GACrCg5E,EAAQA,EAAMl9D,QACdtR,OAAO4xG,GAAKpjC,EACZA,EAAM56D,MAAM7K,IAAI,IAAK,IAAK,KAC1BylE,EAAMmE,SAAS5pE,IAAI6G,KAAKC,GAAK,EAAI,EAAGD,KAAKC,GAAK,EAAI,EAAGD,KAAKC,GAAK,EAAI,GACnE2+D,EAAMh9D,SAASzI,IAAI,EAAG,EAAG,GAEzB,IAAIs8F,EAAQ,IAAIkL,EAAAA,IAEF,IAAIA,EAAAA,IAAkB,SAAU,IAAK,IAC7C/+F,SAASzI,KAAM,EAAG,GAAI,MAEb,IAAIwnG,EAAAA,IAAkB,SAAU,GAAI,GAC5C/+F,SAASzI,IAAK,EAAG,KAAM,MAEf,IAAIwnG,EAAAA,IAAkB,SAAU,EAAG,IAC3C/+F,SAASzI,IAAK,EAAG,IAAK,MAEd,IAAIwnG,EAAAA,IAAkB,SAAU,EAAG,IAC3C/+F,SAASzI,KAAK,EAAG,IAAK,MAQ7Bs8F,EAAMtxF,IAAIy6D,GAEV62B,EAAM9vG,KAAO,YAEb8vG,EAAM7zF,SAASlH,EAAI9U,EAAO,GAAGA,EAAO,EAAE,IAAI,EAAI,EAC9C6vG,EAAM7zF,SAAShH,GAAK,KACpBxK,OAAO2tB,MAAM5Z,IAAIsxF,GA/GfwM,CAAgBrjC,EAAOjxD,EAAO/nB,GAC9B66G,GAAc,OAAY,GAEX,IAAbnwF,EAAM,IAAamwF,GAAc,OA+GtC,SAAuB7hC,EAAOjxD,EAAM/nB,GACnCg5E,EAAQA,EAAMl9D,QACdtR,OAAO4xG,GAAKpjC,EACZA,EAAM56D,MAAM7K,IAAI,IAAK,IAAK,KAC1BylE,EAAMh9D,SAASzI,IAAI,EAAG,EAAG,GAGzB,IAAIs8F,EAAQ,IAAIkL,EAAAA,IAEF,IAAIA,EAAAA,IAAkB,SAAU,IAAK,IAC7C/+F,SAASzI,KAAM,EAAG,GAAI,MAEb,IAAIwnG,EAAAA,IAAkB,SAAU,GAAI,GAC5C/+F,SAASzI,IAAK,EAAG,KAAM,MAEf,IAAIwnG,EAAAA,IAAkB,SAAU,EAAG,IAC3C/+F,SAASzI,IAAK,EAAG,IAAK,MAEd,IAAIwnG,EAAAA,IAAkB,SAAU,EAAG,IAC3C/+F,SAASzI,KAAK,EAAG,IAAK,MAQ7Bs8F,EAAMtxF,IAAIy6D,GAGV62B,EAAM9vG,KAAO,UACb8vG,EAAM7zF,SAASlH,EAAI,GACnB+6F,EAAM7zF,SAAShH,GAAK,IAAK+S,EAAM,EAAE,IAAI,EAAK,EAC1Cvd,OAAO2tB,MAAM5Z,IAAIsxF,GA/IfyM,CAActjC,EAAOjxD,GACrB8yF,GAAc,KAAU,GAET,IAAbnwF,EAAM,IAAamwF,GAAc,aA+ItC,SAA6B7hC,EAAOjxD,EAAM/nB,GACzCg5E,EAAQA,EAAMl9D,QACdtR,OAAO4xG,GAAKpjC,EACZA,EAAM56D,MAAM7K,IAAI,IAAK,IAAK,KAC1BylE,EAAMh9D,SAASzI,IAAI,EAAG,EAAG,GAGzB,IAAIs8F,EAAQ,IAAIkL,EAAAA,IAEF,IAAIA,EAAAA,IAAkB,SAAU,IAAK,IAC7C/+F,SAASzI,KAAM,EAAG,GAAI,IAAKwU,EAAM,EAAE,IAAI,EAAK,EAAI,GAEvC,IAAIgzF,EAAAA,IAAkB,SAAU,GAAI,GAC5C/+F,SAASzI,IAAK,EAAG,KAAM,IAAKwU,EAAM,EAAE,IAAI,EAAK,EAAI,GAEzC,IAAIgzF,EAAAA,IAAkB,SAAU,EAAG,IAC3C/+F,SAASzI,IAAK,EAAG,IAAK,IAAKwU,EAAM,EAAE,IAAI,EAAK,EAAI,GAExC,IAAIgzF,EAAAA,IAAkB,SAAU,EAAG,IAC3C/+F,SAASzI,KAAK,EAAG,IAAK,IAAKwU,EAAM,EAAE,IAAI,EAAK,EAAI,GAQvD8nF,EAAMtxF,IAAIy6D,GAEV62B,EAAM9vG,KAAO,gBACb8vG,EAAM7zF,SAASlH,EAAI,KACnB+6F,EAAM7zF,SAAShH,GAAK,IAAK+S,EAAM,EAAE,IAAI,EAAK,EAC1Cvd,OAAO2tB,MAAM5Z,IAAIsxF,GA9Kf0M,CAAoBvjC,EAAOjxD,GAC3B8yF,GAAc,WAAgB,GAEf,IAAbnwF,EAAM,IAAamwF,GAAc,gBA8KtC,SAAgC7hC,EAAOjxD,EAAM/nB,GAC5Cg5E,EAAQA,EAAMl9D,QACdtR,OAAO4xG,GAAKpjC,EACZA,EAAM56D,MAAM7K,IAAI,IAAK,IAAK,KAC1BylE,EAAMh9D,SAASzI,IAAI,EAAG,EAAG,GACzBylE,EAAMmE,SAASpoE,EAAIqF,KAAKC,GAAK,EAAI,EAGjC,IAAIw1F,EAAQ,IAAIkL,EAAAA,IAEF,IAAIA,EAAAA,IAAkB,SAAU,IAAK,IAC7C/+F,SAASzI,KAAM,EAAG,GAAI,MAEb,IAAIwnG,EAAAA,IAAkB,SAAU,GAAI,GAC5C/+F,SAASzI,IAAK,EAAG,KAAM,MAEf,IAAIwnG,EAAAA,IAAkB,SAAU,EAAG,IAC3C/+F,SAASzI,IAAK,EAAG,IAAK,MAEd,IAAIwnG,EAAAA,IAAkB,SAAU,EAAG,IAC3C/+F,SAASzI,KAAK,EAAG,IAAK,MAQ7Bs8F,EAAMtxF,IAAIy6D,GAEV62B,EAAM9vG,KAAO,mBACb8vG,EAAM7zF,SAASlH,EAAI,KACnB+6F,EAAM7zF,SAAShH,EAAK+S,EAAM,EAAI,OAAW,GAAM,EAC/Cvd,OAAO2tB,MAAM5Z,IAAIsxF,GA9Mf2M,CAAuBxjC,EAAOjxD,GAC9B8yF,GAAc,cAAmB,GAGlB,IAAbnwF,EAAM,IAAYmwF,GAAc,OAClC4B,GAAW,YACX5B,GAAc,MAAW,GAEV,IAAbnwF,EAAM,IAAYmwF,GAAc,QAClC4B,GAAW,aACX5B,GAAc,OAAY,GAEX,IAAbnwF,EAAM,IAAYmwF,GAAc,MAClC4B,GAAW,WACX5B,GAAc,KAAU,GAGT,IAAbnwF,EAAM,IAAYmwF,GAAc,YAClC4B,GAAW,iBACX5B,GAAc,WAAgB,GAEf,IAAbnwF,EAAM,IAAYmwF,GAAc,eAClC4B,GAAW,oBACX5B,GAAc,cAAmB,GAGlCrwG,OAAO0uB,SAASt4B,OAAO4J,OAAO2tB,MAAO3tB,OAAO2c,WAI9C,SAASs1F,GAAW5kF,GACnBrtB,OAAO2tB,MAAMllB,SAAWzI,OAAO2tB,MAAMllB,SAASzK,QAAO,SAAAsM,GAAC,OAAIA,EAAE/U,OAAS83B,KAkL/D,SAAS6kF,GAAYhyF,EAAM3C,EAAM/nB,EAAQqqD,GAC3C7/C,OAAO0uB,WAEQ1uB,OAAO2tB,MAAMllB,SAASvE,MAAK,SAAAoG,GAAC,MAAe,WAAXA,EAAE/U,SAEhCsqD,IACpBtiC,GAASsiC,GAAO,EAChBrqD,GAAUqqD,GAAO,GA9hBZ,SAAmBj/C,GACzB,GAAGZ,OAAOmyG,MAAO,OAAOvxG,EAAGZ,OAAOmyG,QACnB,IAAIjuC,IAEZc,KAAM,sDAAsD,SAAW2rC,GAC7EA,EAAI7hC,UAAS,SAAAvnE,GACM,YAAfA,EAAMhS,MAAqC,YAAfgS,EAAMhS,OACpCgS,EAAMsU,SAAW,IAAI00F,EAAAA,IAAyB,CAAEz1G,IAAK01G,GAAUriF,aAAa,EAAMrN,QAAS,MAGzFvZ,EAAMkgG,SACRlgG,EAAMsqE,YAAa,EACnBtqE,EAAMiqG,eAAgB,EACnBjqG,EAAMsU,SAAS/gB,MAAKyM,EAAMsU,SAAS/gB,IAAI22G,WAAa,QAGzDzxG,OAAOmyG,MAAQxB,EACf/vG,EAAG+vG,UAEDxzG,GAAW,SAAW3D,GAExBG,QAAQH,MAAOA,MA2gBhB44G,EAAU,SAACzB,GAiBX3wG,OAAO2tB,MAAMllB,SAAWzI,OAAO2tB,MAAMllB,SAASzK,QAAO,SAAAsM,GAAC,MAAe,cAAXA,EAAE/U,QAQ5DyK,OAAO2tB,MAAMllB,SAAWzI,OAAO2tB,MAAMllB,SAASzK,QAAO,SAAAsM,GAAC,MAAe,aAAXA,EAAE/U,QAI5DyK,OAAO2tB,MAAMllB,SAAWzI,OAAO2tB,MAAMllB,SAASzK,QAAO,SAAAsM,GAAC,MAAe,gBAAXA,EAAE/U,QAR5DyK,OAAO2tB,MAAMllB,SAAWzI,OAAO2tB,MAAMllB,SAASzK,QAAO,SAAAsM,GAAC,MAAe,eAAXA,EAAE/U,QAd3C,IAAb2qB,EAAM,IAwBX,SAAyBywF,EAAKpzF,EAAO/nB,GACpC,IAAI6vG,EAAQ,IAAIkL,EAAAA,IAEZ8B,EAAM1B,EAAIr/F,QACd+gG,EAAI5pG,SAAW4pG,EAAI5pG,SAASzK,QAAO,SAAAsM,GAAC,MAAe,WAAXA,EAAE/U,QAiB1C,IAZA,IAAI0zG,GAAM,IAAIsH,EAAAA,KAAaO,cAAeuB,GAEtCC,EAAgBrJ,EAAIz1F,IAAIlJ,EAAI2+F,EAAI11F,IAAIjJ,EAGpCioG,EAAY3iG,KAAK+a,OAAOpN,EAAQ,GAAK,IAKrCi1F,GAFe,IAFFj1F,EAAQ,GAAK,GAEOg1F,GAEVD,EAEnBh7G,EAAI,EAAGA,EAAIi7G,EAAWj7G,IAAI,CACjC,IAAIgsB,EAAK+uF,EAAI/gG,QACbgS,EAAG1P,MAAM7K,IAAIypG,EAAO,GAAK,KAEzBF,GADArJ,GAAM,IAAIsH,EAAAA,KAAaO,cAAextF,IAClB9P,IAAIlJ,EAAI2+F,EAAI11F,IAAIjJ,EAEpCgZ,EAAG9R,SAASzI,IAAIupG,EAAeh7G,EAAE,EAAG,GACpC+tG,EAAMtxF,IAAIuP,GAGX+hF,EAAM7zF,SAASzI,MAAMvT,EAAO,GAAG,GAAG,GAAG,KAAM88G,EAAa,GAAG/0F,EAAM,EAAE,IAAI,GACvE8nF,EAAM1yB,SAAS5pE,IAAI,EAAG6G,KAAKC,GAAK,EAAG,GAEnCw1F,EAAM9vG,KAAO,YACbyK,OAAO2tB,MAAM5Z,IAAIsxF,GA3DMoN,CAAgB9B,EAAIpzF,EAAM/nB,GAChC,IAAb0qB,EAAM,IA6DX,SAAwBywF,EAAKpzF,EAAO/nB,GACnC,IAAI6vG,EAAQ,IAAIkL,EAAAA,IAGZ8B,EAAM1B,EAAIr/F,QAEd+gG,EAAI5pG,SAAW4pG,EAAI5pG,SAASzK,QAAO,SAAAsM,GAAC,MAAe,WAAXA,EAAE/U,QAe1C,IAVA,IAAI0zG,GAAM,IAAIsH,EAAAA,KAAaO,cAAeuB,GACtCK,EAAiBzJ,EAAIz1F,IAAIlJ,EAAI2+F,EAAI11F,IAAIjJ,EAErCioG,EAAY3iG,KAAK+a,OAAOn1B,EAAS,GAAK,IAKtCg9G,GAFgB,IAFHh9G,EAAS,GAAK,GAEO+8G,GAEVG,EAEpBp7G,EAAI,EAAGA,EAAIi7G,EAAWj7G,IAAI,CACjC,IAAIgsB,EAAK+uF,EAAI/gG,QACbgS,EAAG1P,MAAM7K,IAAIypG,EAAO,GAAK,KAEzBE,GADAzJ,GAAM,IAAIsH,EAAAA,KAAaO,cAAextF,IACjB9P,IAAIlJ,EAAI2+F,EAAI11F,IAAIjJ,EAErCgZ,EAAG9R,SAASzI,IAAI2pG,EAAgBp7G,EAAE,EAAG,GACrC+tG,EAAMtxF,IAAIuP,GAGX+hF,EAAM7zF,SAASzI,MAAMvT,EAAO,GAAG,GAAG,EAAEk9G,EAAc,GAAG,KAAM,IAAKn1F,EAAM,EAAE,IAAI,GAC5E8nF,EAAM1yB,SAAS5pE,IAAI,EAAG,EAAG,GAEzBs8F,EAAM9vG,KAAO,WACbyK,OAAO2tB,MAAM5Z,IAAIsxF,GAhGMsN,CAAehC,EAAKpzF,EAAO/nB,GACjC,IAAb0qB,EAAM,IAkGX,SAA2BywF,EAAKpzF,EAAO/nB,GACtC,IAAI6vG,EAAQ,IAAIkL,EAAAA,IAEZ8B,EAAM1B,EAAIr/F,QACd+gG,EAAI5pG,SAAW4pG,EAAI5pG,SAASzK,QAAO,SAAAsM,GAAC,MAAe,WAAXA,EAAE/U,QAe1C,IAVA,IAAI0zG,GAAM,IAAIsH,EAAAA,KAAaO,cAAeuB,GACtCK,EAAiBzJ,EAAIz1F,IAAIlJ,EAAI2+F,EAAI11F,IAAIjJ,EAErCioG,EAAY3iG,KAAK+a,OAAOn1B,EAAS,GAAK,IAKtCg9G,GAFgB,IAFHh9G,EAAS,GAAK,GAEO+8G,GAEVG,EAEpBp7G,EAAI,EAAGA,EAAIi7G,EAAWj7G,IAAI,CACjC,IAAIgsB,EAAK+uF,EAAI/gG,QACbgS,EAAG1P,MAAM7K,IAAIypG,EAAO,GAAK,KAEzBE,GADAzJ,GAAM,IAAIsH,EAAAA,KAAaO,cAAextF,IACjB9P,IAAIlJ,EAAI2+F,EAAI11F,IAAIjJ,EACrCgZ,EAAG9R,SAASzI,IAAI2pG,EAAgBp7G,EAAE,EAAG,GACrC+tG,EAAMtxF,IAAIuP,GAGX+hF,EAAM7zF,SAASzI,MAAMvT,EAAO,GAAG,GAAG,EAAEk9G,EAAc,GAAG,KAAOn1F,EAAM,EAAE,IAAI,GACxE8nF,EAAM1yB,SAAS5pE,IAAI,EAAG,EAAG,GAEzBs8F,EAAM9vG,KAAO,cAEbyK,OAAO4yG,YAAcvN,EACrBrlG,OAAO2tB,MAAM5Z,IAAIsxF,GApIMwN,CAAkBlC,EAAKpzF,EAAO/nB,GACpC,IAAb0qB,EAAM,IAsIX,SAA0BywF,EAAKpzF,EAAO/nB,GACrC,IAAI6vG,EAAQ,IAAIkL,EAAAA,IAGZ8B,EAAM1B,EAAIr/F,QACd+gG,EAAI5pG,SAAW4pG,EAAI5pG,SAASzK,QAAO,SAAAsM,GAAC,MAAe,WAAXA,EAAE/U,QAgB1C,IAXA,IAAI0zG,GAAM,IAAIsH,EAAAA,KAAaO,cAAeuB,GACtCC,EAAgBrJ,EAAIz1F,IAAIlJ,EAAI2+F,EAAI11F,IAAIjJ,EAGpCioG,EAAY3iG,KAAK+a,OAAOpN,EAAQ,GAAK,IAKrCi1F,GAFe,IAFFj1F,EAAQ,GAAK,GAEOg1F,GAEVD,EAEnBh7G,EAAI,EAAGA,EAAIi7G,EAAWj7G,IAAI,CACjC,IAAIgsB,EAAK+uF,EAAI/gG,QACbgS,EAAG1P,MAAM7K,IAAIypG,EAAO,GAAK,KAEzBF,GADArJ,GAAM,IAAIsH,EAAAA,KAAaO,cAAextF,IAClB9P,IAAIlJ,EAAI2+F,EAAI11F,IAAIjJ,EAEpCgZ,EAAG9R,SAASzI,IAAIupG,EAAeh7G,EAAE,EAAG,GACpC+tG,EAAMtxF,IAAIuP,GAGX+hF,EAAM7zF,SAASzI,IAAIvT,EAAO,GAAGA,EAAO,EAAE,IAAI,EAAI,IAAK,KAAM88G,EAAa,GAAG/0F,EAAM,EAAE,IAAI,GACrF8nF,EAAM1yB,SAAS5pE,IAAI,EAAG6G,KAAKC,GAAK,EAAG,GACnCw1F,EAAM9vG,KAAO,aACbyK,OAAO2tB,MAAM5Z,IAAIsxF,GAxKMyN,CAAiBnC,EAAKpzF,EAAO/nB,GAEnDwK,OAAO0uB,SAASt4B,OAAO4J,OAAO2tB,MAAO3tB,OAAO2c,YAyKvC,SAASo2F,GAAqBx1F,EAAO/nB,EAAQqqD,GAEnD,GAAI7/C,OAAOmyG,MAAX,CAEA,IAAIa,EAAYhzG,OAAO2tB,MAAMllB,SAASzK,QAAO,SAAAsM,GAAC,MAAe,cAAXA,EAAE/U,QAChD09G,EAAajzG,OAAO2tB,MAAMllB,SAASzK,QAAO,SAAAsM,GAAC,MAAe,eAAXA,EAAE/U,QACjD29G,EAAWlzG,OAAO2tB,MAAMllB,SAASzK,QAAO,SAAAsM,GAAC,MAAe,aAAXA,EAAE/U,QAC/C49G,EAAcnzG,OAAO2tB,MAAMllB,SAASzK,QAAO,SAAAsM,GAAC,MAAe,gBAAXA,EAAE/U,QAStD,GAPmByK,OAAO2tB,MAAMllB,SAASvE,MAAK,SAAAoG,GAAC,MAAe,WAAXA,EAAE/U,SAEhCsqD,IACpBtiC,GAASsiC,GAAO,EAChBrqD,GAAUqqD,GAAO,GAGM,IAArBmzD,EAAUx9G,OAAa,CACzBw9G,EAAU,GAAGxhG,SAASlH,IAAM9U,EAAO,GAAG,GAAG,EACzC,IACI88G,GADArJ,GAAM,IAAIsH,EAAAA,KAAaO,cAAekC,EAAU,GAAGvqG,SAAS,KACxC+K,IAAIhJ,EAAIy+F,EAAI11F,IAAI/I,EAEpC+nG,EAAY3iG,KAAK+a,OAAOpN,EAAQ,GAAK,IAGrC61F,EAAe,IAFF71F,EAAQ,GAAK,GAEOg1F,EAEjCC,EAAQY,EAAed,EAGxBC,EAAYS,EAAU,GAAGvqG,SAASjT,OACpCw9G,EAAU,GAAGj/F,IAAIi/F,EAAU,GAAGvqG,SAAS,GAAG6I,SAClCihG,EAAYS,EAAU,GAAGvqG,SAASjT,QAC1Cw9G,EAAU,GAAGvqG,SAAS4/D,MAGvB2qC,EAAU,GAAGvqG,SAASvJ,SAAQ,SAACoL,EAAEhT,GAChCgT,EAAEsJ,MAAMtJ,EAAIA,EAAEsJ,MAAMtJ,EAAIkoG,EACxBloG,EAAEkH,SAASlH,EAAIhT,EAAI87G,EACnBnK,GAAM,IAAIsH,EAAAA,KAAaO,cAAexmG,GACtCgoG,EAAgBrJ,EAAIz1F,IAAIhJ,EAAIy+F,EAAI11F,IAAI/I,KAGrCwoG,EAAU,GAAGxhG,SAAShH,GAAK8nG,EAAa,GAAG/0F,EAAM,EAAE,IAAI,EAGxD,GAAyB,IAAtB01F,EAAWz9G,OAAa,CAC1By9G,EAAW,GAAGzhG,SAASlH,EAAI9U,EAAO,GAAGA,EAAO,EAAE,IAAI,EAAI,GAEtD,IACI88G,GADArJ,GAAM,IAAIsH,EAAAA,KAAaO,cAAemC,EAAW,GAAGxqG,SAAS,KACzC+K,IAAIhJ,EAAIy+F,EAAI11F,IAAI/I,EAEpC+nG,EAAY3iG,KAAK+a,OAAOpN,EAAQ,GAAK,IAGrC61F,EAAe,IAFF71F,EAAQ,GAAK,GAEOg1F,EAEjCC,EAAQY,EAAed,EAExBC,EAAYU,EAAW,GAAGxqG,SAASjT,OACrCy9G,EAAW,GAAGl/F,IAAIk/F,EAAW,GAAGxqG,SAAS,GAAG6I,SACpCihG,EAAYU,EAAW,GAAGxqG,SAASjT,QAC3Cy9G,EAAW,GAAGxqG,SAAS4/D,MAGxB4qC,EAAW,GAAGxqG,SAASvJ,SAAQ,SAACoL,EAAEhT,GACjCgT,EAAEsJ,MAAMtJ,EAAIA,EAAEsJ,MAAMtJ,EAAIkoG,EACxBloG,EAAEkH,SAASlH,EAAIhT,EAAI87G,EACnBnK,GAAM,IAAIsH,EAAAA,KAAaO,cAAexmG,GACtCgoG,EAAgBrJ,EAAIz1F,IAAIhJ,EAAIy+F,EAAI11F,IAAI/I,KAGrCyoG,EAAW,GAAGzhG,SAAShH,GAAK8nG,EAAa,GAAG/0F,EAAM,EAAE,IAAI,EAIzD,GAAuB,IAApB21F,EAAS19G,OAAa,CACxB09G,EAAS,GAAG1hG,SAAShH,GAAK,IAAK+S,EAAM,EAAE,IAAI,EAE3C,IACIm1F,GADAzJ,GAAM,IAAIsH,EAAAA,KAAaO,cAAeoC,EAAS,GAAGzqG,SAAS,KACtC+K,IAAIlJ,EAAI2+F,EAAI11F,IAAIjJ,EAErCioG,EAAY3iG,KAAK+a,OAAOn1B,EAAS,GAAK,IAGtC69G,EAAgB,IAFH79G,EAAS,GAAK,GAEO+8G,EAElCC,EAAQa,EAAgBX,EAGzBH,EAAYW,EAAS,GAAGzqG,SAASjT,OACnC09G,EAAS,GAAGn/F,IAAIm/F,EAAS,GAAGzqG,SAAS,GAAG6I,SAChCihG,EAAYW,EAAS,GAAGzqG,SAASjT,QACzC09G,EAAS,GAAGzqG,SAAS4/D,MAGtB6qC,EAAS,GAAGzqG,SAASvJ,SAAQ,SAACoL,EAAEhT,GAC/BgT,EAAEsJ,MAAMtJ,EAAIA,EAAEsJ,MAAMtJ,EAAIkoG,EACxBloG,EAAEkH,SAASlH,EAAIhT,EAAI+7G,EACnBpK,GAAM,IAAIsH,EAAAA,KAAaO,cAAexmG,GACtCooG,EAAiBzJ,EAAIz1F,IAAIlJ,EAAI2+F,EAAI11F,IAAIjJ,KAGtC4oG,EAAS,GAAG1hG,SAASlH,IAAM9U,EAAO,GAAG,GAAG,EAAEk9G,EAAc,EAGzD,GAA0B,IAAvBS,EAAY39G,OAAa,CAC3B29G,EAAY,GAAG3hG,SAAShH,GAAM+S,EAAM,EAAE,IAAI,EAE1C,IAAI0rF,EACAyJ,GADAzJ,GAAM,IAAIsH,EAAAA,KAAaO,cAAeqC,EAAY,GAAG1qG,SAAS,KACzC+K,IAAIlJ,EAAI2+F,EAAI11F,IAAIjJ,EAErCioG,EAAY3iG,KAAK+a,OAAOn1B,EAAS,GAAK,IAGtC69G,EAAgB,IAFH79G,EAAS,GAAK,GAEO+8G,EAElCC,EAAQa,EAAgBX,EAGzBH,EAAYY,EAAY,GAAG1qG,SAASjT,OACtC29G,EAAY,GAAGp/F,IAAIo/F,EAAY,GAAG1qG,SAAS,GAAG6I,SACtCihG,EAAYY,EAAY,GAAG1qG,SAASjT,QAC5C29G,EAAY,GAAG1qG,SAAS4/D,MAIzB8qC,EAAY,GAAG1qG,SAASvJ,SAAQ,SAACoL,EAAEhT,GAClCgT,EAAEsJ,MAAMtJ,EAAIA,EAAEsJ,MAAMtJ,EAAIkoG,EACxBloG,EAAEkH,SAASlH,EAAIhT,EAAI+7G,EACnBpK,GAAM,IAAIsH,EAAAA,KAAaO,cAAexmG,GACtCooG,EAAiBzJ,EAAIz1F,IAAIlJ,EAAI2+F,EAAI11F,IAAIjJ,KAGtC6oG,EAAY,GAAG3hG,SAASlH,IAAM9U,EAAO,GAAG,GAAG,EAAEk9G,EAAc,EAG5D1yG,OAAO0uB,SAASt4B,OAAO4J,OAAO2tB,MAAO3tB,OAAO2c,SAGtC,SAAS22F,GAAqB/1F,EAAO/nB,GAC3C,IAAI+9G,EAAkBvzG,OAAO2tB,MAAMllB,SAASzK,QAAO,SAAAsM,GAAC,MAAe,oBAAXA,EAAE/U,QACtDi+G,EAAexzG,OAAO2tB,MAAMllB,SAASzK,QAAO,SAAAsM,GAAC,MAAe,iBAAXA,EAAE/U,QACnDk+G,EAAiBzzG,OAAO2tB,MAAMllB,SAASzK,QAAO,SAAAsM,GAAC,MAAe,mBAAXA,EAAE/U,QACrDm+G,EAAoB1zG,OAAO2tB,MAAMllB,SAASzK,QAAO,SAAAsM,GAAC,MAAe,sBAAXA,EAAE/U,QACxDo+G,EAAgB3zG,OAAO2tB,MAAMllB,SAASzK,QAAO,SAAAsM,GAAC,MAAe,kBAAXA,EAAE/U,QACpDq+G,EAAmB5zG,OAAO2tB,MAAMllB,SAASzK,QAAO,SAAAsM,GAAC,MAAe,qBAAXA,EAAE/U,QAiB3D,GAf8B,IAA3Bg+G,EAAgB/9G,SAClB+9G,EAAgB,GAAG/hG,SAASlH,IAAM9U,EAAO,EAAE,IAAI,EAAE,EACjD+9G,EAAgB,GAAG/hG,SAAShH,GAAK+S,EAAM,EAAE,IAAI,EAAE,GAGrB,IAAxBi2F,EAAah+G,SACfg+G,EAAa,GAAGhiG,SAASlH,IAAM9U,EAAO,EAAE,IAAI,EAAE,EAC9Cg+G,EAAa,GAAGhiG,SAAShH,GAAK,IAAI+S,EAAM,EAAE,IAAI,EAAE,GAGpB,IAA1Bk2F,EAAej+G,SACjBi+G,EAAe,GAAGjiG,SAASlH,IAAM9U,EAAO,EAAE,IAAI,EAAEA,EAAO,EACvDi+G,EAAe,GAAGjiG,SAAShH,GAAK,IAAI+S,EAAM,EAAE,IAAI,EAAI,GAGrB,IAA7Bm2F,EAAkBl+G,OAAa,CACjC,IAAIyzG,GAAM,IAAIsH,EAAAA,KAAaO,cAAe4C,EAAkB,IAC5DA,EAAkB,GAAGliG,SAASlH,IAAM9U,EAAO,EAAE,IAAI,EAAEA,EAAO,GAAKyzG,EAAIz1F,IAAIlJ,EAAI2+F,EAAI11F,IAAIjJ,GAAK,EAAI,IAC5FopG,EAAkB,GAAGliG,SAAShH,GAAK+S,EAAM,EAAE,IAAI,EAAI,EAGxB,IAAzBo2F,EAAcn+G,SAChBm+G,EAAc,GAAGniG,SAASlH,IAAM9U,EAAO,EAAE,IAAI,EAAEA,EAAS,EACxDm+G,EAAc,GAAGniG,SAAShH,GAAK,IAAI+S,EAAM,EAAE,IAAI,EAAI,GAGrB,IAA5Bq2F,EAAiBp+G,SACnBo+G,EAAiB,GAAGpiG,SAASlH,IAAM9U,EAAO,EAAE,IAAI,EAAEA,EAAS,EAC3Do+G,EAAiB,GAAGpiG,SAAShH,GAAK+S,EAAM,EAAE,IAAI,EAAI,GAGnDvd,OAAO0uB,SAASt4B,OAAO4J,OAAO2tB,MAAO3tB,OAAO2c,QAGtC,SAAS8rC,GAAoBlrC,EAAM/nB,GAEzC,GAAIwK,OAAO2tB,MAAX,CAEA,IAAIkmF,EAAW7zG,OAAO2tB,MAAMllB,SAASzK,QAAO,SAAAsM,GAAC,MAAe,aAAXA,EAAE/U,QAC/Cu+G,EAAU9zG,OAAO2tB,MAAMllB,SAASzK,QAAO,SAAAsM,GAAC,MAAe,YAAXA,EAAE/U,QAC9Cw+G,EAAgB/zG,OAAO2tB,MAAMllB,SAASzK,QAAO,SAAAsM,GAAC,MAAe,kBAAXA,EAAE/U,QACpDy+G,EAAmBh0G,OAAO2tB,MAAMllB,SAASzK,QAAO,SAAAsM,GAAC,MAAe,qBAAXA,EAAE/U,QACvD0+G,EAAYj0G,OAAO2tB,MAAMllB,SAASzK,QAAO,SAAAsM,GAAC,MAAe,cAAXA,EAAE/U,QAG7B,IAApBs+G,EAASr+G,SACXq+G,EAAS,GAAGriG,SAASlH,KAAO9U,EAAO,IAAI,EAAE,IAGlB,IAArBy+G,EAAUz+G,SACZy+G,EAAU,GAAGziG,SAASlH,EAAI9U,EAAO,GAAGA,EAAO,EAAE,IAAI,EAAI,EACrDy+G,EAAU,GAAGziG,SAAShH,GAAK,MAGN,IAAnBspG,EAAQt+G,SACVs+G,EAAQ,GAAGtiG,SAASlH,EAAI,GACxBwpG,EAAQ,GAAGtiG,SAAShH,GAAK,IAAK+S,EAAM,EAAE,IAAI,EAAK,GAGpB,IAAzBw2F,EAAcv+G,SAChBu+G,EAAc,GAAGviG,SAAShH,GAAK,IAAK+S,EAAM,EAAE,IAAI,EAAK,GAGvB,IAA5By2F,EAAiBx+G,SACnBw+G,EAAiB,GAAGxiG,SAASlH,EAAI,KACjC0pG,EAAiB,GAAGxiG,SAAShH,EAAK+S,EAAM,EAAI,OAAW,GAAM,GAG9Dvd,OAAO0uB,SAASt4B,OAAO4J,OAAO2tB,MAAO3tB,OAAO2c,SAGtC,SAASu3F,GAAc7+G,GAC7B,IAAI69G,EAAWlzG,OAAO2tB,MAAMllB,SAASzK,QAAO,SAAAsM,GAAC,MAAe,aAAXA,EAAE/U,QAC/C49G,EAAenzG,OAAO2tB,MAAMllB,SAASzK,QAAO,SAAAsM,GAAC,MAAe,gBAAXA,EAAE/U,QAGvD,GAA0B,IAAvB49G,EAAY39G,OAAa,CAC3B,IAAIiT,GAAQ,OAAQ0qG,EAAY,GAAG1qG,UACnCA,EAAS4/D,MACT,IAEI8rC,EAFQ1rG,EAASkkG,QAEClkG,SAASzK,QAAO,SAAAsM,GAAC,MAAe,WAAXA,EAAE/U,QAAmB,GAC5D0zG,GAAM,IAAIsH,EAAAA,KAAaO,cAAeqD,GAE1Cx6G,QAAQy0B,IAAI66E,GACZ,IAAImL,EAAgBnL,EAAIz1F,IAAIjJ,EAAI0+F,EAAI11F,IAAIhJ,EAExC9B,EAASvJ,QAAT,mCAAiB,WAAOoL,EAAEhT,GAAT,sFACZ+8G,EAAUh/G,EAAa,GAAN,GADL,SAEViV,EAAEsJ,MAAM7K,IAAIuB,EAAEsJ,MAAMtJ,EAAG+pG,EAAQ/pG,EAAEsJ,MAAMpJ,GAF7B,OAILF,EAAE7B,SAASzK,QAAO,SAAAsM,GAAC,MAAe,WAAXA,EAAE/U,QAAmB,GACnD0zG,EAAMqL,GAAYhqG,GAEtB3Q,QAAQy0B,IAAI66E,GACT3xG,IAAMmR,EAASjT,OAAS,IACtB++G,EAAUjqG,EAAE7B,SAASzK,QAAO,SAAAsM,GAAC,MAAe,WAAXA,EAAE/U,QAAmB,GACtDi/G,EAAaF,GAAYC,GAEzBE,EAAgBD,EAAWhhG,IAAIjJ,EAAIiqG,EAAWjhG,IAAIhJ,EAElDlV,GAIHk/G,EAAQ3gG,MAAMrJ,GAAK6pG,EAAgBK,EACnCF,EAAQG,WAAWP,EAAU3iG,SAASjH,EAAIgqG,EAAQ/iG,SAASjH,KAJ3DgqG,EAAQG,WAAWN,EAAgBK,GACnCF,EAAQ3gG,MAAMrJ,GAAK6pG,EAAgBK,GAMpCz0G,OAAO0uB,SAASt4B,OAAO4J,OAAO2tB,MAAO3tB,OAAO2c,SAtB7B,2CAAjB,yDA+BD,GAAuB,IAApBu2F,EAAS19G,OAAa,CACxB,IAAIiT,GAAQ,OAAQyqG,EAAS,GAAGzqG,UAChCA,EAAS4/D,MACT,IAEI8rC,EAFQ1rG,EAASkkG,QAEClkG,SAASzK,QAAO,SAAAsM,GAAC,MAAe,WAAXA,EAAE/U,QAAmB,GAC5D0zG,GAAM,IAAIsH,EAAAA,KAAaO,cAAeqD,GACtCC,EAAgBnL,EAAIz1F,IAAIjJ,EAAI0+F,EAAI11F,IAAIhJ,EAExC9B,EAASvJ,QAAT,mCAAkB,WAAOoL,EAAEhT,GAAT,sFACb+8G,EAAUh/G,EAAa,GAAN,GADJ,SAEXiV,EAAEsJ,MAAM7K,IAAIuB,EAAEsJ,MAAMtJ,EAAG+pG,EAAQ/pG,EAAEsJ,MAAMpJ,GAF5B,OAIb2+B,EAAO7+B,EAAE7B,SAASzK,QAAO,SAAAsM,GAAC,MAAe,WAAXA,EAAE/U,QAAmB,GAC7C++G,GAAYnrE,GAEb,IAAN7xC,IACEi9G,EAAUjqG,EAAE7B,SAASzK,QAAO,SAAAsM,GAAC,MAAe,WAAXA,EAAE/U,QAAmB,GACtDi/G,EAAaF,GAAYC,GAEzBE,EAAgBD,EAAWhhG,IAAIjJ,EAAIiqG,EAAWjhG,IAAIhJ,EAEtD5Q,QAAQy0B,IAAIgmF,GACZz6G,QAAQy0B,IAAIqmF,GACRp/G,GAIHk/G,EAAQ3gG,MAAMrJ,GAAK6pG,EAAgBK,EACnCF,EAAQG,WAAWP,EAAU3iG,SAASjH,EAAIgqG,EAAQ/iG,SAASjH,KAJ3DgqG,EAAQG,WAAWN,EAAgBK,GACnCF,EAAQ3gG,MAAMrJ,GAAK6pG,EAAgBK,GAMpCz0G,OAAO0uB,SAASt4B,OAAO4J,OAAO2tB,MAAO3tB,OAAO2c,SAvB5B,2CAAlB,yDA4BD3c,OAAO0uB,SAASt4B,OAAO4J,OAAO2tB,MAAO3tB,OAAO2c,QAG7C,SAAS23F,GAAYhxF,GACpB,OAAO,IAAIitF,EAAAA,KAAaO,cAAcxtF,GA9gCvCktF,GAASjnC,MAAQgnC,EAAAA,IACjBC,GAAShnC,MAAQ+mC,EAAAA,IACjBC,GAASiB,WAAa,GACtBjB,GAAS5C,iBAAkB,EAC3B4C,GAAShP,UAAY+O,EAAAA,IACrBC,GAAS/O,UAAY8O,EAAAA,IA+GrBvwG,OAAOs0G,YAAc,WAEpB,OADU,IAAI/D,EAAAA,KAAaO,cAAe9wG,OAAO6wG,OA45BlD7wG,OAAOs0G,YAAcA,kQC5hCrB,SAASK,IACR,OAAOvyG,SAASkB,cAAc,0BAA4BlB,SAASkB,cAAc,0BAA0BxK,MAAQsJ,SAASkB,cAAc,yBAqDpI,SAASsxG,EAAuBvqG,EAAER,EAAGsqD,GAG3C,MAnBD,WACC,IAAI0gD,EACAC,EAYJ,OAVqE,IAAlE90G,OAAO2tB,MAAMllB,SAASzK,QAAO,SAAAsM,GAAC,MAAc,YAAVA,EAAE2jB,OAAmBz4B,SACzDs/G,EAAc90G,OAAO2tB,MAAMllB,SAASzK,QAAO,SAAAsM,GAAC,MAAc,YAAVA,EAAE2jB,OAAmB,GACrEjuB,OAAO2tB,MAAMllB,SAAWzI,OAAO2tB,MAAMllB,SAASzK,QAAO,SAAAsM,GAAC,MAAc,YAAVA,EAAE2jB,QAGO,IAAjEjuB,OAAO2tB,MAAMllB,SAASzK,QAAO,SAAAsM,GAAC,MAAc,WAAVA,EAAE2jB,OAAkBz4B,SACxDq/G,EAAa70G,OAAO2tB,MAAMllB,SAASzK,QAAO,SAAAsM,GAAC,MAAc,WAAVA,EAAE2jB,OAAkB,GACnEjuB,OAAO2tB,MAAMllB,SAAWzI,OAAO2tB,MAAMllB,SAASzK,QAAO,SAAAsM,GAAC,MAAc,WAAVA,EAAE2jB,QAGtD,CAAC6mF,EAAaD,GAKaE,GAA5BD,EAAN,KAAmBD,EAAnB,KAEMG,EAAqB,IAAIzE,EAAAA,IAAoBlmG,EAAGR,GAChDorG,EAAiB,IAAI1E,EAAAA,IAAoBlmG,EAAI,GAAIR,EAAI,IAC3D,GAAGsqD,EAAK,CAEP,IAAM+gD,EAAqB,IAAI3E,EAAAA,IAA4B,CAACx0F,MAAO,MAAUunF,KAAMiN,EAAAA,IAAkBrlC,aAAc,IAC7GiqC,EAAU,IAAI5E,EAAAA,IAAYyE,EAAoBE,GACpDC,EAAQxiC,SAAS5pE,IAAK6G,KAAKC,GAAK,EAAG,EAAGD,KAAKC,GAAK,GAChDslG,EAAQ3jG,SAASzI,IAAI,MAAM,KAAM,OACjCosG,EAAQlnF,IAAM,UACdknF,EAAQ5/G,KAAO,UAEfyK,OAAO2tB,MAAM5Z,IAAIohG,OACb,CACJ,IAAMD,EAAqBJ,EAAYj5F,SAEjCs5F,EAAU,IAAI5E,EAAAA,IAAYyE,EAAoBE,GAOpD,GANAC,EAAQxiC,SAAS5pE,IAAK6G,KAAKC,GAAK,EAAG,EAAGD,KAAKC,GAAK,GAChDslG,EAAQ3jG,SAASzI,IAAI,MAAM,KAAM,OACjCosG,EAAQlnF,IAAM,UACdknF,EAAQ5/G,KAAO,UAEfyK,OAAO2tB,MAAM5Z,IAAIohG,GACdN,EAAW,CACb,IAAMO,EAAiBP,EAAWh5F,SAE5B4W,EAAS,IAAI89E,EAAAA,IAAa0E,EAAgBG,GAChD3iF,EAAOkgD,SAAS5pE,IAAK6G,KAAKC,GAAK,EAAG,EAAGD,KAAKC,GAAK,GAC/C4iB,EAAOjhB,SAASzI,IAAI,MAAO,KAAO,OAClC0pB,EAAOl9B,KAAO,SACdk9B,EAAOxE,IAAM,SACbjuB,OAAO2tB,MAAM5Z,IAAI0e,KAMb,SAAShE,EAAiBjd,EAAUnH,EAAGR,GAC7C,GAAI7J,OAAO2tB,MAEX,OAAQnc,GACP,IAAK,SA8MP,SAA0Bmc,EAAOpQ,EAAO/nB,GACvC,GAA4E,IAAzEm4B,EAAMllB,SAASzK,QAAO,SAAAsM,GAAC,MAAe,yBAAXA,EAAE/U,QAAiCC,OAAc,OAE/E,IAAM6vG,EAAQ,IAAIkL,EAAAA,IAEZpwF,EAAS,GAEfk1F,EAA6Bl1F,GAE7B,IAAMxE,EAAW,IAAImE,EAAAA,EACrBnE,EAAS6E,aAAcL,GAEvB,IAAItE,EAAWy5F,IACXj1F,EAAO,IAAIvD,EAAAA,EAAOnB,EAAUE,GAEhCwE,EAAK4N,IAAM,iBAEXo3E,EAAMtxF,IAAIsM,GAGVk1F,EAAqBlQ,GACrBmQ,EAAoB,EAAG,UAAW,MAAQnQ,GAC1CoQ,EAAoBpQ,GACpBqQ,EAAiBrQ,GACjBsQ,EAAiBtQ,GACjBuQ,EAAYvQ,GACZwQ,EAAexQ,GACfyQ,EAAazQ,GAEbA,EAAMp3E,IAAM,kBACZo3E,EAAM9vG,KAAO,uBAEb8vG,EAAM7zF,SAASzI,IAAKvT,GAAWA,EAAO,IAAI,EAAG,KAAM,MACnD6vG,EAAM1yB,SAAS5pE,IAAI,EAAE6G,KAAKC,GAAK,EAAI,EAAG,GAEtC8d,EAAM5Z,IAAIsxF,GAhPR0Q,CAAiB/1G,OAAO2tB,MAAOtjB,EAAER,GACjC,MACD,IAAK,QA+HP,SAAyB8jB,EAAOpQ,EAAO/nB,GACtC,GAA2E,IAAxEm4B,EAAMllB,SAASzK,QAAO,SAAAsM,GAAC,MAAe,wBAAXA,EAAE/U,QAAgCC,OAAc,OAE9E,IAAM6vG,EAAQ,IAAIkL,EAAAA,IAEZpwF,EAAS,GAEfk1F,EAA6Bl1F,GAE7B,IAAMxE,EAAW,IAAImE,EAAAA,EACrBnE,EAAS6E,aAAcL,GAEvB,IAAItE,EAAWy5F,IAEXj1F,EAAO,IAAIvD,EAAAA,EAAOnB,EAAUE,GAEhCwE,EAAK4N,IAAM,iBAEXo3E,EAAMtxF,IAAIsM,GAGVk1F,EAAqBlQ,GACrBmQ,EAAoB,EAAG,UAAW,MAAQnQ,GAC1CoQ,EAAoBpQ,GACpBqQ,EAAiBrQ,GACjBsQ,EAAiBtQ,GACjBuQ,EAAYvQ,GACZwQ,EAAexQ,GACfyQ,EAAazQ,GAEbA,EAAMp3E,IAAM,kBACZo3E,EAAM9vG,KAAO,sBACb8vG,EAAM7zF,SAASzI,MAAOvT,EAAO,IAAI,EAAG,GAAI,KAAM,KAC9Cm4B,EAAM5Z,IAAIsxF,GA/JR2Q,CAAgBh2G,OAAO2tB,MAAOtjB,EAAER,GAChC,MACD,IAAK,OAgKP,SAAwB8jB,EAAOpQ,EAAM/nB,GACpC,GAA0E,IAAvEm4B,EAAMllB,SAASzK,QAAO,SAAAsM,GAAC,MAAe,uBAAXA,EAAE/U,QAA+BC,OAAc,OAC7E,IAAM6vG,EAAQ,IAAIkL,EAAAA,IAEZpwF,EAAS,GAEfk1F,EAA6Bl1F,GAE7B,IAAMxE,EAAW,IAAImE,EAAAA,EACrBnE,EAAS6E,aAAcL,GAENw0F,IAAjB,IAEI94F,EAAWy5F,IAEXj1F,EAAO,IAAIvD,EAAAA,EAAOnB,EAAUE,GAEhCwE,EAAK4N,IAAM,iBAEXo3E,EAAMtxF,IAAIsM,GAGVk1F,EAAqBlQ,GACrBmQ,EAAoB,EAAG,UAAW,MAAQnQ,GAC1CoQ,EAAoBpQ,GACpBqQ,EAAiBrQ,GACjBsQ,EAAiBtQ,GACjBuQ,EAAYvQ,GACZwQ,EAAexQ,GACfyQ,EAAazQ,GAEbA,EAAMp3E,IAAM,kBACZo3E,EAAM9vG,KAAO,qBAEb8vG,EAAM7zF,SAASzI,IAAI,KAAK,MAAO,IAAKwU,EAAM,IAAI,EAAG,KACjD8nF,EAAM1yB,SAAS5pE,IAAK,GAAI6G,KAAKC,GAAK,EAAE,GAEpC8d,EAAM5Z,IAAIsxF,GApMR4Q,CAAej2G,OAAO2tB,MAAOtjB,GAC7B,MACD,IAAK,cA2OP,SAA8BsjB,EAAOpQ,EAAM/nB,GAE1C,GAAgF,IAA7Em4B,EAAMllB,SAASzK,QAAO,SAAAsM,GAAC,MAAe,6BAAXA,EAAE/U,QAAqCC,OAAc,OAEnF,IAAM6vG,EAAQ,IAAIkL,EAAAA,IAEZpwF,EAAS,GAEfk1F,EAA6Bl1F,GAE7B,IAAMxE,EAAW,IAAImE,EAAAA,EACrBnE,EAAS6E,aAAcL,GAGvB,IAAItE,EAAWy5F,IAEXj1F,EAAO,IAAIvD,EAAAA,EAAOnB,EAAUE,GAEhCwE,EAAK4N,IAAM,iBAEXo3E,EAAMtxF,IAAIsM,GAGVk1F,EAAqBlQ,GACrBmQ,EAAoB,EAAG,UAAW,MAAQnQ,GAC1CoQ,EAAoBpQ,GACpBqQ,EAAiBrQ,GACjBsQ,EAAiBtQ,GACjBuQ,EAAYvQ,GACZwQ,EAAexQ,GACfyQ,EAAazQ,GAEbA,EAAMp3E,IAAM,kBACZo3E,EAAM9vG,KAAO,2BAEb8vG,EAAM7zF,SAASzI,IAAI,KAAK,MAAO,IAAKwU,EAAM,IAAI,EAAG,KACjD8nF,EAAM1yB,SAAS5pE,IAAK,GAAI6G,KAAKC,GAAK,EAAE,GAEpC8d,EAAM5Z,IAAIsxF,GAhRR6Q,CAAqBl2G,OAAO2tB,MAAOtjB,GACnC,MACD,IAAK,iBAiRP,SAAiCsjB,EAAOpQ,EAAO/nB,GAC9C,GAAmF,IAAhFm4B,EAAMllB,SAASzK,QAAO,SAAAsM,GAAC,MAAe,gCAAXA,EAAE/U,QAAwCC,OAAc,OACtF,IAAM6vG,EAAQ,IAAIkL,EAAAA,IAEZpwF,EAAS,GAEfk1F,EAA6Bl1F,GAE7B,IAAMxE,EAAW,IAAImE,EAAAA,EACrBnE,EAAS6E,aAAcL,GAEvB,IAAItE,EAAWy5F,IAEXj1F,EAAO,IAAIvD,EAAAA,EAAOnB,EAAUE,GAEhCwE,EAAK4N,IAAM,iBAEXo3E,EAAMtxF,IAAIsM,GAGVk1F,EAAqBlQ,GACrBmQ,EAAoB,EAAG,UAAW,MAAQnQ,GAC1CoQ,EAAoBpQ,GACpBqQ,EAAiBrQ,GACjBsQ,EAAiBtQ,GACjBuQ,EAAYvQ,GACZwQ,EAAexQ,GACfyQ,EAAazQ,GAEbA,EAAMp3E,IAAM,kBACZo3E,EAAM9vG,KAAO,8BAEb8vG,EAAM7zF,SAASzI,IAAI,KAAK,IAAOwU,EAAM,EAAI,OAAW,IACpD8nF,EAAM1yB,SAAS5pE,IAAI,GAAI6G,KAAKC,GAAK,EAAI,EAAG,GAExC8d,EAAM5Z,IAAIsxF,GAnTR8Q,CAAwBn2G,OAAO2tB,MAAOtjB,IAMlC,SAASmkB,EAAiBhd,GAChC,GAAIxR,OAAO2tB,MAAX,CAEA,GAAgB,qBAAbnc,EAMF,OALA4kG,EAAiBp2G,OAAO2tB,OACxB0oF,EAAgBr2G,OAAO2tB,OACvB2oF,EAAet2G,OAAO2tB,OACtB4oF,EAAwBv2G,OAAO2tB,YAC/B6oF,EAAqBx2G,OAAO2tB,OAG7B,OAAQnc,GACP,IAAK,QACJ4kG,EAAiBp2G,OAAO2tB,OACxB,MACD,IAAK,OACJ0oF,EAAgBr2G,OAAO2tB,OACvB,MACD,IAAK,MACJ2oF,EAAet2G,OAAO2tB,OACtB,MACD,IAAK,aACJ6oF,EAAqBx2G,OAAO2tB,OAC5B,MACD,IAAK,gBACJ4oF,EAAwBv2G,OAAO2tB,SAK3B,SAAS8oF,EAA+BnuB,EAAWj+E,EAAER,GAE3D,IAAIykB,EAAM,GAENxzB,EAAM,CACT,EAAG,sBACH,EAAG,qBACH,EAAG,uBACH,EAAG,2BACH,EAAG,+BAGJwtF,EAAUppF,SAAQ,SAACoL,EAAEhT,GACX,IAANgT,GACFgkB,EAAInvB,KAAKrE,EAAIxD,OAIfg3B,EAAIpvB,SAAQ,SAAAoL,GACX,IAAIgZ,EAAKtjB,OAAO2tB,MAAMllB,SAASzK,QAAO,SAAAuM,GAAC,OAAIA,EAAEhV,OAAS+U,KAAG,GAEzD,OAAOA,GACN,IAAK,sBACJgZ,EAAG9R,SAASlH,IAAOT,EAAE,IAAI,EAAG,GAC5B,MACD,IAAK,qBACJyZ,EAAG9R,SAAShH,EAAqB,IAAf,IAAKH,EAAE,IAAI,GAC7B,MACD,IAAK,uBACJiZ,EAAG9R,SAASlH,EAAIT,GAAMA,EAAE,IAAI,EAC5B,MACD,IAAK,2BACJyZ,EAAG9R,SAAShH,EAAqB,IAAf,IAAKH,EAAE,IAAI,GAC7B,MACD,IAAK,8BACJiZ,EAAG9R,SAAShH,EAAKH,EAAE,EAAI,OACvB,MACD,QACC,OAAO,MAMX,SAASirG,EAAsBoB,GAC9B,IAEIC,EAAahC,IAQjB,MANkB,UAAfgC,EACS,IAAI76F,EAAAA,EAAa,CAAEC,MAAO46F,EAAYv5F,UAAWs5F,GAAM,QAEnD,IAAI56F,EAAAA,EAAc,CAAEC,MAAO,SAAUqB,UAAWs5F,GAAM,QAKvE,SAASN,EAAiBzoF,GACzBA,EAAMllB,SAAWklB,EAAMllB,SAASzK,QAAO,SAAAsM,GAAC,MAAe,yBAAXA,EAAE/U,QAG/C,SAAS+gH,EAAe3oF,GACvBA,EAAMllB,SAAWklB,EAAMllB,SAASzK,QAAO,SAAAsM,GAAC,MAAe,uBAAXA,EAAE/U,QAG/C,SAASihH,EAAqB7oF,GAC7BA,EAAMllB,SAAWklB,EAAMllB,SAASzK,QAAO,SAAAsM,GAAC,MAAe,6BAAXA,EAAE/U,QAG/C,SAASghH,EAAwB5oF,GAChCA,EAAMllB,SAAWklB,EAAMllB,SAASzK,QAAO,SAAAsM,GAAC,MAAe,gCAAXA,EAAE/U,QAG/C,SAAS8gH,EAAgB1oF,GACxBA,EAAMllB,SAAWklB,EAAMllB,SAASzK,QAAO,SAAAsM,GAAC,MAAe,wBAAXA,EAAE/U,QAG/C,SAAS8/G,EAA6Bl1F,GACrCA,EAAOhhB,KAAM,GAAI,GAAI,IACrBghB,EAAOhhB,KAAM,GAAI,GAAI,GAqMtB,SAASo2G,EAAqBlQ,GAC5B,IAMIJ,EACA2R,EAPEC,EAAgB,IAAItG,EAAAA,IAAoB,IAAI,MAC5CuG,EAAiB,IAAIvG,EAAAA,IAAqB,EAAE,IAG9CwG,EAAe30G,SAASkB,cAAc,oBAAsBlB,SAASkB,cAAc,oBAAoBxK,MAAQsJ,SAASkB,cAAc,4BAA4BxK,MAMlJ,UAAjBi+G,GACF9R,EAAY,IAAIsL,EAAAA,IAA4B,CAACx0F,MAAOg7F,EAAczT,KAAMiN,EAAAA,MACxEqG,EAAiB,IAAIrG,EAAAA,IAA4B,CAACx0F,MAAOg7F,EAAczT,KAAMiN,EAAAA,QAE7EtL,EAAY,IAAIsL,EAAAA,IAA4B,CAACx0F,MAAO,MAAU+E,QAAQ,EAAGqN,aAAa,EAAMm1E,KAAMiN,EAAAA,MAClGqG,EAAiB,IAAIrG,EAAAA,IAA4B,CAACx0F,MAAO,MAAU+E,QAAQ,EAAGqN,aAAa,EAAMm1E,KAAMiN,EAAAA,OAGxG,IAAMyG,EAAY,IAAIzG,EAAAA,IAAWsG,EAAe5R,GAChD+R,EAAUrkC,SAAS5pE,IAAI6G,KAAKC,GAAK,EAAG,EAAGD,KAAKC,GAAK,GACjDmnG,EAAUxlG,SAASzI,IAAI,MAAM,KAAM,GAGnC,IAAIi2C,EAAS,IAAIuxD,EAAAA,IAAWuG,EAAgBF,GAE5C53D,EAAO2zB,SAAS5pE,IAAI6G,KAAKC,GAAK,EAAG,EAAE,GACnCmvC,EAAOxtC,SAASzI,IAAI,OAAO,KAAM,GAEjCs8F,EAAMtxF,IAAIijG,GACV3R,EAAMtxF,IAAIirC,GAEVg4D,EAAUzhH,KAAO,oBACjBypD,EAAOzpD,KAAO,oBA8BhB,SAASigH,EAAoB7hG,EAAQoI,EAAOoB,EAAWkoF,GACnD,IAAIllF,EAAS,GACT82F,EAAU,GAEjBl7F,EAAQ44F,IAGL,IAAI,IAAIr9G,EAAI,EAAGA,GAAK,IAAKA,IACrB6oB,EAAOhhB,KAAKyQ,KAAKsnG,IAAI5/G,GAAGsY,KAAKC,GAAG,MAAM8D,EAAO,EAAG/D,KAAKunG,IAAI7/G,GAAGsY,KAAKC,GAAG,MAAM8D,GAG9E,IAAI,IAAIrc,EAAI,EAAGA,IAAM,IAAKA,IACtB2/G,EAAQ93G,KAAKyQ,KAAKsnG,IAAI5/G,GAAGsY,KAAKC,GAAG,MAAM8D,EAAO,EAAG/D,KAAKunG,IAAI7/G,GAAGsY,KAAKC,GAAG,MAAM8D,GAG/E,IAAIgI,EAAW,IAAImE,EAAAA,EACfs3F,EAAY,IAAIt3F,EAAAA,EAEpBnE,EAAS6E,aAAcL,GACvBi3F,EAAU52F,aAAay2F,GAEvB,IAAIp7F,EAAW,IAAIC,EAAAA,EAAa,CAC5BC,MAAOA,EACPqB,UAAWD,IAGXk6F,EAAe,IAAIv7F,EAAAA,EAAa,CACnCC,MAAOA,EACPqB,UAAWD,EACXmE,QAAQ,EACRT,QAAS,KACTF,SAAS,MAGNN,EAAO,IAAIvD,EAAAA,EAAOnB,EAAUE,GAC5By7F,EAAQ,IAAIx6F,EAAAA,EAAMs6F,EAAWC,GACjCC,EAAMC,uBAENl3F,EAAK7O,SAASzI,IAAI,MAAM,KAAM,GAC9BuuG,EAAM9lG,SAASzI,IAAI,MAAM,KAAM,GAE/BsX,EAAK4N,IAAM,iBACXqpF,EAAMrpF,IAAM,iBAEZo3E,EAAMtxF,IAAKsM,GAIf,SAASo1F,EAAoBpQ,GAC5B,IAAIllF,EAAS,GAGbA,EAAOhhB,KAAK,EAAE,GAAI,GAClBghB,EAAOhhB,KAAK,GAAG,GAAG,GAElB,IAAIwc,EAAW,IAAImE,EAAAA,EACnBnE,EAAS6E,aAAaL,GAEtB,IAAItE,EAAWy5F,IAEXj1F,EAAO,IAAIvD,EAAAA,EAAMnB,EAAUE,GAC/BwE,EAAK4N,IAAM,iBAEX5N,EAAK7O,SAASjH,EAAI,IAClB86F,EAAMtxF,IAAIsM,GAGX,SAASq1F,EAAiBrQ,GACzB,IAAIllF,EAAS,GAGbA,EAAOhhB,KAAK,EAAE,GAAI,IAClBghB,EAAOhhB,KAAK,GAAG,GAAG,IAElB,IAAIwc,EAAW,IAAImE,EAAAA,EACnBnE,EAAS6E,aAAaL,GAEtB,IAAItE,EAAWy5F,IAEXj1F,EAAO,IAAIvD,EAAAA,EAAMnB,EAAUE,GAC5BwE,EAAK4N,IAAM,iBAEX5N,EAAK7O,SAASjH,EAAI,IACrB86F,EAAMtxF,IAAIsM,GAuCX,SAASs1F,EAAiBtQ,IApC1B,SAAiCA,GAChC,IAAIllF,EAAS,GAEbA,EAAOhhB,KAAK,EAAE,GAAG,IACjBghB,EAAOhhB,KAAK,GAAG,GAAI,IAEnB,IAAIwc,EAAW,IAAImE,EAAAA,EAEnBnE,EAAS6E,aAAaL,GAEtB,IAAItE,EAAWy5F,IACXj1F,EAAO,IAAIvD,EAAAA,EAAMnB,EAAUE,GAC5BwE,EAAK4N,IAAM,iBAEdo3E,EAAMtxF,IAAIsM,GAwBVm3F,CAAwBnS,GArBzB,SAAoCA,GACnC,IAAIllF,EAAS,GAGbA,EAAOhhB,KAAK,EAAE,EAAE,GAChBghB,EAAOhhB,KAAK,GAAG,EAAG,GAElB,IAAIwc,EAAW,IAAImE,EAAAA,EAEnBnE,EAAS6E,aAAaL,GAEtB,IAAItE,EAAWy5F,IAEXj1F,EAAO,IAAIvD,EAAAA,EAAMnB,EAAUE,GAC5BwE,EAAK4N,IAAM,iBACdo3E,EAAMtxF,IAAIsM,GAOVo3F,CAA2BpS,GAKxB,IAHA,IAAIllF,EAAS,GAGL7oB,EAAI,EAAGA,GAAK,IAAKA,IACrB6oB,EAAOhhB,KAA+B,GAA1ByQ,KAAKsnG,IAAI5/G,GAAGsY,KAAKC,GAAG,MAAS,EAA6B,GAA1BD,KAAKunG,IAAI7/G,GAAGsY,KAAKC,GAAG,OAGvE,IAAI8L,EAAW,IAAImE,EAAAA,EAEnBnE,EAAS6E,aAAaL,GAEtB,IAAItE,EAAWy5F,IAEXj1F,EAAO,IAAIvD,EAAAA,EAAMnB,EAAUE,GAE5BwE,EAAK4N,IAAM,iBACd5N,EAAK7O,SAASzI,IAAI,GAAG,GAAI,GACzBs8F,EAAMtxF,IAAIsM,GAiBX,SAASu1F,EAAYvQ,GAEpB,IAAIllF,EAAS,GACTxE,EAAW,IAAImE,EAAAA,EAEfjE,EAAWy5F,IACXj1F,EAAO,IAAIvD,EAAAA,EAAMnB,EAAUE,GAG3B86F,EAAahC,IAEXK,EAAqB,IAAIzE,EAAAA,IAAoB,IAAK,KAClD2E,EAAqB,IAAI3E,EAAAA,IAAyB,CAACx0F,MAAO46F,EAAYrT,KAAMiN,EAAAA,IAAkBrlC,aAAc,IAC5GiqC,EAAU,IAAI5E,EAAAA,IAAYyE,EAAoBE,GACpDC,EAAQxiC,SAAS5pE,IAAK6G,KAAKC,GAAK,EAAG,EAAGD,KAAKC,GAAK,GAChDslG,EAAQ3jG,SAASzI,IAAI,IAAI,GAAG,KAE5BosG,EAAQ5/G,KAAO,iBAEf8vG,EAAMtxF,IAAIohG,IAEVh1F,EAAS,IAEFhhB,KAAK,GAAG,GAAG,GAClBghB,EAAOhhB,KAAK,GAAG,GAAG,IAElBwc,EAAW,IAAImE,EAAAA,GAENU,aAAaL,IAEtBE,EAAO,IAAIvD,EAAAA,EAAMnB,EAAUE,IACtBoS,IAAM,iBAEXo3E,EAAMtxF,IAAKsM,IAEXF,EAAS,IAEFhhB,KAAK,GAAG,GAAG,GAClBghB,EAAOhhB,KAAK,GAAG,GAAG,IAElBwc,EAAW,IAAImE,EAAAA,GAENU,aAAaL,IAEtBE,EAAO,IAAIvD,EAAAA,EAAMnB,EAAUE,IACtBoS,IAAM,iBAEXo3E,EAAMtxF,IAAKsM,GAGZ,SAASw1F,EAAexQ,GAEvB,IAAIllF,EAAS,GAEbA,EAAOhhB,KAAK,EAAE,GAAG,IACjBghB,EAAOhhB,KAAK,EAAE,GAAI,IAElB,IAAIwc,EAAW,IAAImE,EAAAA,EAEnBnE,EAAS6E,aAAaL,GAEtB,IAAItE,EAAWy5F,IAEXj1F,EAAO,IAAIvD,EAAAA,EAAMnB,EAAUE,GAC/BwE,EAAK4N,IAAM,iBAGX,IAAIypF,EAAU,GAEdA,EAAQv4G,KAAK,EAAE,GAAG,IAClBu4G,EAAQv4G,KAAK,EAAE,GAAG,KAElBwc,EAAW,IAAImE,EAAAA,GAENU,aAAak3F,IAEtBr3F,EAAO,IAAIvD,EAAAA,EAAMnB,EAAUE,IACtBoS,IAAM,iBAKX,IAAI0oF,EAAahC,IAEXK,EAAqB,IAAIzE,EAAAA,IAAoB,IAAK,KAClD2E,EAAqB,IAAI3E,EAAAA,IAA4B,CAACx0F,MAAO46F,EAAYrT,KAAMiN,EAAAA,IAAkBrlC,aAAc,IAC/GiqC,EAAU,IAAI5E,EAAAA,IAAYyE,EAAoBE,GACpDC,EAAQxiC,SAAS5pE,IAAK6G,KAAKC,GAAK,EAAG,EAAGD,KAAKC,GAAK,GAChDslG,EAAQ3jG,SAASzI,IAAI,IAAI,GAAG,MAE5BosG,EAAQ5/G,KAAO,iBAEf8vG,EAAMtxF,IAAIohG,IAEVh1F,EAAS,IAEFhhB,KAAK,GAAG,GAAG,IAClBghB,EAAOhhB,KAAK,GAAG,GAAG,KAElBwc,EAAW,IAAImE,EAAAA,GAENU,aAAaL,IAEtBE,EAAO,IAAIvD,EAAAA,EAAMnB,EAAUE,IACtBoS,IAAM,iBACX5N,EAAK9qB,KAAO,iBAEZ8vG,EAAMtxF,IAAKsM,IAEXF,EAAS,IAEFhhB,KAAK,GAAG,GAAG,IAClBghB,EAAOhhB,KAAK,GAAG,GAAG,KAElBwc,EAAW,IAAImE,EAAAA,GAENU,aAAaL,IAEtBE,EAAO,IAAIvD,EAAAA,EAAMnB,EAAUE,IACtBoS,IAAM,iBACX5N,EAAK9qB,KAAO,iBAEZ8vG,EAAMtxF,IAAKsM,GAGZ,SAASy1F,EAAazQ,GACrB,IAAIllF,EAAS,GAEbA,EAAOhhB,KAAK,EAAE,EAAE,GAChBghB,EAAOhhB,KAAK,EAAE,GAAG,IAEjB,IAAIwc,EAAW,IAAImE,EAAAA,EAEfjE,EAAWy5F,IAEf35F,EAAS6E,aAAaL,GAEtB,IAAIE,EAAO,IAAIvD,EAAAA,EAAMnB,EAAUE,GAC/BwE,EAAK4N,IAAM,iBAEXo3E,EAAMtxF,IAAKsM,GA0DL,SAASqN,EAAiBrjB,EAAER,EAAGy+C,EAASqvD,EAAS57F,GACvD,IAGIoE,EACAxE,EAJA0pF,EAAQ,IAAIkL,EAAAA,IACZ10F,EAAWy5F,IACZv5F,IAAOF,EAASE,MAAQA,GAI3BspF,EAAM9vG,KAAO,cACb4qB,EAAS,IAEFhhB,KAAK0K,EAAE,EAAEy+C,EAAS,KAAQj+C,EAAE,EAAKstG,EAAU,KAClDx3F,EAAOhhB,KAAK0K,EAAE,EAAIy+C,EAAS,KAAQj+C,EAAE,EAAKstG,EAAU,MACpDh8F,EAAW,IAAImE,EAAAA,GACNU,aAAaL,GAEtB,IAAIy3F,EAAS,IAAI96F,EAAAA,EAAMnB,EAAUE,GACjC+7F,EAAOriH,KAAO,aACd8vG,EAAMtxF,IAAI6jG,GAEVz3F,EAAS,GAET,IAAI,IAAI7oB,EAAI,EAAGA,GAAK,IAAKA,IAClB6oB,EAAOhhB,KAA8B,EAAzByQ,KAAKsnG,IAAI5/G,GAAGsY,KAAKC,GAAG,KAAO,IAA+B,EAAzBD,KAAKunG,IAAI7/G,GAAGsY,KAAKC,GAAG,OAGrE8L,EAAW,IAAImE,EAAAA,GACNU,aAAcL,GAE1B,IAAI6+B,EAAS,IAAIliC,EAAAA,EAAMnB,EAASE,GAChCmjC,EAAOxtC,SAASlH,EAAIT,EAAE,EAAEy+C,EACxBtJ,EAAOxtC,SAAShH,EAAI,EAAImtG,EACxB34D,EAAOzpD,KAAO,aACd8vG,EAAMtxF,IAAIirC,GAEVh/C,OAAO2tB,MAAM5Z,IAAIsxF,GAGX,SAASwS,EAAsBxtG,EAAER,EAAGsqD,EAAMp4C,GAChD,IAAIspF,EAAQ,IAAIkL,EAAAA,IAEZuH,EAAyB93G,OAAO2tB,MAAMllB,SAASvE,MAAK,SAAAoG,GAAC,MAAe,eAAXA,EAAE/U,QAE/DyK,OAAO2tB,MAAMllB,SAAWzI,OAAO2tB,MAAMllB,SAASzK,QAAO,SAAAsM,GAAC,MAAe,2BAAXA,EAAE/U,MAAgD,eAAX+U,EAAE/U,QAEnG8vG,EAAM9vG,KAAO,yBAnGd,SAA4B8U,EAAER,EAAGw7F,EAAOlxC,EAAM2jD,EAAwB/7F,GACrE,IAAIoE,EAAS,GAETw3F,EAAU,MACVrvD,EAAUz+C,EAAE,EAAI,KAEpBsW,EAAOhhB,MAAMmpD,EAAQ,KAAOj+C,EAAE,EAAKstG,GACnCx3F,EAAOhhB,MAAMmpD,EAAQ,KAAOj+C,EAAE,EAAKstG,GAEnC,IAAIh8F,EAAW,IAAImE,EAAAA,EAEfjE,EAAWy5F,IAEZv5F,IACFF,EAASE,MAAQA,GAElBJ,EAAS6E,aAAaL,GAEtB,IAAIE,EAAO,IAAIvD,EAAAA,EAAMnB,EAAUE,GAC/BwE,EAAK9qB,KAAO,iBAEZ8vG,EAAMtxF,IAAKsM,IAEXF,EAAS,IAEFhhB,MAAMmpD,EAAS,KAAQj+C,EAAE,EAAKstG,GACrCx3F,EAAOhhB,KAAK0K,EAAIy+C,EAAS,KAAQj+C,EAAE,EAAKstG,IACxCh8F,EAAW,IAAImE,EAAAA,GACNU,aAAaL,GAEtBklF,EAAMtxF,IAAI,IAAI+I,EAAAA,EAAMnB,EAAUE,KAE9BsE,EAAS,IAEFhhB,KAAK0K,EAAEy+C,EAAQ,KAAOj+C,EAAE,EAAKstG,GACpCx3F,EAAOhhB,KAAK0K,EAAEy+C,EAAQ,KAAOj+C,EAAE,EAAKstG,IACpCh8F,EAAW,IAAImE,EAAAA,GACNU,aAAaL,GAEtBklF,EAAMtxF,IAAI,IAAI+I,EAAAA,EAAMnB,EAAUE,KAE9BsE,EAAS,IAEFhhB,MAAMmpD,EAAS,KAAQj+C,EAAE,EAAKstG,EAAU,KAC/Cx3F,EAAOhhB,KAAK0K,EAAIy+C,EAAS,KAAQj+C,EAAE,EAAKstG,EAAU,MAClDh8F,EAAW,IAAImE,EAAAA,GACNU,aAAaL,GAEtBklF,EAAMtxF,IAAI,IAAI+I,EAAAA,EAAMnB,EAAUE,KAE3Bs4C,GAAQ2jD,IACVpqF,EAAiBrjB,EAAER,EAAEy+C,EAAQqvD,EAAS57F,GAiDvCg8F,CAAmB1tG,EAAER,EAAGw7F,EAAOlxC,EAAM2jD,EAAwB/7F,GAE7DpiB,QAAQy0B,IAAIi3E,GACZrlG,OAAO2tB,MAAM5Z,IAAIsxF,GACjBrlG,OAAO0uB,SAASt4B,OAAO4J,OAAO2tB,MAAO3tB,OAAO2c,QAGtC,SAASq7F,EAAa3tG,EAAER,EAAGkS,GAEjC,IAAMk5F,EAAiB,IAAI1E,EAAAA,IAAoBlmG,EAAE,EAAER,EAAE,GAC/CurG,EAAiB,IAAI7E,EAAAA,IAA4B,CAACx0F,MAAOA,EAAOunF,KAAMiN,EAAAA,IAAkBrlC,aAAc,IACtGz4C,EAAS,IAAI89E,EAAAA,IAAa0E,EAAgBG,GAChD3iF,EAAOkgD,SAAS5pE,IAAK6G,KAAKC,GAAK,EAAG,EAAGD,KAAKC,GAAK,GAC/C4iB,EAAOjhB,SAASzI,IAAI,MAAO,KAAO,OAClC0pB,EAAOxE,IAAM,SACbwE,EAAOl9B,KAAO,SAEdyK,OAAO2tB,MAAM5Z,IAAI0e,oKC94BX,SAAS7D,IACd,IAAMjB,EAAU3tB,OAAV2tB,MAEAxN,EAAS,GACT83F,EAAuB,GACvBC,EAAwB,GACxBC,EAA2B,GAC3BC,EAA4B,GAElCj4F,EAAOhhB,KAAM,EAAG,EAAG,GACnBghB,EAAOhhB,KAAM,GAAI,EAAG,GACpBghB,EAAOhhB,KAAK,GAAG,GAAG,IAClBghB,EAAOhhB,KAAK,EAAE,GAAG,IACjBghB,EAAOhhB,KAAM,EAAG,EAAG,GACnBghB,EAAOhhB,KAAM,EAAG,GAAI,IACpBghB,EAAOhhB,KAAM,GAAI,GAAI,IACrBghB,EAAOhhB,KAAM,GAAI,EAAG,GAEpB84G,EAAqB94G,KAAK,EAAE,GAAG,IAC/B84G,EAAqB94G,KAAK,GAAG,GAAG,IAEhC+4G,EAAsB/4G,KAAK,GAAG,GAAG,IACjC+4G,EAAsB/4G,KAAK,GAAG,GAAG,IAEjCg5G,EAAyBh5G,KAAK,GAAG,EAAE,GACnCg5G,EAAyBh5G,KAAK,GAAG,GAAG,IAEpCi5G,EAA0Bj5G,KAAK,GAAG,EAAE,GACpCi5G,EAA0Bj5G,KAAK,GAAG,GAAG,IAErC,IAAMwc,EAAW,IAAImE,EAAAA,EACrBnE,EAAS6E,aAAcL,GAGvB,IAAMi3F,EAAY,IAAIt3F,EAAAA,EACtBs3F,EAAU52F,aAAay3F,GAEvB,IAAMI,EAAY,IAAIv4F,EAAAA,EACtBu4F,EAAU73F,aAAa03F,GAEvB,IAAMI,EAAY,IAAIx4F,EAAAA,EACtBw4F,EAAU93F,aAAa23F,GAEvB,IAAMI,EAAY,IAAIz4F,EAAAA,EACtBy4F,EAAU/3F,aAAa43F,GAEvB,IAAIv8F,EAAWy5F,IAEXjQ,EAAQ,IAAIkL,EAAAA,IAEZlwF,EAAO,IAAIvD,EAAAA,EAAOnB,EAAUE,GAC5By7F,EAAQ,IAAIx6F,EAAAA,EAAOs6F,EAAWv7F,GAC9B28F,EAAQ,IAAI17F,EAAAA,EAAOu7F,EAAWx8F,GAC9B48F,EAAQ,IAAI37F,EAAAA,EAAOw7F,EAAWz8F,GAC9B68F,EAAQ,IAAI57F,EAAAA,EAAMy7F,EAAW18F,GAEjCwE,EAAK7O,SAASjH,EAAI,KAClB+sG,EAAM9lG,SAASjH,EAAI,KACnBiuG,EAAMhnG,SAASjH,EAAI,KACnBkuG,EAAMjnG,SAASjH,EAAI,KACnBmuG,EAAMlnG,SAASjH,EAAI,KAEnB8V,EAAK4N,IAAM,iBACXqpF,EAAMrpF,IAAM,iBACZuqF,EAAMvqF,IAAM,iBACZwqF,EAAMxqF,IAAM,iBACZyqF,EAAMzqF,IAAM,iBAEZo3E,EAAMtxF,IAAIsM,GACVglF,EAAMtxF,IAAIujG,GACVjS,EAAMtxF,IAAIykG,GACVnT,EAAMtxF,IAAI0kG,GACVpT,EAAMtxF,IAAI2kG,GAEVC,EAAkBtT,EAAO,IAAK,IAC9BA,EAAM7zF,SAAShH,GAAK,IACpB66F,EAAM7zF,SAASlH,EAAI,GAEnB+6F,EAAMp3E,IAAM,kBACZN,EAAM5Z,IAAIsxF,GAGL,SAASx2E,IAEd,IAAIlB,EAAQ3tB,OAAO2tB,MAEbxN,EAAS,GACT83F,EAAuB,GACvBC,EAAwB,GACxBC,EAA2B,GAC3BC,EAA4B,GAElCj4F,EAAOhhB,KAAM,EAAG,EAAG,GACnBghB,EAAOhhB,KAAM,GAAI,EAAG,GACpBghB,EAAOhhB,KAAK,GAAG,GAAG,IAClBghB,EAAOhhB,KAAK,EAAE,GAAG,IACjBghB,EAAOhhB,KAAM,EAAG,EAAG,GACnBghB,EAAOhhB,KAAM,EAAG,GAAI,IACpBghB,EAAOhhB,KAAM,GAAI,GAAI,IACrBghB,EAAOhhB,KAAM,GAAI,EAAG,GAEpB84G,EAAqB94G,KAAK,EAAE,GAAG,IAC/B84G,EAAqB94G,KAAK,GAAG,GAAG,IAEhC+4G,EAAsB/4G,KAAK,GAAG,GAAG,IACjC+4G,EAAsB/4G,KAAK,GAAG,GAAG,IAEjCg5G,EAAyBh5G,KAAK,GAAG,EAAE,GACnCg5G,EAAyBh5G,KAAK,GAAG,GAAG,IAEpCi5G,EAA0Bj5G,KAAK,GAAG,EAAE,GACpCi5G,EAA0Bj5G,KAAK,GAAG,GAAG,IAErC,IAAMwc,EAAW,IAAImE,EAAAA,EACrBnE,EAAS6E,aAAcL,GAGvB,IAAMi3F,EAAY,IAAIt3F,EAAAA,EACtBs3F,EAAU52F,aAAay3F,GAEvB,IAAMI,EAAY,IAAIv4F,EAAAA,EACtBu4F,EAAU73F,aAAa03F,GAEvB,IAAMI,EAAY,IAAIx4F,EAAAA,EACtBw4F,EAAU93F,aAAa23F,GAEvB,IAAMI,EAAY,IAAIz4F,EAAAA,EACtBy4F,EAAU/3F,aAAa43F,GAEvB,IAAIv8F,EAAWy5F,IAEXjQ,EAAQ,IAAIkL,EAAAA,IACZqI,EAAc,IAAIrI,EAAAA,IAElBlwF,EAAO,IAAIvD,EAAAA,EAAOnB,EAAUE,GAC5By7F,EAAQ,IAAIx6F,EAAAA,EAAOs6F,EAAWv7F,GAC9B28F,EAAQ,IAAI17F,EAAAA,EAAOu7F,EAAWx8F,GAC9B48F,EAAQ,IAAI37F,EAAAA,EAAOw7F,EAAWz8F,GAC9B68F,EAAQ,IAAI57F,EAAAA,EAAMy7F,EAAW18F,GAEjCwE,EAAK4N,IAAM,iBACXqpF,EAAMrpF,IAAM,iBACZuqF,EAAMvqF,IAAM,iBACZwqF,EAAMxqF,IAAM,iBACZyqF,EAAMzqF,IAAM,iBAEZ5N,EAAK7O,SAASjH,EAAI,KAClB+sG,EAAM9lG,SAASjH,EAAI,KACnBiuG,EAAMhnG,SAASjH,EAAI,KACnBkuG,EAAMjnG,SAASjH,EAAI,KACnBmuG,EAAMlnG,SAASjH,EAAI,KAEnB86F,EAAMtxF,IAAIsM,GACVglF,EAAMtxF,IAAIujG,GACVjS,EAAMtxF,IAAIykG,GACVnT,EAAMtxF,IAAI0kG,GACVpT,EAAMtxF,IAAI2kG,GAEVr4F,EAAO,IAAIvD,EAAAA,EAAOnB,EAAUE,GAC5By7F,EAAQ,IAAIx6F,EAAAA,EAAOs6F,EAAWv7F,GAC9B28F,EAAQ,IAAI17F,EAAAA,EAAOu7F,EAAWx8F,GAC9B48F,EAAQ,IAAI37F,EAAAA,EAAOw7F,EAAWz8F,GAC9B68F,EAAQ,IAAI57F,EAAAA,EAAMy7F,EAAW18F,GAE7BwE,EAAK7O,SAASjH,EAAI,KAClB+sG,EAAM9lG,SAASjH,EAAI,KACnBiuG,EAAMhnG,SAASjH,EAAI,KACnBkuG,EAAMjnG,SAASjH,EAAI,KACnBmuG,EAAMlnG,SAASjH,EAAI,KAEnBquG,EAAY7kG,IAAIsM,GAChBu4F,EAAY7kG,IAAIujG,GAChBsB,EAAY7kG,IAAIykG,GAChBI,EAAY7kG,IAAI0kG,GAChBG,EAAY7kG,IAAI2kG,GAEhBrT,EAAM7zF,SAAShH,GAAK,IACpB66F,EAAM7zF,SAASlH,GAAK,GACpB+6F,EAAM7zF,SAASjH,EAAI,IAEnBquG,EAAYpnG,SAAShH,GAAK,IAC1BouG,EAAYpnG,SAASlH,EAAK,GAC1BsuG,EAAYpnG,SAASjH,EAAI,IAEzB86F,EAAMp3E,IAAK,kBACX2qF,EAAY3qF,IAAM,kBAElB0qF,EAAkBtT,EAAO,IAAK,IAC9BsT,EAAkBC,EAAa,IAAK,IAEpCjrF,EAAM5Z,IAAIsxF,GACV13E,EAAM5Z,IAAI6kG,GAiBZ,SAASD,EAAkBtT,EAAO/6F,EAAGE,GACpC,IAbIquG,EAaAz4G,EAAI,IAAImwG,EAAAA,IAAoB,GAAG,IAE/B10F,EAXO,WAJPg9F,EAAMz2G,SAASkB,cAAc,oBAAoBxK,OAKxC,IAAIy3G,EAAAA,IAAwB,CAAEx0F,MAAO88F,EAAKvV,KAAMiN,EAAAA,MAE7C,IAAIA,EAAAA,IAAyB,CAAEx0F,MAAO,EAAUoS,aAAa,EAAMrN,QAAS,EAAGwiF,KAAMiN,EAAAA,MAUjGluF,EAAO,IAAIkuF,EAAAA,IAAWnwG,EAAGyb,GAE7BwG,EAAKswD,SAAS5pE,IAAI6G,KAAKC,GAAG,EAAG,EAAGD,KAAKC,GAAK,GAE1CwS,EAAK7Q,SAASlH,EAAIA,EAClB+X,EAAK7Q,SAAShH,EAAIA,EAClB6X,EAAK7Q,SAASjH,GAAK,KAEnB8X,EAAK9sB,KAAO,oBACZ8vG,EAAMtxF,IAAIsO,GAGX,SAASizF,IACR,IAEIqB,EAAav0G,SAASkB,cAAc,0BAA0BxK,MAQlE,MANkB,UAAf69G,EACS,IAAI76F,EAAAA,EAAa,CAAEC,MAAO46F,EAAYv5F,UAAW,OAE7C,IAAItB,EAAAA,EAAc,CAAEC,MAAO,SAAUqB,UAAW,OAM1D,SAASuR,IACX3uB,OAAO2tB,QAEX3tB,OAAO2tB,MAAMllB,SAAWzI,OAAO2tB,MAAMllB,SAASzK,QAAO,SAAAsM,GAAC,MAAc,oBAAVA,EAAE2jB,gMClPtD,SAASkB,EAAa9kB,EAAQR,EAASivG,QAAc,IAA/BzuG,IAAAA,EAAI,SAA2B,IAAvBR,IAAAA,EAAI,KACvC,IAAIgS,EAAW,IAAIC,EAAAA,EAAc,CAAEC,MAAO,SAAUqB,UAAW,OAE/D,EAAkCpd,OAA5B0uB,EAAN,EAAMA,SAAUf,EAAhB,EAAgBA,MAAOhR,EAAvB,EAAuBA,OACvB,GAAI+R,EAAJ,CAEA,IAAMvO,EAAS,GACT44F,EAAkB,GAClBb,EAAwB,GACxBc,EAA0B,GAEhC74F,EAAOhhB,KAAM,EAAG,EAAG,GACnBghB,EAAOhhB,KAAM,GAAI,EAAG,GACpBghB,EAAOhhB,KAAK,GAAG,GAAG,IAClBghB,EAAOhhB,KAAK,EAAE,GAAG,IACjBghB,EAAOhhB,KAAM,EAAG,EAAG,GACnBghB,EAAOhhB,KAAM,EAAG,GAAI,IACpBghB,EAAOhhB,KAAM,GAAI,GAAI,IACrBghB,EAAOhhB,KAAM,GAAI,EAAG,GAEpB45G,EAAgB55G,KAAM,EAAG,GAAI,KAC7B45G,EAAgB55G,KAAK,GAAI,GAAI,KAE7B65G,EAAwB75G,KAAM,EAAG,GAAI,MACrC65G,EAAwB75G,KAAM,GAAI,GAAI,MAEtC+4G,EAAsB/4G,KAAM,KAAM,GAAI,KACtC+4G,EAAsB/4G,KAAM,KAAK,GAAI,MACrC+4G,EAAsB/4G,KAAM,KAAK,GAAI,MACrC+4G,EAAsB/4G,KAAM,KAAM,GAAI,MACtC+4G,EAAsB/4G,KAAM,KAAM,GAAI,KACtC+4G,EAAsB/4G,KAAM,KAAM,GAAI,MAGtC,IAAMwc,EAAW,IAAImE,EAAAA,EACrBnE,EAAS6E,aAAcL,GAEvB,IAAMi3F,EAAY,IAAIt3F,EAAAA,EACtBs3F,EAAU52F,aAAcu4F,GAExB,IAAMV,EAAY,IAAIv4F,EAAAA,EACtBu4F,EAAU73F,aAAcw4F,GAExB,IAAMV,EAAY,IAAIx4F,EAAAA,EACtBw4F,EAAU93F,aAAa03F,GAIvB,IAAI73F,EAAO,IAAIvD,EAAAA,EAAOnB,EAAUE,GAC5By7F,EAAQ,IAAIx6F,EAAAA,EAAOs6F,EAAWv7F,GAC9B28F,EAAQ,IAAI17F,EAAAA,EAAOu7F,EAAWx8F,GAC9B48F,EAAQ,IAAI37F,EAAAA,EAAOw7F,EAAWz8F,GAElCwE,EAAK7O,SAASzI,IAAI,EAAE,IAAK,GACzBuuG,EAAM9lG,SAASzI,IAAI,EAAE,IAAK,GAC1ByvG,EAAMhnG,SAASzI,IAAI,EAAE,IAAK,GAC1B0vG,EAAMjnG,SAASzI,IAAI,EAAE,IAAK,GAE1BsX,EAAK4N,IAAM,OACXqpF,EAAMrpF,IAAM,OACZuqF,EAAMvqF,IAAM,OACZwqF,EAAMxqF,IAAM,OAEZ5N,EAAK9qB,KAAO,OACZ+hH,EAAM/hH,KAAO,OACbijH,EAAMjjH,KAAO,OACbkjH,EAAMljH,KAAO,OAEb,IAAM0jH,EAAY,IAAI1I,EAAAA,IAAqB,GAAI,IACzCtL,EAAY,IAAIsL,EAAAA,IAA4B,CAACx0F,MAAO,MAAUunF,KAAMiN,EAAAA,IAAkBrlC,aAAc,IAEpGguC,EAAQ,IAAI3I,EAAAA,IAAY0I,EAAWhU,GACzCiU,EAAMvmC,SAAS5pE,IAAK6G,KAAKC,GAAK,EAAG,EAAGD,KAAKC,GAAK,GAC9CqpG,EAAM1nG,SAASzI,IAAI,IAAI,KAAM,OAC7B/I,OAAOk5G,MAAQA,EACfvrF,EAAM5Z,IAAKmlG,GACXA,EAAMjrF,IAAM,QACZirF,EAAM3jH,KAAO,QAGTujH,GAAelE,EAAuBvqG,EAAER,GAAG,GAC/C8jB,EAAM5Z,IAAIsM,GACVsN,EAAM5Z,IAAIujG,GACV3pF,EAAM5Z,IAAIykG,GACV7qF,EAAM5Z,IAAI0kG,GAEV/pF,EAASt4B,OAAQu3B,EAAOhR,IAmBnB,SAASi4F,EAAuBvqG,EAAER,EAAGsqD,GAG3C,MAnBD,WACC,IAAI0gD,EACAC,EAYJ,OAVsE,IAAnE90G,OAAO2tB,MAAMllB,SAASzK,QAAO,SAAAsM,GAAC,MAAe,YAAXA,EAAE/U,QAAoBC,SAC1Ds/G,EAAc90G,OAAO2tB,MAAMllB,SAASzK,QAAO,SAAAsM,GAAC,MAAe,YAAXA,EAAE/U,QAAoB,GACtEyK,OAAO2tB,MAAMllB,SAAWzI,OAAO2tB,MAAMllB,SAASzK,QAAO,SAAAsM,GAAC,MAAe,YAAXA,EAAE/U,SAGQ,IAAlEyK,OAAO2tB,MAAMllB,SAASzK,QAAO,SAAAsM,GAAC,MAAe,WAAXA,EAAE/U,QAAmBC,SACzDq/G,EAAa70G,OAAO2tB,MAAMllB,SAASzK,QAAO,SAAAsM,GAAC,MAAe,WAAXA,EAAE/U,QAAmB,GACpEyK,OAAO2tB,MAAMllB,SAAWzI,OAAO2tB,MAAMllB,SAASzK,QAAO,SAAAsM,GAAC,MAAc,WAAVA,EAAE2jB,QAGtD,CAAC6mF,EAAaD,GAKaE,GAA5BD,EAAN,KAAmBD,EAAnB,KAEMG,EAAqB,IAAIzE,EAAAA,IAAoBlmG,EAAGR,GAChDorG,EAAiB,IAAI1E,EAAAA,IAAoBlmG,EAAE,EAAER,EAAE,GACrD,GAAGsqD,EAAK,CAEP,IAAM+gD,EAAqB,IAAI3E,EAAAA,IAA4B,CAACx0F,MAAO,MAAUunF,KAAMiN,EAAAA,IAAkBrlC,aAAc,IAC7GiqC,EAAU,IAAI5E,EAAAA,IAAYyE,EAAoBE,GACpDC,EAAQxiC,SAAS5pE,IAAK6G,KAAKC,GAAK,EAAG,EAAGD,KAAKC,GAAK,GAChDslG,EAAQ3jG,SAASzI,IAAI,MAAM,KAAM,OACjCosG,EAAQlnF,IAAM,UACdknF,EAAQ5/G,KAAO,UAEfyK,OAAO2tB,MAAM5Z,IAAIohG,OACb,CACJ,IAAMD,EAAqBJ,EAAYj5F,SAEjCs5F,EAAU,IAAI5E,EAAAA,IAAYyE,EAAoBE,GAOpD,GANAC,EAAQxiC,SAAS5pE,IAAK6G,KAAKC,GAAK,EAAG,EAAGD,KAAKC,GAAK,GAChDslG,EAAQ3jG,SAASzI,IAAI,MAAM,KAAM,OACjCosG,EAAQlnF,IAAM,UACdknF,EAAQ5/G,KAAO,UAEfyK,OAAO2tB,MAAM5Z,IAAIohG,GACdN,EAAW,CACb,IAAMO,EAAiBP,EAAWh5F,SAE5B4W,EAAS,IAAI89E,EAAAA,IAAa0E,EAAgBG,GAChD3iF,EAAOkgD,SAAS5pE,IAAK6G,KAAKC,GAAK,EAAG,EAAGD,KAAKC,GAAK,GAC/C4iB,EAAOjhB,SAASzI,IAAI,MAAO,KAAO,OAClC0pB,EAAOl9B,KAAO,SACdk9B,EAAOxE,IAAM,SACbjuB,OAAO2tB,MAAM5Z,IAAI0e,KAMb,SAAS0mF,IACfn5G,OAAO2tB,MAAMllB,SAAWzI,OAAO2tB,MAAMllB,SAASzK,QAAQ,SAAAsM,GAAC,MAAe,WAAXA,EAAE/U,QAC7DyK,OAAO0uB,SAASt4B,OAAO4J,OAAO2tB,MAAO3tB,OAAO2c,QAGtC,SAASq7F,EAAa3tG,EAAER,EAAGkS,GAEjC,IAAMk5F,EAAiB,IAAI1E,EAAAA,IAAoBlmG,EAAE,EAAER,EAAE,GAC/CurG,EAAiB,IAAI7E,EAAAA,IAA4B,CAACx0F,MAAOA,EAAOunF,KAAMiN,EAAAA,IAAkBrlC,aAAc,IACtGz4C,EAAS,IAAI89E,EAAAA,IAAa0E,EAAgBG,GAChD3iF,EAAOkgD,SAAS5pE,IAAK6G,KAAKC,GAAK,EAAG,EAAGD,KAAKC,GAAK,GAC/C4iB,EAAOjhB,SAASzI,IAAI,MAAO,KAAO,OAClC0pB,EAAOxE,IAAM,SACbwE,EAAOl9B,KAAO,SAEdyK,OAAO2tB,MAAM5Z,IAAI0e,sBChKlB,IAAI2mF,EAAW,SAAU/kH,GACvB,aAEA,IAEI8I,EAFAk8G,EAAK9iH,OAAO/B,UACZyxB,EAASozF,EAAGhgH,eAEZyuB,EAA4B,mBAAX5zB,OAAwBA,OAAS,GAClDolH,EAAiBxxF,EAAQ3zB,UAAY,aACrColH,EAAsBzxF,EAAQ0xF,eAAiB,kBAC/CC,EAAoB3xF,EAAQ4xF,aAAe,gBAE/C,SAASC,EAAO1lH,EAAKsD,EAAKuB,GAOxB,OANAvC,OAAOD,eAAerC,EAAKsD,EAAK,CAC9BuB,MAAOA,EACPsD,YAAY,EACZC,cAAc,EACdC,UAAU,IAELrI,EAAIsD,GAEb,IAEEoiH,EAAO,GAAI,IACX,MAAO98E,GACP88E,EAAS,SAAS1lH,EAAKsD,EAAKuB,GAC1B,OAAO7E,EAAIsD,GAAOuB,GAItB,SAAS8gH,EAAKC,EAASC,EAASh9G,EAAMi9G,GAEpC,IAAIC,EAAiBF,GAAWA,EAAQtlH,qBAAqBylH,EAAYH,EAAUG,EAC/EC,EAAY3jH,OAAOyQ,OAAOgzG,EAAexlH,WACzC2lH,EAAU,IAAIC,EAAQL,GAAe,IAMzC,OAFAG,EAAUG,QAuMZ,SAA0BR,EAAS/8G,EAAMq9G,GACvC,IAAIztG,EAAQ4tG,EAEZ,OAAO,SAAgB10F,EAAQ8vB,GAC7B,GAAIhpC,IAAU6tG,EACZ,MAAM,IAAI9yG,MAAM,gCAGlB,GAAIiF,IAAU8tG,EAAmB,CAC/B,GAAe,UAAX50F,EACF,MAAM8vB,EAKR,OAAO+kE,IAMT,IAHAN,EAAQv0F,OAASA,EACjBu0F,EAAQzkE,IAAMA,IAED,CACX,IAAIglE,EAAWP,EAAQO,SACvB,GAAIA,EAAU,CACZ,IAAIC,EAAiBC,EAAoBF,EAAUP,GACnD,GAAIQ,EAAgB,CAClB,GAAIA,IAAmBE,EAAkB,SACzC,OAAOF,GAIX,GAAuB,SAAnBR,EAAQv0F,OAGVu0F,EAAQW,KAAOX,EAAQY,MAAQZ,EAAQzkE,SAElC,GAAuB,UAAnBykE,EAAQv0F,OAAoB,CACrC,GAAIlZ,IAAU4tG,EAEZ,MADA5tG,EAAQ8tG,EACFL,EAAQzkE,IAGhBykE,EAAQa,kBAAkBb,EAAQzkE,SAEN,WAAnBykE,EAAQv0F,QACjBu0F,EAAQc,OAAO,SAAUd,EAAQzkE,KAGnChpC,EAAQ6tG,EAER,IAAIW,EAASC,EAAStB,EAAS/8G,EAAMq9G,GACrC,GAAoB,WAAhBe,EAAO7lH,KAAmB,CAO5B,GAJAqX,EAAQytG,EAAQvhH,KACZ4hH,EACAY,EAEAF,EAAOxlE,MAAQmlE,EACjB,SAGF,MAAO,CACL/hH,MAAOoiH,EAAOxlE,IACd98C,KAAMuhH,EAAQvhH,MAGS,UAAhBsiH,EAAO7lH,OAChBqX,EAAQ8tG,EAGRL,EAAQv0F,OAAS,QACjBu0F,EAAQzkE,IAAMwlE,EAAOxlE,OA/QP2lE,CAAiBxB,EAAS/8G,EAAMq9G,GAE7CD,EAcT,SAASiB,EAASlyF,EAAIh1B,EAAKyhD,GACzB,IACE,MAAO,CAAErgD,KAAM,SAAUqgD,IAAKzsB,EAAG3vB,KAAKrF,EAAKyhD,IAC3C,MAAO7Y,GACP,MAAO,CAAExnC,KAAM,QAASqgD,IAAK7Y,IAhBjCxoC,EAAQulH,KAAOA,EAoBf,IAAIU,EAAyB,iBACzBc,EAAyB,iBACzBb,EAAoB,YACpBC,EAAoB,YAIpBK,EAAmB,GAMvB,SAASZ,KACT,SAASqB,KACT,SAASC,KAIT,IAAIC,EAAoB,GACxB7B,EAAO6B,EAAmBlC,GAAgB,WACxC,OAAO1yG,QAGT,IAAI60G,EAAWllH,OAAOI,eAClB+kH,EAA0BD,GAAYA,EAASA,EAAS3wE,EAAO,MAC/D4wE,GACAA,IAA4BrC,GAC5BpzF,EAAO3sB,KAAKoiH,EAAyBpC,KAGvCkC,EAAoBE,GAGtB,IAAIC,EAAKJ,EAA2B/mH,UAClCylH,EAAUzlH,UAAY+B,OAAOyQ,OAAOw0G,GAYtC,SAASI,EAAsBpnH,GAC7B,CAAC,OAAQ,QAAS,UAAU0K,SAAQ,SAAS0mB,GAC3C+zF,EAAOnlH,EAAWoxB,GAAQ,SAAS8vB,GACjC,OAAO9uC,KAAKyzG,QAAQz0F,EAAQ8vB,SAkClC,SAASmmE,EAAc3B,EAAW4B,GAChC,SAASC,EAAOn2F,EAAQ8vB,EAAK05C,EAAS6P,GACpC,IAAIic,EAASC,EAASjB,EAAUt0F,GAASs0F,EAAWxkE,GACpD,GAAoB,UAAhBwlE,EAAO7lH,KAEJ,CACL,IAAI0Y,EAASmtG,EAAOxlE,IAChB58C,EAAQiV,EAAOjV,MACnB,OAAIA,GACiB,iBAAVA,GACPmtB,EAAO3sB,KAAKR,EAAO,WACdgjH,EAAY1sB,QAAQt2F,EAAMkjH,SAAS1sB,MAAK,SAASx2F,GACtDijH,EAAO,OAAQjjH,EAAOs2F,EAAS6P,MAC9B,SAASpiE,GACVk/E,EAAO,QAASl/E,EAAKuyD,EAAS6P,MAI3B6c,EAAY1sB,QAAQt2F,GAAOw2F,MAAK,SAAS2sB,GAI9CluG,EAAOjV,MAAQmjH,EACf7sB,EAAQrhF,MACP,SAASvU,GAGV,OAAOuiH,EAAO,QAASviH,EAAO41F,EAAS6P,MAvBzCA,EAAOic,EAAOxlE,KA4BlB,IAAIwmE,EAgCJt1G,KAAKyzG,QA9BL,SAAiBz0F,EAAQ8vB,GACvB,SAASymE,IACP,OAAO,IAAIL,GAAY,SAAS1sB,EAAS6P,GACvC8c,EAAOn2F,EAAQ8vB,EAAK05C,EAAS6P,MAIjC,OAAOid,EAaLA,EAAkBA,EAAgB5sB,KAChC6sB,EAGAA,GACEA,KAkHV,SAASvB,EAAoBF,EAAUP,GACrC,IAAIv0F,EAAS80F,EAASvmH,SAASgmH,EAAQv0F,QACvC,GAAIA,IAAWzoB,EAAW,CAKxB,GAFAg9G,EAAQO,SAAW,KAEI,UAAnBP,EAAQv0F,OAAoB,CAE9B,GAAI80F,EAASvmH,SAAiB,SAG5BgmH,EAAQv0F,OAAS,SACjBu0F,EAAQzkE,IAAMv4C,EACdy9G,EAAoBF,EAAUP,GAEP,UAAnBA,EAAQv0F,QAGV,OAAOi1F,EAIXV,EAAQv0F,OAAS,QACjBu0F,EAAQzkE,IAAM,IAAI35C,UAChB,kDAGJ,OAAO8+G,EAGT,IAAIK,EAASC,EAASv1F,EAAQ80F,EAASvmH,SAAUgmH,EAAQzkE,KAEzD,GAAoB,UAAhBwlE,EAAO7lH,KAIT,OAHA8kH,EAAQv0F,OAAS,QACjBu0F,EAAQzkE,IAAMwlE,EAAOxlE,IACrBykE,EAAQO,SAAW,KACZG,EAGT,IAAI9pE,EAAOmqE,EAAOxlE,IAElB,OAAM3E,EAOFA,EAAKn4C,MAGPuhH,EAAQO,EAAS0B,YAAcrrE,EAAKj4C,MAGpCqhH,EAAQxhH,KAAO+hH,EAAS2B,QAQD,WAAnBlC,EAAQv0F,SACVu0F,EAAQv0F,OAAS,OACjBu0F,EAAQzkE,IAAMv4C,GAUlBg9G,EAAQO,SAAW,KACZG,GANE9pE,GA3BPopE,EAAQv0F,OAAS,QACjBu0F,EAAQzkE,IAAM,IAAI35C,UAAU,oCAC5Bo+G,EAAQO,SAAW,KACZG,GAoDX,SAASyB,EAAaC,GACpB,IAAIC,EAAQ,CAAEC,OAAQF,EAAK,IAEvB,KAAKA,IACPC,EAAME,SAAWH,EAAK,IAGpB,KAAKA,IACPC,EAAMG,WAAaJ,EAAK,GACxBC,EAAMI,SAAWL,EAAK,IAGxB31G,KAAKi2G,WAAW19G,KAAKq9G,GAGvB,SAASM,EAAcN,GACrB,IAAItB,EAASsB,EAAMO,YAAc,GACjC7B,EAAO7lH,KAAO,gBACP6lH,EAAOxlE,IACd8mE,EAAMO,WAAa7B,EAGrB,SAASd,EAAQL,GAIfnzG,KAAKi2G,WAAa,CAAC,CAAEJ,OAAQ,SAC7B1C,EAAY76G,QAAQo9G,EAAc11G,MAClCA,KAAK6L,OAAM,GA8Bb,SAASq4B,EAAOkyE,GACd,GAAIA,EAAU,CACZ,IAAIC,EAAiBD,EAAS1D,GAC9B,GAAI2D,EACF,OAAOA,EAAe3jH,KAAK0jH,GAG7B,GAA6B,mBAAlBA,EAASrkH,KAClB,OAAOqkH,EAGT,IAAKn6F,MAAMm6F,EAASxnH,QAAS,CAC3B,IAAI8B,GAAK,EAAGqB,EAAO,SAASA,IAC1B,OAASrB,EAAI0lH,EAASxnH,QACpB,GAAIywB,EAAO3sB,KAAK0jH,EAAU1lH,GAGxB,OAFAqB,EAAKG,MAAQkkH,EAAS1lH,GACtBqB,EAAKC,MAAO,EACLD,EAOX,OAHAA,EAAKG,MAAQqE,EACbxE,EAAKC,MAAO,EAELD,GAGT,OAAOA,EAAKA,KAAOA,GAKvB,MAAO,CAAEA,KAAM8hH,GAIjB,SAASA,IACP,MAAO,CAAE3hH,MAAOqE,EAAWvE,MAAM,GA+MnC,OA7mBA0iH,EAAkB9mH,UAAY+mH,EAC9B5B,EAAOgC,EAAI,cAAeJ,GAC1B5B,EAAO4B,EAA4B,cAAeD,GAClDA,EAAkBvmH,YAAc4kH,EAC9B4B,EACA9B,EACA,qBAaFplH,EAAQ6oH,oBAAsB,SAASC,GACrC,IAAIC,EAAyB,mBAAXD,GAAyBA,EAAO5oH,YAClD,QAAO6oH,IACHA,IAAS9B,GAG2B,uBAAnC8B,EAAKroH,aAAeqoH,EAAK7nH,QAIhClB,EAAQmwD,KAAO,SAAS24D,GAQtB,OAPI5mH,OAAO0Q,eACT1Q,OAAO0Q,eAAek2G,EAAQ5B,IAE9B4B,EAAOj2G,UAAYq0G,EACnB5B,EAAOwD,EAAQ1D,EAAmB,sBAEpC0D,EAAO3oH,UAAY+B,OAAOyQ,OAAO20G,GAC1BwB,GAOT9oH,EAAQgpH,MAAQ,SAAS3nE,GACvB,MAAO,CAAEsmE,QAAStmE,IAsEpBkmE,EAAsBC,EAAcrnH,WACpCmlH,EAAOkC,EAAcrnH,UAAW+kH,GAAqB,WACnD,OAAO3yG,QAETvS,EAAQwnH,cAAgBA,EAKxBxnH,EAAQipH,MAAQ,SAASzD,EAASC,EAASh9G,EAAMi9G,EAAa+B,QACxC,IAAhBA,IAAwBA,EAAc3sB,SAE1C,IAAIouB,EAAO,IAAI1B,EACbjC,EAAKC,EAASC,EAASh9G,EAAMi9G,GAC7B+B,GAGF,OAAOznH,EAAQ6oH,oBAAoBpD,GAC/ByD,EACAA,EAAK5kH,OAAO22F,MAAK,SAASvhF,GACxB,OAAOA,EAAOnV,KAAOmV,EAAOjV,MAAQykH,EAAK5kH,WAuKjDijH,EAAsBD,GAEtBhC,EAAOgC,EAAIlC,EAAmB,aAO9BE,EAAOgC,EAAIrC,GAAgB,WACzB,OAAO1yG,QAGT+yG,EAAOgC,EAAI,YAAY,WACrB,MAAO,wBAkCTtnH,EAAQ6C,KAAO,SAASsX,GACtB,IAAItX,EAAO,GACX,IAAK,IAAIK,KAAOiX,EACdtX,EAAKiI,KAAK5H,GAMZ,OAJAL,EAAKmH,UAIE,SAAS1F,IACd,KAAOzB,EAAK1B,QAAQ,CAClB,IAAI+B,EAAML,EAAKmxE,MACf,GAAI9wE,KAAOiX,EAGT,OAFA7V,EAAKG,MAAQvB,EACboB,EAAKC,MAAO,EACLD,EAQX,OADAA,EAAKC,MAAO,EACLD,IAsCXtE,EAAQy2C,OAASA,EAMjBsvE,EAAQ5lH,UAAY,CAClBD,YAAa6lH,EAEb3nG,MAAO,SAAS+qG,GAcd,GAbA52G,KAAKirD,KAAO,EACZjrD,KAAKjO,KAAO,EAGZiO,KAAKk0G,KAAOl0G,KAAKm0G,MAAQ59G,EACzByJ,KAAKhO,MAAO,EACZgO,KAAK8zG,SAAW,KAEhB9zG,KAAKgf,OAAS,OACdhf,KAAK8uC,IAAMv4C,EAEXyJ,KAAKi2G,WAAW39G,QAAQ49G,IAEnBU,EACH,IAAK,IAAIjoH,KAAQqR,KAEQ,MAAnBrR,EAAKo4C,OAAO,IACZ1nB,EAAO3sB,KAAKsN,KAAMrR,KACjBstB,OAAOttB,EAAKkO,MAAM,MACrBmD,KAAKrR,GAAQ4H,IAMrBsgH,KAAM,WACJ72G,KAAKhO,MAAO,EAEZ,IACI8kH,EADY92G,KAAKi2G,WAAW,GACLE,WAC3B,GAAwB,UAApBW,EAAWroH,KACb,MAAMqoH,EAAWhoE,IAGnB,OAAO9uC,KAAK+2G,MAGd3C,kBAAmB,SAAS4C,GAC1B,GAAIh3G,KAAKhO,KACP,MAAMglH,EAGR,IAAIzD,EAAUvzG,KACd,SAASi3G,EAAOvgD,EAAKwgD,GAYnB,OAXA5C,EAAO7lH,KAAO,QACd6lH,EAAOxlE,IAAMkoE,EACbzD,EAAQxhH,KAAO2kE,EAEXwgD,IAGF3D,EAAQv0F,OAAS,OACjBu0F,EAAQzkE,IAAMv4C,KAGN2gH,EAGZ,IAAK,IAAIxmH,EAAIsP,KAAKi2G,WAAWrnH,OAAS,EAAG8B,GAAK,IAAKA,EAAG,CACpD,IAAIklH,EAAQ51G,KAAKi2G,WAAWvlH,GACxB4jH,EAASsB,EAAMO,WAEnB,GAAqB,SAAjBP,EAAMC,OAIR,OAAOoB,EAAO,OAGhB,GAAIrB,EAAMC,QAAU71G,KAAKirD,KAAM,CAC7B,IAAIksD,EAAW93F,EAAO3sB,KAAKkjH,EAAO,YAC9BwB,EAAa/3F,EAAO3sB,KAAKkjH,EAAO,cAEpC,GAAIuB,GAAYC,EAAY,CAC1B,GAAIp3G,KAAKirD,KAAO2qD,EAAME,SACpB,OAAOmB,EAAOrB,EAAME,UAAU,GACzB,GAAI91G,KAAKirD,KAAO2qD,EAAMG,WAC3B,OAAOkB,EAAOrB,EAAMG,iBAGjB,GAAIoB,GACT,GAAIn3G,KAAKirD,KAAO2qD,EAAME,SACpB,OAAOmB,EAAOrB,EAAME,UAAU,OAG3B,KAAIsB,EAMT,MAAM,IAAIv2G,MAAM,0CALhB,GAAIb,KAAKirD,KAAO2qD,EAAMG,WACpB,OAAOkB,EAAOrB,EAAMG,gBAU9B1B,OAAQ,SAAS5lH,EAAMqgD,GACrB,IAAK,IAAIp+C,EAAIsP,KAAKi2G,WAAWrnH,OAAS,EAAG8B,GAAK,IAAKA,EAAG,CACpD,IAAIklH,EAAQ51G,KAAKi2G,WAAWvlH,GAC5B,GAAIklH,EAAMC,QAAU71G,KAAKirD,MACrB5rC,EAAO3sB,KAAKkjH,EAAO,eACnB51G,KAAKirD,KAAO2qD,EAAMG,WAAY,CAChC,IAAIsB,EAAezB,EACnB,OAIAyB,IACU,UAAT5oH,GACS,aAATA,IACD4oH,EAAaxB,QAAU/mE,GACvBA,GAAOuoE,EAAatB,aAGtBsB,EAAe,MAGjB,IAAI/C,EAAS+C,EAAeA,EAAalB,WAAa,GAItD,OAHA7B,EAAO7lH,KAAOA,EACd6lH,EAAOxlE,IAAMA,EAETuoE,GACFr3G,KAAKgf,OAAS,OACdhf,KAAKjO,KAAOslH,EAAatB,WAClB9B,GAGFj0G,KAAKs3G,SAAShD,IAGvBgD,SAAU,SAAShD,EAAQ0B,GACzB,GAAoB,UAAhB1B,EAAO7lH,KACT,MAAM6lH,EAAOxlE,IAcf,MAXoB,UAAhBwlE,EAAO7lH,MACS,aAAhB6lH,EAAO7lH,KACTuR,KAAKjO,KAAOuiH,EAAOxlE,IACM,WAAhBwlE,EAAO7lH,MAChBuR,KAAK+2G,KAAO/2G,KAAK8uC,IAAMwlE,EAAOxlE,IAC9B9uC,KAAKgf,OAAS,SACdhf,KAAKjO,KAAO,OACa,WAAhBuiH,EAAO7lH,MAAqBunH,IACrCh2G,KAAKjO,KAAOikH,GAGP/B,GAGTsD,OAAQ,SAASxB,GACf,IAAK,IAAIrlH,EAAIsP,KAAKi2G,WAAWrnH,OAAS,EAAG8B,GAAK,IAAKA,EAAG,CACpD,IAAIklH,EAAQ51G,KAAKi2G,WAAWvlH,GAC5B,GAAIklH,EAAMG,aAAeA,EAGvB,OAFA/1G,KAAKs3G,SAAS1B,EAAMO,WAAYP,EAAMI,UACtCE,EAAcN,GACP3B,IAKb,MAAS,SAAS4B,GAChB,IAAK,IAAInlH,EAAIsP,KAAKi2G,WAAWrnH,OAAS,EAAG8B,GAAK,IAAKA,EAAG,CACpD,IAAIklH,EAAQ51G,KAAKi2G,WAAWvlH,GAC5B,GAAIklH,EAAMC,SAAWA,EAAQ,CAC3B,IAAIvB,EAASsB,EAAMO,WACnB,GAAoB,UAAhB7B,EAAO7lH,KAAkB,CAC3B,IAAI+oH,EAASlD,EAAOxlE,IACpBonE,EAAcN,GAEhB,OAAO4B,GAMX,MAAM,IAAI32G,MAAM,0BAGlB42G,cAAe,SAASrB,EAAUZ,EAAYC,GAa5C,OAZAz1G,KAAK8zG,SAAW,CACdvmH,SAAU22C,EAAOkyE,GACjBZ,WAAYA,EACZC,QAASA,GAGS,SAAhBz1G,KAAKgf,SAGPhf,KAAK8uC,IAAMv4C,GAGN09G,IAQJxmH,EA9sBK,CAqtBiBD,EAAOC,SAGtC,IACEiqH,mBAAqBlF,EACrB,MAAOmF,GAWmB,iBAAfz4F,WACTA,WAAWw4F,mBAAqBlF,EAEhCrzF,SAAS,IAAK,yBAAdA,CAAwCqzF,uCC/uB7B,SAASoF,EAAuB1hH,GAC7C,QAAa,IAATA,EACF,MAAM,IAAIC,eAAe,6DAG3B,OAAOD,qECLT,SAAS2hH,EAAmBC,EAAKtvB,EAAS6P,EAAQ0f,EAAOC,EAAQrnH,EAAKm+C,GACpE,IACE,IAAI3E,EAAO2tE,EAAInnH,GAAKm+C,GAChB58C,EAAQi4C,EAAKj4C,MACjB,MAAOU,GAEP,YADAylG,EAAOzlG,GAILu3C,EAAKn4C,KACPw2F,EAAQt2F,GAERq2F,QAAQC,QAAQt2F,GAAOw2F,KAAKqvB,EAAOC,GAIxB,SAASC,EAAkB51F,GACxC,OAAO,WACL,IAAInsB,EAAO8J,KACPoyB,EAAOrjC,UACX,OAAO,IAAIw5F,SAAQ,SAAUC,EAAS6P,GACpC,IAAIyf,EAAMz1F,EAAGpiB,MAAM/J,EAAMk8B,GAEzB,SAAS2lF,EAAM7lH,GACb2lH,EAAmBC,EAAKtvB,EAAS6P,EAAQ0f,EAAOC,EAAQ,OAAQ9lH,GAGlE,SAAS8lH,EAAO/hF,GACd4hF,EAAmBC,EAAKtvB,EAAS6P,EAAQ0f,EAAOC,EAAQ,QAAS/hF,GAGnE8hF,OAAMxhH,0EC/BG,SAAS2hH,EAAgBjjH,EAAUC,GAChD,KAAMD,aAAoBC,GACxB,MAAM,IAAIC,UAAU,wGCFxB,SAASgjH,EAAkB7iH,EAAQC,GACjC,IAAK,IAAI7E,EAAI,EAAGA,EAAI6E,EAAM3G,OAAQ8B,IAAK,CACrC,IAAIE,EAAa2E,EAAM7E,GACvBE,EAAW4E,WAAa5E,EAAW4E,aAAc,EACjD5E,EAAW6E,cAAe,EACtB,UAAW7E,IAAYA,EAAW8E,UAAW,GACjD/F,OAAOD,eAAe4F,EAAQ1E,EAAWD,IAAKC,IAInC,SAASwnH,EAAaljH,EAAaS,EAAYC,GAG5D,OAFID,GAAYwiH,EAAkBjjH,EAAYtH,UAAW+H,GACrDC,GAAauiH,EAAkBjjH,EAAaU,GACzCV,qECbM,SAASwQ,EAAgBrY,EAAKsD,EAAKuB,GAYhD,OAXIvB,KAAOtD,EACTsC,OAAOD,eAAerC,EAAKsD,EAAK,CAC9BuB,MAAOA,EACPsD,YAAY,EACZC,cAAc,EACdC,UAAU,IAGZrI,EAAIsD,GAAOuB,EAGN7E,mHCXM,SAASgrH,EAAK/iH,EAAQmD,EAAU6/G,GAiB7C,OAfED,EADqB,oBAAZxxG,SAA2BA,QAAQ1U,IACrC0U,QAAQ1U,IAER,SAAcmD,EAAQmD,EAAU6/G,GACrC,IAAIj5G,ECLK,SAAwBuI,EAAQnP,GAC7C,MAAQ9I,OAAO/B,UAAU6E,eAAeC,KAAKkV,EAAQnP,IAEpC,QADfmP,GAAS,EAAA7X,EAAA,GAAe6X,MAI1B,OAAOA,EDDQ,CAActS,EAAQmD,GACjC,GAAK4G,EAAL,CACA,IAAIk5G,EAAO5oH,OAAOG,yBAAyBuP,EAAM5G,GAEjD,OAAI8/G,EAAKpmH,IACAomH,EAAKpmH,IAAIO,KAAK4lH,GAGhBC,EAAKrmH,SAIJoD,EAAQmD,EAAU6/G,GAAYhjH,uCElB7B,SAASkjH,EAAgB9zD,GAItC,OAHA8zD,EAAkB7oH,OAAO0Q,eAAiB1Q,OAAOI,eAAiB,SAAyB20D,GACzF,OAAOA,EAAEpkD,WAAa3Q,OAAOI,eAAe20D,KAEvBA,mHCHV,SAAS+zD,EAAUv4G,EAAUC,GAC1C,GAA0B,mBAAfA,GAA4C,OAAfA,EACtC,MAAM,IAAIhL,UAAU,sDAGtB+K,EAAStS,UAAY+B,OAAOyQ,OAAOD,GAAcA,EAAWvS,UAAW,CACrED,YAAa,CACXuE,MAAOgO,EACPxK,UAAU,EACVD,cAAc,KAGd0K,IAAY,OAAeD,EAAUC,4FCX5B,SAASu4G,EAA2BxiH,EAAMxD,GACvD,OAAIA,GAA2B,WAAlB,EAAQA,IAAsC,mBAATA,GAI3C,OAAsBwD,GAHpBxD,kFCAI,SAASimH,EAAejxF,EAAKh3B,GAC1C,OCLa,SAAyBg3B,GACtC,GAAI/1B,MAAMC,QAAQ81B,GAAM,OAAOA,EDIxB,CAAeA,IELT,SAA+BA,EAAKh3B,GACjD,IAAI2L,EAAY,MAAPqrB,EAAc,KAAyB,oBAAXp6B,QAA0Bo6B,EAAIp6B,OAAOC,WAAam6B,EAAI,cAE3F,GAAU,MAANrrB,EAAJ,CACA,IAIIu8G,EAAIlvD,EAJJmvD,EAAO,GACPC,GAAK,EACLxvD,GAAK,EAIT,IACE,IAAKjtD,EAAKA,EAAG3J,KAAKg1B,KAAQoxF,GAAMF,EAAKv8G,EAAGtK,QAAQC,QAC9C6mH,EAAKtgH,KAAKqgH,EAAG1mH,QAETxB,GAAKmoH,EAAKjqH,SAAW8B,GAH4BooH,GAAK,IAK5D,MAAO7iF,GACPqzB,GAAK,EACLI,EAAKzzB,EACL,QACA,IACO6iF,GAAsB,MAAhBz8G,EAAW,QAAWA,EAAW,SAC5C,QACA,GAAIitD,EAAI,MAAMI,GAIlB,OAAOmvD,GFtBuB,CAAqBnxF,EAAKh3B,KAAM,EAAAqoH,EAAA,GAA2BrxF,EAAKh3B,IGLjF,WACb,MAAM,IAAIyE,UAAU,6IHIgF","sources":["webpack://gatsby3d/./node_modules/@babel/runtime/helpers/typeof.js","webpack://gatsby3d/./node_modules/@babel/runtime/regenerator/index.js","webpack://gatsby3d/./node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js","webpack://gatsby3d/./node_modules/react-fast-compare/index.js","webpack://gatsby3d/./node_modules/react-helmet/es/Helmet.js","webpack://gatsby3d/./node_modules/react-is/cjs/react-is.production.min.js","webpack://gatsby3d/./node_modules/react-is/index.js","webpack://gatsby3d/./node_modules/react-side-effect/lib/index.js","webpack://gatsby3d/./node_modules/three/examples/jsm/controls/OrbitControls.js","webpack://gatsby3d/./node_modules/three/examples/jsm/lines/LineSegments2.js","webpack://gatsby3d/./node_modules/three/examples/jsm/lines/Line2.js","webpack://gatsby3d/./node_modules/three/examples/jsm/lines/LineGeometry.js","webpack://gatsby3d/./node_modules/three/examples/jsm/lines/LineMaterial.js","webpack://gatsby3d/./node_modules/three/examples/jsm/lines/LineSegmentsGeometry.js","webpack://gatsby3d/./node_modules/core-js/internals/an-object.js","webpack://gatsby3d/./node_modules/core-js/internals/array-includes.js","webpack://gatsby3d/./node_modules/core-js/internals/classof-raw.js","webpack://gatsby3d/./node_modules/core-js/internals/copy-constructor-properties.js","webpack://gatsby3d/./node_modules/core-js/internals/create-non-enumerable-property.js","webpack://gatsby3d/./node_modules/core-js/internals/create-property-descriptor.js","webpack://gatsby3d/./node_modules/core-js/internals/descriptors.js","webpack://gatsby3d/./node_modules/core-js/internals/document-create-element.js","webpack://gatsby3d/./node_modules/core-js/internals/engine-user-agent.js","webpack://gatsby3d/./node_modules/core-js/internals/engine-v8-version.js","webpack://gatsby3d/./node_modules/core-js/internals/enum-bug-keys.js","webpack://gatsby3d/./node_modules/core-js/internals/export.js","webpack://gatsby3d/./node_modules/core-js/internals/fails.js","webpack://gatsby3d/./node_modules/core-js/internals/get-built-in.js","webpack://gatsby3d/./node_modules/core-js/internals/global.js","webpack://gatsby3d/./node_modules/core-js/internals/has.js","webpack://gatsby3d/./node_modules/core-js/internals/hidden-keys.js","webpack://gatsby3d/./node_modules/core-js/internals/ie8-dom-define.js","webpack://gatsby3d/./node_modules/core-js/internals/indexed-object.js","webpack://gatsby3d/./node_modules/core-js/internals/inspect-source.js","webpack://gatsby3d/./node_modules/core-js/internals/internal-state.js","webpack://gatsby3d/./node_modules/core-js/internals/is-forced.js","webpack://gatsby3d/./node_modules/core-js/internals/is-object.js","webpack://gatsby3d/./node_modules/core-js/internals/is-pure.js","webpack://gatsby3d/./node_modules/core-js/internals/is-symbol.js","webpack://gatsby3d/./node_modules/core-js/internals/native-symbol.js","webpack://gatsby3d/./node_modules/core-js/internals/native-weak-map.js","webpack://gatsby3d/./node_modules/core-js/internals/object-define-property.js","webpack://gatsby3d/./node_modules/core-js/internals/object-get-own-property-descriptor.js","webpack://gatsby3d/./node_modules/core-js/internals/object-get-own-property-names.js","webpack://gatsby3d/./node_modules/core-js/internals/object-get-own-property-symbols.js","webpack://gatsby3d/./node_modules/core-js/internals/object-keys-internal.js","webpack://gatsby3d/./node_modules/core-js/internals/object-property-is-enumerable.js","webpack://gatsby3d/./node_modules/core-js/internals/ordinary-to-primitive.js","webpack://gatsby3d/./node_modules/core-js/internals/own-keys.js","webpack://gatsby3d/./node_modules/core-js/internals/redefine.js","webpack://gatsby3d/./node_modules/core-js/internals/require-object-coercible.js","webpack://gatsby3d/./node_modules/core-js/internals/set-global.js","webpack://gatsby3d/./node_modules/core-js/internals/shared-key.js","webpack://gatsby3d/./node_modules/core-js/internals/shared-store.js","webpack://gatsby3d/./node_modules/core-js/internals/shared.js","webpack://gatsby3d/./node_modules/core-js/internals/string-trim-forced.js","webpack://gatsby3d/./node_modules/core-js/internals/string-trim.js","webpack://gatsby3d/./node_modules/core-js/internals/to-absolute-index.js","webpack://gatsby3d/./node_modules/core-js/internals/to-indexed-object.js","webpack://gatsby3d/./node_modules/core-js/internals/to-integer.js","webpack://gatsby3d/./node_modules/core-js/internals/to-length.js","webpack://gatsby3d/./node_modules/core-js/internals/to-object.js","webpack://gatsby3d/./node_modules/core-js/internals/to-primitive.js","webpack://gatsby3d/./node_modules/core-js/internals/to-property-key.js","webpack://gatsby3d/./node_modules/core-js/internals/to-string.js","webpack://gatsby3d/./node_modules/core-js/internals/uid.js","webpack://gatsby3d/./node_modules/core-js/internals/use-symbol-as-uid.js","webpack://gatsby3d/./node_modules/core-js/internals/well-known-symbol.js","webpack://gatsby3d/./node_modules/core-js/internals/whitespaces.js","webpack://gatsby3d/./node_modules/core-js/modules/es.string.trim-start.js","webpack://gatsby3d/./src/components/AdditionalLines.js","webpack://gatsby3d/./src/components/Animated.js","webpack://gatsby3d/./src/components/ColorPicker.js","webpack://gatsby3d/./src/components/Dropdown.js","webpack://gatsby3d/./node_modules/@babel/runtime/helpers/esm/extends.js","webpack://gatsby3d/./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","webpack://gatsby3d/./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","webpack://gatsby3d/./node_modules/is-in-browser/dist/module.js","webpack://gatsby3d/./node_modules/jss/dist/jss.esm.js","webpack://gatsby3d/./node_modules/@material-ui/styles/esm/mergeClasses/mergeClasses.js","webpack://gatsby3d/./node_modules/@material-ui/styles/esm/makeStyles/multiKeyStore.js","webpack://gatsby3d/./node_modules/@material-ui/styles/esm/useTheme/ThemeContext.js","webpack://gatsby3d/./node_modules/@material-ui/styles/esm/useTheme/useTheme.js","webpack://gatsby3d/./node_modules/@material-ui/styles/esm/ThemeProvider/nested.js","webpack://gatsby3d/./node_modules/@material-ui/styles/esm/createGenerateClassName/createGenerateClassName.js","webpack://gatsby3d/./node_modules/jss-plugin-rule-value-function/dist/jss-plugin-rule-value-function.esm.js","webpack://gatsby3d/./node_modules/jss-plugin-global/dist/jss-plugin-global.esm.js","webpack://gatsby3d/./node_modules/jss-plugin-nested/dist/jss-plugin-nested.esm.js","webpack://gatsby3d/./node_modules/hyphenate-style-name/index.js","webpack://gatsby3d/./node_modules/jss-plugin-camel-case/dist/jss-plugin-camel-case.esm.js","webpack://gatsby3d/./node_modules/jss-plugin-default-unit/dist/jss-plugin-default-unit.esm.js","webpack://gatsby3d/./node_modules/css-vendor/dist/css-vendor.esm.js","webpack://gatsby3d/./node_modules/jss-plugin-vendor-prefixer/dist/jss-plugin-vendor-prefixer.esm.js","webpack://gatsby3d/./node_modules/jss-plugin-props-sort/dist/jss-plugin-props-sort.esm.js","webpack://gatsby3d/./node_modules/@material-ui/styles/esm/StylesProvider/StylesProvider.js","webpack://gatsby3d/./node_modules/@material-ui/styles/esm/jssPreset/jssPreset.js","webpack://gatsby3d/./node_modules/@material-ui/styles/esm/makeStyles/indexCounter.js","webpack://gatsby3d/./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack://gatsby3d/./node_modules/@material-ui/utils/esm/deepmerge.js","webpack://gatsby3d/./node_modules/@material-ui/styles/esm/getStylesCreator/getStylesCreator.js","webpack://gatsby3d/./node_modules/@material-ui/styles/esm/getStylesCreator/noopTheme.js","webpack://gatsby3d/./node_modules/@material-ui/styles/esm/makeStyles/makeStyles.js","webpack://gatsby3d/./node_modules/@material-ui/core/esm/styles/createBreakpoints.js","webpack://gatsby3d/./node_modules/@material-ui/core/esm/styles/createMixins.js","webpack://gatsby3d/./node_modules/@material-ui/utils/esm/formatMuiErrorMessage.js","webpack://gatsby3d/./node_modules/@material-ui/core/esm/colors/common.js","webpack://gatsby3d/./node_modules/@material-ui/core/esm/colors/grey.js","webpack://gatsby3d/./node_modules/@material-ui/core/esm/colors/indigo.js","webpack://gatsby3d/./node_modules/@material-ui/core/esm/colors/pink.js","webpack://gatsby3d/./node_modules/@material-ui/core/esm/colors/red.js","webpack://gatsby3d/./node_modules/@material-ui/core/esm/colors/orange.js","webpack://gatsby3d/./node_modules/@material-ui/core/esm/colors/blue.js","webpack://gatsby3d/./node_modules/@material-ui/core/esm/colors/green.js","webpack://gatsby3d/./node_modules/@material-ui/core/esm/styles/colorManipulator.js","webpack://gatsby3d/./node_modules/@material-ui/core/esm/styles/createPalette.js","webpack://gatsby3d/./node_modules/@material-ui/core/esm/styles/createTypography.js","webpack://gatsby3d/./node_modules/@material-ui/core/esm/styles/shadows.js","webpack://gatsby3d/./node_modules/@material-ui/core/esm/styles/shape.js","webpack://gatsby3d/./node_modules/@material-ui/system/esm/breakpoints.js","webpack://gatsby3d/./node_modules/@material-ui/system/esm/merge.js","webpack://gatsby3d/./node_modules/@material-ui/system/esm/spacing.js","webpack://gatsby3d/./node_modules/@material-ui/system/esm/memoize.js","webpack://gatsby3d/./node_modules/@material-ui/core/esm/styles/createSpacing.js","webpack://gatsby3d/./node_modules/@material-ui/core/esm/styles/transitions.js","webpack://gatsby3d/./node_modules/@material-ui/core/esm/styles/zIndex.js","webpack://gatsby3d/./node_modules/@material-ui/core/esm/styles/createTheme.js","webpack://gatsby3d/./node_modules/@material-ui/core/esm/styles/defaultTheme.js","webpack://gatsby3d/./node_modules/@material-ui/core/esm/styles/makeStyles.js","webpack://gatsby3d/./node_modules/clsx/dist/clsx.m.js","webpack://gatsby3d/./node_modules/@material-ui/styles/esm/getThemeProps/getThemeProps.js","webpack://gatsby3d/./node_modules/@material-ui/styles/esm/withStyles/withStyles.js","webpack://gatsby3d/./node_modules/@material-ui/core/esm/styles/withStyles.js","webpack://gatsby3d/./node_modules/@material-ui/core/esm/utils/capitalize.js","webpack://gatsby3d/./node_modules/@material-ui/core/esm/Typography/Typography.js","webpack://gatsby3d/./node_modules/@material-ui/core/esm/utils/useIsFocusVisible.js","webpack://gatsby3d/./node_modules/@material-ui/core/esm/utils/ownerDocument.js","webpack://gatsby3d/./node_modules/@material-ui/core/esm/utils/useEventCallback.js","webpack://gatsby3d/./node_modules/@material-ui/core/esm/utils/setRef.js","webpack://gatsby3d/./node_modules/@material-ui/core/esm/utils/useForkRef.js","webpack://gatsby3d/./node_modules/@material-ui/core/esm/Slider/ValueLabel.js","webpack://gatsby3d/./node_modules/@material-ui/core/esm/Slider/Slider.js","webpack://gatsby3d/./node_modules/@material-ui/core/esm/styles/useTheme.js","webpack://gatsby3d/./node_modules/@material-ui/core/esm/utils/useControlled.js","webpack://gatsby3d/./src/components/Slider.js","webpack://gatsby3d/./src/components/Switcher.js","webpack://gatsby3d/./src/helpers/hexToRgb.js","webpack://gatsby3d/./node_modules/three/examples/jsm/libs/fflate.module.js","webpack://gatsby3d/./node_modules/three/examples/jsm/curves/NURBSUtils.js","webpack://gatsby3d/./node_modules/three/examples/jsm/curves/NURBSCurve.js","webpack://gatsby3d/./node_modules/three/examples/jsm/loaders/FBXLoader.js","webpack://gatsby3d/./src/helpers/addSpotlight.js","webpack://gatsby3d/./node_modules/three/examples/jsm/loaders/OBJLoader.js","webpack://gatsby3d/./node_modules/three/examples/jsm/loaders/GLTFLoader.js","webpack://gatsby3d/./node_modules/three/examples/jsm/loaders/TGALoader.js","webpack://gatsby3d/./node_modules/three/examples/jsm/loaders/ColladaLoader.js","webpack://gatsby3d/./node_modules/three/examples/jsm/loaders/TDSLoader.js","webpack://gatsby3d/./src/render3DElements.js","webpack://gatsby3d/./src/renderBasketball.js","webpack://gatsby3d/./src/renderPickleball.js","webpack://gatsby3d/./src/renderTennis.js","webpack://gatsby3d/./node_modules/regenerator-runtime/runtime.js","webpack://gatsby3d/./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","webpack://gatsby3d/./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","webpack://gatsby3d/./node_modules/@babel/runtime/helpers/esm/classCallCheck.js","webpack://gatsby3d/./node_modules/@babel/runtime/helpers/esm/createClass.js","webpack://gatsby3d/./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack://gatsby3d/./node_modules/@babel/runtime/helpers/esm/get.js","webpack://gatsby3d/./node_modules/@babel/runtime/helpers/esm/superPropBase.js","webpack://gatsby3d/./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","webpack://gatsby3d/./node_modules/@babel/runtime/helpers/esm/inherits.js","webpack://gatsby3d/./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","webpack://gatsby3d/./node_modules/@babel/runtime/helpers/esm/slicedToArray.js","webpack://gatsby3d/./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","webpack://gatsby3d/./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","webpack://gatsby3d/./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js"],"sourcesContent":["function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n\n    module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n\n    module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","module.exports = require(\"regenerator-runtime\");\n","'use strict';\n\nvar reactIs = require('react-is');\n/**\n * Copyright 2015, Yahoo! Inc.\n * Copyrights licensed under the New BSD License. See the accompanying LICENSE file for terms.\n */\n\n\nvar REACT_STATICS = {\n  childContextTypes: true,\n  contextType: true,\n  contextTypes: true,\n  defaultProps: true,\n  displayName: true,\n  getDefaultProps: true,\n  getDerivedStateFromError: true,\n  getDerivedStateFromProps: true,\n  mixins: true,\n  propTypes: true,\n  type: true\n};\nvar KNOWN_STATICS = {\n  name: true,\n  length: true,\n  prototype: true,\n  caller: true,\n  callee: true,\n  arguments: true,\n  arity: true\n};\nvar FORWARD_REF_STATICS = {\n  '$$typeof': true,\n  render: true,\n  defaultProps: true,\n  displayName: true,\n  propTypes: true\n};\nvar MEMO_STATICS = {\n  '$$typeof': true,\n  compare: true,\n  defaultProps: true,\n  displayName: true,\n  propTypes: true,\n  type: true\n};\nvar TYPE_STATICS = {};\nTYPE_STATICS[reactIs.ForwardRef] = FORWARD_REF_STATICS;\nTYPE_STATICS[reactIs.Memo] = MEMO_STATICS;\n\nfunction getStatics(component) {\n  // React v16.11 and below\n  if (reactIs.isMemo(component)) {\n    return MEMO_STATICS;\n  } // React v16.12 and above\n\n\n  return TYPE_STATICS[component['$$typeof']] || REACT_STATICS;\n}\n\nvar defineProperty = Object.defineProperty;\nvar getOwnPropertyNames = Object.getOwnPropertyNames;\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\nvar getPrototypeOf = Object.getPrototypeOf;\nvar objectPrototype = Object.prototype;\n\nfunction hoistNonReactStatics(targetComponent, sourceComponent, blacklist) {\n  if (typeof sourceComponent !== 'string') {\n    // don't hoist over string (html) components\n    if (objectPrototype) {\n      var inheritedComponent = getPrototypeOf(sourceComponent);\n\n      if (inheritedComponent && inheritedComponent !== objectPrototype) {\n        hoistNonReactStatics(targetComponent, inheritedComponent, blacklist);\n      }\n    }\n\n    var keys = getOwnPropertyNames(sourceComponent);\n\n    if (getOwnPropertySymbols) {\n      keys = keys.concat(getOwnPropertySymbols(sourceComponent));\n    }\n\n    var targetStatics = getStatics(targetComponent);\n    var sourceStatics = getStatics(sourceComponent);\n\n    for (var i = 0; i < keys.length; ++i) {\n      var key = keys[i];\n\n      if (!KNOWN_STATICS[key] && !(blacklist && blacklist[key]) && !(sourceStatics && sourceStatics[key]) && !(targetStatics && targetStatics[key])) {\n        var descriptor = getOwnPropertyDescriptor(sourceComponent, key);\n\n        try {\n          // Avoid failures from read-only properties\n          defineProperty(targetComponent, key, descriptor);\n        } catch (e) {}\n      }\n    }\n  }\n\n  return targetComponent;\n}\n\nmodule.exports = hoistNonReactStatics;","/* global Map:readonly, Set:readonly, ArrayBuffer:readonly */\nvar hasElementType = typeof Element !== 'undefined';\nvar hasMap = typeof Map === 'function';\nvar hasSet = typeof Set === 'function';\nvar hasArrayBuffer = typeof ArrayBuffer === 'function' && !!ArrayBuffer.isView; // Note: We **don't** need `envHasBigInt64Array` in fde es6/index.js\n\nfunction equal(a, b) {\n  // START: fast-deep-equal es6/index.js 3.1.1\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n    var length, i, keys;\n\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n\n      for (i = length; i-- !== 0;) {\n        if (!equal(a[i], b[i])) return false;\n      }\n\n      return true;\n    } // START: Modifications:\n    // 1. Extra `has<Type> &&` helpers in initial condition allow es6 code\n    //    to co-exist with es5.\n    // 2. Replace `for of` with es5 compliant iteration using `for`.\n    //    Basically, take:\n    //\n    //    ```js\n    //    for (i of a.entries())\n    //      if (!b.has(i[0])) return false;\n    //    ```\n    //\n    //    ... and convert to:\n    //\n    //    ```js\n    //    it = a.entries();\n    //    while (!(i = it.next()).done)\n    //      if (!b.has(i.value[0])) return false;\n    //    ```\n    //\n    //    **Note**: `i` access switches to `i.value`.\n\n\n    var it;\n\n    if (hasMap && a instanceof Map && b instanceof Map) {\n      if (a.size !== b.size) return false;\n      it = a.entries();\n\n      while (!(i = it.next()).done) {\n        if (!b.has(i.value[0])) return false;\n      }\n\n      it = a.entries();\n\n      while (!(i = it.next()).done) {\n        if (!equal(i.value[1], b.get(i.value[0]))) return false;\n      }\n\n      return true;\n    }\n\n    if (hasSet && a instanceof Set && b instanceof Set) {\n      if (a.size !== b.size) return false;\n      it = a.entries();\n\n      while (!(i = it.next()).done) {\n        if (!b.has(i.value[0])) return false;\n      }\n\n      return true;\n    } // END: Modifications\n\n\n    if (hasArrayBuffer && ArrayBuffer.isView(a) && ArrayBuffer.isView(b)) {\n      length = a.length;\n      if (length != b.length) return false;\n\n      for (i = length; i-- !== 0;) {\n        if (a[i] !== b[i]) return false;\n      }\n\n      return true;\n    }\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;) {\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n    } // END: fast-deep-equal\n    // START: react-fast-compare\n    // custom handling for DOM elements\n\n\n    if (hasElementType && a instanceof Element) return false; // custom handling for React/Preact\n\n    for (i = length; i-- !== 0;) {\n      if ((keys[i] === '_owner' || keys[i] === '__v' || keys[i] === '__o') && a.$$typeof) {\n        // React-specific: avoid traversing React elements' _owner\n        // Preact-specific: avoid traversing Preact elements' __v and __o\n        //    __v = $_original / $_vnode\n        //    __o = $_owner\n        // These properties contain circular references and are not needed when\n        // comparing the actual elements (and not their owners)\n        // .$$typeof and ._store on just reasonable markers of elements\n        continue;\n      } // all other properties should be traversed as usual\n\n\n      if (!equal(a[keys[i]], b[keys[i]])) return false;\n    } // END: react-fast-compare\n    // START: fast-deep-equal\n\n\n    return true;\n  }\n\n  return a !== a && b !== b;\n} // end fast-deep-equal\n\n\nmodule.exports = function isEqual(a, b) {\n  try {\n    return equal(a, b);\n  } catch (error) {\n    if ((error.message || '').match(/stack|recursion/i)) {\n      // warn on circular references, don't crash\n      // browsers give this different errors name and messages:\n      // chrome/safari: \"RangeError\", \"Maximum call stack size exceeded\"\n      // firefox: \"InternalError\", too much recursion\"\n      // edge: \"Error\", \"Out of stack space\"\n      console.warn('react-fast-compare cannot handle circular refs');\n      return false;\n    } // some other error. we should definitely know about these\n\n\n    throw error;\n  }\n};","import PropTypes from 'prop-types';\nimport withSideEffect from 'react-side-effect';\nimport isEqual from 'react-fast-compare';\nimport React from 'react';\nimport objectAssign from 'object-assign';\nvar ATTRIBUTE_NAMES = {\n  BODY: \"bodyAttributes\",\n  HTML: \"htmlAttributes\",\n  TITLE: \"titleAttributes\"\n};\nvar TAG_NAMES = {\n  BASE: \"base\",\n  BODY: \"body\",\n  HEAD: \"head\",\n  HTML: \"html\",\n  LINK: \"link\",\n  META: \"meta\",\n  NOSCRIPT: \"noscript\",\n  SCRIPT: \"script\",\n  STYLE: \"style\",\n  TITLE: \"title\"\n};\nvar VALID_TAG_NAMES = Object.keys(TAG_NAMES).map(function (name) {\n  return TAG_NAMES[name];\n});\nvar TAG_PROPERTIES = {\n  CHARSET: \"charset\",\n  CSS_TEXT: \"cssText\",\n  HREF: \"href\",\n  HTTPEQUIV: \"http-equiv\",\n  INNER_HTML: \"innerHTML\",\n  ITEM_PROP: \"itemprop\",\n  NAME: \"name\",\n  PROPERTY: \"property\",\n  REL: \"rel\",\n  SRC: \"src\",\n  TARGET: \"target\"\n};\nvar REACT_TAG_MAP = {\n  accesskey: \"accessKey\",\n  charset: \"charSet\",\n  class: \"className\",\n  contenteditable: \"contentEditable\",\n  contextmenu: \"contextMenu\",\n  \"http-equiv\": \"httpEquiv\",\n  itemprop: \"itemProp\",\n  tabindex: \"tabIndex\"\n};\nvar HELMET_PROPS = {\n  DEFAULT_TITLE: \"defaultTitle\",\n  DEFER: \"defer\",\n  ENCODE_SPECIAL_CHARACTERS: \"encodeSpecialCharacters\",\n  ON_CHANGE_CLIENT_STATE: \"onChangeClientState\",\n  TITLE_TEMPLATE: \"titleTemplate\"\n};\nvar HTML_TAG_MAP = Object.keys(REACT_TAG_MAP).reduce(function (obj, key) {\n  obj[REACT_TAG_MAP[key]] = key;\n  return obj;\n}, {});\nvar SELF_CLOSING_TAGS = [TAG_NAMES.NOSCRIPT, TAG_NAMES.SCRIPT, TAG_NAMES.STYLE];\nvar HELMET_ATTRIBUTE = \"data-react-helmet\";\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nvar classCallCheck = function classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar inherits = function inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\nvar objectWithoutProperties = function objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n};\n\nvar possibleConstructorReturn = function possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n};\n\nvar encodeSpecialCharacters = function encodeSpecialCharacters(str) {\n  var encode = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n  if (encode === false) {\n    return String(str);\n  }\n\n  return String(str).replace(/&/g, \"&amp;\").replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\").replace(/\"/g, \"&quot;\").replace(/'/g, \"&#x27;\");\n};\n\nvar getTitleFromPropsList = function getTitleFromPropsList(propsList) {\n  var innermostTitle = getInnermostProperty(propsList, TAG_NAMES.TITLE);\n  var innermostTemplate = getInnermostProperty(propsList, HELMET_PROPS.TITLE_TEMPLATE);\n\n  if (innermostTemplate && innermostTitle) {\n    // use function arg to avoid need to escape $ characters\n    return innermostTemplate.replace(/%s/g, function () {\n      return Array.isArray(innermostTitle) ? innermostTitle.join(\"\") : innermostTitle;\n    });\n  }\n\n  var innermostDefaultTitle = getInnermostProperty(propsList, HELMET_PROPS.DEFAULT_TITLE);\n  return innermostTitle || innermostDefaultTitle || undefined;\n};\n\nvar getOnChangeClientState = function getOnChangeClientState(propsList) {\n  return getInnermostProperty(propsList, HELMET_PROPS.ON_CHANGE_CLIENT_STATE) || function () {};\n};\n\nvar getAttributesFromPropsList = function getAttributesFromPropsList(tagType, propsList) {\n  return propsList.filter(function (props) {\n    return typeof props[tagType] !== \"undefined\";\n  }).map(function (props) {\n    return props[tagType];\n  }).reduce(function (tagAttrs, current) {\n    return _extends({}, tagAttrs, current);\n  }, {});\n};\n\nvar getBaseTagFromPropsList = function getBaseTagFromPropsList(primaryAttributes, propsList) {\n  return propsList.filter(function (props) {\n    return typeof props[TAG_NAMES.BASE] !== \"undefined\";\n  }).map(function (props) {\n    return props[TAG_NAMES.BASE];\n  }).reverse().reduce(function (innermostBaseTag, tag) {\n    if (!innermostBaseTag.length) {\n      var keys = Object.keys(tag);\n\n      for (var i = 0; i < keys.length; i++) {\n        var attributeKey = keys[i];\n        var lowerCaseAttributeKey = attributeKey.toLowerCase();\n\n        if (primaryAttributes.indexOf(lowerCaseAttributeKey) !== -1 && tag[lowerCaseAttributeKey]) {\n          return innermostBaseTag.concat(tag);\n        }\n      }\n    }\n\n    return innermostBaseTag;\n  }, []);\n};\n\nvar getTagsFromPropsList = function getTagsFromPropsList(tagName, primaryAttributes, propsList) {\n  // Calculate list of tags, giving priority innermost component (end of the propslist)\n  var approvedSeenTags = {};\n  return propsList.filter(function (props) {\n    if (Array.isArray(props[tagName])) {\n      return true;\n    }\n\n    if (typeof props[tagName] !== \"undefined\") {\n      warn(\"Helmet: \" + tagName + \" should be of type \\\"Array\\\". Instead found type \\\"\" + _typeof(props[tagName]) + \"\\\"\");\n    }\n\n    return false;\n  }).map(function (props) {\n    return props[tagName];\n  }).reverse().reduce(function (approvedTags, instanceTags) {\n    var instanceSeenTags = {};\n    instanceTags.filter(function (tag) {\n      var primaryAttributeKey = void 0;\n      var keys = Object.keys(tag);\n\n      for (var i = 0; i < keys.length; i++) {\n        var attributeKey = keys[i];\n        var lowerCaseAttributeKey = attributeKey.toLowerCase(); // Special rule with link tags, since rel and href are both primary tags, rel takes priority\n\n        if (primaryAttributes.indexOf(lowerCaseAttributeKey) !== -1 && !(primaryAttributeKey === TAG_PROPERTIES.REL && tag[primaryAttributeKey].toLowerCase() === \"canonical\") && !(lowerCaseAttributeKey === TAG_PROPERTIES.REL && tag[lowerCaseAttributeKey].toLowerCase() === \"stylesheet\")) {\n          primaryAttributeKey = lowerCaseAttributeKey;\n        } // Special case for innerHTML which doesn't work lowercased\n\n\n        if (primaryAttributes.indexOf(attributeKey) !== -1 && (attributeKey === TAG_PROPERTIES.INNER_HTML || attributeKey === TAG_PROPERTIES.CSS_TEXT || attributeKey === TAG_PROPERTIES.ITEM_PROP)) {\n          primaryAttributeKey = attributeKey;\n        }\n      }\n\n      if (!primaryAttributeKey || !tag[primaryAttributeKey]) {\n        return false;\n      }\n\n      var value = tag[primaryAttributeKey].toLowerCase();\n\n      if (!approvedSeenTags[primaryAttributeKey]) {\n        approvedSeenTags[primaryAttributeKey] = {};\n      }\n\n      if (!instanceSeenTags[primaryAttributeKey]) {\n        instanceSeenTags[primaryAttributeKey] = {};\n      }\n\n      if (!approvedSeenTags[primaryAttributeKey][value]) {\n        instanceSeenTags[primaryAttributeKey][value] = true;\n        return true;\n      }\n\n      return false;\n    }).reverse().forEach(function (tag) {\n      return approvedTags.push(tag);\n    }); // Update seen tags with tags from this instance\n\n    var keys = Object.keys(instanceSeenTags);\n\n    for (var i = 0; i < keys.length; i++) {\n      var attributeKey = keys[i];\n      var tagUnion = objectAssign({}, approvedSeenTags[attributeKey], instanceSeenTags[attributeKey]);\n      approvedSeenTags[attributeKey] = tagUnion;\n    }\n\n    return approvedTags;\n  }, []).reverse();\n};\n\nvar getInnermostProperty = function getInnermostProperty(propsList, property) {\n  for (var i = propsList.length - 1; i >= 0; i--) {\n    var props = propsList[i];\n\n    if (props.hasOwnProperty(property)) {\n      return props[property];\n    }\n  }\n\n  return null;\n};\n\nvar reducePropsToState = function reducePropsToState(propsList) {\n  return {\n    baseTag: getBaseTagFromPropsList([TAG_PROPERTIES.HREF, TAG_PROPERTIES.TARGET], propsList),\n    bodyAttributes: getAttributesFromPropsList(ATTRIBUTE_NAMES.BODY, propsList),\n    defer: getInnermostProperty(propsList, HELMET_PROPS.DEFER),\n    encode: getInnermostProperty(propsList, HELMET_PROPS.ENCODE_SPECIAL_CHARACTERS),\n    htmlAttributes: getAttributesFromPropsList(ATTRIBUTE_NAMES.HTML, propsList),\n    linkTags: getTagsFromPropsList(TAG_NAMES.LINK, [TAG_PROPERTIES.REL, TAG_PROPERTIES.HREF], propsList),\n    metaTags: getTagsFromPropsList(TAG_NAMES.META, [TAG_PROPERTIES.NAME, TAG_PROPERTIES.CHARSET, TAG_PROPERTIES.HTTPEQUIV, TAG_PROPERTIES.PROPERTY, TAG_PROPERTIES.ITEM_PROP], propsList),\n    noscriptTags: getTagsFromPropsList(TAG_NAMES.NOSCRIPT, [TAG_PROPERTIES.INNER_HTML], propsList),\n    onChangeClientState: getOnChangeClientState(propsList),\n    scriptTags: getTagsFromPropsList(TAG_NAMES.SCRIPT, [TAG_PROPERTIES.SRC, TAG_PROPERTIES.INNER_HTML], propsList),\n    styleTags: getTagsFromPropsList(TAG_NAMES.STYLE, [TAG_PROPERTIES.CSS_TEXT], propsList),\n    title: getTitleFromPropsList(propsList),\n    titleAttributes: getAttributesFromPropsList(ATTRIBUTE_NAMES.TITLE, propsList)\n  };\n};\n\nvar rafPolyfill = function () {\n  var clock = Date.now();\n  return function (callback) {\n    var currentTime = Date.now();\n\n    if (currentTime - clock > 16) {\n      clock = currentTime;\n      callback(currentTime);\n    } else {\n      setTimeout(function () {\n        rafPolyfill(callback);\n      }, 0);\n    }\n  };\n}();\n\nvar cafPolyfill = function cafPolyfill(id) {\n  return clearTimeout(id);\n};\n\nvar requestAnimationFrame = typeof window !== \"undefined\" ? window.requestAnimationFrame && window.requestAnimationFrame.bind(window) || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || rafPolyfill : global.requestAnimationFrame || rafPolyfill;\nvar cancelAnimationFrame = typeof window !== \"undefined\" ? window.cancelAnimationFrame || window.webkitCancelAnimationFrame || window.mozCancelAnimationFrame || cafPolyfill : global.cancelAnimationFrame || cafPolyfill;\n\nvar warn = function warn(msg) {\n  return console && typeof console.warn === \"function\" && console.warn(msg);\n};\n\nvar _helmetCallback = null;\n\nvar handleClientStateChange = function handleClientStateChange(newState) {\n  if (_helmetCallback) {\n    cancelAnimationFrame(_helmetCallback);\n  }\n\n  if (newState.defer) {\n    _helmetCallback = requestAnimationFrame(function () {\n      commitTagChanges(newState, function () {\n        _helmetCallback = null;\n      });\n    });\n  } else {\n    commitTagChanges(newState);\n    _helmetCallback = null;\n  }\n};\n\nvar commitTagChanges = function commitTagChanges(newState, cb) {\n  var baseTag = newState.baseTag,\n      bodyAttributes = newState.bodyAttributes,\n      htmlAttributes = newState.htmlAttributes,\n      linkTags = newState.linkTags,\n      metaTags = newState.metaTags,\n      noscriptTags = newState.noscriptTags,\n      onChangeClientState = newState.onChangeClientState,\n      scriptTags = newState.scriptTags,\n      styleTags = newState.styleTags,\n      title = newState.title,\n      titleAttributes = newState.titleAttributes;\n  updateAttributes(TAG_NAMES.BODY, bodyAttributes);\n  updateAttributes(TAG_NAMES.HTML, htmlAttributes);\n  updateTitle(title, titleAttributes);\n  var tagUpdates = {\n    baseTag: updateTags(TAG_NAMES.BASE, baseTag),\n    linkTags: updateTags(TAG_NAMES.LINK, linkTags),\n    metaTags: updateTags(TAG_NAMES.META, metaTags),\n    noscriptTags: updateTags(TAG_NAMES.NOSCRIPT, noscriptTags),\n    scriptTags: updateTags(TAG_NAMES.SCRIPT, scriptTags),\n    styleTags: updateTags(TAG_NAMES.STYLE, styleTags)\n  };\n  var addedTags = {};\n  var removedTags = {};\n  Object.keys(tagUpdates).forEach(function (tagType) {\n    var _tagUpdates$tagType = tagUpdates[tagType],\n        newTags = _tagUpdates$tagType.newTags,\n        oldTags = _tagUpdates$tagType.oldTags;\n\n    if (newTags.length) {\n      addedTags[tagType] = newTags;\n    }\n\n    if (oldTags.length) {\n      removedTags[tagType] = tagUpdates[tagType].oldTags;\n    }\n  });\n  cb && cb();\n  onChangeClientState(newState, addedTags, removedTags);\n};\n\nvar flattenArray = function flattenArray(possibleArray) {\n  return Array.isArray(possibleArray) ? possibleArray.join(\"\") : possibleArray;\n};\n\nvar updateTitle = function updateTitle(title, attributes) {\n  if (typeof title !== \"undefined\" && document.title !== title) {\n    document.title = flattenArray(title);\n  }\n\n  updateAttributes(TAG_NAMES.TITLE, attributes);\n};\n\nvar updateAttributes = function updateAttributes(tagName, attributes) {\n  var elementTag = document.getElementsByTagName(tagName)[0];\n\n  if (!elementTag) {\n    return;\n  }\n\n  var helmetAttributeString = elementTag.getAttribute(HELMET_ATTRIBUTE);\n  var helmetAttributes = helmetAttributeString ? helmetAttributeString.split(\",\") : [];\n  var attributesToRemove = [].concat(helmetAttributes);\n  var attributeKeys = Object.keys(attributes);\n\n  for (var i = 0; i < attributeKeys.length; i++) {\n    var attribute = attributeKeys[i];\n    var value = attributes[attribute] || \"\";\n\n    if (elementTag.getAttribute(attribute) !== value) {\n      elementTag.setAttribute(attribute, value);\n    }\n\n    if (helmetAttributes.indexOf(attribute) === -1) {\n      helmetAttributes.push(attribute);\n    }\n\n    var indexToSave = attributesToRemove.indexOf(attribute);\n\n    if (indexToSave !== -1) {\n      attributesToRemove.splice(indexToSave, 1);\n    }\n  }\n\n  for (var _i = attributesToRemove.length - 1; _i >= 0; _i--) {\n    elementTag.removeAttribute(attributesToRemove[_i]);\n  }\n\n  if (helmetAttributes.length === attributesToRemove.length) {\n    elementTag.removeAttribute(HELMET_ATTRIBUTE);\n  } else if (elementTag.getAttribute(HELMET_ATTRIBUTE) !== attributeKeys.join(\",\")) {\n    elementTag.setAttribute(HELMET_ATTRIBUTE, attributeKeys.join(\",\"));\n  }\n};\n\nvar updateTags = function updateTags(type, tags) {\n  var headElement = document.head || document.querySelector(TAG_NAMES.HEAD);\n  var tagNodes = headElement.querySelectorAll(type + \"[\" + HELMET_ATTRIBUTE + \"]\");\n  var oldTags = Array.prototype.slice.call(tagNodes);\n  var newTags = [];\n  var indexToDelete = void 0;\n\n  if (tags && tags.length) {\n    tags.forEach(function (tag) {\n      var newElement = document.createElement(type);\n\n      for (var attribute in tag) {\n        if (tag.hasOwnProperty(attribute)) {\n          if (attribute === TAG_PROPERTIES.INNER_HTML) {\n            newElement.innerHTML = tag.innerHTML;\n          } else if (attribute === TAG_PROPERTIES.CSS_TEXT) {\n            if (newElement.styleSheet) {\n              newElement.styleSheet.cssText = tag.cssText;\n            } else {\n              newElement.appendChild(document.createTextNode(tag.cssText));\n            }\n          } else {\n            var value = typeof tag[attribute] === \"undefined\" ? \"\" : tag[attribute];\n            newElement.setAttribute(attribute, value);\n          }\n        }\n      }\n\n      newElement.setAttribute(HELMET_ATTRIBUTE, \"true\"); // Remove a duplicate tag from domTagstoRemove, so it isn't cleared.\n\n      if (oldTags.some(function (existingTag, index) {\n        indexToDelete = index;\n        return newElement.isEqualNode(existingTag);\n      })) {\n        oldTags.splice(indexToDelete, 1);\n      } else {\n        newTags.push(newElement);\n      }\n    });\n  }\n\n  oldTags.forEach(function (tag) {\n    return tag.parentNode.removeChild(tag);\n  });\n  newTags.forEach(function (tag) {\n    return headElement.appendChild(tag);\n  });\n  return {\n    oldTags: oldTags,\n    newTags: newTags\n  };\n};\n\nvar generateElementAttributesAsString = function generateElementAttributesAsString(attributes) {\n  return Object.keys(attributes).reduce(function (str, key) {\n    var attr = typeof attributes[key] !== \"undefined\" ? key + \"=\\\"\" + attributes[key] + \"\\\"\" : \"\" + key;\n    return str ? str + \" \" + attr : attr;\n  }, \"\");\n};\n\nvar generateTitleAsString = function generateTitleAsString(type, title, attributes, encode) {\n  var attributeString = generateElementAttributesAsString(attributes);\n  var flattenedTitle = flattenArray(title);\n  return attributeString ? \"<\" + type + \" \" + HELMET_ATTRIBUTE + \"=\\\"true\\\" \" + attributeString + \">\" + encodeSpecialCharacters(flattenedTitle, encode) + \"</\" + type + \">\" : \"<\" + type + \" \" + HELMET_ATTRIBUTE + \"=\\\"true\\\">\" + encodeSpecialCharacters(flattenedTitle, encode) + \"</\" + type + \">\";\n};\n\nvar generateTagsAsString = function generateTagsAsString(type, tags, encode) {\n  return tags.reduce(function (str, tag) {\n    var attributeHtml = Object.keys(tag).filter(function (attribute) {\n      return !(attribute === TAG_PROPERTIES.INNER_HTML || attribute === TAG_PROPERTIES.CSS_TEXT);\n    }).reduce(function (string, attribute) {\n      var attr = typeof tag[attribute] === \"undefined\" ? attribute : attribute + \"=\\\"\" + encodeSpecialCharacters(tag[attribute], encode) + \"\\\"\";\n      return string ? string + \" \" + attr : attr;\n    }, \"\");\n    var tagContent = tag.innerHTML || tag.cssText || \"\";\n    var isSelfClosing = SELF_CLOSING_TAGS.indexOf(type) === -1;\n    return str + \"<\" + type + \" \" + HELMET_ATTRIBUTE + \"=\\\"true\\\" \" + attributeHtml + (isSelfClosing ? \"/>\" : \">\" + tagContent + \"</\" + type + \">\");\n  }, \"\");\n};\n\nvar convertElementAttributestoReactProps = function convertElementAttributestoReactProps(attributes) {\n  var initProps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return Object.keys(attributes).reduce(function (obj, key) {\n    obj[REACT_TAG_MAP[key] || key] = attributes[key];\n    return obj;\n  }, initProps);\n};\n\nvar convertReactPropstoHtmlAttributes = function convertReactPropstoHtmlAttributes(props) {\n  var initAttributes = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return Object.keys(props).reduce(function (obj, key) {\n    obj[HTML_TAG_MAP[key] || key] = props[key];\n    return obj;\n  }, initAttributes);\n};\n\nvar generateTitleAsReactComponent = function generateTitleAsReactComponent(type, title, attributes) {\n  var _initProps; // assigning into an array to define toString function on it\n\n\n  var initProps = (_initProps = {\n    key: title\n  }, _initProps[HELMET_ATTRIBUTE] = true, _initProps);\n  var props = convertElementAttributestoReactProps(attributes, initProps);\n  return [React.createElement(TAG_NAMES.TITLE, props, title)];\n};\n\nvar generateTagsAsReactComponent = function generateTagsAsReactComponent(type, tags) {\n  return tags.map(function (tag, i) {\n    var _mappedTag;\n\n    var mappedTag = (_mappedTag = {\n      key: i\n    }, _mappedTag[HELMET_ATTRIBUTE] = true, _mappedTag);\n    Object.keys(tag).forEach(function (attribute) {\n      var mappedAttribute = REACT_TAG_MAP[attribute] || attribute;\n\n      if (mappedAttribute === TAG_PROPERTIES.INNER_HTML || mappedAttribute === TAG_PROPERTIES.CSS_TEXT) {\n        var content = tag.innerHTML || tag.cssText;\n        mappedTag.dangerouslySetInnerHTML = {\n          __html: content\n        };\n      } else {\n        mappedTag[mappedAttribute] = tag[attribute];\n      }\n    });\n    return React.createElement(type, mappedTag);\n  });\n};\n\nvar getMethodsForTag = function getMethodsForTag(type, tags, encode) {\n  switch (type) {\n    case TAG_NAMES.TITLE:\n      return {\n        toComponent: function toComponent() {\n          return generateTitleAsReactComponent(type, tags.title, tags.titleAttributes, encode);\n        },\n        toString: function toString() {\n          return generateTitleAsString(type, tags.title, tags.titleAttributes, encode);\n        }\n      };\n\n    case ATTRIBUTE_NAMES.BODY:\n    case ATTRIBUTE_NAMES.HTML:\n      return {\n        toComponent: function toComponent() {\n          return convertElementAttributestoReactProps(tags);\n        },\n        toString: function toString() {\n          return generateElementAttributesAsString(tags);\n        }\n      };\n\n    default:\n      return {\n        toComponent: function toComponent() {\n          return generateTagsAsReactComponent(type, tags);\n        },\n        toString: function toString() {\n          return generateTagsAsString(type, tags, encode);\n        }\n      };\n  }\n};\n\nvar mapStateOnServer = function mapStateOnServer(_ref) {\n  var baseTag = _ref.baseTag,\n      bodyAttributes = _ref.bodyAttributes,\n      encode = _ref.encode,\n      htmlAttributes = _ref.htmlAttributes,\n      linkTags = _ref.linkTags,\n      metaTags = _ref.metaTags,\n      noscriptTags = _ref.noscriptTags,\n      scriptTags = _ref.scriptTags,\n      styleTags = _ref.styleTags,\n      _ref$title = _ref.title,\n      title = _ref$title === undefined ? \"\" : _ref$title,\n      titleAttributes = _ref.titleAttributes;\n  return {\n    base: getMethodsForTag(TAG_NAMES.BASE, baseTag, encode),\n    bodyAttributes: getMethodsForTag(ATTRIBUTE_NAMES.BODY, bodyAttributes, encode),\n    htmlAttributes: getMethodsForTag(ATTRIBUTE_NAMES.HTML, htmlAttributes, encode),\n    link: getMethodsForTag(TAG_NAMES.LINK, linkTags, encode),\n    meta: getMethodsForTag(TAG_NAMES.META, metaTags, encode),\n    noscript: getMethodsForTag(TAG_NAMES.NOSCRIPT, noscriptTags, encode),\n    script: getMethodsForTag(TAG_NAMES.SCRIPT, scriptTags, encode),\n    style: getMethodsForTag(TAG_NAMES.STYLE, styleTags, encode),\n    title: getMethodsForTag(TAG_NAMES.TITLE, {\n      title: title,\n      titleAttributes: titleAttributes\n    }, encode)\n  };\n};\n\nvar Helmet = function Helmet(Component) {\n  var _class, _temp;\n\n  return _temp = _class = function (_React$Component) {\n    inherits(HelmetWrapper, _React$Component);\n\n    function HelmetWrapper() {\n      classCallCheck(this, HelmetWrapper);\n      return possibleConstructorReturn(this, _React$Component.apply(this, arguments));\n    }\n\n    HelmetWrapper.prototype.shouldComponentUpdate = function shouldComponentUpdate(nextProps) {\n      return !isEqual(this.props, nextProps);\n    };\n\n    HelmetWrapper.prototype.mapNestedChildrenToProps = function mapNestedChildrenToProps(child, nestedChildren) {\n      if (!nestedChildren) {\n        return null;\n      }\n\n      switch (child.type) {\n        case TAG_NAMES.SCRIPT:\n        case TAG_NAMES.NOSCRIPT:\n          return {\n            innerHTML: nestedChildren\n          };\n\n        case TAG_NAMES.STYLE:\n          return {\n            cssText: nestedChildren\n          };\n      }\n\n      throw new Error(\"<\" + child.type + \" /> elements are self-closing and can not contain children. Refer to our API for more information.\");\n    };\n\n    HelmetWrapper.prototype.flattenArrayTypeChildren = function flattenArrayTypeChildren(_ref) {\n      var _babelHelpers$extends;\n\n      var child = _ref.child,\n          arrayTypeChildren = _ref.arrayTypeChildren,\n          newChildProps = _ref.newChildProps,\n          nestedChildren = _ref.nestedChildren;\n      return _extends({}, arrayTypeChildren, (_babelHelpers$extends = {}, _babelHelpers$extends[child.type] = [].concat(arrayTypeChildren[child.type] || [], [_extends({}, newChildProps, this.mapNestedChildrenToProps(child, nestedChildren))]), _babelHelpers$extends));\n    };\n\n    HelmetWrapper.prototype.mapObjectTypeChildren = function mapObjectTypeChildren(_ref2) {\n      var _babelHelpers$extends2, _babelHelpers$extends3;\n\n      var child = _ref2.child,\n          newProps = _ref2.newProps,\n          newChildProps = _ref2.newChildProps,\n          nestedChildren = _ref2.nestedChildren;\n\n      switch (child.type) {\n        case TAG_NAMES.TITLE:\n          return _extends({}, newProps, (_babelHelpers$extends2 = {}, _babelHelpers$extends2[child.type] = nestedChildren, _babelHelpers$extends2.titleAttributes = _extends({}, newChildProps), _babelHelpers$extends2));\n\n        case TAG_NAMES.BODY:\n          return _extends({}, newProps, {\n            bodyAttributes: _extends({}, newChildProps)\n          });\n\n        case TAG_NAMES.HTML:\n          return _extends({}, newProps, {\n            htmlAttributes: _extends({}, newChildProps)\n          });\n      }\n\n      return _extends({}, newProps, (_babelHelpers$extends3 = {}, _babelHelpers$extends3[child.type] = _extends({}, newChildProps), _babelHelpers$extends3));\n    };\n\n    HelmetWrapper.prototype.mapArrayTypeChildrenToProps = function mapArrayTypeChildrenToProps(arrayTypeChildren, newProps) {\n      var newFlattenedProps = _extends({}, newProps);\n\n      Object.keys(arrayTypeChildren).forEach(function (arrayChildName) {\n        var _babelHelpers$extends4;\n\n        newFlattenedProps = _extends({}, newFlattenedProps, (_babelHelpers$extends4 = {}, _babelHelpers$extends4[arrayChildName] = arrayTypeChildren[arrayChildName], _babelHelpers$extends4));\n      });\n      return newFlattenedProps;\n    };\n\n    HelmetWrapper.prototype.warnOnInvalidChildren = function warnOnInvalidChildren(child, nestedChildren) {\n      if (process.env.NODE_ENV !== \"production\") {\n        if (!VALID_TAG_NAMES.some(function (name) {\n          return child.type === name;\n        })) {\n          if (typeof child.type === \"function\") {\n            return warn(\"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.\");\n          }\n\n          return warn(\"Only elements types \" + VALID_TAG_NAMES.join(\", \") + \" are allowed. Helmet does not support rendering <\" + child.type + \"> elements. Refer to our API for more information.\");\n        }\n\n        if (nestedChildren && typeof nestedChildren !== \"string\" && (!Array.isArray(nestedChildren) || nestedChildren.some(function (nestedChild) {\n          return typeof nestedChild !== \"string\";\n        }))) {\n          throw new Error(\"Helmet expects a string as a child of <\" + child.type + \">. Did you forget to wrap your children in braces? ( <\" + child.type + \">{``}</\" + child.type + \"> ) Refer to our API for more information.\");\n        }\n      }\n\n      return true;\n    };\n\n    HelmetWrapper.prototype.mapChildrenToProps = function mapChildrenToProps(children, newProps) {\n      var _this2 = this;\n\n      var arrayTypeChildren = {};\n      React.Children.forEach(children, function (child) {\n        if (!child || !child.props) {\n          return;\n        }\n\n        var _child$props = child.props,\n            nestedChildren = _child$props.children,\n            childProps = objectWithoutProperties(_child$props, [\"children\"]);\n        var newChildProps = convertReactPropstoHtmlAttributes(childProps);\n\n        _this2.warnOnInvalidChildren(child, nestedChildren);\n\n        switch (child.type) {\n          case TAG_NAMES.LINK:\n          case TAG_NAMES.META:\n          case TAG_NAMES.NOSCRIPT:\n          case TAG_NAMES.SCRIPT:\n          case TAG_NAMES.STYLE:\n            arrayTypeChildren = _this2.flattenArrayTypeChildren({\n              child: child,\n              arrayTypeChildren: arrayTypeChildren,\n              newChildProps: newChildProps,\n              nestedChildren: nestedChildren\n            });\n            break;\n\n          default:\n            newProps = _this2.mapObjectTypeChildren({\n              child: child,\n              newProps: newProps,\n              newChildProps: newChildProps,\n              nestedChildren: nestedChildren\n            });\n            break;\n        }\n      });\n      newProps = this.mapArrayTypeChildrenToProps(arrayTypeChildren, newProps);\n      return newProps;\n    };\n\n    HelmetWrapper.prototype.render = function render() {\n      var _props = this.props,\n          children = _props.children,\n          props = objectWithoutProperties(_props, [\"children\"]);\n\n      var newProps = _extends({}, props);\n\n      if (children) {\n        newProps = this.mapChildrenToProps(children, newProps);\n      }\n\n      return React.createElement(Component, newProps);\n    };\n\n    createClass(HelmetWrapper, null, [{\n      key: \"canUseDOM\",\n      // Component.peek comes from react-side-effect:\n      // For testing, you may use a static peek() method available on the returned component.\n      // It lets you get the current state without resetting the mounted instance stack.\n      // Dont use it for anything other than testing.\n\n      /**\n       * @param {Object} base: {\"target\": \"_blank\", \"href\": \"http://mysite.com/\"}\n       * @param {Object} bodyAttributes: {\"className\": \"root\"}\n       * @param {String} defaultTitle: \"Default Title\"\n       * @param {Boolean} defer: true\n       * @param {Boolean} encodeSpecialCharacters: true\n       * @param {Object} htmlAttributes: {\"lang\": \"en\", \"amp\": undefined}\n       * @param {Array} link: [{\"rel\": \"canonical\", \"href\": \"http://mysite.com/example\"}]\n       * @param {Array} meta: [{\"name\": \"description\", \"content\": \"Test description\"}]\n       * @param {Array} noscript: [{\"innerHTML\": \"<img src='http://mysite.com/js/test.js'\"}]\n       * @param {Function} onChangeClientState: \"(newState) => console.log(newState)\"\n       * @param {Array} script: [{\"type\": \"text/javascript\", \"src\": \"http://mysite.com/js/test.js\"}]\n       * @param {Array} style: [{\"type\": \"text/css\", \"cssText\": \"div { display: block; color: blue; }\"}]\n       * @param {String} title: \"Title\"\n       * @param {Object} titleAttributes: {\"itemprop\": \"name\"}\n       * @param {String} titleTemplate: \"MySite.com - %s\"\n       */\n      set: function set$$1(canUseDOM) {\n        Component.canUseDOM = canUseDOM;\n      }\n    }]);\n    return HelmetWrapper;\n  }(React.Component), _class.propTypes = {\n    base: PropTypes.object,\n    bodyAttributes: PropTypes.object,\n    children: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.node), PropTypes.node]),\n    defaultTitle: PropTypes.string,\n    defer: PropTypes.bool,\n    encodeSpecialCharacters: PropTypes.bool,\n    htmlAttributes: PropTypes.object,\n    link: PropTypes.arrayOf(PropTypes.object),\n    meta: PropTypes.arrayOf(PropTypes.object),\n    noscript: PropTypes.arrayOf(PropTypes.object),\n    onChangeClientState: PropTypes.func,\n    script: PropTypes.arrayOf(PropTypes.object),\n    style: PropTypes.arrayOf(PropTypes.object),\n    title: PropTypes.string,\n    titleAttributes: PropTypes.object,\n    titleTemplate: PropTypes.string\n  }, _class.defaultProps = {\n    defer: true,\n    encodeSpecialCharacters: true\n  }, _class.peek = Component.peek, _class.rewind = function () {\n    var mappedState = Component.rewind();\n\n    if (!mappedState) {\n      // provide fallback if mappedState is undefined\n      mappedState = mapStateOnServer({\n        baseTag: [],\n        bodyAttributes: {},\n        encodeSpecialCharacters: true,\n        htmlAttributes: {},\n        linkTags: [],\n        metaTags: [],\n        noscriptTags: [],\n        scriptTags: [],\n        styleTags: [],\n        title: \"\",\n        titleAttributes: {}\n      });\n    }\n\n    return mappedState;\n  }, _temp;\n};\n\nvar NullComponent = function NullComponent() {\n  return null;\n};\n\nvar HelmetSideEffects = withSideEffect(reducePropsToState, handleClientStateChange, mapStateOnServer)(NullComponent);\nvar HelmetExport = Helmet(HelmetSideEffects);\nHelmetExport.renderStatic = HelmetExport.rewind;\nexport default HelmetExport;\nexport { HelmetExport as Helmet };","/** @license React v16.13.1\n * react-is.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';\n\nvar b = \"function\" === typeof Symbol && Symbol.for,\n    c = b ? Symbol.for(\"react.element\") : 60103,\n    d = b ? Symbol.for(\"react.portal\") : 60106,\n    e = b ? Symbol.for(\"react.fragment\") : 60107,\n    f = b ? Symbol.for(\"react.strict_mode\") : 60108,\n    g = b ? Symbol.for(\"react.profiler\") : 60114,\n    h = b ? Symbol.for(\"react.provider\") : 60109,\n    k = b ? Symbol.for(\"react.context\") : 60110,\n    l = b ? Symbol.for(\"react.async_mode\") : 60111,\n    m = b ? Symbol.for(\"react.concurrent_mode\") : 60111,\n    n = b ? Symbol.for(\"react.forward_ref\") : 60112,\n    p = b ? Symbol.for(\"react.suspense\") : 60113,\n    q = b ? Symbol.for(\"react.suspense_list\") : 60120,\n    r = b ? Symbol.for(\"react.memo\") : 60115,\n    t = b ? Symbol.for(\"react.lazy\") : 60116,\n    v = b ? Symbol.for(\"react.block\") : 60121,\n    w = b ? Symbol.for(\"react.fundamental\") : 60117,\n    x = b ? Symbol.for(\"react.responder\") : 60118,\n    y = b ? Symbol.for(\"react.scope\") : 60119;\n\nfunction z(a) {\n  if (\"object\" === typeof a && null !== a) {\n    var u = a.$$typeof;\n\n    switch (u) {\n      case c:\n        switch (a = a.type, a) {\n          case l:\n          case m:\n          case e:\n          case g:\n          case f:\n          case p:\n            return a;\n\n          default:\n            switch (a = a && a.$$typeof, a) {\n              case k:\n              case n:\n              case t:\n              case r:\n              case h:\n                return a;\n\n              default:\n                return u;\n            }\n\n        }\n\n      case d:\n        return u;\n    }\n  }\n}\n\nfunction A(a) {\n  return z(a) === m;\n}\n\nexports.AsyncMode = l;\nexports.ConcurrentMode = m;\nexports.ContextConsumer = k;\nexports.ContextProvider = h;\nexports.Element = c;\nexports.ForwardRef = n;\nexports.Fragment = e;\nexports.Lazy = t;\nexports.Memo = r;\nexports.Portal = d;\nexports.Profiler = g;\nexports.StrictMode = f;\nexports.Suspense = p;\n\nexports.isAsyncMode = function (a) {\n  return A(a) || z(a) === l;\n};\n\nexports.isConcurrentMode = A;\n\nexports.isContextConsumer = function (a) {\n  return z(a) === k;\n};\n\nexports.isContextProvider = function (a) {\n  return z(a) === h;\n};\n\nexports.isElement = function (a) {\n  return \"object\" === typeof a && null !== a && a.$$typeof === c;\n};\n\nexports.isForwardRef = function (a) {\n  return z(a) === n;\n};\n\nexports.isFragment = function (a) {\n  return z(a) === e;\n};\n\nexports.isLazy = function (a) {\n  return z(a) === t;\n};\n\nexports.isMemo = function (a) {\n  return z(a) === r;\n};\n\nexports.isPortal = function (a) {\n  return z(a) === d;\n};\n\nexports.isProfiler = function (a) {\n  return z(a) === g;\n};\n\nexports.isStrictMode = function (a) {\n  return z(a) === f;\n};\n\nexports.isSuspense = function (a) {\n  return z(a) === p;\n};\n\nexports.isValidElementType = function (a) {\n  return \"string\" === typeof a || \"function\" === typeof a || a === e || a === m || a === g || a === f || a === p || a === q || \"object\" === typeof a && null !== a && (a.$$typeof === t || a.$$typeof === r || a.$$typeof === h || a.$$typeof === k || a.$$typeof === n || a.$$typeof === w || a.$$typeof === x || a.$$typeof === y || a.$$typeof === v);\n};\n\nexports.typeOf = z;","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-is.production.min.js');\n} else {\n  module.exports = require('./cjs/react-is.development.js');\n}","'use strict';\n\nfunction _interopDefault(ex) {\n  return ex && typeof ex === 'object' && 'default' in ex ? ex['default'] : ex;\n}\n\nvar React = require('react');\n\nvar React__default = _interopDefault(React);\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nvar canUseDOM = !!(typeof window !== 'undefined' && window.document && window.document.createElement);\n\nfunction withSideEffect(reducePropsToState, handleStateChangeOnClient, mapStateOnServer) {\n  if (typeof reducePropsToState !== 'function') {\n    throw new Error('Expected reducePropsToState to be a function.');\n  }\n\n  if (typeof handleStateChangeOnClient !== 'function') {\n    throw new Error('Expected handleStateChangeOnClient to be a function.');\n  }\n\n  if (typeof mapStateOnServer !== 'undefined' && typeof mapStateOnServer !== 'function') {\n    throw new Error('Expected mapStateOnServer to either be undefined or a function.');\n  }\n\n  function getDisplayName(WrappedComponent) {\n    return WrappedComponent.displayName || WrappedComponent.name || 'Component';\n  }\n\n  return function wrap(WrappedComponent) {\n    if (typeof WrappedComponent !== 'function') {\n      throw new Error('Expected WrappedComponent to be a React component.');\n    }\n\n    var mountedInstances = [];\n    var state;\n\n    function emitChange() {\n      state = reducePropsToState(mountedInstances.map(function (instance) {\n        return instance.props;\n      }));\n\n      if (SideEffect.canUseDOM) {\n        handleStateChangeOnClient(state);\n      } else if (mapStateOnServer) {\n        state = mapStateOnServer(state);\n      }\n    }\n\n    var SideEffect = /*#__PURE__*/function (_PureComponent) {\n      _inheritsLoose(SideEffect, _PureComponent);\n\n      function SideEffect() {\n        return _PureComponent.apply(this, arguments) || this;\n      } // Try to use displayName of wrapped component\n      // Expose canUseDOM so tests can monkeypatch it\n\n\n      SideEffect.peek = function peek() {\n        return state;\n      };\n\n      SideEffect.rewind = function rewind() {\n        if (SideEffect.canUseDOM) {\n          throw new Error('You may only call rewind() on the server. Call peek() to read the current state.');\n        }\n\n        var recordedState = state;\n        state = undefined;\n        mountedInstances = [];\n        return recordedState;\n      };\n\n      var _proto = SideEffect.prototype;\n\n      _proto.UNSAFE_componentWillMount = function UNSAFE_componentWillMount() {\n        mountedInstances.push(this);\n        emitChange();\n      };\n\n      _proto.componentDidUpdate = function componentDidUpdate() {\n        emitChange();\n      };\n\n      _proto.componentWillUnmount = function componentWillUnmount() {\n        var index = mountedInstances.indexOf(this);\n        mountedInstances.splice(index, 1);\n        emitChange();\n      };\n\n      _proto.render = function render() {\n        return /*#__PURE__*/React__default.createElement(WrappedComponent, this.props);\n      };\n\n      return SideEffect;\n    }(React.PureComponent);\n\n    _defineProperty(SideEffect, \"displayName\", \"SideEffect(\" + getDisplayName(WrappedComponent) + \")\");\n\n    _defineProperty(SideEffect, \"canUseDOM\", canUseDOM);\n\n    return SideEffect;\n  };\n}\n\nmodule.exports = withSideEffect;","import _classCallCheck from \"D:/Projects/Tennis/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _assertThisInitialized from \"D:/Projects/Tennis/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"D:/Projects/Tennis/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"D:/Projects/Tennis/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:/Projects/Tennis/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport { EventDispatcher, MOUSE, Quaternion, Spherical, TOUCH, Vector2, Vector3 } from 'three'; // This set of controls performs orbiting, dollying (zooming), and panning.\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\n//\n//    Orbit - left mouse / touch: one-finger move\n//    Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\n//    Pan - right mouse, or left mouse + ctrl/meta/shiftKey, or arrow keys / touch: two-finger move\n\nvar _changeEvent = {\n  type: 'change'\n};\nvar _startEvent = {\n  type: 'start'\n};\nvar _endEvent = {\n  type: 'end'\n};\n\nvar OrbitControls = /*#__PURE__*/function (_EventDispatcher) {\n  _inherits(OrbitControls, _EventDispatcher);\n\n  var _super = _createSuper(OrbitControls);\n\n  function OrbitControls(object, domElement) {\n    var _this;\n\n    _classCallCheck(this, OrbitControls);\n\n    _this = _super.call(this);\n    if (domElement === undefined) console.warn('THREE.OrbitControls: The second parameter \"domElement\" is now mandatory.');\n    if (domElement === document) console.error('THREE.OrbitControls: \"document\" should not be used as the target \"domElement\". Please use \"renderer.domElement\" instead.');\n    _this.object = object;\n    _this.domElement = domElement;\n    _this.domElement.style.touchAction = 'none'; // disable touch scroll\n\n    _this.dIn = dollyIn; // Set to false to disable this control\n\n    _this.enabled = true; // \"target\" sets the location of focus, where the object orbits around\n\n    _this.target = new Vector3(); // How far you can dolly in and out ( PerspectiveCamera only )\n\n    _this.minDistance = 0;\n    _this.maxDistance = Infinity; // How far you can zoom in and out ( OrthographicCamera only )\n\n    _this.minZoom = 0;\n    _this.maxZoom = Infinity; // How far you can orbit vertically, upper and lower limits.\n    // Range is 0 to Math.PI radians.\n\n    _this.minPolarAngle = 0; // radians\n\n    _this.maxPolarAngle = Math.PI; // radians\n    // How far you can orbit horizontally, upper and lower limits.\n    // If set, the interval [ min, max ] must be a sub-interval of [ - 2 PI, 2 PI ], with ( max - min < 2 PI )\n\n    _this.minAzimuthAngle = -Infinity; // radians\n\n    _this.maxAzimuthAngle = Infinity; // radians\n    // Set to true to enable damping (inertia)\n    // If damping is enabled, you must call controls.update() in your animation loop\n\n    _this.enableDamping = false;\n    _this.dampingFactor = 0.05; // This option actually enables dollying in and out; left as \"zoom\" for backwards compatibility.\n    // Set to false to disable zooming\n\n    _this.enableZoom = true;\n    _this.zoomSpeed = 1.0; // Set to false to disable rotating\n\n    _this.enableRotate = true;\n    _this.rotateSpeed = 1.0; // Set to false to disable panning\n\n    _this.enablePan = true;\n    _this.panSpeed = 1.0;\n    _this.screenSpacePanning = true; // if false, pan orthogonal to world-space direction camera.up\n\n    _this.keyPanSpeed = 7.0; // pixels moved per arrow key push\n    // Set to true to automatically rotate around the target\n    // If auto-rotate is enabled, you must call controls.update() in your animation loop\n\n    _this.autoRotate = false;\n    _this.autoRotateSpeed = 2.0; // 30 seconds per orbit when fps is 60\n    // The four arrow keys\n\n    _this.keys = {\n      LEFT: 'ArrowLeft',\n      UP: 'ArrowUp',\n      RIGHT: 'ArrowRight',\n      BOTTOM: 'ArrowDown'\n    }; // Mouse buttons\n\n    _this.mouseButtons = {\n      LEFT: MOUSE.ROTATE,\n      MIDDLE: MOUSE.DOLLY,\n      RIGHT: MOUSE.PAN\n    }; // Touch fingers\n\n    _this.touches = {\n      ONE: TOUCH.ROTATE,\n      TWO: TOUCH.DOLLY_PAN\n    }; // for reset\n\n    _this.target0 = _this.target.clone();\n    _this.position0 = _this.object.position.clone();\n    _this.zoom0 = _this.object.zoom; // the target DOM element for key events\n\n    _this._domElementKeyEvents = null; //\n    // public methods\n    //\n\n    _this.getPolarAngle = function () {\n      return spherical.phi;\n    };\n\n    _this.getAzimuthalAngle = function () {\n      return spherical.theta;\n    };\n\n    _this.getDistance = function () {\n      return this.object.position.distanceTo(this.target);\n    };\n\n    _this.listenToKeyEvents = function (domElement) {\n      domElement.addEventListener('keydown', onKeyDown);\n      this._domElementKeyEvents = domElement;\n    };\n\n    _this.saveState = function () {\n      scope.target0.copy(scope.target);\n      scope.position0.copy(scope.object.position);\n      scope.zoom0 = scope.object.zoom;\n    };\n\n    _this.reset = function () {\n      scope.target.copy(scope.target0);\n      scope.object.position.copy(scope.position0);\n      scope.object.zoom = scope.zoom0;\n      scope.object.updateProjectionMatrix();\n      scope.dispatchEvent(_changeEvent);\n      scope.update();\n      state = STATE.NONE;\n    }; // this method is exposed, but perhaps it would be better if we can make it private...\n\n\n    _this.update = function () {\n      var offset = new Vector3(); // so camera.up is the orbit axis\n\n      var quat = new Quaternion().setFromUnitVectors(object.up, new Vector3(0, 1, 0));\n      var quatInverse = quat.clone().invert();\n      var lastPosition = new Vector3();\n      var lastQuaternion = new Quaternion();\n      var twoPI = 2 * Math.PI;\n      return function update() {\n        var position = scope.object.position;\n        offset.copy(position).sub(scope.target); // rotate offset to \"y-axis-is-up\" space\n\n        offset.applyQuaternion(quat); // angle from z-axis around y-axis\n\n        spherical.setFromVector3(offset);\n\n        if (scope.autoRotate && state === STATE.NONE) {\n          rotateLeft(getAutoRotationAngle());\n        }\n\n        if (scope.enableDamping) {\n          spherical.theta += sphericalDelta.theta * scope.dampingFactor;\n          spherical.phi += sphericalDelta.phi * scope.dampingFactor;\n        } else {\n          spherical.theta += sphericalDelta.theta;\n          spherical.phi += sphericalDelta.phi;\n        } // restrict theta to be between desired limits\n\n\n        var min = scope.minAzimuthAngle;\n        var max = scope.maxAzimuthAngle;\n\n        if (isFinite(min) && isFinite(max)) {\n          if (min < -Math.PI) min += twoPI;else if (min > Math.PI) min -= twoPI;\n          if (max < -Math.PI) max += twoPI;else if (max > Math.PI) max -= twoPI;\n\n          if (min <= max) {\n            spherical.theta = Math.max(min, Math.min(max, spherical.theta));\n          } else {\n            spherical.theta = spherical.theta > (min + max) / 2 ? Math.max(min, spherical.theta) : Math.min(max, spherical.theta);\n          }\n        } // restrict phi to be between desired limits\n\n\n        spherical.phi = Math.max(scope.minPolarAngle, Math.min(scope.maxPolarAngle, spherical.phi));\n        spherical.makeSafe();\n        spherical.radius *= scale; // restrict radius to be between desired limits\n\n        spherical.radius = Math.max(scope.minDistance, Math.min(scope.maxDistance, spherical.radius)); // move target to panned location\n\n        if (scope.enableDamping === true) {\n          scope.target.addScaledVector(panOffset, scope.dampingFactor);\n        } else {\n          scope.target.add(panOffset);\n        }\n\n        offset.setFromSpherical(spherical); // rotate offset back to \"camera-up-vector-is-up\" space\n\n        offset.applyQuaternion(quatInverse);\n        position.copy(scope.target).add(offset);\n        scope.object.lookAt(scope.target);\n\n        if (scope.enableDamping === true) {\n          sphericalDelta.theta *= 1 - scope.dampingFactor;\n          sphericalDelta.phi *= 1 - scope.dampingFactor;\n          panOffset.multiplyScalar(1 - scope.dampingFactor);\n        } else {\n          sphericalDelta.set(0, 0, 0);\n          panOffset.set(0, 0, 0);\n        }\n\n        scale = 1; // update condition is:\n        // min(camera displacement, camera rotation in radians)^2 > EPS\n        // using small-angle approximation cos(x/2) = 1 - x^2 / 8\n\n        if (zoomChanged || lastPosition.distanceToSquared(scope.object.position) > EPS || 8 * (1 - lastQuaternion.dot(scope.object.quaternion)) > EPS) {\n          scope.dispatchEvent(_changeEvent);\n          lastPosition.copy(scope.object.position);\n          lastQuaternion.copy(scope.object.quaternion);\n          zoomChanged = false;\n          return true;\n        }\n\n        return false;\n      };\n    }();\n\n    _this.dispose = function () {\n      scope.domElement.removeEventListener('contextmenu', onContextMenu);\n      scope.domElement.removeEventListener('pointerdown', onPointerDown);\n      scope.domElement.removeEventListener('pointercancel', onPointerCancel);\n      scope.domElement.removeEventListener('wheel', onMouseWheel);\n      scope.domElement.removeEventListener('pointermove', onPointerMove);\n      scope.domElement.removeEventListener('pointerup', onPointerUp);\n\n      if (scope._domElementKeyEvents !== null) {\n        scope._domElementKeyEvents.removeEventListener('keydown', onKeyDown);\n      } //scope.dispatchEvent( { type: 'dispose' } ); // should this be added here?\n\n    }; //\n    // internals\n    //\n\n\n    var scope = _assertThisInitialized(_this);\n\n    var STATE = {\n      NONE: -1,\n      ROTATE: 0,\n      DOLLY: 1,\n      PAN: 2,\n      TOUCH_ROTATE: 3,\n      TOUCH_PAN: 4,\n      TOUCH_DOLLY_PAN: 5,\n      TOUCH_DOLLY_ROTATE: 6\n    };\n    var state = STATE.NONE;\n    var EPS = 0.000001; // current position in spherical coordinates\n\n    var spherical = new Spherical();\n    var sphericalDelta = new Spherical();\n    var scale = 1;\n    var panOffset = new Vector3();\n    var zoomChanged = false;\n    var rotateStart = new Vector2();\n    var rotateEnd = new Vector2();\n    var rotateDelta = new Vector2();\n    var panStart = new Vector2();\n    var panEnd = new Vector2();\n    var panDelta = new Vector2();\n    var dollyStart = new Vector2();\n    var dollyEnd = new Vector2();\n    var dollyDelta = new Vector2();\n    var pointers = [];\n    var pointerPositions = {};\n\n    function getAutoRotationAngle() {\n      return 2 * Math.PI / 60 / 60 * scope.autoRotateSpeed;\n    }\n\n    function getZoomScale() {\n      return Math.pow(0.95, scope.zoomSpeed);\n    }\n\n    function rotateLeft(angle) {\n      sphericalDelta.theta -= angle;\n    }\n\n    function rotateUp(angle) {\n      sphericalDelta.phi -= angle;\n    }\n\n    var panLeft = function () {\n      var v = new Vector3();\n      return function panLeft(distance, objectMatrix) {\n        v.setFromMatrixColumn(objectMatrix, 0); // get X column of objectMatrix\n\n        v.multiplyScalar(-distance);\n        panOffset.add(v);\n      };\n    }();\n\n    var panUp = function () {\n      var v = new Vector3();\n      return function panUp(distance, objectMatrix) {\n        if (scope.screenSpacePanning === true) {\n          v.setFromMatrixColumn(objectMatrix, 1);\n        } else {\n          v.setFromMatrixColumn(objectMatrix, 0);\n          v.crossVectors(scope.object.up, v);\n        }\n\n        v.multiplyScalar(distance);\n        panOffset.add(v);\n      };\n    }(); // deltaX and deltaY are in pixels; right and down are positive\n\n\n    var pan = function () {\n      var offset = new Vector3();\n      return function pan(deltaX, deltaY) {\n        var element = scope.domElement;\n\n        if (scope.object.isPerspectiveCamera) {\n          // perspective\n          var position = scope.object.position;\n          offset.copy(position).sub(scope.target);\n          var targetDistance = offset.length(); // half of the fov is center to top of screen\n\n          targetDistance *= Math.tan(scope.object.fov / 2 * Math.PI / 180.0); // we use only clientHeight here so aspect ratio does not distort speed\n\n          panLeft(2 * deltaX * targetDistance / element.clientHeight, scope.object.matrix);\n          panUp(2 * deltaY * targetDistance / element.clientHeight, scope.object.matrix);\n        } else if (scope.object.isOrthographicCamera) {\n          // orthographic\n          panLeft(deltaX * (scope.object.right - scope.object.left) / scope.object.zoom / element.clientWidth, scope.object.matrix);\n          panUp(deltaY * (scope.object.top - scope.object.bottom) / scope.object.zoom / element.clientHeight, scope.object.matrix);\n        } else {\n          // camera neither orthographic nor perspective\n          console.warn('WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.');\n          scope.enablePan = false;\n        }\n      };\n    }();\n\n    function dollyOut(dollyScale) {\n      if (scope.object.isPerspectiveCamera) {\n        scale /= dollyScale;\n      } else if (scope.object.isOrthographicCamera) {\n        scope.object.zoom = Math.max(scope.minZoom, Math.min(scope.maxZoom, scope.object.zoom * dollyScale));\n        scope.object.updateProjectionMatrix();\n        zoomChanged = true;\n      } else {\n        console.warn('WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.');\n        scope.enableZoom = false;\n      }\n    }\n\n    function dollyIn(dollyScale) {\n      if (scope.object.isPerspectiveCamera) {\n        scale *= dollyScale;\n      } else if (scope.object.isOrthographicCamera) {\n        scope.object.zoom = Math.max(scope.minZoom, Math.min(scope.maxZoom, scope.object.zoom / dollyScale));\n        scope.object.updateProjectionMatrix();\n        zoomChanged = true;\n      } else {\n        console.warn('WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.');\n        scope.enableZoom = false;\n      }\n    } //\n    // event callbacks - update the object state\n    //\n\n\n    function handleMouseDownRotate(event) {\n      rotateStart.set(event.clientX, event.clientY);\n    }\n\n    function handleMouseDownDolly(event) {\n      dollyStart.set(event.clientX, event.clientY);\n    }\n\n    function handleMouseDownPan(event) {\n      panStart.set(event.clientX, event.clientY);\n    }\n\n    function handleMouseMoveRotate(event) {\n      rotateEnd.set(event.clientX, event.clientY);\n      rotateDelta.subVectors(rotateEnd, rotateStart).multiplyScalar(scope.rotateSpeed);\n      var element = scope.domElement;\n      rotateLeft(2 * Math.PI * rotateDelta.x / element.clientHeight); // yes, height\n\n      rotateUp(2 * Math.PI * rotateDelta.y / element.clientHeight);\n      rotateStart.copy(rotateEnd);\n      scope.update();\n    }\n\n    function handleMouseMoveDolly(event) {\n      dollyEnd.set(event.clientX, event.clientY);\n      dollyDelta.subVectors(dollyEnd, dollyStart);\n\n      if (dollyDelta.y > 0) {\n        dollyOut(getZoomScale());\n      } else if (dollyDelta.y < 0) {\n        dollyIn(getZoomScale());\n      }\n\n      dollyStart.copy(dollyEnd);\n      scope.update();\n    }\n\n    function handleMouseMovePan(event) {\n      panEnd.set(event.clientX, event.clientY);\n      panDelta.subVectors(panEnd, panStart).multiplyScalar(scope.panSpeed);\n      pan(panDelta.x, panDelta.y);\n      panStart.copy(panEnd);\n      scope.update();\n    }\n\n    function handleMouseUp() {// no-op\n    }\n\n    function handleMouseWheel(event) {\n      if (event.deltaY < 0) {\n        dollyIn(getZoomScale());\n      } else if (event.deltaY > 0) {\n        dollyOut(getZoomScale());\n      }\n\n      scope.update();\n    }\n\n    function handleKeyDown(event) {\n      var needsUpdate = false;\n\n      switch (event.code) {\n        case scope.keys.UP:\n          pan(0, scope.keyPanSpeed);\n          needsUpdate = true;\n          break;\n\n        case scope.keys.BOTTOM:\n          pan(0, -scope.keyPanSpeed);\n          needsUpdate = true;\n          break;\n\n        case scope.keys.LEFT:\n          pan(scope.keyPanSpeed, 0);\n          needsUpdate = true;\n          break;\n\n        case scope.keys.RIGHT:\n          pan(-scope.keyPanSpeed, 0);\n          needsUpdate = true;\n          break;\n      }\n\n      if (needsUpdate) {\n        // prevent the browser from scrolling on cursor keys\n        event.preventDefault();\n        scope.update();\n      }\n    }\n\n    function handleTouchStartRotate() {\n      if (pointers.length === 1) {\n        rotateStart.set(pointers[0].pageX, pointers[0].pageY);\n      } else {\n        var x = 0.5 * (pointers[0].pageX + pointers[1].pageX);\n        var y = 0.5 * (pointers[0].pageY + pointers[1].pageY);\n        rotateStart.set(x, y);\n      }\n    }\n\n    function handleTouchStartPan() {\n      if (pointers.length === 1) {\n        panStart.set(pointers[0].pageX, pointers[0].pageY);\n      } else {\n        var x = 0.5 * (pointers[0].pageX + pointers[1].pageX);\n        var y = 0.5 * (pointers[0].pageY + pointers[1].pageY);\n        panStart.set(x, y);\n      }\n    }\n\n    function handleTouchStartDolly() {\n      var dx = pointers[0].pageX - pointers[1].pageX;\n      var dy = pointers[0].pageY - pointers[1].pageY;\n      var distance = Math.sqrt(dx * dx + dy * dy);\n      dollyStart.set(0, distance);\n    }\n\n    function handleTouchStartDollyPan() {\n      if (scope.enableZoom) handleTouchStartDolly();\n      if (scope.enablePan) handleTouchStartPan();\n    }\n\n    function handleTouchStartDollyRotate() {\n      if (scope.enableZoom) handleTouchStartDolly();\n      if (scope.enableRotate) handleTouchStartRotate();\n    }\n\n    function handleTouchMoveRotate(event) {\n      if (pointers.length == 1) {\n        rotateEnd.set(event.pageX, event.pageY);\n      } else {\n        var position = getSecondPointerPosition(event);\n        var x = 0.5 * (event.pageX + position.x);\n        var y = 0.5 * (event.pageY + position.y);\n        rotateEnd.set(x, y);\n      }\n\n      rotateDelta.subVectors(rotateEnd, rotateStart).multiplyScalar(scope.rotateSpeed);\n      var element = scope.domElement;\n      rotateLeft(2 * Math.PI * rotateDelta.x / element.clientHeight); // yes, height\n\n      rotateUp(2 * Math.PI * rotateDelta.y / element.clientHeight);\n      rotateStart.copy(rotateEnd);\n    }\n\n    function handleTouchMovePan(event) {\n      if (pointers.length === 1) {\n        panEnd.set(event.pageX, event.pageY);\n      } else {\n        var position = getSecondPointerPosition(event);\n        var x = 0.5 * (event.pageX + position.x);\n        var y = 0.5 * (event.pageY + position.y);\n        panEnd.set(x, y);\n      }\n\n      panDelta.subVectors(panEnd, panStart).multiplyScalar(scope.panSpeed);\n      pan(panDelta.x, panDelta.y);\n      panStart.copy(panEnd);\n    }\n\n    function handleTouchMoveDolly(event) {\n      var position = getSecondPointerPosition(event);\n      var dx = event.pageX - position.x;\n      var dy = event.pageY - position.y;\n      var distance = Math.sqrt(dx * dx + dy * dy);\n      dollyEnd.set(0, distance);\n      dollyDelta.set(0, Math.pow(dollyEnd.y / dollyStart.y, scope.zoomSpeed));\n      dollyOut(dollyDelta.y);\n      dollyStart.copy(dollyEnd);\n    }\n\n    function handleTouchMoveDollyPan(event) {\n      if (scope.enableZoom) handleTouchMoveDolly(event);\n      if (scope.enablePan) handleTouchMovePan(event);\n    }\n\n    function handleTouchMoveDollyRotate(event) {\n      if (scope.enableZoom) handleTouchMoveDolly(event);\n      if (scope.enableRotate) handleTouchMoveRotate(event);\n    }\n\n    function handleTouchEnd() {// no-op\n    } //\n    // event handlers - FSM: listen for events and reset state\n    //\n\n\n    function onPointerDown(event) {\n      if (scope.enabled === false) return;\n\n      if (pointers.length === 0) {\n        scope.domElement.setPointerCapture(event.pointerId);\n        scope.domElement.addEventListener('pointermove', onPointerMove);\n        scope.domElement.addEventListener('pointerup', onPointerUp);\n      } //\n\n\n      addPointer(event);\n\n      if (event.pointerType === 'touch') {\n        onTouchStart(event);\n      } else {\n        onMouseDown(event);\n      }\n    }\n\n    function onPointerMove(event) {\n      if (scope.enabled === false) return;\n\n      if (event.pointerType === 'touch') {\n        onTouchMove(event);\n      } else {\n        onMouseMove(event);\n      }\n    }\n\n    function onPointerUp(event) {\n      if (scope.enabled === false) return;\n\n      if (event.pointerType === 'touch') {\n        onTouchEnd();\n      } else {\n        onMouseUp(event);\n      }\n\n      removePointer(event); //\n\n      if (pointers.length === 0) {\n        scope.domElement.releasePointerCapture(event.pointerId);\n        scope.domElement.removeEventListener('pointermove', onPointerMove);\n        scope.domElement.removeEventListener('pointerup', onPointerUp);\n      }\n    }\n\n    function onPointerCancel(event) {\n      removePointer(event);\n    }\n\n    function onMouseDown(event) {\n      var mouseAction;\n\n      switch (event.button) {\n        case 0:\n          mouseAction = scope.mouseButtons.LEFT;\n          break;\n\n        case 1:\n          mouseAction = scope.mouseButtons.MIDDLE;\n          break;\n\n        case 2:\n          mouseAction = scope.mouseButtons.RIGHT;\n          break;\n\n        default:\n          mouseAction = -1;\n      }\n\n      switch (mouseAction) {\n        case MOUSE.DOLLY:\n          if (scope.enableZoom === false) return;\n          handleMouseDownDolly(event);\n          state = STATE.DOLLY;\n          break;\n\n        case MOUSE.ROTATE:\n          if (event.ctrlKey || event.metaKey || event.shiftKey) {\n            if (scope.enablePan === false) return;\n            handleMouseDownPan(event);\n            state = STATE.PAN;\n          } else {\n            if (scope.enableRotate === false) return;\n            handleMouseDownRotate(event);\n            state = STATE.ROTATE;\n          }\n\n          break;\n\n        case MOUSE.PAN:\n          if (event.ctrlKey || event.metaKey || event.shiftKey) {\n            if (scope.enableRotate === false) return;\n            handleMouseDownRotate(event);\n            state = STATE.ROTATE;\n          } else {\n            if (scope.enablePan === false) return;\n            handleMouseDownPan(event);\n            state = STATE.PAN;\n          }\n\n          break;\n\n        default:\n          state = STATE.NONE;\n      }\n\n      if (state !== STATE.NONE) {\n        scope.dispatchEvent(_startEvent);\n      }\n    }\n\n    function onMouseMove(event) {\n      if (scope.enabled === false) return;\n\n      switch (state) {\n        case STATE.ROTATE:\n          if (scope.enableRotate === false) return;\n          handleMouseMoveRotate(event);\n          break;\n\n        case STATE.DOLLY:\n          if (scope.enableZoom === false) return;\n          handleMouseMoveDolly(event);\n          break;\n\n        case STATE.PAN:\n          if (scope.enablePan === false) return;\n          handleMouseMovePan(event);\n          break;\n      }\n    }\n\n    function onMouseUp(event) {\n      handleMouseUp(event);\n      scope.dispatchEvent(_endEvent);\n      state = STATE.NONE;\n    }\n\n    function onMouseWheel(event) {\n      if (scope.enabled === false || scope.enableZoom === false || state !== STATE.NONE && state !== STATE.ROTATE) return;\n      event.preventDefault();\n      scope.dispatchEvent(_startEvent);\n      handleMouseWheel(event);\n      scope.dispatchEvent(_endEvent);\n    }\n\n    function onKeyDown(event) {\n      if (scope.enabled === false || scope.enablePan === false) return;\n      handleKeyDown(event);\n    }\n\n    function onTouchStart(event) {\n      trackPointer(event);\n\n      switch (pointers.length) {\n        case 1:\n          switch (scope.touches.ONE) {\n            case TOUCH.ROTATE:\n              if (scope.enableRotate === false) return;\n              handleTouchStartRotate();\n              state = STATE.TOUCH_ROTATE;\n              break;\n\n            case TOUCH.PAN:\n              if (scope.enablePan === false) return;\n              handleTouchStartPan();\n              state = STATE.TOUCH_PAN;\n              break;\n\n            default:\n              state = STATE.NONE;\n          }\n\n          break;\n\n        case 2:\n          switch (scope.touches.TWO) {\n            case TOUCH.DOLLY_PAN:\n              if (scope.enableZoom === false && scope.enablePan === false) return;\n              handleTouchStartDollyPan();\n              state = STATE.TOUCH_DOLLY_PAN;\n              break;\n\n            case TOUCH.DOLLY_ROTATE:\n              if (scope.enableZoom === false && scope.enableRotate === false) return;\n              handleTouchStartDollyRotate();\n              state = STATE.TOUCH_DOLLY_ROTATE;\n              break;\n\n            default:\n              state = STATE.NONE;\n          }\n\n          break;\n\n        default:\n          state = STATE.NONE;\n      }\n\n      if (state !== STATE.NONE) {\n        scope.dispatchEvent(_startEvent);\n      }\n    }\n\n    function onTouchMove(event) {\n      trackPointer(event);\n\n      switch (state) {\n        case STATE.TOUCH_ROTATE:\n          if (scope.enableRotate === false) return;\n          handleTouchMoveRotate(event);\n          scope.update();\n          break;\n\n        case STATE.TOUCH_PAN:\n          if (scope.enablePan === false) return;\n          handleTouchMovePan(event);\n          scope.update();\n          break;\n\n        case STATE.TOUCH_DOLLY_PAN:\n          if (scope.enableZoom === false && scope.enablePan === false) return;\n          handleTouchMoveDollyPan(event);\n          scope.update();\n          break;\n\n        case STATE.TOUCH_DOLLY_ROTATE:\n          if (scope.enableZoom === false && scope.enableRotate === false) return;\n          handleTouchMoveDollyRotate(event);\n          scope.update();\n          break;\n\n        default:\n          state = STATE.NONE;\n      }\n    }\n\n    function onTouchEnd(event) {\n      handleTouchEnd(event);\n      scope.dispatchEvent(_endEvent);\n      state = STATE.NONE;\n    }\n\n    function onContextMenu(event) {\n      if (scope.enabled === false) return;\n      event.preventDefault();\n    }\n\n    function addPointer(event) {\n      pointers.push(event);\n    }\n\n    function removePointer(event) {\n      delete pointerPositions[event.pointerId];\n\n      for (var i = 0; i < pointers.length; i++) {\n        if (pointers[i].pointerId == event.pointerId) {\n          pointers.splice(i, 1);\n          return;\n        }\n      }\n    }\n\n    function trackPointer(event) {\n      var position = pointerPositions[event.pointerId];\n\n      if (position === undefined) {\n        position = new Vector2();\n        pointerPositions[event.pointerId] = position;\n      }\n\n      position.set(event.pageX, event.pageY);\n    }\n\n    function getSecondPointerPosition(event) {\n      var pointer = event.pointerId === pointers[0].pointerId ? pointers[1] : pointers[0];\n      return pointerPositions[pointer.pointerId];\n    } //\n\n\n    scope.domElement.addEventListener('contextmenu', onContextMenu);\n    scope.domElement.addEventListener('pointerdown', onPointerDown);\n    scope.domElement.addEventListener('pointercancel', onPointerCancel);\n    scope.domElement.addEventListener('wheel', onMouseWheel, {\n      passive: false\n    }); // force an update at start\n\n    _this.update();\n\n    return _this;\n  }\n\n  return OrbitControls;\n}(EventDispatcher); // This set of controls performs orbiting, dollying (zooming), and panning.\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\n// This is very similar to OrbitControls, another set of touch behavior\n//\n//    Orbit - right mouse, or left mouse + ctrl/meta/shiftKey / touch: two-finger rotate\n//    Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\n//    Pan - left mouse, or arrow keys / touch: one-finger move\n\n\nvar MapControls = /*#__PURE__*/function (_OrbitControls) {\n  _inherits(MapControls, _OrbitControls);\n\n  var _super2 = _createSuper(MapControls);\n\n  function MapControls(object, domElement) {\n    var _this2;\n\n    _classCallCheck(this, MapControls);\n\n    _this2 = _super2.call(this, object, domElement);\n    _this2.screenSpacePanning = false; // pan orthogonal to world-space direction camera.up\n\n    _this2.mouseButtons.LEFT = MOUSE.PAN;\n    _this2.mouseButtons.RIGHT = MOUSE.ROTATE;\n    _this2.touches.ONE = TOUCH.PAN;\n    _this2.touches.TWO = TOUCH.DOLLY_ROTATE;\n    return _this2;\n  }\n\n  return MapControls;\n}(OrbitControls);\n\nexport { OrbitControls, MapControls };","import _classCallCheck from \"D:/Projects/Tennis/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:/Projects/Tennis/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"D:/Projects/Tennis/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"D:/Projects/Tennis/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:/Projects/Tennis/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport { Box3, InstancedInterleavedBuffer, InterleavedBufferAttribute, Line3, MathUtils, Matrix4, Mesh, Sphere, Vector3, Vector4 } from 'three';\nimport { LineSegmentsGeometry } from '../lines/LineSegmentsGeometry.js';\nimport { LineMaterial } from '../lines/LineMaterial.js';\n\nvar _start = new Vector3();\n\nvar _end = new Vector3();\n\nvar _start4 = new Vector4();\n\nvar _end4 = new Vector4();\n\nvar _ssOrigin = new Vector4();\n\nvar _ssOrigin3 = new Vector3();\n\nvar _mvMatrix = new Matrix4();\n\nvar _line = new Line3();\n\nvar _closestPoint = new Vector3();\n\nvar _box = new Box3();\n\nvar _sphere = new Sphere();\n\nvar _clipToWorldVector = new Vector4();\n\nvar LineSegments2 = /*#__PURE__*/function (_Mesh) {\n  _inherits(LineSegments2, _Mesh);\n\n  var _super = _createSuper(LineSegments2);\n\n  function LineSegments2() {\n    var _this;\n\n    var geometry = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : new LineSegmentsGeometry();\n    var material = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : new LineMaterial({\n      color: Math.random() * 0xffffff\n    });\n\n    _classCallCheck(this, LineSegments2);\n\n    _this = _super.call(this, geometry, material);\n    _this.type = 'LineSegments2';\n    return _this;\n  } // for backwards-compatability, but could be a method of LineSegmentsGeometry...\n\n\n  _createClass(LineSegments2, [{\n    key: \"computeLineDistances\",\n    value: function computeLineDistances() {\n      var geometry = this.geometry;\n      var instanceStart = geometry.attributes.instanceStart;\n      var instanceEnd = geometry.attributes.instanceEnd;\n      var lineDistances = new Float32Array(2 * instanceStart.count);\n\n      for (var i = 0, j = 0, l = instanceStart.count; i < l; i++, j += 2) {\n        _start.fromBufferAttribute(instanceStart, i);\n\n        _end.fromBufferAttribute(instanceEnd, i);\n\n        lineDistances[j] = j === 0 ? 0 : lineDistances[j - 1];\n        lineDistances[j + 1] = lineDistances[j] + _start.distanceTo(_end);\n      }\n\n      var instanceDistanceBuffer = new InstancedInterleavedBuffer(lineDistances, 2, 1); // d0, d1\n\n      geometry.setAttribute('instanceDistanceStart', new InterleavedBufferAttribute(instanceDistanceBuffer, 1, 0)); // d0\n\n      geometry.setAttribute('instanceDistanceEnd', new InterleavedBufferAttribute(instanceDistanceBuffer, 1, 1)); // d1\n\n      return this;\n    }\n  }, {\n    key: \"raycast\",\n    value: function raycast(raycaster, intersects) {\n      if (raycaster.camera === null) {\n        console.error('LineSegments2: \"Raycaster.camera\" needs to be set in order to raycast against LineSegments2.');\n      }\n\n      var threshold = raycaster.params.Line2 !== undefined ? raycaster.params.Line2.threshold || 0 : 0;\n      var ray = raycaster.ray;\n      var camera = raycaster.camera;\n      var projectionMatrix = camera.projectionMatrix;\n      var matrixWorld = this.matrixWorld;\n      var geometry = this.geometry;\n      var material = this.material;\n      var resolution = material.resolution;\n      var lineWidth = material.linewidth + threshold;\n      var instanceStart = geometry.attributes.instanceStart;\n      var instanceEnd = geometry.attributes.instanceEnd; // camera forward is negative\n\n      var near = -camera.near; // clip space is [ - 1, 1 ] so multiply by two to get the full\n      // width in clip space\n\n      var ssMaxWidth = 2.0 * Math.max(lineWidth / resolution.width, lineWidth / resolution.height); //\n      // check if we intersect the sphere bounds\n\n      if (geometry.boundingSphere === null) {\n        geometry.computeBoundingSphere();\n      }\n\n      _sphere.copy(geometry.boundingSphere).applyMatrix4(matrixWorld);\n\n      var distanceToSphere = Math.max(camera.near, _sphere.distanceToPoint(ray.origin)); // get the w component to scale the world space line width\n\n      _clipToWorldVector.set(0, 0, -distanceToSphere, 1.0).applyMatrix4(camera.projectionMatrix);\n\n      _clipToWorldVector.multiplyScalar(1.0 / _clipToWorldVector.w);\n\n      _clipToWorldVector.applyMatrix4(camera.projectionMatrixInverse); // increase the sphere bounds by the worst case line screen space width\n\n\n      var sphereMargin = Math.abs(ssMaxWidth / _clipToWorldVector.w) * 0.5;\n      _sphere.radius += sphereMargin;\n\n      if (raycaster.ray.intersectsSphere(_sphere) === false) {\n        return;\n      } //\n      // check if we intersect the box bounds\n\n\n      if (geometry.boundingBox === null) {\n        geometry.computeBoundingBox();\n      }\n\n      _box.copy(geometry.boundingBox).applyMatrix4(matrixWorld);\n\n      var distanceToBox = Math.max(camera.near, _box.distanceToPoint(ray.origin)); // get the w component to scale the world space line width\n\n      _clipToWorldVector.set(0, 0, -distanceToBox, 1.0).applyMatrix4(camera.projectionMatrix);\n\n      _clipToWorldVector.multiplyScalar(1.0 / _clipToWorldVector.w);\n\n      _clipToWorldVector.applyMatrix4(camera.projectionMatrixInverse); // increase the sphere bounds by the worst case line screen space width\n\n\n      var boxMargin = Math.abs(ssMaxWidth / _clipToWorldVector.w) * 0.5;\n      _box.max.x += boxMargin;\n      _box.max.y += boxMargin;\n      _box.max.z += boxMargin;\n      _box.min.x -= boxMargin;\n      _box.min.y -= boxMargin;\n      _box.min.z -= boxMargin;\n\n      if (raycaster.ray.intersectsBox(_box) === false) {\n        return;\n      } //\n      // pick a point 1 unit out along the ray to avoid the ray origin\n      // sitting at the camera origin which will cause \"w\" to be 0 when\n      // applying the projection matrix.\n\n\n      ray.at(1, _ssOrigin); // ndc space [ - 1.0, 1.0 ]\n\n      _ssOrigin.w = 1;\n\n      _ssOrigin.applyMatrix4(camera.matrixWorldInverse);\n\n      _ssOrigin.applyMatrix4(projectionMatrix);\n\n      _ssOrigin.multiplyScalar(1 / _ssOrigin.w); // screen space\n\n\n      _ssOrigin.x *= resolution.x / 2;\n      _ssOrigin.y *= resolution.y / 2;\n      _ssOrigin.z = 0;\n\n      _ssOrigin3.copy(_ssOrigin);\n\n      _mvMatrix.multiplyMatrices(camera.matrixWorldInverse, matrixWorld);\n\n      for (var i = 0, l = instanceStart.count; i < l; i++) {\n        _start4.fromBufferAttribute(instanceStart, i);\n\n        _end4.fromBufferAttribute(instanceEnd, i);\n\n        _start4.w = 1;\n        _end4.w = 1; // camera space\n\n        _start4.applyMatrix4(_mvMatrix);\n\n        _end4.applyMatrix4(_mvMatrix); // skip the segment if it's entirely behind the camera\n\n\n        var isBehindCameraNear = _start4.z > near && _end4.z > near;\n\n        if (isBehindCameraNear) {\n          continue;\n        } // trim the segment if it extends behind camera near\n\n\n        if (_start4.z > near) {\n          var deltaDist = _start4.z - _end4.z;\n          var t = (_start4.z - near) / deltaDist;\n\n          _start4.lerp(_end4, t);\n        } else if (_end4.z > near) {\n          var _deltaDist = _end4.z - _start4.z;\n\n          var _t = (_end4.z - near) / _deltaDist;\n\n          _end4.lerp(_start4, _t);\n        } // clip space\n\n\n        _start4.applyMatrix4(projectionMatrix);\n\n        _end4.applyMatrix4(projectionMatrix); // ndc space [ - 1.0, 1.0 ]\n\n\n        _start4.multiplyScalar(1 / _start4.w);\n\n        _end4.multiplyScalar(1 / _end4.w); // screen space\n\n\n        _start4.x *= resolution.x / 2;\n        _start4.y *= resolution.y / 2;\n        _end4.x *= resolution.x / 2;\n        _end4.y *= resolution.y / 2; // create 2d segment\n\n        _line.start.copy(_start4);\n\n        _line.start.z = 0;\n\n        _line.end.copy(_end4);\n\n        _line.end.z = 0; // get closest point on ray to segment\n\n        var param = _line.closestPointToPointParameter(_ssOrigin3, true);\n\n        _line.at(param, _closestPoint); // check if the intersection point is within clip space\n\n\n        var zPos = MathUtils.lerp(_start4.z, _end4.z, param);\n        var isInClipSpace = zPos >= -1 && zPos <= 1;\n        var isInside = _ssOrigin3.distanceTo(_closestPoint) < lineWidth * 0.5;\n\n        if (isInClipSpace && isInside) {\n          _line.start.fromBufferAttribute(instanceStart, i);\n\n          _line.end.fromBufferAttribute(instanceEnd, i);\n\n          _line.start.applyMatrix4(matrixWorld);\n\n          _line.end.applyMatrix4(matrixWorld);\n\n          var pointOnLine = new Vector3();\n          var point = new Vector3();\n          ray.distanceSqToSegment(_line.start, _line.end, point, pointOnLine);\n          intersects.push({\n            point: point,\n            pointOnLine: pointOnLine,\n            distance: ray.origin.distanceTo(point),\n            object: this,\n            face: null,\n            faceIndex: i,\n            uv: null,\n            uv2: null\n          });\n        }\n      }\n    }\n  }]);\n\n  return LineSegments2;\n}(Mesh);\n\nLineSegments2.prototype.LineSegments2 = true;\nexport { LineSegments2 };","import _classCallCheck from \"D:/Projects/Tennis/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _inherits from \"D:/Projects/Tennis/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"D:/Projects/Tennis/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:/Projects/Tennis/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport { LineSegments2 } from '../lines/LineSegments2.js';\nimport { LineGeometry } from '../lines/LineGeometry.js';\nimport { LineMaterial } from '../lines/LineMaterial.js';\n\nvar Line2 = /*#__PURE__*/function (_LineSegments) {\n  _inherits(Line2, _LineSegments);\n\n  var _super = _createSuper(Line2);\n\n  function Line2() {\n    var _this;\n\n    var geometry = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : new LineGeometry();\n    var material = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : new LineMaterial({\n      color: Math.random() * 0xffffff\n    });\n\n    _classCallCheck(this, Line2);\n\n    _this = _super.call(this, geometry, material);\n    _this.type = 'Line2';\n    return _this;\n  }\n\n  return Line2;\n}(LineSegments2);\n\nLine2.prototype.isLine2 = true;\nexport { Line2 };","import _classCallCheck from \"D:/Projects/Tennis/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:/Projects/Tennis/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _get from \"D:/Projects/Tennis/node_modules/@babel/runtime/helpers/esm/get\";\nimport _inherits from \"D:/Projects/Tennis/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"D:/Projects/Tennis/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:/Projects/Tennis/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport { LineSegmentsGeometry } from '../lines/LineSegmentsGeometry.js';\n\nvar LineGeometry = /*#__PURE__*/function (_LineSegmentsGeometry) {\n  _inherits(LineGeometry, _LineSegmentsGeometry);\n\n  var _super = _createSuper(LineGeometry);\n\n  function LineGeometry() {\n    var _this;\n\n    _classCallCheck(this, LineGeometry);\n\n    _this = _super.call(this);\n    _this.type = 'LineGeometry';\n    return _this;\n  }\n\n  _createClass(LineGeometry, [{\n    key: \"setPositions\",\n    value: function setPositions(array) {\n      // converts [ x1, y1, z1,  x2, y2, z2, ... ] to pairs format\n      var length = array.length - 3;\n      var points = new Float32Array(2 * length);\n\n      for (var i = 0; i < length; i += 3) {\n        points[2 * i] = array[i];\n        points[2 * i + 1] = array[i + 1];\n        points[2 * i + 2] = array[i + 2];\n        points[2 * i + 3] = array[i + 3];\n        points[2 * i + 4] = array[i + 4];\n        points[2 * i + 5] = array[i + 5];\n      }\n\n      _get(_getPrototypeOf(LineGeometry.prototype), \"setPositions\", this).call(this, points);\n\n      return this;\n    }\n  }, {\n    key: \"setColors\",\n    value: function setColors(array) {\n      // converts [ r1, g1, b1,  r2, g2, b2, ... ] to pairs format\n      var length = array.length - 3;\n      var colors = new Float32Array(2 * length);\n\n      for (var i = 0; i < length; i += 3) {\n        colors[2 * i] = array[i];\n        colors[2 * i + 1] = array[i + 1];\n        colors[2 * i + 2] = array[i + 2];\n        colors[2 * i + 3] = array[i + 3];\n        colors[2 * i + 4] = array[i + 4];\n        colors[2 * i + 5] = array[i + 5];\n      }\n\n      _get(_getPrototypeOf(LineGeometry.prototype), \"setColors\", this).call(this, colors);\n\n      return this;\n    }\n  }, {\n    key: \"fromLine\",\n    value: function fromLine(line) {\n      var geometry = line.geometry;\n\n      if (geometry.isGeometry) {\n        console.error('THREE.LineGeometry no longer supports Geometry. Use THREE.BufferGeometry instead.');\n        return;\n      } else if (geometry.isBufferGeometry) {\n        this.setPositions(geometry.attributes.position.array); // assumes non-indexed\n      } // set colors, maybe\n\n\n      return this;\n    }\n  }]);\n\n  return LineGeometry;\n}(LineSegmentsGeometry);\n\nLineGeometry.prototype.isLineGeometry = true;\nexport { LineGeometry };","import _classCallCheck from \"D:/Projects/Tennis/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _assertThisInitialized from \"D:/Projects/Tennis/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"D:/Projects/Tennis/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"D:/Projects/Tennis/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:/Projects/Tennis/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport { ShaderLib, ShaderMaterial, UniformsLib, UniformsUtils, Vector2 } from 'three';\n/**\n * parameters = {\n *  color: <hex>,\n *  linewidth: <float>,\n *  dashed: <boolean>,\n *  dashScale: <float>,\n *  dashSize: <float>,\n *  dashOffset: <float>,\n *  gapSize: <float>,\n *  resolution: <Vector2>, // to be set by renderer\n * }\n */\n\nUniformsLib.line = {\n  linewidth: {\n    value: 1\n  },\n  resolution: {\n    value: new Vector2(1, 1)\n  },\n  dashScale: {\n    value: 1\n  },\n  dashSize: {\n    value: 1\n  },\n  dashOffset: {\n    value: 0\n  },\n  gapSize: {\n    value: 1\n  },\n  // todo FIX - maybe change to totalSize\n  opacity: {\n    value: 1\n  }\n};\nShaderLib['line'] = {\n  uniforms: UniformsUtils.merge([UniformsLib.common, UniformsLib.fog, UniformsLib.line]),\n  vertexShader:\n  /* glsl */\n  \"\\n\\t\\t#include <common>\\n\\t\\t#include <color_pars_vertex>\\n\\t\\t#include <fog_pars_vertex>\\n\\t\\t#include <logdepthbuf_pars_vertex>\\n\\t\\t#include <clipping_planes_pars_vertex>\\n\\n\\t\\tuniform float linewidth;\\n\\t\\tuniform vec2 resolution;\\n\\n\\t\\tattribute vec3 instanceStart;\\n\\t\\tattribute vec3 instanceEnd;\\n\\n\\t\\tattribute vec3 instanceColorStart;\\n\\t\\tattribute vec3 instanceColorEnd;\\n\\n\\t\\tvarying vec2 vUv;\\n\\n\\t\\t#ifdef USE_DASH\\n\\n\\t\\t\\tuniform float dashScale;\\n\\t\\t\\tattribute float instanceDistanceStart;\\n\\t\\t\\tattribute float instanceDistanceEnd;\\n\\t\\t\\tvarying float vLineDistance;\\n\\n\\t\\t#endif\\n\\n\\t\\tvoid trimSegment( const in vec4 start, inout vec4 end ) {\\n\\n\\t\\t\\t// trim end segment so it terminates between the camera plane and the near plane\\n\\n\\t\\t\\t// conservative estimate of the near plane\\n\\t\\t\\tfloat a = projectionMatrix[ 2 ][ 2 ]; // 3nd entry in 3th column\\n\\t\\t\\tfloat b = projectionMatrix[ 3 ][ 2 ]; // 3nd entry in 4th column\\n\\t\\t\\tfloat nearEstimate = - 0.5 * b / a;\\n\\n\\t\\t\\tfloat alpha = ( nearEstimate - start.z ) / ( end.z - start.z );\\n\\n\\t\\t\\tend.xyz = mix( start.xyz, end.xyz, alpha );\\n\\n\\t\\t}\\n\\n\\t\\tvoid main() {\\n\\n\\t\\t\\t#ifdef USE_COLOR\\n\\n\\t\\t\\t\\tvColor.xyz = ( position.y < 0.5 ) ? instanceColorStart : instanceColorEnd;\\n\\n\\t\\t\\t#endif\\n\\n\\t\\t\\t#ifdef USE_DASH\\n\\n\\t\\t\\t\\tvLineDistance = ( position.y < 0.5 ) ? dashScale * instanceDistanceStart : dashScale * instanceDistanceEnd;\\n\\n\\t\\t\\t#endif\\n\\n\\t\\t\\tfloat aspect = resolution.x / resolution.y;\\n\\n\\t\\t\\tvUv = uv;\\n\\n\\t\\t\\t// camera space\\n\\t\\t\\tvec4 start = modelViewMatrix * vec4( instanceStart, 1.0 );\\n\\t\\t\\tvec4 end = modelViewMatrix * vec4( instanceEnd, 1.0 );\\n\\n\\t\\t\\t// special case for perspective projection, and segments that terminate either in, or behind, the camera plane\\n\\t\\t\\t// clearly the gpu firmware has a way of addressing this issue when projecting into ndc space\\n\\t\\t\\t// but we need to perform ndc-space calculations in the shader, so we must address this issue directly\\n\\t\\t\\t// perhaps there is a more elegant solution -- WestLangley\\n\\n\\t\\t\\tbool perspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 ); // 4th entry in the 3rd column\\n\\n\\t\\t\\tif ( perspective ) {\\n\\n\\t\\t\\t\\tif ( start.z < 0.0 && end.z >= 0.0 ) {\\n\\n\\t\\t\\t\\t\\ttrimSegment( start, end );\\n\\n\\t\\t\\t\\t} else if ( end.z < 0.0 && start.z >= 0.0 ) {\\n\\n\\t\\t\\t\\t\\ttrimSegment( end, start );\\n\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t}\\n\\n\\t\\t\\t// clip space\\n\\t\\t\\tvec4 clipStart = projectionMatrix * start;\\n\\t\\t\\tvec4 clipEnd = projectionMatrix * end;\\n\\n\\t\\t\\t// ndc space\\n\\t\\t\\tvec2 ndcStart = clipStart.xy / clipStart.w;\\n\\t\\t\\tvec2 ndcEnd = clipEnd.xy / clipEnd.w;\\n\\n\\t\\t\\t// direction\\n\\t\\t\\tvec2 dir = ndcEnd - ndcStart;\\n\\n\\t\\t\\t// account for clip-space aspect ratio\\n\\t\\t\\tdir.x *= aspect;\\n\\t\\t\\tdir = normalize( dir );\\n\\n\\t\\t\\t// perpendicular to dir\\n\\t\\t\\tvec2 offset = vec2( dir.y, - dir.x );\\n\\n\\t\\t\\t// undo aspect ratio adjustment\\n\\t\\t\\tdir.x /= aspect;\\n\\t\\t\\toffset.x /= aspect;\\n\\n\\t\\t\\t// sign flip\\n\\t\\t\\tif ( position.x < 0.0 ) offset *= - 1.0;\\n\\n\\t\\t\\t// endcaps\\n\\t\\t\\tif ( position.y < 0.0 ) {\\n\\n\\t\\t\\t\\toffset += - dir;\\n\\n\\t\\t\\t} else if ( position.y > 1.0 ) {\\n\\n\\t\\t\\t\\toffset += dir;\\n\\n\\t\\t\\t}\\n\\n\\t\\t\\t// adjust for linewidth\\n\\t\\t\\toffset *= linewidth;\\n\\n\\t\\t\\t// adjust for clip-space to screen-space conversion // maybe resolution should be based on viewport ...\\n\\t\\t\\toffset /= resolution.y;\\n\\n\\t\\t\\t// select end\\n\\t\\t\\tvec4 clip = ( position.y < 0.5 ) ? clipStart : clipEnd;\\n\\n\\t\\t\\t// back to clip space\\n\\t\\t\\toffset *= clip.w;\\n\\n\\t\\t\\tclip.xy += offset;\\n\\n\\t\\t\\tgl_Position = clip;\\n\\n\\t\\t\\tvec4 mvPosition = ( position.y < 0.5 ) ? start : end; // this is an approximation\\n\\n\\t\\t\\t#include <logdepthbuf_vertex>\\n\\t\\t\\t#include <clipping_planes_vertex>\\n\\t\\t\\t#include <fog_vertex>\\n\\n\\t\\t}\",\n  fragmentShader:\n  /* glsl */\n  \"\\n\\t\\tuniform vec3 diffuse;\\n\\t\\tuniform float opacity;\\n\\n\\t\\t#ifdef USE_DASH\\n\\n\\t\\t\\tuniform float dashSize;\\n\\t\\t\\tuniform float dashOffset;\\n\\t\\t\\tuniform float gapSize;\\n\\n\\t\\t#endif\\n\\n\\t\\tvarying float vLineDistance;\\n\\n\\t\\t#include <common>\\n\\t\\t#include <color_pars_fragment>\\n\\t\\t#include <fog_pars_fragment>\\n\\t\\t#include <logdepthbuf_pars_fragment>\\n\\t\\t#include <clipping_planes_pars_fragment>\\n\\n\\t\\tvarying vec2 vUv;\\n\\n\\t\\tvoid main() {\\n\\n\\t\\t\\t#include <clipping_planes_fragment>\\n\\n\\t\\t\\t#ifdef USE_DASH\\n\\n\\t\\t\\t\\tif ( vUv.y < - 1.0 || vUv.y > 1.0 ) discard; // discard endcaps\\n\\n\\t\\t\\t\\tif ( mod( vLineDistance + dashOffset, dashSize + gapSize ) > dashSize ) discard; // todo - FIX\\n\\n\\t\\t\\t#endif\\n\\n\\t\\t\\tfloat alpha = 1.0;\\n\\n\\t\\t\\t#ifdef ALPHA_TO_COVERAGE\\n\\n\\t\\t\\t// artifacts appear on some hardware if a derivative is taken within a conditional\\n\\t\\t\\tfloat a = vUv.x;\\n\\t\\t\\tfloat b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;\\n\\t\\t\\tfloat len2 = a * a + b * b;\\n\\t\\t\\tfloat dlen = fwidth( len2 );\\n\\n\\t\\t\\tif ( abs( vUv.y ) > 1.0 ) {\\n\\n\\t\\t\\t\\talpha = 1.0 - smoothstep( 1.0 - dlen, 1.0 + dlen, len2 );\\n\\n\\t\\t\\t}\\n\\n\\t\\t\\t#else\\n\\n\\t\\t\\tif ( abs( vUv.y ) > 1.0 ) {\\n\\n\\t\\t\\t\\tfloat a = vUv.x;\\n\\t\\t\\t\\tfloat b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;\\n\\t\\t\\t\\tfloat len2 = a * a + b * b;\\n\\n\\t\\t\\t\\tif ( len2 > 1.0 ) discard;\\n\\n\\t\\t\\t}\\n\\n\\t\\t\\t#endif\\n\\n\\t\\t\\tvec4 diffuseColor = vec4( diffuse, opacity * alpha );\\n\\n\\t\\t\\t#include <logdepthbuf_fragment>\\n\\t\\t\\t#include <color_fragment>\\n\\n\\t\\t\\tgl_FragColor = diffuseColor;\\n\\n\\t\\t\\t#include <tonemapping_fragment>\\n\\t\\t\\t#include <encodings_fragment>\\n\\t\\t\\t#include <fog_fragment>\\n\\t\\t\\t#include <premultiplied_alpha_fragment>\\n\\n\\t\\t}\"\n};\n\nvar LineMaterial = /*#__PURE__*/function (_ShaderMaterial) {\n  _inherits(LineMaterial, _ShaderMaterial);\n\n  var _super = _createSuper(LineMaterial);\n\n  function LineMaterial(parameters) {\n    var _this;\n\n    _classCallCheck(this, LineMaterial);\n\n    _this = _super.call(this, {\n      type: 'LineMaterial',\n      uniforms: UniformsUtils.clone(ShaderLib['line'].uniforms),\n      vertexShader: ShaderLib['line'].vertexShader,\n      fragmentShader: ShaderLib['line'].fragmentShader,\n      clipping: true // required for clipping support\n\n    });\n    Object.defineProperties(_assertThisInitialized(_this), {\n      color: {\n        enumerable: true,\n        get: function get() {\n          return this.uniforms.diffuse.value;\n        },\n        set: function set(value) {\n          this.uniforms.diffuse.value = value;\n        }\n      },\n      linewidth: {\n        enumerable: true,\n        get: function get() {\n          return this.uniforms.linewidth.value;\n        },\n        set: function set(value) {\n          this.uniforms.linewidth.value = value;\n        }\n      },\n      dashed: {\n        enumerable: true,\n        get: function get() {\n          return Boolean('USE_DASH' in this.defines);\n        },\n        set: function set(value) {\n          if (Boolean(value) !== Boolean('USE_DASH' in this.defines)) {\n            this.needsUpdate = true;\n          }\n\n          if (value === true) {\n            this.defines.USE_DASH = '';\n          } else {\n            delete this.defines.USE_DASH;\n          }\n        }\n      },\n      dashScale: {\n        enumerable: true,\n        get: function get() {\n          return this.uniforms.dashScale.value;\n        },\n        set: function set(value) {\n          this.uniforms.dashScale.value = value;\n        }\n      },\n      dashSize: {\n        enumerable: true,\n        get: function get() {\n          return this.uniforms.dashSize.value;\n        },\n        set: function set(value) {\n          this.uniforms.dashSize.value = value;\n        }\n      },\n      dashOffset: {\n        enumerable: true,\n        get: function get() {\n          return this.uniforms.dashOffset.value;\n        },\n        set: function set(value) {\n          this.uniforms.dashOffset.value = value;\n        }\n      },\n      gapSize: {\n        enumerable: true,\n        get: function get() {\n          return this.uniforms.gapSize.value;\n        },\n        set: function set(value) {\n          this.uniforms.gapSize.value = value;\n        }\n      },\n      opacity: {\n        enumerable: true,\n        get: function get() {\n          return this.uniforms.opacity.value;\n        },\n        set: function set(value) {\n          this.uniforms.opacity.value = value;\n        }\n      },\n      resolution: {\n        enumerable: true,\n        get: function get() {\n          return this.uniforms.resolution.value;\n        },\n        set: function set(value) {\n          this.uniforms.resolution.value.copy(value);\n        }\n      },\n      alphaToCoverage: {\n        enumerable: true,\n        get: function get() {\n          return Boolean('ALPHA_TO_COVERAGE' in this.defines);\n        },\n        set: function set(value) {\n          if (Boolean(value) !== Boolean('ALPHA_TO_COVERAGE' in this.defines)) {\n            this.needsUpdate = true;\n          }\n\n          if (value === true) {\n            this.defines.ALPHA_TO_COVERAGE = '';\n            this.extensions.derivatives = true;\n          } else {\n            delete this.defines.ALPHA_TO_COVERAGE;\n            this.extensions.derivatives = false;\n          }\n        }\n      }\n    });\n\n    _this.setValues(parameters);\n\n    return _this;\n  }\n\n  return LineMaterial;\n}(ShaderMaterial);\n\nLineMaterial.prototype.isLineMaterial = true;\nexport { LineMaterial };","import _classCallCheck from \"D:/Projects/Tennis/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:/Projects/Tennis/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"D:/Projects/Tennis/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"D:/Projects/Tennis/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:/Projects/Tennis/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport { Box3, Float32BufferAttribute, InstancedBufferGeometry, InstancedInterleavedBuffer, InterleavedBufferAttribute, Sphere, Vector3, WireframeGeometry } from 'three';\n\nvar _box = new Box3();\n\nvar _vector = new Vector3();\n\nvar LineSegmentsGeometry = /*#__PURE__*/function (_InstancedBufferGeome) {\n  _inherits(LineSegmentsGeometry, _InstancedBufferGeome);\n\n  var _super = _createSuper(LineSegmentsGeometry);\n\n  function LineSegmentsGeometry() {\n    var _this;\n\n    _classCallCheck(this, LineSegmentsGeometry);\n\n    _this = _super.call(this);\n    _this.type = 'LineSegmentsGeometry';\n    var positions = [-1, 2, 0, 1, 2, 0, -1, 1, 0, 1, 1, 0, -1, 0, 0, 1, 0, 0, -1, -1, 0, 1, -1, 0];\n    var uvs = [-1, 2, 1, 2, -1, 1, 1, 1, -1, -1, 1, -1, -1, -2, 1, -2];\n    var index = [0, 2, 1, 2, 3, 1, 2, 4, 3, 4, 5, 3, 4, 6, 5, 6, 7, 5];\n\n    _this.setIndex(index);\n\n    _this.setAttribute('position', new Float32BufferAttribute(positions, 3));\n\n    _this.setAttribute('uv', new Float32BufferAttribute(uvs, 2));\n\n    return _this;\n  }\n\n  _createClass(LineSegmentsGeometry, [{\n    key: \"applyMatrix4\",\n    value: function applyMatrix4(matrix) {\n      var start = this.attributes.instanceStart;\n      var end = this.attributes.instanceEnd;\n\n      if (start !== undefined) {\n        start.applyMatrix4(matrix);\n        end.applyMatrix4(matrix);\n        start.needsUpdate = true;\n      }\n\n      if (this.boundingBox !== null) {\n        this.computeBoundingBox();\n      }\n\n      if (this.boundingSphere !== null) {\n        this.computeBoundingSphere();\n      }\n\n      return this;\n    }\n  }, {\n    key: \"setPositions\",\n    value: function setPositions(array) {\n      var lineSegments;\n\n      if (array instanceof Float32Array) {\n        lineSegments = array;\n      } else if (Array.isArray(array)) {\n        lineSegments = new Float32Array(array);\n      }\n\n      var instanceBuffer = new InstancedInterleavedBuffer(lineSegments, 6, 1); // xyz, xyz\n\n      this.setAttribute('instanceStart', new InterleavedBufferAttribute(instanceBuffer, 3, 0)); // xyz\n\n      this.setAttribute('instanceEnd', new InterleavedBufferAttribute(instanceBuffer, 3, 3)); // xyz\n      //\n\n      this.computeBoundingBox();\n      this.computeBoundingSphere();\n      return this;\n    }\n  }, {\n    key: \"setColors\",\n    value: function setColors(array) {\n      var colors;\n\n      if (array instanceof Float32Array) {\n        colors = array;\n      } else if (Array.isArray(array)) {\n        colors = new Float32Array(array);\n      }\n\n      var instanceColorBuffer = new InstancedInterleavedBuffer(colors, 6, 1); // rgb, rgb\n\n      this.setAttribute('instanceColorStart', new InterleavedBufferAttribute(instanceColorBuffer, 3, 0)); // rgb\n\n      this.setAttribute('instanceColorEnd', new InterleavedBufferAttribute(instanceColorBuffer, 3, 3)); // rgb\n\n      return this;\n    }\n  }, {\n    key: \"fromWireframeGeometry\",\n    value: function fromWireframeGeometry(geometry) {\n      this.setPositions(geometry.attributes.position.array);\n      return this;\n    }\n  }, {\n    key: \"fromEdgesGeometry\",\n    value: function fromEdgesGeometry(geometry) {\n      this.setPositions(geometry.attributes.position.array);\n      return this;\n    }\n  }, {\n    key: \"fromMesh\",\n    value: function fromMesh(mesh) {\n      this.fromWireframeGeometry(new WireframeGeometry(mesh.geometry)); // set colors, maybe\n\n      return this;\n    }\n  }, {\n    key: \"fromLineSegments\",\n    value: function fromLineSegments(lineSegments) {\n      var geometry = lineSegments.geometry;\n\n      if (geometry.isGeometry) {\n        console.error('THREE.LineSegmentsGeometry no longer supports Geometry. Use THREE.BufferGeometry instead.');\n        return;\n      } else if (geometry.isBufferGeometry) {\n        this.setPositions(geometry.attributes.position.array); // assumes non-indexed\n      } // set colors, maybe\n\n\n      return this;\n    }\n  }, {\n    key: \"computeBoundingBox\",\n    value: function computeBoundingBox() {\n      if (this.boundingBox === null) {\n        this.boundingBox = new Box3();\n      }\n\n      var start = this.attributes.instanceStart;\n      var end = this.attributes.instanceEnd;\n\n      if (start !== undefined && end !== undefined) {\n        this.boundingBox.setFromBufferAttribute(start);\n\n        _box.setFromBufferAttribute(end);\n\n        this.boundingBox.union(_box);\n      }\n    }\n  }, {\n    key: \"computeBoundingSphere\",\n    value: function computeBoundingSphere() {\n      if (this.boundingSphere === null) {\n        this.boundingSphere = new Sphere();\n      }\n\n      if (this.boundingBox === null) {\n        this.computeBoundingBox();\n      }\n\n      var start = this.attributes.instanceStart;\n      var end = this.attributes.instanceEnd;\n\n      if (start !== undefined && end !== undefined) {\n        var center = this.boundingSphere.center;\n        this.boundingBox.getCenter(center);\n        var maxRadiusSq = 0;\n\n        for (var i = 0, il = start.count; i < il; i++) {\n          _vector.fromBufferAttribute(start, i);\n\n          maxRadiusSq = Math.max(maxRadiusSq, center.distanceToSquared(_vector));\n\n          _vector.fromBufferAttribute(end, i);\n\n          maxRadiusSq = Math.max(maxRadiusSq, center.distanceToSquared(_vector));\n        }\n\n        this.boundingSphere.radius = Math.sqrt(maxRadiusSq);\n\n        if (isNaN(this.boundingSphere.radius)) {\n          console.error('THREE.LineSegmentsGeometry.computeBoundingSphere(): Computed radius is NaN. The instanced position data is likely to have NaN values.', this);\n        }\n      }\n    }\n  }, {\n    key: \"toJSON\",\n    value: function toJSON() {// todo\n    }\n  }, {\n    key: \"applyMatrix\",\n    value: function applyMatrix(matrix) {\n      console.warn('THREE.LineSegmentsGeometry: applyMatrix() has been renamed to applyMatrix4().');\n      return this.applyMatrix4(matrix);\n    }\n  }]);\n\n  return LineSegmentsGeometry;\n}(InstancedBufferGeometry);\n\nLineSegmentsGeometry.prototype.isLineSegmentsGeometry = true;\nexport { LineSegmentsGeometry };","var isObject = require('../internals/is-object');\n\nmodule.exports = function (it) {\n  if (!isObject(it)) {\n    throw TypeError(String(it) + ' is not an object');\n  } return it;\n};\n","var toIndexedObject = require('../internals/to-indexed-object');\nvar toLength = require('../internals/to-length');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\n\n// `Array.prototype.{ indexOf, includes }` methods implementation\nvar createMethod = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIndexedObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare -- NaN check\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare -- NaN check\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) {\n      if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.includes` method\n  // https://tc39.es/ecma262/#sec-array.prototype.includes\n  includes: createMethod(true),\n  // `Array.prototype.indexOf` method\n  // https://tc39.es/ecma262/#sec-array.prototype.indexof\n  indexOf: createMethod(false)\n};\n","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n","var has = require('../internals/has');\nvar ownKeys = require('../internals/own-keys');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar definePropertyModule = require('../internals/object-define-property');\n\nmodule.exports = function (target, source) {\n  var keys = ownKeys(source);\n  var defineProperty = definePropertyModule.f;\n  var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    if (!has(target, key)) defineProperty(target, key, getOwnPropertyDescriptor(source, key));\n  }\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = DESCRIPTORS ? function (object, key, value) {\n  return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","var fails = require('../internals/fails');\n\n// Detect IE8's incomplete defineProperty implementation\nmodule.exports = !fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- required for testing\n  return Object.defineProperty({}, 1, { get: function () { return 7; } })[1] != 7;\n});\n","var global = require('../internals/global');\nvar isObject = require('../internals/is-object');\n\nvar document = global.document;\n// typeof document.createElement is 'object' in old IE\nvar EXISTS = isObject(document) && isObject(document.createElement);\n\nmodule.exports = function (it) {\n  return EXISTS ? document.createElement(it) : {};\n};\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('navigator', 'userAgent') || '';\n","var global = require('../internals/global');\nvar userAgent = require('../internals/engine-user-agent');\n\nvar process = global.process;\nvar Deno = global.Deno;\nvar versions = process && process.versions || Deno && Deno.version;\nvar v8 = versions && versions.v8;\nvar match, version;\n\nif (v8) {\n  match = v8.split('.');\n  version = match[0] < 4 ? 1 : match[0] + match[1];\n} else if (userAgent) {\n  match = userAgent.match(/Edge\\/(\\d+)/);\n  if (!match || match[1] >= 74) {\n    match = userAgent.match(/Chrome\\/(\\d+)/);\n    if (match) version = match[1];\n  }\n}\n\nmodule.exports = version && +version;\n","// IE8- don't enum bug keys\nmodule.exports = [\n  'constructor',\n  'hasOwnProperty',\n  'isPrototypeOf',\n  'propertyIsEnumerable',\n  'toLocaleString',\n  'toString',\n  'valueOf'\n];\n","var global = require('../internals/global');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar setGlobal = require('../internals/set-global');\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\nvar isForced = require('../internals/is-forced');\n\n/*\n  options.target      - name of the target object\n  options.global      - target is the global object\n  options.stat        - export as static methods of target\n  options.proto       - export as prototype methods of target\n  options.real        - real prototype method for the `pure` version\n  options.forced      - export even if the native feature is available\n  options.bind        - bind methods to the target, required for the `pure` version\n  options.wrap        - wrap constructors to preventing global pollution, required for the `pure` version\n  options.unsafe      - use the simple assignment of property instead of delete + defineProperty\n  options.sham        - add a flag to not completely full polyfills\n  options.enumerable  - export as enumerable property\n  options.noTargetGet - prevent calling a getter on target\n*/\nmodule.exports = function (options, source) {\n  var TARGET = options.target;\n  var GLOBAL = options.global;\n  var STATIC = options.stat;\n  var FORCED, target, key, targetProperty, sourceProperty, descriptor;\n  if (GLOBAL) {\n    target = global;\n  } else if (STATIC) {\n    target = global[TARGET] || setGlobal(TARGET, {});\n  } else {\n    target = (global[TARGET] || {}).prototype;\n  }\n  if (target) for (key in source) {\n    sourceProperty = source[key];\n    if (options.noTargetGet) {\n      descriptor = getOwnPropertyDescriptor(target, key);\n      targetProperty = descriptor && descriptor.value;\n    } else targetProperty = target[key];\n    FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);\n    // contained in target\n    if (!FORCED && targetProperty !== undefined) {\n      if (typeof sourceProperty === typeof targetProperty) continue;\n      copyConstructorProperties(sourceProperty, targetProperty);\n    }\n    // add a flag to not completely full polyfills\n    if (options.sham || (targetProperty && targetProperty.sham)) {\n      createNonEnumerableProperty(sourceProperty, 'sham', true);\n    }\n    // extend global\n    redefine(target, key, sourceProperty, options);\n  }\n};\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (error) {\n    return true;\n  }\n};\n","var global = require('../internals/global');\n\nvar aFunction = function (variable) {\n  return typeof variable == 'function' ? variable : undefined;\n};\n\nmodule.exports = function (namespace, method) {\n  return arguments.length < 2 ? aFunction(global[namespace]) : global[namespace] && global[namespace][method];\n};\n","var check = function (it) {\n  return it && it.Math == Math && it;\n};\n\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nmodule.exports =\n  // eslint-disable-next-line es/no-global-this -- safe\n  check(typeof globalThis == 'object' && globalThis) ||\n  check(typeof window == 'object' && window) ||\n  // eslint-disable-next-line no-restricted-globals -- safe\n  check(typeof self == 'object' && self) ||\n  check(typeof global == 'object' && global) ||\n  // eslint-disable-next-line no-new-func -- fallback\n  (function () { return this; })() || Function('return this')();\n","var toObject = require('../internals/to-object');\n\nvar hasOwnProperty = {}.hasOwnProperty;\n\nmodule.exports = Object.hasOwn || function hasOwn(it, key) {\n  return hasOwnProperty.call(toObject(it), key);\n};\n","module.exports = {};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar createElement = require('../internals/document-create-element');\n\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !DESCRIPTORS && !fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- requied for testing\n  return Object.defineProperty(createElement('div'), 'a', {\n    get: function () { return 7; }\n  }).a != 7;\n});\n","var fails = require('../internals/fails');\nvar classof = require('../internals/classof-raw');\n\nvar split = ''.split;\n\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nmodule.exports = fails(function () {\n  // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\n  // eslint-disable-next-line no-prototype-builtins -- safe\n  return !Object('z').propertyIsEnumerable(0);\n}) ? function (it) {\n  return classof(it) == 'String' ? split.call(it, '') : Object(it);\n} : Object;\n","var store = require('../internals/shared-store');\n\nvar functionToString = Function.toString;\n\n// this helper broken in `core-js@3.4.1-3.4.4`, so we can't use `shared` helper\nif (typeof store.inspectSource != 'function') {\n  store.inspectSource = function (it) {\n    return functionToString.call(it);\n  };\n}\n\nmodule.exports = store.inspectSource;\n","var NATIVE_WEAK_MAP = require('../internals/native-weak-map');\nvar global = require('../internals/global');\nvar isObject = require('../internals/is-object');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar objectHas = require('../internals/has');\nvar shared = require('../internals/shared-store');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar OBJECT_ALREADY_INITIALIZED = 'Object already initialized';\nvar WeakMap = global.WeakMap;\nvar set, get, has;\n\nvar enforce = function (it) {\n  return has(it) ? get(it) : set(it, {});\n};\n\nvar getterFor = function (TYPE) {\n  return function (it) {\n    var state;\n    if (!isObject(it) || (state = get(it)).type !== TYPE) {\n      throw TypeError('Incompatible receiver, ' + TYPE + ' required');\n    } return state;\n  };\n};\n\nif (NATIVE_WEAK_MAP || shared.state) {\n  var store = shared.state || (shared.state = new WeakMap());\n  var wmget = store.get;\n  var wmhas = store.has;\n  var wmset = store.set;\n  set = function (it, metadata) {\n    if (wmhas.call(store, it)) throw new TypeError(OBJECT_ALREADY_INITIALIZED);\n    metadata.facade = it;\n    wmset.call(store, it, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return wmget.call(store, it) || {};\n  };\n  has = function (it) {\n    return wmhas.call(store, it);\n  };\n} else {\n  var STATE = sharedKey('state');\n  hiddenKeys[STATE] = true;\n  set = function (it, metadata) {\n    if (objectHas(it, STATE)) throw new TypeError(OBJECT_ALREADY_INITIALIZED);\n    metadata.facade = it;\n    createNonEnumerableProperty(it, STATE, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return objectHas(it, STATE) ? it[STATE] : {};\n  };\n  has = function (it) {\n    return objectHas(it, STATE);\n  };\n}\n\nmodule.exports = {\n  set: set,\n  get: get,\n  has: has,\n  enforce: enforce,\n  getterFor: getterFor\n};\n","var fails = require('../internals/fails');\n\nvar replacement = /#|\\.prototype\\./;\n\nvar isForced = function (feature, detection) {\n  var value = data[normalize(feature)];\n  return value == POLYFILL ? true\n    : value == NATIVE ? false\n    : typeof detection == 'function' ? fails(detection)\n    : !!detection;\n};\n\nvar normalize = isForced.normalize = function (string) {\n  return String(string).replace(replacement, '.').toLowerCase();\n};\n\nvar data = isForced.data = {};\nvar NATIVE = isForced.NATIVE = 'N';\nvar POLYFILL = isForced.POLYFILL = 'P';\n\nmodule.exports = isForced;\n","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","module.exports = false;\n","var getBuiltIn = require('../internals/get-built-in');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nmodule.exports = USE_SYMBOL_AS_UID ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  var $Symbol = getBuiltIn('Symbol');\n  return typeof $Symbol == 'function' && Object(it) instanceof $Symbol;\n};\n","/* eslint-disable es/no-symbol -- required for testing */\nvar V8_VERSION = require('../internals/engine-v8-version');\nvar fails = require('../internals/fails');\n\n// eslint-disable-next-line es/no-object-getownpropertysymbols -- required for testing\nmodule.exports = !!Object.getOwnPropertySymbols && !fails(function () {\n  var symbol = Symbol();\n  // Chrome 38 Symbol has incorrect toString conversion\n  // `get-own-property-symbols` polyfill symbols converted to object are not Symbol instances\n  return !String(symbol) || !(Object(symbol) instanceof Symbol) ||\n    // Chrome 38-40 symbols are not inherited from DOM collections prototypes to instances\n    !Symbol.sham && V8_VERSION && V8_VERSION < 41;\n});\n","var global = require('../internals/global');\nvar inspectSource = require('../internals/inspect-source');\n\nvar WeakMap = global.WeakMap;\n\nmodule.exports = typeof WeakMap === 'function' && /native code/.test(inspectSource(WeakMap));\n","var DESCRIPTORS = require('../internals/descriptors');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\nvar anObject = require('../internals/an-object');\nvar toPropertyKey = require('../internals/to-property-key');\n\n// eslint-disable-next-line es/no-object-defineproperty -- safe\nvar $defineProperty = Object.defineProperty;\n\n// `Object.defineProperty` method\n// https://tc39.es/ecma262/#sec-object.defineproperty\nexports.f = DESCRIPTORS ? $defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPropertyKey(P);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return $defineProperty(O, P, Attributes);\n  } catch (error) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPropertyKey = require('../internals/to-property-key');\nvar has = require('../internals/has');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\n\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar $getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.es/ecma262/#sec-object.getownpropertydescriptor\nexports.f = DESCRIPTORS ? $getOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\n  O = toIndexedObject(O);\n  P = toPropertyKey(P);\n  if (IE8_DOM_DEFINE) try {\n    return $getOwnPropertyDescriptor(O, P);\n  } catch (error) { /* empty */ }\n  if (has(O, P)) return createPropertyDescriptor(!propertyIsEnumerableModule.f.call(O, P), O[P]);\n};\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\nvar hiddenKeys = enumBugKeys.concat('length', 'prototype');\n\n// `Object.getOwnPropertyNames` method\n// https://tc39.es/ecma262/#sec-object.getownpropertynames\n// eslint-disable-next-line es/no-object-getownpropertynames -- safe\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return internalObjectKeys(O, hiddenKeys);\n};\n","// eslint-disable-next-line es/no-object-getownpropertysymbols -- safe\nexports.f = Object.getOwnPropertySymbols;\n","var has = require('../internals/has');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar indexOf = require('../internals/array-includes').indexOf;\nvar hiddenKeys = require('../internals/hidden-keys');\n\nmodule.exports = function (object, names) {\n  var O = toIndexedObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) !has(hiddenKeys, key) && has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~indexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n","'use strict';\nvar $propertyIsEnumerable = {}.propertyIsEnumerable;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Nashorn ~ JDK8 bug\nvar NASHORN_BUG = getOwnPropertyDescriptor && !$propertyIsEnumerable.call({ 1: 2 }, 1);\n\n// `Object.prototype.propertyIsEnumerable` method implementation\n// https://tc39.es/ecma262/#sec-object.prototype.propertyisenumerable\nexports.f = NASHORN_BUG ? function propertyIsEnumerable(V) {\n  var descriptor = getOwnPropertyDescriptor(this, V);\n  return !!descriptor && descriptor.enumerable;\n} : $propertyIsEnumerable;\n","var isObject = require('../internals/is-object');\n\n// `OrdinaryToPrimitive` abstract operation\n// https://tc39.es/ecma262/#sec-ordinarytoprimitive\nmodule.exports = function (input, pref) {\n  var fn, val;\n  if (pref === 'string' && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (typeof (fn = input.valueOf) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (pref !== 'string' && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","var getBuiltIn = require('../internals/get-built-in');\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar anObject = require('../internals/an-object');\n\n// all object keys, includes non-enumerable and symbols\nmodule.exports = getBuiltIn('Reflect', 'ownKeys') || function ownKeys(it) {\n  var keys = getOwnPropertyNamesModule.f(anObject(it));\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  return getOwnPropertySymbols ? keys.concat(getOwnPropertySymbols(it)) : keys;\n};\n","var global = require('../internals/global');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar has = require('../internals/has');\nvar setGlobal = require('../internals/set-global');\nvar inspectSource = require('../internals/inspect-source');\nvar InternalStateModule = require('../internals/internal-state');\n\nvar getInternalState = InternalStateModule.get;\nvar enforceInternalState = InternalStateModule.enforce;\nvar TEMPLATE = String(String).split('String');\n\n(module.exports = function (O, key, value, options) {\n  var unsafe = options ? !!options.unsafe : false;\n  var simple = options ? !!options.enumerable : false;\n  var noTargetGet = options ? !!options.noTargetGet : false;\n  var state;\n  if (typeof value == 'function') {\n    if (typeof key == 'string' && !has(value, 'name')) {\n      createNonEnumerableProperty(value, 'name', key);\n    }\n    state = enforceInternalState(value);\n    if (!state.source) {\n      state.source = TEMPLATE.join(typeof key == 'string' ? key : '');\n    }\n  }\n  if (O === global) {\n    if (simple) O[key] = value;\n    else setGlobal(key, value);\n    return;\n  } else if (!unsafe) {\n    delete O[key];\n  } else if (!noTargetGet && O[key]) {\n    simple = true;\n  }\n  if (simple) O[key] = value;\n  else createNonEnumerableProperty(O, key, value);\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n})(Function.prototype, 'toString', function toString() {\n  return typeof this == 'function' && getInternalState(this).source || inspectSource(this);\n});\n","// `RequireObjectCoercible` abstract operation\n// https://tc39.es/ecma262/#sec-requireobjectcoercible\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on \" + it);\n  return it;\n};\n","var global = require('../internals/global');\n\nmodule.exports = function (key, value) {\n  try {\n    // eslint-disable-next-line es/no-object-defineproperty -- safe\n    Object.defineProperty(global, key, { value: value, configurable: true, writable: true });\n  } catch (error) {\n    global[key] = value;\n  } return value;\n};\n","var shared = require('../internals/shared');\nvar uid = require('../internals/uid');\n\nvar keys = shared('keys');\n\nmodule.exports = function (key) {\n  return keys[key] || (keys[key] = uid(key));\n};\n","var global = require('../internals/global');\nvar setGlobal = require('../internals/set-global');\n\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || setGlobal(SHARED, {});\n\nmodule.exports = store;\n","var IS_PURE = require('../internals/is-pure');\nvar store = require('../internals/shared-store');\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: '3.16.0',\n  mode: IS_PURE ? 'pure' : 'global',\n  copyright: ' 2021 Denis Pushkarev (zloirock.ru)'\n});\n","var fails = require('../internals/fails');\nvar whitespaces = require('../internals/whitespaces');\n\nvar non = '\\u200B\\u0085\\u180E';\n\n// check that a method works with the correct list\n// of whitespaces and has a correct name\nmodule.exports = function (METHOD_NAME) {\n  return fails(function () {\n    return !!whitespaces[METHOD_NAME]() || non[METHOD_NAME]() != non || whitespaces[METHOD_NAME].name !== METHOD_NAME;\n  });\n};\n","var requireObjectCoercible = require('../internals/require-object-coercible');\nvar toString = require('../internals/to-string');\nvar whitespaces = require('../internals/whitespaces');\n\nvar whitespace = '[' + whitespaces + ']';\nvar ltrim = RegExp('^' + whitespace + whitespace + '*');\nvar rtrim = RegExp(whitespace + whitespace + '*$');\n\n// `String.prototype.{ trim, trimStart, trimEnd, trimLeft, trimRight }` methods implementation\nvar createMethod = function (TYPE) {\n  return function ($this) {\n    var string = toString(requireObjectCoercible($this));\n    if (TYPE & 1) string = string.replace(ltrim, '');\n    if (TYPE & 2) string = string.replace(rtrim, '');\n    return string;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.{ trimLeft, trimStart }` methods\n  // https://tc39.es/ecma262/#sec-string.prototype.trimstart\n  start: createMethod(1),\n  // `String.prototype.{ trimRight, trimEnd }` methods\n  // https://tc39.es/ecma262/#sec-string.prototype.trimend\n  end: createMethod(2),\n  // `String.prototype.trim` method\n  // https://tc39.es/ecma262/#sec-string.prototype.trim\n  trim: createMethod(3)\n};\n","var toInteger = require('../internals/to-integer');\n\nvar max = Math.max;\nvar min = Math.min;\n\n// Helper for a popular repeating case of the spec:\n// Let integer be ? ToInteger(index).\n// If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).\nmodule.exports = function (index, length) {\n  var integer = toInteger(index);\n  return integer < 0 ? max(integer + length, 0) : min(integer, length);\n};\n","// toObject with fallback for non-array-like ES3 strings\nvar IndexedObject = require('../internals/indexed-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nmodule.exports = function (it) {\n  return IndexedObject(requireObjectCoercible(it));\n};\n","var ceil = Math.ceil;\nvar floor = Math.floor;\n\n// `ToInteger` abstract operation\n// https://tc39.es/ecma262/#sec-tointeger\nmodule.exports = function (argument) {\n  return isNaN(argument = +argument) ? 0 : (argument > 0 ? floor : ceil)(argument);\n};\n","var toInteger = require('../internals/to-integer');\n\nvar min = Math.min;\n\n// `ToLength` abstract operation\n// https://tc39.es/ecma262/#sec-tolength\nmodule.exports = function (argument) {\n  return argument > 0 ? min(toInteger(argument), 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991\n};\n","var requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `ToObject` abstract operation\n// https://tc39.es/ecma262/#sec-toobject\nmodule.exports = function (argument) {\n  return Object(requireObjectCoercible(argument));\n};\n","var isObject = require('../internals/is-object');\nvar isSymbol = require('../internals/is-symbol');\nvar ordinaryToPrimitive = require('../internals/ordinary-to-primitive');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_PRIMITIVE = wellKnownSymbol('toPrimitive');\n\n// `ToPrimitive` abstract operation\n// https://tc39.es/ecma262/#sec-toprimitive\nmodule.exports = function (input, pref) {\n  if (!isObject(input) || isSymbol(input)) return input;\n  var exoticToPrim = input[TO_PRIMITIVE];\n  var result;\n  if (exoticToPrim !== undefined) {\n    if (pref === undefined) pref = 'default';\n    result = exoticToPrim.call(input, pref);\n    if (!isObject(result) || isSymbol(result)) return result;\n    throw TypeError(\"Can't convert object to primitive value\");\n  }\n  if (pref === undefined) pref = 'number';\n  return ordinaryToPrimitive(input, pref);\n};\n","var toPrimitive = require('../internals/to-primitive');\nvar isSymbol = require('../internals/is-symbol');\n\n// `ToPropertyKey` abstract operation\n// https://tc39.es/ecma262/#sec-topropertykey\nmodule.exports = function (argument) {\n  var key = toPrimitive(argument, 'string');\n  return isSymbol(key) ? key : String(key);\n};\n","var isSymbol = require('../internals/is-symbol');\n\nmodule.exports = function (argument) {\n  if (isSymbol(argument)) throw TypeError('Cannot convert a Symbol value to a string');\n  return String(argument);\n};\n","var id = 0;\nvar postfix = Math.random();\n\nmodule.exports = function (key) {\n  return 'Symbol(' + String(key === undefined ? '' : key) + ')_' + (++id + postfix).toString(36);\n};\n","/* eslint-disable es/no-symbol -- required for testing */\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\n\nmodule.exports = NATIVE_SYMBOL\n  && !Symbol.sham\n  && typeof Symbol.iterator == 'symbol';\n","var global = require('../internals/global');\nvar shared = require('../internals/shared');\nvar has = require('../internals/has');\nvar uid = require('../internals/uid');\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nvar WellKnownSymbolsStore = shared('wks');\nvar Symbol = global.Symbol;\nvar createWellKnownSymbol = USE_SYMBOL_AS_UID ? Symbol : Symbol && Symbol.withoutSetter || uid;\n\nmodule.exports = function (name) {\n  if (!has(WellKnownSymbolsStore, name) || !(NATIVE_SYMBOL || typeof WellKnownSymbolsStore[name] == 'string')) {\n    if (NATIVE_SYMBOL && has(Symbol, name)) {\n      WellKnownSymbolsStore[name] = Symbol[name];\n    } else {\n      WellKnownSymbolsStore[name] = createWellKnownSymbol('Symbol.' + name);\n    }\n  } return WellKnownSymbolsStore[name];\n};\n","// a string of all valid unicode whitespaces\nmodule.exports = '\\u0009\\u000A\\u000B\\u000C\\u000D\\u0020\\u00A0\\u1680\\u2000\\u2001\\u2002' +\n  '\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n","'use strict';\nvar $ = require('../internals/export');\nvar $trimStart = require('../internals/string-trim').start;\nvar forcedStringTrimMethod = require('../internals/string-trim-forced');\n\nvar FORCED = forcedStringTrimMethod('trimStart');\n\nvar trimStart = FORCED ? function trimStart() {\n  return $trimStart(this);\n// eslint-disable-next-line es/no-string-prototype-trimstart-trimend -- safe\n} : ''.trimStart;\n\n// `String.prototype.{ trimStart, trimLeft }` methods\n// https://tc39.es/ecma262/#sec-string.prototype.trimstart\n// https://tc39.es/ecma262/#String.prototype.trimleft\n$({ target: 'String', proto: true, forced: FORCED }, {\n  trimStart: trimStart,\n  trimLeft: trimStart\n});\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport ColorPicker from \"./ColorPicker\";\r\nimport hexToRgb from \"../helpers/hexToRgb\";\r\nimport { renderBasketball, removeBasketball, renderMiddleLine } from \"../renderBasketball\";\r\nimport { renderPickleball, renderTwoPickleBallCourts, removePickleballFromScreen } from \"../renderPickleball\";\r\nimport { renderTennis } from \"../renderTennis\";\r\n\r\n\r\nexport default function AdditionalLines({defaultWidth, defaultLength, basketballLines, setBasketballLines, type, excludePositions,isBasketball}){\r\n\tlet [ lines, setLines ] = useState([0,0]);\r\n\tlet [ showPickleballSelector, setShowPickleballSelector ] = useState(false);\r\n\tlet [ showBasketballSelector, setShoBasketballSelector ] = useState(false);\r\n\tlet [ showMore, setShowMore ] = useState(false)\r\n\tlet [ tennisClicked, setTennisClicked ] = useState(false)\r\n\tlet handler = useRef(null)\r\n\t\r\n\tfunction onClick(e){\r\n\t\tlet pos = e.target.dataset.pos;\r\n\r\n\t\tif(Number(pos) === -1){\r\n\t\t\tsetShowPickleballSelector(true)\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tlet _lines = [...lines];\r\n\r\n\t\tif(_lines[pos] === 0){\r\n\t\t\t_lines[pos] = 1;\r\n\t\t}else{\r\n\t\t\t_lines[pos] = 0;\r\n\t\t}\r\n\r\n\t\tsetLines([..._lines])\r\n\t}\r\n\r\n\tfunction onClickTennis(){\r\n\r\n\t\tsetTennisClicked(!tennisClicked)\r\n\r\n\t\tif(!tennisClicked) renderTennis(defaultWidth, defaultLength, true)\r\n\t\telse {\r\n\t\t\twindow.scene.children = window.scene.children.filter(x => x.name !== 'plane' && x.name !== 'line')\r\n\t\t\twindow.renderer.render(window.scene, window.camera)\r\n\t\t}\r\n\t\t\r\n\t}\r\n\tfunction onClickBasketball(e){\r\n\t\tlet pos = e.target.dataset.pos\r\n\r\n\t\tif(Number(pos) === -1){\r\n\t\t\tsetShoBasketballSelector(true)\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tlet _lines = [...basketballLines];\r\n\t\tif(_lines[pos] === 0){\r\n\t\t\t_lines[pos] = 1;\r\n\t\t}else{\r\n\t\t\t_lines[pos] = 0;\r\n\t\t}\r\n\r\n\t\tif(basketballLines[1] === 1 && isBasketball){\r\n\t\t\trenderMiddleLine(defaultWidth, defaultLength, defaultLength/2 - 39.2, 13.57)\r\n\t\t}else if(basketballLines[1] === 0 && isBasketball){\r\n\t\t\twindow.scene.children = window.scene.children.filter(x => x.name !== 'middleLine')\r\n\t\t}\r\n\r\n\t\tsetBasketballLines([..._lines])\r\n\r\n\t}\r\n\tfunction onClickCustom(e){\r\n\t\tlet pos = e.target.dataset.pos;\r\n\t\tlet value = e.target.dataset.value;\r\n\r\n\t\tlet _lines = [...lines];\r\n\r\n\t\tif(_lines[pos] !== Number(value)){\r\n\t\t\t_lines[pos] = Number(value) ;\r\n\t\t}else{\r\n\t\t\t_lines[pos] = 0;\r\n\t\t}\r\n\r\n\r\n\t\tsetLines([..._lines])\t\r\n\t\tsetShowPickleballSelector(false)\r\n\t}\r\n\r\n\tfunction renderImage(){\r\n\t\tlet src = \"\";\r\n\r\n\t\tif(lines[1] === 1){\r\n\t\t\tsrc = \"/static/assets/images/pickleball-court-full.svg\"\r\n\t\t}else if(lines[1] === 0){\r\n\t\t\tsrc = \"/static/assets/images/pickleball-court.svg\"\r\n\t\t}else if(lines[1] === 2){\r\n\t\t\tsrc = \"/static/assets/images/two-pickleball-courts-full.svg\"\r\n\t\t}\r\n\r\n\t\treturn <img onClick={onClick} data-pos={-1} src={src} alt=\"pickleball\" title=\"Pickleball\" className={lines[1] === 2 ? 'top-15' : ''}/>\r\n\t}\r\n\r\n\tfunction hideOnOutsideClick(e){\t\r\n\r\n\t\tlet el = document.querySelector(\".select-basketball\")\r\n\r\n\t\tif(el){\r\n\t\t\tlet el = document.querySelector(\".select-basketball\")\r\n\r\n\t\t\tif(el.contains(e.target)) return false\r\n\r\n\t\t\tsetShowPickleballSelector(false)\r\n\t\t\tsetShoBasketballSelector(false)\r\n\t\t}else{\r\n\t\t\tsetShowPickleballSelector(false)\r\n\t\t\tsetShoBasketballSelector(false)\r\n\t\t}\r\n\r\n\t\twindow.removeEventListener(\"click\", handler.current)\r\n\t}\r\n\r\n\r\n\tfunction onChange(color, label, type){\r\n\t\tif(label === 'basketball'){\r\n\r\n\t\t\tlet children = window.scene.children.filter(x => x._id === 'basketballGroup')\r\n\r\n\t\t\tif(!children) return \r\n\r\n\t\t\tif(type === 'lines'){\r\n\r\n\t\t\t\tfor(let i = 0; i < children.length; i++){\r\n\t\t\t\t\tlet _children = children[i].children.filter(x => x._id === 'lineBasketball')\r\n\r\n\t\t\t\t\t_children.forEach(x =>{\r\n\t\t\t\t\t\tif(x.name !== 'surfaceBasketball') x.material.color = hexToRgb(color)\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\r\n\t\t\t\tfor(let i = 0; i < children.length; i++){\r\n\t\t\t\t\tlet _children = children[i].children.filter(x => x._id !== 'lineBasketball')\r\n\r\n\r\n\t\t\t\t\t_children.forEach(x =>{\r\n\t\t\t\t\t\tif(x.name === 'surfaceBasketball') {\r\n\t\t\t\t\t\t\tx.material.color = hexToRgb(color)\r\n\t\t\t\t\t\t\tx.material.transparent = false;\r\n\t\t\t\t\t\t\tx.material.opacity = 1;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}else{\r\n\t\t\tlet children = window.scene.children.filter(x => x._id === 'pickleballGroup')\r\n\r\n\t\t\tconsole.log(children)\r\n\t\t\tif(!children) return;\r\n\r\n\t\t\tif(type === 'lines'){\r\n\t\t\t\tfor(let i = 0; i < children.length; i++){\r\n\t\t\t\t\tlet _children = children[i].children.filter(x => x._id = 'linePickleball')\r\n\r\n\t\t\t\t\t_children.forEach(x =>{\r\n\t\t\t\t\t\tif(x.name !== 'surfacePickleball') x.material.color = hexToRgb(color)\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\tfor(let i = 0; i < children.length; i++){\r\n\t\t\t\t\tlet _children = children[i].children.filter(x => x._id = 'linePickleball')\r\n\r\n\r\n\t\t\t\t\t_children.forEach(x =>{\r\n\t\t\t\t\t\tif(x.name === 'surfacePickleball') {\r\n\t\t\t\t\t\t\tx.material.color = hexToRgb(color)\r\n\t\t\t\t\t\t\tx.material.transparent = false;\r\n\t\t\t\t\t\t\tx.material.opacity = 1;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect( () => {\r\n\t\tif(!handler.current) handler.current = hideOnOutsideClick\r\n\t}, [])\r\n\r\n\r\n\tuseEffect( () => {\r\n\t\tif(showPickleballSelector){\r\n\t\t\twindow.addEventListener(\"click\", handler.current)\r\n\t\t}\r\n\t}, [showPickleballSelector])\r\n\r\n\r\n\tuseEffect( () => {\r\n\t\tif(showBasketballSelector){\r\n\t\t\twindow.addEventListener(\"click\", handler.current)\r\n\t\t}\r\n\t}, [showBasketballSelector])\r\n\r\n\tuseEffect( () => {\r\n\t\tlet arr = [];\r\n\t\tlet removeFromScreen = [];\r\n\r\n\t\tif(basketballLines[0] === 0) removeFromScreen.push('left')\r\n\t\tif(basketballLines[1] === 0) removeFromScreen.push('top')\r\n\t\tif(basketballLines[2] === 0) removeFromScreen.push('right')\r\n\t\tif(basketballLines[3] === 0) removeFromScreen.push('top-middle')\r\n\t\tif(basketballLines[4] === 0) removeFromScreen.push('bottom-middle')\r\n\r\n\t\tremoveFromScreen.forEach(x => {\r\n\t\t\tremoveBasketball(x)\r\n\t\t})\r\n\r\n\t\tif(basketballLines[0] === 1) arr.push('left')\r\n\t\tif(basketballLines[1] === 1) arr.push('top')\r\n\t\tif(basketballLines[2] === 1) arr.push('right')\r\n\t\tif(basketballLines[3] === 1) arr.push('top-middle')\r\n\t\tif(basketballLines[4] === 1) arr.push('bottom-middle')\r\n\r\n\t\tarr.forEach(x => {\r\n\t\t\trenderBasketball(x, defaultWidth, defaultLength)\r\n\t\t})\r\n\r\n\t\tif(!window.renderer) return;\r\n\t\twindow.renderer.render(window.scene, window.camera)\r\n\t}, [basketballLines])\r\n\r\n\tuseEffect( () => {\r\n\t\tif(!window.renderer) return;\r\n\t\tremovePickleballFromScreen()\r\n\t\tif(lines[1] === 1) renderPickleball()\r\n\t\tif(lines[1] === 2) renderTwoPickleBallCourts()\r\n\r\n\t\twindow.renderer.render(window.scene, window.camera)\r\n\t}, [lines])\r\n\r\n\tfunction showMoreHandler(){\r\n\t\tsetShowMore(!showMore)\r\n\t}\r\n\r\n\treturn(\r\n\t\t<div className=\"img-cont left-right wrap\">\r\n\r\n\t\t\t{!showMore && <>\r\n\t\t\t\t<div className=\"lines-colorpicker-container\">\r\n\t\t\t\t\t<img onClick={onClickBasketball} data-pos={-1} src={basketballLines.includes(1) ? \"/static/assets/images/basketball-court-full.svg\" : \"/static/assets/images/basketball-court.svg\"} title=\"Basketball\" alt=\"basketball\" />\r\n\t\t\t\t\t<ColorPicker additionalOptions={true} label=\"basketball\" onChange={onChange} type={type} cc2=\"#ffffff\" cc=\"#055739\" />\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"lines-colorpicker-container\">\r\n\t\t\t\t\t{renderImage()}\r\n\t\t\t\t\t<ColorPicker additionalOptions={true} label=\"pickleball\" onChange={onChange} type={type} cc2=\"#ffffff\" cc=\"#055739\" />\r\n\t\t\t\t</div>\r\n\t\t\t\t</>\r\n\t\t\t}\r\n\r\n\t\t\t{showMore && \r\n\t\t\t<div className=\"lines-colorpicker-container\">\r\n\t\t\t\t<img onClick={onClickTennis} style={{marginBottom: '7px', height: '80px !important'}} src={tennisClicked ? \"/static/assets/images/tennis-court-show-full.png\" : \"/static/assets/images/tennis-court-show.png\"} />\r\n\t\t\t\t<ColorPicker additionalOptions={true} label=\"tennis\" onChange={onChange} type={type} cc2=\"#ffffff\" cc=\"#055739\" />\r\n\t\t\t</div>\t\r\n\t\t\t}\r\n\r\n\t\t\t<h4 style={{textAlign:'center', cursor:'pointer', marginBottom:0, width:'100%'}} onClick={showMoreHandler}>{!showMore ? 'SHOW MORE' : 'SHOW LESS'}</h4>\r\n\t\t\t\r\n\t\t\t{showPickleballSelector && \r\n\t\t\t\t<div className=\"select-pickleball select\">\r\n\t\t\t\t\t<img onClick={onClickCustom} data-pos={1} data-value={1} src={lines[1] === 1 ? \"/static/assets/images/pickleball-court-notext-full.svg\" : \"/static/assets/images/pickleball-court-notext.svg\"} alt=\"pickleball\" title=\"Pickleball\" />\r\n\t\t\t\t\t<img onClick={onClickCustom} data-pos={1} data-value={2} src={lines[1] === 2 ? \"/static/assets/images/two-pickleball-courts-notext-full.svg\" : \"/static/assets/images/two-pickleball-courts-notext.svg\"} alt=\"pickleball\" title=\"Two pickleball courts\" />\r\n\t\t\t\t</div>\r\n\t\t\t}\r\n\r\n\t\t\t{\r\n\t\t\t\tshowBasketballSelector && \r\n\t\t\t\t<div className=\"select-basketball select\">\r\n\t\t\t\t\t\t<img src=\"/static/assets/images/basketball-court-bg.png\" alt=\"bg\" className=\"basketball-court-bg\" />\r\n\t\t\t\t\t\t<img className=\"bl-left\" onClick={onClickBasketball} data-pos={0}  src={basketballLines[0] === 0 ? \"/static/assets/images/basketball-lines-left.png\" : \"/static/assets/images/basketball-lines-left-full.png\"} alt=\"basketball line\" title=\"Basketball line\" />\r\n\t\t\t\t\t\t<img style={excludePositions[3] ? {left:'50%'} : {}}className=\"bl-top\" onClick={onClickBasketball} data-pos={1} src={basketballLines[1] === 0 ? \"/static/assets/images/basketball-lines-top.png\" : \"/static/assets/images/basketball-lines-top-full.png\"} alt=\"basketball line\" title=\"Basketball line\" />\r\n\t\t\t\t\t\t<img className=\"bl-right\" onClick={onClickBasketball} data-pos={2}  src={basketballLines[2] === 0 ? \"/static/assets/images/basketball-lines-right.png\" : \"/static/assets/images/basketball-lines-right-full.png\"} alt=\"basketball line\" title=\"Basketball line\" />\r\n\t\t\t\t\t\t{!excludePositions[3] && \r\n\t\t\t\t\t\t<img className=\"bl-top-middle\" onClick={onClickBasketball} data-pos={3} src={basketballLines[3] === 0 ? \"/static/assets/images/basketball-lines-top.png\" : \"/static/assets/images/basketball-lines-top-full.png\"} alt=\"basketball line\" title=\"Basketball line\" /> }\r\n\r\n\t\t\t\t\t\t{!excludePositions[4] && \r\n\t\t\t\t\t\t<img className=\"bl-bottom-middle\" onClick={onClickBasketball} data-pos={4}  src={basketballLines[4] === 0 ? \"/static/assets/images/basketball-lines-bottom.png\" : \"/static/assets/images/basketball-lines-bottom-full.png\"} alt=\"basketball line\" title=\"Basketball line\" /> }\r\n\r\n\t\t\t\t</div>\t\t\t\t\r\n\t\t\t}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\n","import React, { useEffect, useState, useRef } from \"react\"\r\nimport \"../../public/static/assets/css/main.css\";\r\n\r\nconst Animated = () => {\r\n\r\n\r\n\tlet [width1, setWidth1 ] = useState(\"0%\");\r\n\tlet [width2, setWidth2 ] = useState(\"0%\");\r\n\tlet [width3, setWidth3 ] = useState(\"0%\");\r\n\tlet [width4, setWidth4 ] = useState(\"0%\");\r\n\tlet [width5, setWidth5 ] = useState(\"0%\");\r\n\r\n\tlet [height1, setHeight1 ] = useState(\"0%\");\r\n\tlet [height2, setHeight2 ] = useState(\"0%\");\r\n\tlet [height3, setHeight3 ] = useState(\"0%\");\r\n\tlet [height4, setHeight4 ] = useState(\"0%\");\r\n\tlet [height5, setHeight5 ] = useState(\"0%\");\r\n\r\n\tlet [goBack, setGoBack] = useState(false)\r\n\r\n\tlet timeOut = useRef(null)\r\n\tlet timeOut1 = useRef(null)\r\n\tlet timeOut2 = useRef(null)\r\n\tlet timeOut3 = useRef(null)\r\n\tlet timeOut4 = useRef(null)\r\n\tlet timeOut5 = useRef(null)\r\n\tlet timeOut6 = useRef(null)\r\n\tlet timeOut7 = useRef(null)\r\n\tlet timeOut8 = useRef(null)\r\n\r\n\tfunction changeColors(width, widthSpec, height, heightSpec){\r\n\r\n\t\tsetWidth1(width);\r\n\t\tsetWidth4(width)\r\n\t\ttimeOut.current = setTimeout( () => {\r\n\t\t\tsetWidth2(width);\r\n\t\t\tsetWidth3(width);\r\n\t\t\tsetHeight1(height);\r\n\t\t\tsetHeight2(height);\r\n\t\t}, 1000)\r\n\r\n\r\n\t\ttimeOut1.current = setTimeout( () => {\r\n\t\t\tsetHeight3(height)\r\n\t\t\tsetHeight4(heightSpec)\r\n\t\t\tsetHeight5(heightSpec)\r\n\t\t\tsetHeight5(heightSpec)\r\n\t\t\tsetWidth5(widthSpec)\r\n\t\t}, 2000)\r\n\t}\r\n\r\n\tuseEffect( () => {\r\n\t\tif(!goBack){\r\n\t\t\tchangeColors(\"100%\", \"53%\", \"100%\", \"75%\")\r\n\t\t}else{\r\n\t\t\tchangeColors(\"0%\", \"0%\", \"0%\", \"0%\")\r\n\t\t}\r\n\r\n\t\tsetTimeout( () => {\r\n\t\t\tif(!document.querySelector(\".loading-container\")) return;\r\n\t\t\tsetGoBack( () => !goBack)\r\n\t\t}, 3000)\r\n\t},[goBack])\r\n\r\n\tuseEffect( () => {\r\n\t\treturn () => {\r\n\t\t\tconsole.log('unmounted')\r\n\t\t\tclearTimeout(timeOut.current)\r\n\t\t\tclearTimeout(timeOut1.current)\r\n\t\t}\r\n\t}, [])\r\n\treturn(\r\n\t\t<div className=\"loading-container\">\r\n\t\t\t<div>\r\n\t\t\t\t<img src=\"https://courtsurfacespecialists.com/wp-content/uploads/2019/11/cropped-final_logo_colour-1.jpg\" width=\"100\" />\r\n\t\t\t\t<img style={{marginLeft:'15px'}} src=\"//cdn.shopify.com/s/files/1/1713/4277/files/new_logo_e1f9929b-5f20-4af7-92d2-696adae67032_410x.png?v=1539831396\" width=\"150px\" />\r\n\t\t\t</div>\r\n\t\t\r\n\t\t\t<div className=\"animation-parent\">\r\n\t\t\t\t<div className=\"horizontal-line anim-pos-1\"></div>\r\n\t\t\t\t<div className=\"horizontal-line anim-pos-1 index-1\" style={{width: width1}} ></div>\r\n\t\t\t\t<div className=\"horizontal-line anim-pos-2\"></div>\r\n\t\t\t\t<div className=\"horizontal-line anim-pos-2 index-2\" style={{width: width2}}></div>\r\n\t\t\t\t<div className=\"horizontal-line anim-pos-3\"></div>\r\n\t\t\t\t<div className=\"horizontal-line anim-pos-3 index-3\" style={{width: width3}}></div>\r\n\t\t\t\t<div className=\"horizontal-line anim-pos-4\"></div>\r\n\t\t\t\t<div className=\"horizontal-line anim-pos-4 index-4\" style={{width: width4}}></div>\r\n\t\t\t\t<div className=\"horizontal-line-2\"></div>\r\n\t\t\t\t<div className=\"horizontal-line-2 index-1\" style={{width: width5}}></div>\r\n\t\t\t\t<div className=\"vertical-line anim-pos-vertical-1\"></div>\r\n\t\t\t\t<div className=\"vertical-line anim-pos-vertical-1 index-1\" style={{height: height1}} ></div>\r\n\t\t\t\t<div className=\"vertical-line anim-pos-vertical-2\"></div>\r\n\t\t\t\t<div className=\"vertical-line anim-pos-vertical-2 index-1\" style={{height: height2}} ></div>\r\n\t\t\t\t<div className=\"vertical-line anim-pos-vertical-3\"></div>\r\n\t\t\t\t<div className=\"vertical-line anim-pos-vertical-3 index-1\" style={{height: height3}} ></div>\r\n\t\t\t\t<div className=\"vertical-line-2 anim-pos-vertical-4\"></div>\r\n\t\t\t\t<div className=\"vertical-line-2 anim-pos-vertical-4 index-1\" style={{height: height4}} ></div>\r\n\t\t\t\t<div className=\"vertical-line-2 anim-pos-vertical-5\"></div>\r\n\t\t\t\t<div className=\"vertical-line-2 anim-pos-vertical-5 index-1\" style={{height: height5}} ></div>\r\n\t\t\t</div>\r\n\t\t\t<p>Loading 3D Court Designer...</p>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Animated;","import React, { useState, useEffect, useRef } from \"react\";\r\nimport { removeBorder } from \"../renderTennis\";\r\nimport { changeFencePositions } from \"../render3DElements\";\r\n\r\n//((?<=(\\:+\\s))(\\#.+(?=\"))) \r\n\r\nexport default function ColorPicker({type, additionalOptions, onChange, label, addWhite, cc, cc2, noColor,w,l,name}){\r\n\tconst [showColors, setShowColors ] = useState(false)\r\n\tconst [ colors, setColors ] = useState([])\r\n\tconst [colorNames, setColorNames] = useState([])\r\n\tconst handler = useRef(null)\r\n\tconst [ currentColor, _setCurrentColor ] = useState(false)\r\n\tconst [ currentColorLines , _setCurrentColorLines ] = useState(false)\r\n\tconst [ typeOption, changeTypeOption ] = useState('surface')\r\n\r\n\tfunction close(){\r\n\t\tsetShowColors(false)\r\n\t\twindow.removeEventListener('click', handler.current)\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\t_setCurrentColor(false)\r\n\t\tlet _colors = [];\r\n\t\tlet _colorNames = [];\r\n\r\n\t\tif(type === 'Laykold acrylic coating'){\r\n\t\t\t_colors = [ \r\n\t\t\t\t'#21362d',\r\n\t\t\t\t'#364e35',\r\n\t\t\t\t'#055739',\r\n\t\t\t\t'#436e43',\r\n\t\t\t\t'#303b67',\r\n\t\t\t\t'#0082ca',\r\n\t\t\t\t'#2b426d',\r\n\t\t\t\t'#472b67',\r\n\t\t\t\t'#903b38',\r\n\t\t\t\t'#92969e',\r\n\t\t\t\t'#5e1b31',\r\n\t\t\t\t'#907b5b',\r\n\t\t\t\t'#b22b25',\r\n\t\t\t\t'#d0112b',\r\n\t\t\t\t'#eb7203',\r\n\t\t\t\t'#fcdd00',\r\n\t\t\t\t'#013ca6',\r\n\t\t\t\t'#00748d',\r\n\t\t\t\t'#69ace5',\r\n\t\t\t\t'#2e2925',\r\n\t\t\t\t'#c7a900',\r\n\t\t\t\t'#9a989a',\r\n\t\t\t\t'#566c11',\r\n\t\t\t\t'#6c3f21',\r\n\t\t\t]\r\n\r\n\r\n\t\t\t_colorNames = [\r\n\t\t\t\t\"Forest Green\",\r\n\t\t\t\t\"Dark Green\",\r\n\t\t\t\t\"Medium Green\",\r\n\t\t\t\t\"Grass Green\",\r\n\t\t\t\t\"Dark Blue\",\r\n\t\t\t\t\"Light Blue\",\r\n\t\t\t\t\"Pro Blue\",\r\n\t\t\t\t\"Royal Purple\",\r\n\t\t\t\t\"Brick Red\",\r\n\t\t\t\t\"Grey\",\r\n\t\t\t\t\"Burgurdy\",\r\n\t\t\t\t\"Beige\",\r\n\t\t\t\t\"Coral\",\r\n\t\t\t\t\"Scarlet\",\r\n\t\t\t\t\"Pumpkin\",\r\n\t\t\t\t\"Canary\",\r\n\t\t\t\t\"Midnight\",\r\n\t\t\t\t\"Teal\",\r\n\t\t\t\t\"Arctic\",\r\n\t\t\t\t\"Black\",\r\n\t\t\t\t\"Key Lime\",\r\n\t\t\t\t\"Silver\",\r\n\t\t\t\t\"Kiwi\",\r\n\t\t\t\t\"Mocha\"\r\n\t\t\t]\r\n\t\t}else{\r\n\t\t\t_colors = [\r\n\t\t\t\t\"#222222\",\r\n\t\t\t\t\"#606060\",\r\n\t\t\t\t\"#7d848d\",\r\n\t\t\t\t\"#6b323e\",\r\n\t\t\t\t\"#995c4b\",\r\n\t\t\t\t\"#283765\",\r\n\t\t\t\t\"#3b68b1\",\r\n\t\t\t\t\"#90b4dd\",\r\n\t\t\t\t\"#aeccd8\",\r\n\t\t\t\t\"#5d4e84\",\r\n\t\t\t\t\"#185d51\",\r\n\t\t\t\t\"#4a5f53\",\r\n\t\t\t\t\"#5d6c51\",\r\n\t\t\t\t\"#92a565\",\r\n\t\t\t\t\"#c2976d\",\r\n\t\t\t\t\"#cc3135\",\r\n\t\t\t\t\"#ff6632\",\r\n\t\t\t\t\"#f49e23\"\r\n\t\t\t]\r\n\r\n\t\t\t_colorNames = [\r\n\t\t\t\t\"Black\",\r\n\t\t\t\t\"Graphite\",\r\n\t\t\t\t\"Titanium\",\r\n\t\t\t\t\"Burgundy\",\r\n\t\t\t\t\"Rust Red\",\r\n\t\t\t\t\"Navy Blue\",\r\n\t\t\t\t\"Royal Blue\",\r\n\t\t\t\t\"Light Blue\",\r\n\t\t\t\t\"Ice Blue\",\r\n\t\t\t\t\"Purple\",\r\n\t\t\t\t\"Emerald Green\",\r\n\t\t\t\t\"Slate Green\",\r\n\t\t\t\t\"Olive Green\",\r\n\t\t\t\t\"Pistachio\",\r\n\t\t\t\t\"Sand\",\r\n\t\t\t\t\"Bright Red\",\r\n\t\t\t\t\"Orange\",\r\n\t\t\t\t\"Yellow\"\r\n\t\t\t]\r\n\t\t}\r\n\r\n\r\n\t\tif(additionalOptions || addWhite){\r\n\t\t\t_colorNames.unshift(\"White\")\r\n\t\t\t_colors.unshift(\"#ffffff\")\r\n\t\t}\r\n\r\n\t\tsetColors([..._colors]);\r\n\t\tsetColorNames([..._colorNames])\r\n\r\n\t\tif(cc){\r\n\t\t\tlet index = _colors.indexOf(cc)\r\n\r\n\t\t\t_setCurrentColor(_colors[index])\r\n\t\t}\r\n\r\n\t\tif(cc2){\r\n\t\t\tlet index = _colors.indexOf(cc2)\r\n\r\n\t\t\t_setCurrentColorLines(_colors[index])\r\n\t\t}\r\n\t}, [type])\r\n\r\n\tfunction setCurrentColor(color, colorName){\r\n\t\tif(typeOption === 'surface'){\r\n\t\t\t_setCurrentColor(color)\r\n\t\t\tonChange(color, label, typeOption)\r\n\t\t}else{\r\n\t\t\t_setCurrentColorLines(color)\r\n\t\t\tonChange(color, label, typeOption)\r\n\t\t}\r\n\r\n\t\twindow.renderer.render(window.scene, window.camera);\r\n\t}\r\n\r\n\tfunction changeTypeOptionHandler(e, typeOption){\r\n\t\te.stopPropagation();\r\n\t\tchangeTypeOption(typeOption)\r\n\t}\r\n\tuseEffect( () => {\r\n\r\n\t\tif(!handler.current) handler.current = close;\r\n\r\n\t\tif(showColors){\r\n\t\t\twindow.addEventListener(\"click\", handler.current)\r\n\t\t}\r\n\t}, [showColors])\r\n\r\n\treturn(\r\n\t\t<>\r\n\t\t\t<div className=\"image-picker\" onClick={ () => setShowColors(!showColors) }>\r\n\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"colors-container-wrapper\">\r\n\t\t\t{ showColors && <div className=\"colors-container select\">\r\n\t\t\t\t{additionalOptions && <div className=\"options-colors\">\r\n\t\t\t\t\t<div className={typeOption === 'surface' ? 'selected' : ''} onClick={(e) => changeTypeOptionHandler(e,'surface')}>Surface</div>\r\n\t\t\t\t\t<div className={typeOption === 'lines' ? 'selected' : ''} onClick={(e) => changeTypeOptionHandler(e,'lines')}>Lines</div>\r\n\t\t\t\t</div>}\r\n\t\t\t\t{noColor && \r\n\t\t\t\t\t<div className=\"color-wrapper\" onClick={() => {\r\n\t\t\t\t\t\tsetCurrentColor('','')\r\n\t\t\t\t\t}}>\r\n\t\t\t\t\t\t<div className=\"color-container\" style={{border: '1px solid black', display:'flex', justifyContent:'center', alignItems: 'center'}}>\r\n\t\t\t\t\t\t\t<i class=\"fas fa-ban\" style={{fontSize: '55px', color: 'red'}}></i>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<h4 className='stroke' style={{color:'red'}}>No color</h4>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t\t{colors.map( (x,i,arr) => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t<div className=\"color-wrapper\" onClick={() => {\r\n\t\t\t\t\t\tsetCurrentColor(x, colorNames[i])\r\n\t\t\t\t\t}} key={x}>\r\n\t\t\t\t\t\t<div className=\"color-container\" style={{backgroundColor: x, border:'1px solid black'}}></div>\r\n\t\t\t\t\t\t<h4 className={x === '#ffffff' ? 'stroke-black' : 'stroke'} style={{color:x}}>{colorNames[i]}</h4>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t)\r\n\t\t\t\t})}\r\n\t\t\t</div>}\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"picked-colors-container\">\r\n\t\t\t\t<div id={label} data-color={currentColor ? currentColor.toString() : ''} className={currentColor ? 'visible' : 'hidden'} style={{backgroundColor: currentColor, height:'25px', width:'25px', marginTop:'15px'}}>\r\n\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{additionalOptions && <div className={currentColorLines ? 'visible' : 'hidden'} style={{backgroundColor: currentColorLines, height:'25px', width:'25px', marginTop:'15px'}}>\r\n\r\n\t\t\t\t</div>}\r\n\t\t\t</div>\r\n\r\n\t\t\t<input type=\"hidden\" id={label} value={currentColor ? currentColor.toString() : ''} />\r\n\t\t\t{ additionalOptions && <input type=\"hidden\" id={label+\"_lines\"} value={currentColorLines.toString()} /> }\r\n\t\t</>\r\n\t)\r\n}","import React, { useState } from \"react\";\r\n\r\nexport default function Dropdown({parentEffect}){\r\n\r\n\tlet [ showOptions, setShowOptions ] = useState(false)\r\n\tlet [ current, setCurrent ] = useState('Laykold acrylic coating')\r\n\r\n\tfunction handleOptions(){\r\n\t\tsetShowOptions(!showOptions)\r\n\t}\r\n\r\n\tfunction onClick(value){\r\n\t\tsetCurrent(value)\r\n\t\tparentEffect(value)\r\n\t}\r\n\r\n\treturn(\r\n\t\t<div className={showOptions ? 'type type--visible' : 'type'} onClick={handleOptions}>\r\n\t\t\t<p className=\"options--show\">{current}</p>\r\n\r\n\t\t\t{showOptions && <>\r\n\t\t\t\t<p className=\"options--select options--select-first\" onClick={() => onClick('Laykold acrylic coating')}>Laykold acrylic coating</p>\r\n\t\t\t\t<p className=\"options--select\" onClick={() => onClick('VersaCourt sport tile system')}>VersaCourt sport tile system</p>\r\n\t\t\t\t</>\r\n\t\t\t}\r\n\t\t</div>\r\n\t)\r\n}","export default function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose.js\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nexport var isBrowser = (typeof window === \"undefined\" ? \"undefined\" : _typeof(window)) === \"object\" && (typeof document === \"undefined\" ? \"undefined\" : _typeof(document)) === 'object' && document.nodeType === 9;\nexport default isBrowser;","import _extends from '@babel/runtime/helpers/esm/extends';\nimport isInBrowser from 'is-in-browser';\nimport warning from 'tiny-warning';\nimport _createClass from '@babel/runtime/helpers/esm/createClass';\nimport _inheritsLoose from '@babel/runtime/helpers/esm/inheritsLoose';\nimport _assertThisInitialized from '@babel/runtime/helpers/esm/assertThisInitialized';\nimport _objectWithoutPropertiesLoose from '@babel/runtime/helpers/esm/objectWithoutPropertiesLoose';\nvar plainObjectConstrurctor = {}.constructor;\n\nfunction cloneStyle(style) {\n  if (style == null || typeof style !== 'object') return style;\n  if (Array.isArray(style)) return style.map(cloneStyle);\n  if (style.constructor !== plainObjectConstrurctor) return style;\n  var newStyle = {};\n\n  for (var name in style) {\n    newStyle[name] = cloneStyle(style[name]);\n  }\n\n  return newStyle;\n}\n/**\n * Create a rule instance.\n */\n\n\nfunction createRule(name, decl, options) {\n  if (name === void 0) {\n    name = 'unnamed';\n  }\n\n  var jss = options.jss;\n  var declCopy = cloneStyle(decl);\n  var rule = jss.plugins.onCreateRule(name, declCopy, options);\n  if (rule) return rule; // It is an at-rule and it has no instance.\n\n  if (name[0] === '@') {\n    process.env.NODE_ENV !== \"production\" ? warning(false, \"[JSS] Unknown rule \" + name) : void 0;\n  }\n\n  return null;\n}\n\nvar join = function join(value, by) {\n  var result = '';\n\n  for (var i = 0; i < value.length; i++) {\n    // Remove !important from the value, it will be readded later.\n    if (value[i] === '!important') break;\n    if (result) result += by;\n    result += value[i];\n  }\n\n  return result;\n};\n/**\n * Converts array values to string.\n *\n * `margin: [['5px', '10px']]` > `margin: 5px 10px;`\n * `border: ['1px', '2px']` > `border: 1px, 2px;`\n * `margin: [['5px', '10px'], '!important']` > `margin: 5px 10px !important;`\n * `color: ['red', !important]` > `color: red !important;`\n */\n\n\nvar toCssValue = function toCssValue(value, ignoreImportant) {\n  if (ignoreImportant === void 0) {\n    ignoreImportant = false;\n  }\n\n  if (!Array.isArray(value)) return value;\n  var cssValue = ''; // Support space separated values via `[['5px', '10px']]`.\n\n  if (Array.isArray(value[0])) {\n    for (var i = 0; i < value.length; i++) {\n      if (value[i] === '!important') break;\n      if (cssValue) cssValue += ', ';\n      cssValue += join(value[i], ' ');\n    }\n  } else cssValue = join(value, ', '); // Add !important, because it was ignored.\n\n\n  if (!ignoreImportant && value[value.length - 1] === '!important') {\n    cssValue += ' !important';\n  }\n\n  return cssValue;\n};\n/**\n * Indent a string.\n * http://jsperf.com/array-join-vs-for\n */\n\n\nfunction indentStr(str, indent) {\n  var result = '';\n\n  for (var index = 0; index < indent; index++) {\n    result += '  ';\n  }\n\n  return result + str;\n}\n/**\n * Converts a Rule to CSS string.\n */\n\n\nfunction toCss(selector, style, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var result = '';\n  if (!style) return result;\n  var _options = options,\n      _options$indent = _options.indent,\n      indent = _options$indent === void 0 ? 0 : _options$indent;\n  var fallbacks = style.fallbacks;\n  if (selector) indent++; // Apply fallbacks first.\n\n  if (fallbacks) {\n    // Array syntax {fallbacks: [{prop: value}]}\n    if (Array.isArray(fallbacks)) {\n      for (var index = 0; index < fallbacks.length; index++) {\n        var fallback = fallbacks[index];\n\n        for (var prop in fallback) {\n          var value = fallback[prop];\n\n          if (value != null) {\n            if (result) result += '\\n';\n            result += indentStr(prop + \": \" + toCssValue(value) + \";\", indent);\n          }\n        }\n      }\n    } else {\n      // Object syntax {fallbacks: {prop: value}}\n      for (var _prop in fallbacks) {\n        var _value = fallbacks[_prop];\n\n        if (_value != null) {\n          if (result) result += '\\n';\n          result += indentStr(_prop + \": \" + toCssValue(_value) + \";\", indent);\n        }\n      }\n    }\n  }\n\n  for (var _prop2 in style) {\n    var _value2 = style[_prop2];\n\n    if (_value2 != null && _prop2 !== 'fallbacks') {\n      if (result) result += '\\n';\n      result += indentStr(_prop2 + \": \" + toCssValue(_value2) + \";\", indent);\n    }\n  } // Allow empty style in this case, because properties will be added dynamically.\n\n\n  if (!result && !options.allowEmpty) return result; // When rule is being stringified before selector was defined.\n\n  if (!selector) return result;\n  indent--;\n  if (result) result = \"\\n\" + result + \"\\n\";\n  return indentStr(selector + \" {\" + result, indent) + indentStr('}', indent);\n}\n\nvar escapeRegex = /([[\\].#*$><+~=|^:(),\"'`\\s])/g;\nvar nativeEscape = typeof CSS !== 'undefined' && CSS.escape;\n\nvar escape = function escape(str) {\n  return nativeEscape ? nativeEscape(str) : str.replace(escapeRegex, '\\\\$1');\n};\n\nvar BaseStyleRule = /*#__PURE__*/function () {\n  function BaseStyleRule(key, style, options) {\n    this.type = 'style';\n    this.key = void 0;\n    this.isProcessed = false;\n    this.style = void 0;\n    this.renderer = void 0;\n    this.renderable = void 0;\n    this.options = void 0;\n    var sheet = options.sheet,\n        Renderer = options.Renderer;\n    this.key = key;\n    this.options = options;\n    this.style = style;\n    if (sheet) this.renderer = sheet.renderer;else if (Renderer) this.renderer = new Renderer();\n  }\n  /**\n   * Get or set a style property.\n   */\n\n\n  var _proto = BaseStyleRule.prototype;\n\n  _proto.prop = function prop(name, value, options) {\n    // It's a getter.\n    if (value === undefined) return this.style[name]; // Don't do anything if the value has not changed.\n\n    var force = options ? options.force : false;\n    if (!force && this.style[name] === value) return this;\n    var newValue = value;\n\n    if (!options || options.process !== false) {\n      newValue = this.options.jss.plugins.onChangeValue(value, name, this);\n    }\n\n    var isEmpty = newValue == null || newValue === false;\n    var isDefined = (name in this.style); // Value is empty and wasn't defined before.\n\n    if (isEmpty && !isDefined && !force) return this; // We are going to remove this value.\n\n    var remove = isEmpty && isDefined;\n    if (remove) delete this.style[name];else this.style[name] = newValue; // Renderable is defined if StyleSheet option `link` is true.\n\n    if (this.renderable && this.renderer) {\n      if (remove) this.renderer.removeProperty(this.renderable, name);else this.renderer.setProperty(this.renderable, name, newValue);\n      return this;\n    }\n\n    var sheet = this.options.sheet;\n\n    if (sheet && sheet.attached) {\n      process.env.NODE_ENV !== \"production\" ? warning(false, '[JSS] Rule is not linked. Missing sheet option \"link: true\".') : void 0;\n    }\n\n    return this;\n  };\n\n  return BaseStyleRule;\n}();\n\nvar StyleRule = /*#__PURE__*/function (_BaseStyleRule) {\n  _inheritsLoose(StyleRule, _BaseStyleRule);\n\n  function StyleRule(key, style, options) {\n    var _this;\n\n    _this = _BaseStyleRule.call(this, key, style, options) || this;\n    _this.selectorText = void 0;\n    _this.id = void 0;\n    _this.renderable = void 0;\n    var selector = options.selector,\n        scoped = options.scoped,\n        sheet = options.sheet,\n        generateId = options.generateId;\n\n    if (selector) {\n      _this.selectorText = selector;\n    } else if (scoped !== false) {\n      _this.id = generateId(_assertThisInitialized(_assertThisInitialized(_this)), sheet);\n      _this.selectorText = \".\" + escape(_this.id);\n    }\n\n    return _this;\n  }\n  /**\n   * Set selector string.\n   * Attention: use this with caution. Most browsers didn't implement\n   * selectorText setter, so this may result in rerendering of entire Style Sheet.\n   */\n\n\n  var _proto2 = StyleRule.prototype;\n  /**\n   * Apply rule to an element inline.\n   */\n\n  _proto2.applyTo = function applyTo(renderable) {\n    var renderer = this.renderer;\n\n    if (renderer) {\n      var json = this.toJSON();\n\n      for (var prop in json) {\n        renderer.setProperty(renderable, prop, json[prop]);\n      }\n    }\n\n    return this;\n  }\n  /**\n   * Returns JSON representation of the rule.\n   * Fallbacks are not supported.\n   * Useful for inline styles.\n   */\n  ;\n\n  _proto2.toJSON = function toJSON() {\n    var json = {};\n\n    for (var prop in this.style) {\n      var value = this.style[prop];\n      if (typeof value !== 'object') json[prop] = value;else if (Array.isArray(value)) json[prop] = toCssValue(value);\n    }\n\n    return json;\n  }\n  /**\n   * Generates a CSS string.\n   */\n  ;\n\n  _proto2.toString = function toString(options) {\n    var sheet = this.options.sheet;\n    var link = sheet ? sheet.options.link : false;\n    var opts = link ? _extends({}, options, {\n      allowEmpty: true\n    }) : options;\n    return toCss(this.selectorText, this.style, opts);\n  };\n\n  _createClass(StyleRule, [{\n    key: \"selector\",\n    set: function set(selector) {\n      if (selector === this.selectorText) return;\n      this.selectorText = selector;\n      var renderer = this.renderer,\n          renderable = this.renderable;\n      if (!renderable || !renderer) return;\n      var hasChanged = renderer.setSelector(renderable, selector); // If selector setter is not implemented, rerender the rule.\n\n      if (!hasChanged) {\n        renderer.replaceRule(renderable, this);\n      }\n    }\n    /**\n     * Get selector string.\n     */\n    ,\n    get: function get() {\n      return this.selectorText;\n    }\n  }]);\n\n  return StyleRule;\n}(BaseStyleRule);\n\nvar pluginStyleRule = {\n  onCreateRule: function onCreateRule(name, style, options) {\n    if (name[0] === '@' || options.parent && options.parent.type === 'keyframes') {\n      return null;\n    }\n\n    return new StyleRule(name, style, options);\n  }\n};\nvar defaultToStringOptions = {\n  indent: 1,\n  children: true\n};\nvar atRegExp = /@([\\w-]+)/;\n/**\n * Conditional rule for @media, @supports\n */\n\nvar ConditionalRule = /*#__PURE__*/function () {\n  function ConditionalRule(key, styles, options) {\n    this.type = 'conditional';\n    this.at = void 0;\n    this.key = void 0;\n    this.query = void 0;\n    this.rules = void 0;\n    this.options = void 0;\n    this.isProcessed = false;\n    this.renderable = void 0;\n    this.key = key;\n    var atMatch = key.match(atRegExp);\n    this.at = atMatch ? atMatch[1] : 'unknown'; // Key might contain a unique suffix in case the `name` passed by user was duplicate.\n\n    this.query = options.name || \"@\" + this.at;\n    this.options = options;\n    this.rules = new RuleList(_extends({}, options, {\n      parent: this\n    }));\n\n    for (var name in styles) {\n      this.rules.add(name, styles[name]);\n    }\n\n    this.rules.process();\n  }\n  /**\n   * Get a rule.\n   */\n\n\n  var _proto = ConditionalRule.prototype;\n\n  _proto.getRule = function getRule(name) {\n    return this.rules.get(name);\n  }\n  /**\n   * Get index of a rule.\n   */\n  ;\n\n  _proto.indexOf = function indexOf(rule) {\n    return this.rules.indexOf(rule);\n  }\n  /**\n   * Create and register rule, run plugins.\n   */\n  ;\n\n  _proto.addRule = function addRule(name, style, options) {\n    var rule = this.rules.add(name, style, options);\n    if (!rule) return null;\n    this.options.jss.plugins.onProcessRule(rule);\n    return rule;\n  }\n  /**\n   * Generates a CSS string.\n   */\n  ;\n\n  _proto.toString = function toString(options) {\n    if (options === void 0) {\n      options = defaultToStringOptions;\n    }\n\n    if (options.indent == null) options.indent = defaultToStringOptions.indent;\n    if (options.children == null) options.children = defaultToStringOptions.children;\n\n    if (options.children === false) {\n      return this.query + \" {}\";\n    }\n\n    var children = this.rules.toString(options);\n    return children ? this.query + \" {\\n\" + children + \"\\n}\" : '';\n  };\n\n  return ConditionalRule;\n}();\n\nvar keyRegExp = /@media|@supports\\s+/;\nvar pluginConditionalRule = {\n  onCreateRule: function onCreateRule(key, styles, options) {\n    return keyRegExp.test(key) ? new ConditionalRule(key, styles, options) : null;\n  }\n};\nvar defaultToStringOptions$1 = {\n  indent: 1,\n  children: true\n};\nvar nameRegExp = /@keyframes\\s+([\\w-]+)/;\n/**\n * Rule for @keyframes\n */\n\nvar KeyframesRule = /*#__PURE__*/function () {\n  function KeyframesRule(key, frames, options) {\n    this.type = 'keyframes';\n    this.at = '@keyframes';\n    this.key = void 0;\n    this.name = void 0;\n    this.id = void 0;\n    this.rules = void 0;\n    this.options = void 0;\n    this.isProcessed = false;\n    this.renderable = void 0;\n    var nameMatch = key.match(nameRegExp);\n\n    if (nameMatch && nameMatch[1]) {\n      this.name = nameMatch[1];\n    } else {\n      this.name = 'noname';\n      process.env.NODE_ENV !== \"production\" ? warning(false, \"[JSS] Bad keyframes name \" + key) : void 0;\n    }\n\n    this.key = this.type + \"-\" + this.name;\n    this.options = options;\n    var scoped = options.scoped,\n        sheet = options.sheet,\n        generateId = options.generateId;\n    this.id = scoped === false ? this.name : escape(generateId(this, sheet));\n    this.rules = new RuleList(_extends({}, options, {\n      parent: this\n    }));\n\n    for (var name in frames) {\n      this.rules.add(name, frames[name], _extends({}, options, {\n        parent: this\n      }));\n    }\n\n    this.rules.process();\n  }\n  /**\n   * Generates a CSS string.\n   */\n\n\n  var _proto = KeyframesRule.prototype;\n\n  _proto.toString = function toString(options) {\n    if (options === void 0) {\n      options = defaultToStringOptions$1;\n    }\n\n    if (options.indent == null) options.indent = defaultToStringOptions$1.indent;\n    if (options.children == null) options.children = defaultToStringOptions$1.children;\n\n    if (options.children === false) {\n      return this.at + \" \" + this.id + \" {}\";\n    }\n\n    var children = this.rules.toString(options);\n    if (children) children = \"\\n\" + children + \"\\n\";\n    return this.at + \" \" + this.id + \" {\" + children + \"}\";\n  };\n\n  return KeyframesRule;\n}();\n\nvar keyRegExp$1 = /@keyframes\\s+/;\nvar refRegExp = /\\$([\\w-]+)/g;\n\nvar findReferencedKeyframe = function findReferencedKeyframe(val, keyframes) {\n  if (typeof val === 'string') {\n    return val.replace(refRegExp, function (match, name) {\n      if (name in keyframes) {\n        return keyframes[name];\n      }\n\n      process.env.NODE_ENV !== \"production\" ? warning(false, \"[JSS] Referenced keyframes rule \\\"\" + name + \"\\\" is not defined.\") : void 0;\n      return match;\n    });\n  }\n\n  return val;\n};\n/**\n * Replace the reference for a animation name.\n */\n\n\nvar replaceRef = function replaceRef(style, prop, keyframes) {\n  var value = style[prop];\n  var refKeyframe = findReferencedKeyframe(value, keyframes);\n\n  if (refKeyframe !== value) {\n    style[prop] = refKeyframe;\n  }\n};\n\nvar plugin = {\n  onCreateRule: function onCreateRule(key, frames, options) {\n    return typeof key === 'string' && keyRegExp$1.test(key) ? new KeyframesRule(key, frames, options) : null;\n  },\n  // Animation name ref replacer.\n  onProcessStyle: function onProcessStyle(style, rule, sheet) {\n    if (rule.type !== 'style' || !sheet) return style;\n    if ('animation-name' in style) replaceRef(style, 'animation-name', sheet.keyframes);\n    if ('animation' in style) replaceRef(style, 'animation', sheet.keyframes);\n    return style;\n  },\n  onChangeValue: function onChangeValue(val, prop, rule) {\n    var sheet = rule.options.sheet;\n\n    if (!sheet) {\n      return val;\n    }\n\n    switch (prop) {\n      case 'animation':\n        return findReferencedKeyframe(val, sheet.keyframes);\n\n      case 'animation-name':\n        return findReferencedKeyframe(val, sheet.keyframes);\n\n      default:\n        return val;\n    }\n  }\n};\n\nvar KeyframeRule = /*#__PURE__*/function (_BaseStyleRule) {\n  _inheritsLoose(KeyframeRule, _BaseStyleRule);\n\n  function KeyframeRule() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _BaseStyleRule.call.apply(_BaseStyleRule, [this].concat(args)) || this;\n    _this.renderable = void 0;\n    return _this;\n  }\n\n  var _proto = KeyframeRule.prototype;\n  /**\n   * Generates a CSS string.\n   */\n\n  _proto.toString = function toString(options) {\n    var sheet = this.options.sheet;\n    var link = sheet ? sheet.options.link : false;\n    var opts = link ? _extends({}, options, {\n      allowEmpty: true\n    }) : options;\n    return toCss(this.key, this.style, opts);\n  };\n\n  return KeyframeRule;\n}(BaseStyleRule);\n\nvar pluginKeyframeRule = {\n  onCreateRule: function onCreateRule(key, style, options) {\n    if (options.parent && options.parent.type === 'keyframes') {\n      return new KeyframeRule(key, style, options);\n    }\n\n    return null;\n  }\n};\n\nvar FontFaceRule = /*#__PURE__*/function () {\n  function FontFaceRule(key, style, options) {\n    this.type = 'font-face';\n    this.at = '@font-face';\n    this.key = void 0;\n    this.style = void 0;\n    this.options = void 0;\n    this.isProcessed = false;\n    this.renderable = void 0;\n    this.key = key;\n    this.style = style;\n    this.options = options;\n  }\n  /**\n   * Generates a CSS string.\n   */\n\n\n  var _proto = FontFaceRule.prototype;\n\n  _proto.toString = function toString(options) {\n    if (Array.isArray(this.style)) {\n      var str = '';\n\n      for (var index = 0; index < this.style.length; index++) {\n        str += toCss(this.at, this.style[index]);\n        if (this.style[index + 1]) str += '\\n';\n      }\n\n      return str;\n    }\n\n    return toCss(this.at, this.style, options);\n  };\n\n  return FontFaceRule;\n}();\n\nvar keyRegExp$2 = /@font-face/;\nvar pluginFontFaceRule = {\n  onCreateRule: function onCreateRule(key, style, options) {\n    return keyRegExp$2.test(key) ? new FontFaceRule(key, style, options) : null;\n  }\n};\n\nvar ViewportRule = /*#__PURE__*/function () {\n  function ViewportRule(key, style, options) {\n    this.type = 'viewport';\n    this.at = '@viewport';\n    this.key = void 0;\n    this.style = void 0;\n    this.options = void 0;\n    this.isProcessed = false;\n    this.renderable = void 0;\n    this.key = key;\n    this.style = style;\n    this.options = options;\n  }\n  /**\n   * Generates a CSS string.\n   */\n\n\n  var _proto = ViewportRule.prototype;\n\n  _proto.toString = function toString(options) {\n    return toCss(this.key, this.style, options);\n  };\n\n  return ViewportRule;\n}();\n\nvar pluginViewportRule = {\n  onCreateRule: function onCreateRule(key, style, options) {\n    return key === '@viewport' || key === '@-ms-viewport' ? new ViewportRule(key, style, options) : null;\n  }\n};\n\nvar SimpleRule = /*#__PURE__*/function () {\n  function SimpleRule(key, value, options) {\n    this.type = 'simple';\n    this.key = void 0;\n    this.value = void 0;\n    this.options = void 0;\n    this.isProcessed = false;\n    this.renderable = void 0;\n    this.key = key;\n    this.value = value;\n    this.options = options;\n  }\n  /**\n   * Generates a CSS string.\n   */\n  // eslint-disable-next-line no-unused-vars\n\n\n  var _proto = SimpleRule.prototype;\n\n  _proto.toString = function toString(options) {\n    if (Array.isArray(this.value)) {\n      var str = '';\n\n      for (var index = 0; index < this.value.length; index++) {\n        str += this.key + \" \" + this.value[index] + \";\";\n        if (this.value[index + 1]) str += '\\n';\n      }\n\n      return str;\n    }\n\n    return this.key + \" \" + this.value + \";\";\n  };\n\n  return SimpleRule;\n}();\n\nvar keysMap = {\n  '@charset': true,\n  '@import': true,\n  '@namespace': true\n};\nvar pluginSimpleRule = {\n  onCreateRule: function onCreateRule(key, value, options) {\n    return key in keysMap ? new SimpleRule(key, value, options) : null;\n  }\n};\nvar plugins = [pluginStyleRule, pluginConditionalRule, plugin, pluginKeyframeRule, pluginFontFaceRule, pluginViewportRule, pluginSimpleRule];\nvar defaultUpdateOptions = {\n  process: true\n};\nvar forceUpdateOptions = {\n  force: true,\n  process: true\n  /**\n   * Contains rules objects and allows adding/removing etc.\n   * Is used for e.g. by `StyleSheet` or `ConditionalRule`.\n   */\n\n};\n\nvar RuleList = /*#__PURE__*/function () {\n  // Rules registry for access by .get() method.\n  // It contains the same rule registered by name and by selector.\n  // Original styles object.\n  // Used to ensure correct rules order.\n  function RuleList(options) {\n    this.map = {};\n    this.raw = {};\n    this.index = [];\n    this.counter = 0;\n    this.options = void 0;\n    this.classes = void 0;\n    this.keyframes = void 0;\n    this.options = options;\n    this.classes = options.classes;\n    this.keyframes = options.keyframes;\n  }\n  /**\n   * Create and register rule.\n   *\n   * Will not render after Style Sheet was rendered the first time.\n   */\n\n\n  var _proto = RuleList.prototype;\n\n  _proto.add = function add(name, decl, ruleOptions) {\n    var _this$options = this.options,\n        parent = _this$options.parent,\n        sheet = _this$options.sheet,\n        jss = _this$options.jss,\n        Renderer = _this$options.Renderer,\n        generateId = _this$options.generateId,\n        scoped = _this$options.scoped;\n\n    var options = _extends({\n      classes: this.classes,\n      parent: parent,\n      sheet: sheet,\n      jss: jss,\n      Renderer: Renderer,\n      generateId: generateId,\n      scoped: scoped,\n      name: name,\n      keyframes: this.keyframes,\n      selector: undefined\n    }, ruleOptions); // When user uses .createStyleSheet(), duplicate names are not possible, but\n    // `sheet.addRule()` opens the door for any duplicate rule name. When this happens\n    // we need to make the key unique within this RuleList instance scope.\n\n\n    var key = name;\n\n    if (name in this.raw) {\n      key = name + \"-d\" + this.counter++;\n    } // We need to save the original decl before creating the rule\n    // because cache plugin needs to use it as a key to return a cached rule.\n\n\n    this.raw[key] = decl;\n\n    if (key in this.classes) {\n      // E.g. rules inside of @media container\n      options.selector = \".\" + escape(this.classes[key]);\n    }\n\n    var rule = createRule(key, decl, options);\n    if (!rule) return null;\n    this.register(rule);\n    var index = options.index === undefined ? this.index.length : options.index;\n    this.index.splice(index, 0, rule);\n    return rule;\n  }\n  /**\n   * Get a rule.\n   */\n  ;\n\n  _proto.get = function get(name) {\n    return this.map[name];\n  }\n  /**\n   * Delete a rule.\n   */\n  ;\n\n  _proto.remove = function remove(rule) {\n    this.unregister(rule);\n    delete this.raw[rule.key];\n    this.index.splice(this.index.indexOf(rule), 1);\n  }\n  /**\n   * Get index of a rule.\n   */\n  ;\n\n  _proto.indexOf = function indexOf(rule) {\n    return this.index.indexOf(rule);\n  }\n  /**\n   * Run `onProcessRule()` plugins on every rule.\n   */\n  ;\n\n  _proto.process = function process() {\n    var plugins = this.options.jss.plugins; // We need to clone array because if we modify the index somewhere else during a loop\n    // we end up with very hard-to-track-down side effects.\n\n    this.index.slice(0).forEach(plugins.onProcessRule, plugins);\n  }\n  /**\n   * Register a rule in `.map`, `.classes` and `.keyframes` maps.\n   */\n  ;\n\n  _proto.register = function register(rule) {\n    this.map[rule.key] = rule;\n\n    if (rule instanceof StyleRule) {\n      this.map[rule.selector] = rule;\n      if (rule.id) this.classes[rule.key] = rule.id;\n    } else if (rule instanceof KeyframesRule && this.keyframes) {\n      this.keyframes[rule.name] = rule.id;\n    }\n  }\n  /**\n   * Unregister a rule.\n   */\n  ;\n\n  _proto.unregister = function unregister(rule) {\n    delete this.map[rule.key];\n\n    if (rule instanceof StyleRule) {\n      delete this.map[rule.selector];\n      delete this.classes[rule.key];\n    } else if (rule instanceof KeyframesRule) {\n      delete this.keyframes[rule.name];\n    }\n  }\n  /**\n   * Update the function values with a new data.\n   */\n  ;\n\n  _proto.update = function update() {\n    var name;\n    var data;\n    var options;\n\n    if (typeof (arguments.length <= 0 ? undefined : arguments[0]) === 'string') {\n      name = arguments.length <= 0 ? undefined : arguments[0]; // $FlowFixMe[invalid-tuple-index]\n\n      data = arguments.length <= 1 ? undefined : arguments[1]; // $FlowFixMe[invalid-tuple-index]\n\n      options = arguments.length <= 2 ? undefined : arguments[2];\n    } else {\n      data = arguments.length <= 0 ? undefined : arguments[0]; // $FlowFixMe[invalid-tuple-index]\n\n      options = arguments.length <= 1 ? undefined : arguments[1];\n      name = null;\n    }\n\n    if (name) {\n      this.updateOne(this.map[name], data, options);\n    } else {\n      for (var index = 0; index < this.index.length; index++) {\n        this.updateOne(this.index[index], data, options);\n      }\n    }\n  }\n  /**\n   * Execute plugins, update rule props.\n   */\n  ;\n\n  _proto.updateOne = function updateOne(rule, data, options) {\n    if (options === void 0) {\n      options = defaultUpdateOptions;\n    }\n\n    var _this$options2 = this.options,\n        plugins = _this$options2.jss.plugins,\n        sheet = _this$options2.sheet; // It is a rules container like for e.g. ConditionalRule.\n\n    if (rule.rules instanceof RuleList) {\n      rule.rules.update(data, options);\n      return;\n    }\n\n    var styleRule = rule;\n    var style = styleRule.style;\n    plugins.onUpdate(data, rule, sheet, options); // We rely on a new `style` ref in case it was mutated during onUpdate hook.\n\n    if (options.process && style && style !== styleRule.style) {\n      // We need to run the plugins in case new `style` relies on syntax plugins.\n      plugins.onProcessStyle(styleRule.style, styleRule, sheet); // Update and add props.\n\n      for (var prop in styleRule.style) {\n        var nextValue = styleRule.style[prop];\n        var prevValue = style[prop]; // We need to use `force: true` because `rule.style` has been updated during onUpdate hook, so `rule.prop()` will not update the CSSOM rule.\n        // We do this comparison to avoid unneeded `rule.prop()` calls, since we have the old `style` object here.\n\n        if (nextValue !== prevValue) {\n          styleRule.prop(prop, nextValue, forceUpdateOptions);\n        }\n      } // Remove props.\n\n\n      for (var _prop in style) {\n        var _nextValue = styleRule.style[_prop];\n        var _prevValue = style[_prop]; // We need to use `force: true` because `rule.style` has been updated during onUpdate hook, so `rule.prop()` will not update the CSSOM rule.\n        // We do this comparison to avoid unneeded `rule.prop()` calls, since we have the old `style` object here.\n\n        if (_nextValue == null && _nextValue !== _prevValue) {\n          styleRule.prop(_prop, null, forceUpdateOptions);\n        }\n      }\n    }\n  }\n  /**\n   * Convert rules to a CSS string.\n   */\n  ;\n\n  _proto.toString = function toString(options) {\n    var str = '';\n    var sheet = this.options.sheet;\n    var link = sheet ? sheet.options.link : false;\n\n    for (var index = 0; index < this.index.length; index++) {\n      var rule = this.index[index];\n      var css = rule.toString(options); // No need to render an empty rule.\n\n      if (!css && !link) continue;\n      if (str) str += '\\n';\n      str += css;\n    }\n\n    return str;\n  };\n\n  return RuleList;\n}();\n\nvar StyleSheet = /*#__PURE__*/function () {\n  function StyleSheet(styles, options) {\n    this.options = void 0;\n    this.deployed = void 0;\n    this.attached = void 0;\n    this.rules = void 0;\n    this.renderer = void 0;\n    this.classes = void 0;\n    this.keyframes = void 0;\n    this.queue = void 0;\n    this.attached = false;\n    this.deployed = false;\n    this.classes = {};\n    this.keyframes = {};\n    this.options = _extends({}, options, {\n      sheet: this,\n      parent: this,\n      classes: this.classes,\n      keyframes: this.keyframes\n    });\n\n    if (options.Renderer) {\n      this.renderer = new options.Renderer(this);\n    }\n\n    this.rules = new RuleList(this.options);\n\n    for (var name in styles) {\n      this.rules.add(name, styles[name]);\n    }\n\n    this.rules.process();\n  }\n  /**\n   * Attach renderable to the render tree.\n   */\n\n\n  var _proto = StyleSheet.prototype;\n\n  _proto.attach = function attach() {\n    if (this.attached) return this;\n    if (this.renderer) this.renderer.attach();\n    this.attached = true; // Order is important, because we can't use insertRule API if style element is not attached.\n\n    if (!this.deployed) this.deploy();\n    return this;\n  }\n  /**\n   * Remove renderable from render tree.\n   */\n  ;\n\n  _proto.detach = function detach() {\n    if (!this.attached) return this;\n    if (this.renderer) this.renderer.detach();\n    this.attached = false;\n    return this;\n  }\n  /**\n   * Add a rule to the current stylesheet.\n   * Will insert a rule also after the stylesheet has been rendered first time.\n   */\n  ;\n\n  _proto.addRule = function addRule(name, decl, options) {\n    var queue = this.queue; // Plugins can create rules.\n    // In order to preserve the right order, we need to queue all `.addRule` calls,\n    // which happen after the first `rules.add()` call.\n\n    if (this.attached && !queue) this.queue = [];\n    var rule = this.rules.add(name, decl, options);\n    if (!rule) return null;\n    this.options.jss.plugins.onProcessRule(rule);\n\n    if (this.attached) {\n      if (!this.deployed) return rule; // Don't insert rule directly if there is no stringified version yet.\n      // It will be inserted all together when .attach is called.\n\n      if (queue) queue.push(rule);else {\n        this.insertRule(rule);\n\n        if (this.queue) {\n          this.queue.forEach(this.insertRule, this);\n          this.queue = undefined;\n        }\n      }\n      return rule;\n    } // We can't add rules to a detached style node.\n    // We will redeploy the sheet once user will attach it.\n\n\n    this.deployed = false;\n    return rule;\n  }\n  /**\n   * Insert rule into the StyleSheet\n   */\n  ;\n\n  _proto.insertRule = function insertRule(rule) {\n    if (this.renderer) {\n      this.renderer.insertRule(rule);\n    }\n  }\n  /**\n   * Create and add rules.\n   * Will render also after Style Sheet was rendered the first time.\n   */\n  ;\n\n  _proto.addRules = function addRules(styles, options) {\n    var added = [];\n\n    for (var name in styles) {\n      var rule = this.addRule(name, styles[name], options);\n      if (rule) added.push(rule);\n    }\n\n    return added;\n  }\n  /**\n   * Get a rule by name.\n   */\n  ;\n\n  _proto.getRule = function getRule(name) {\n    return this.rules.get(name);\n  }\n  /**\n   * Delete a rule by name.\n   * Returns `true`: if rule has been deleted from the DOM.\n   */\n  ;\n\n  _proto.deleteRule = function deleteRule(name) {\n    var rule = typeof name === 'object' ? name : this.rules.get(name);\n\n    if (!rule || // Style sheet was created without link: true and attached, in this case we\n    // won't be able to remove the CSS rule from the DOM.\n    this.attached && !rule.renderable) {\n      return false;\n    }\n\n    this.rules.remove(rule);\n\n    if (this.attached && rule.renderable && this.renderer) {\n      return this.renderer.deleteRule(rule.renderable);\n    }\n\n    return true;\n  }\n  /**\n   * Get index of a rule.\n   */\n  ;\n\n  _proto.indexOf = function indexOf(rule) {\n    return this.rules.indexOf(rule);\n  }\n  /**\n   * Deploy pure CSS string to a renderable.\n   */\n  ;\n\n  _proto.deploy = function deploy() {\n    if (this.renderer) this.renderer.deploy();\n    this.deployed = true;\n    return this;\n  }\n  /**\n   * Update the function values with a new data.\n   */\n  ;\n\n  _proto.update = function update() {\n    var _this$rules;\n\n    (_this$rules = this.rules).update.apply(_this$rules, arguments);\n\n    return this;\n  }\n  /**\n   * Updates a single rule.\n   */\n  ;\n\n  _proto.updateOne = function updateOne(rule, data, options) {\n    this.rules.updateOne(rule, data, options);\n    return this;\n  }\n  /**\n   * Convert rules to a CSS string.\n   */\n  ;\n\n  _proto.toString = function toString(options) {\n    return this.rules.toString(options);\n  };\n\n  return StyleSheet;\n}();\n\nvar PluginsRegistry = /*#__PURE__*/function () {\n  function PluginsRegistry() {\n    this.plugins = {\n      internal: [],\n      external: []\n    };\n    this.registry = void 0;\n  }\n\n  var _proto = PluginsRegistry.prototype;\n  /**\n   * Call `onCreateRule` hooks and return an object if returned by a hook.\n   */\n\n  _proto.onCreateRule = function onCreateRule(name, decl, options) {\n    for (var i = 0; i < this.registry.onCreateRule.length; i++) {\n      var rule = this.registry.onCreateRule[i](name, decl, options);\n      if (rule) return rule;\n    }\n\n    return null;\n  }\n  /**\n   * Call `onProcessRule` hooks.\n   */\n  ;\n\n  _proto.onProcessRule = function onProcessRule(rule) {\n    if (rule.isProcessed) return;\n    var sheet = rule.options.sheet;\n\n    for (var i = 0; i < this.registry.onProcessRule.length; i++) {\n      this.registry.onProcessRule[i](rule, sheet);\n    }\n\n    if (rule.style) this.onProcessStyle(rule.style, rule, sheet);\n    rule.isProcessed = true;\n  }\n  /**\n   * Call `onProcessStyle` hooks.\n   */\n  ;\n\n  _proto.onProcessStyle = function onProcessStyle(style, rule, sheet) {\n    for (var i = 0; i < this.registry.onProcessStyle.length; i++) {\n      // $FlowFixMe[prop-missing]\n      rule.style = this.registry.onProcessStyle[i](rule.style, rule, sheet);\n    }\n  }\n  /**\n   * Call `onProcessSheet` hooks.\n   */\n  ;\n\n  _proto.onProcessSheet = function onProcessSheet(sheet) {\n    for (var i = 0; i < this.registry.onProcessSheet.length; i++) {\n      this.registry.onProcessSheet[i](sheet);\n    }\n  }\n  /**\n   * Call `onUpdate` hooks.\n   */\n  ;\n\n  _proto.onUpdate = function onUpdate(data, rule, sheet, options) {\n    for (var i = 0; i < this.registry.onUpdate.length; i++) {\n      this.registry.onUpdate[i](data, rule, sheet, options);\n    }\n  }\n  /**\n   * Call `onChangeValue` hooks.\n   */\n  ;\n\n  _proto.onChangeValue = function onChangeValue(value, prop, rule) {\n    var processedValue = value;\n\n    for (var i = 0; i < this.registry.onChangeValue.length; i++) {\n      processedValue = this.registry.onChangeValue[i](processedValue, prop, rule);\n    }\n\n    return processedValue;\n  }\n  /**\n   * Register a plugin.\n   */\n  ;\n\n  _proto.use = function use(newPlugin, options) {\n    if (options === void 0) {\n      options = {\n        queue: 'external'\n      };\n    }\n\n    var plugins = this.plugins[options.queue]; // Avoids applying same plugin twice, at least based on ref.\n\n    if (plugins.indexOf(newPlugin) !== -1) {\n      return;\n    }\n\n    plugins.push(newPlugin);\n    this.registry = [].concat(this.plugins.external, this.plugins.internal).reduce(function (registry, plugin) {\n      for (var name in plugin) {\n        if (name in registry) {\n          registry[name].push(plugin[name]);\n        } else {\n          process.env.NODE_ENV !== \"production\" ? warning(false, \"[JSS] Unknown hook \\\"\" + name + \"\\\".\") : void 0;\n        }\n      }\n\n      return registry;\n    }, {\n      onCreateRule: [],\n      onProcessRule: [],\n      onProcessStyle: [],\n      onProcessSheet: [],\n      onChangeValue: [],\n      onUpdate: []\n    });\n  };\n\n  return PluginsRegistry;\n}();\n/**\n * Sheets registry to access them all at one place.\n */\n\n\nvar SheetsRegistry = /*#__PURE__*/function () {\n  function SheetsRegistry() {\n    this.registry = [];\n  }\n\n  var _proto = SheetsRegistry.prototype;\n  /**\n   * Register a Style Sheet.\n   */\n\n  _proto.add = function add(sheet) {\n    var registry = this.registry;\n    var index = sheet.options.index;\n    if (registry.indexOf(sheet) !== -1) return;\n\n    if (registry.length === 0 || index >= this.index) {\n      registry.push(sheet);\n      return;\n    } // Find a position.\n\n\n    for (var i = 0; i < registry.length; i++) {\n      if (registry[i].options.index > index) {\n        registry.splice(i, 0, sheet);\n        return;\n      }\n    }\n  }\n  /**\n   * Reset the registry.\n   */\n  ;\n\n  _proto.reset = function reset() {\n    this.registry = [];\n  }\n  /**\n   * Remove a Style Sheet.\n   */\n  ;\n\n  _proto.remove = function remove(sheet) {\n    var index = this.registry.indexOf(sheet);\n    this.registry.splice(index, 1);\n  }\n  /**\n   * Convert all attached sheets to a CSS string.\n   */\n  ;\n\n  _proto.toString = function toString(_temp) {\n    var _ref = _temp === void 0 ? {} : _temp,\n        attached = _ref.attached,\n        options = _objectWithoutPropertiesLoose(_ref, [\"attached\"]);\n\n    var css = '';\n\n    for (var i = 0; i < this.registry.length; i++) {\n      var sheet = this.registry[i];\n\n      if (attached != null && sheet.attached !== attached) {\n        continue;\n      }\n\n      if (css) css += '\\n';\n      css += sheet.toString(options);\n    }\n\n    return css;\n  };\n\n  _createClass(SheetsRegistry, [{\n    key: \"index\",\n\n    /**\n     * Current highest index number.\n     */\n    get: function get() {\n      return this.registry.length === 0 ? 0 : this.registry[this.registry.length - 1].options.index;\n    }\n  }]);\n\n  return SheetsRegistry;\n}();\n/**\n * This is a global sheets registry. Only DomRenderer will add sheets to it.\n * On the server one should use an own SheetsRegistry instance and add the\n * sheets to it, because you need to make sure to create a new registry for\n * each request in order to not leak sheets across requests.\n */\n\n\nvar registry = new SheetsRegistry();\n/* eslint-disable */\n\n/**\n * Now that `globalThis` is available on most platforms\n * (https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/globalThis#browser_compatibility)\n * we check for `globalThis` first. `globalThis` is necessary for jss\n * to run in Agoric's secure version of JavaScript (SES). Under SES,\n * `globalThis` exists, but `window`, `self`, and `Function('return\n * this')()` are all undefined for security reasons.\n *\n * https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\n */\n\nvar globalThis$1 = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' && window.Math === Math ? window : typeof self !== 'undefined' && self.Math === Math ? self : Function('return this')();\nvar ns = '2f1acc6c3a606b082e5eef5e54414ffb';\nif (globalThis$1[ns] == null) globalThis$1[ns] = 0; // Bundle may contain multiple JSS versions at the same time. In order to identify\n// the current version with just one short number and use it for classes generation\n// we use a counter. Also it is more accurate, because user can manually reevaluate\n// the module.\n\nvar moduleId = globalThis$1[ns]++;\nvar maxRules = 1e10;\n/**\n * Returns a function which generates unique class names based on counters.\n * When new generator function is created, rule counter is reseted.\n * We need to reset the rule counter for SSR for each request.\n */\n\nvar createGenerateId = function createGenerateId(options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var ruleCounter = 0;\n\n  var generateId = function generateId(rule, sheet) {\n    ruleCounter += 1;\n\n    if (ruleCounter > maxRules) {\n      process.env.NODE_ENV !== \"production\" ? warning(false, \"[JSS] You might have a memory leak. Rule counter is at \" + ruleCounter + \".\") : void 0;\n    }\n\n    var jssId = '';\n    var prefix = '';\n\n    if (sheet) {\n      if (sheet.options.classNamePrefix) {\n        prefix = sheet.options.classNamePrefix;\n      }\n\n      if (sheet.options.jss.id != null) {\n        jssId = String(sheet.options.jss.id);\n      }\n    }\n\n    if (options.minify) {\n      // Using \"c\" because a number can't be the first char in a class name.\n      return \"\" + (prefix || 'c') + moduleId + jssId + ruleCounter;\n    }\n\n    return prefix + rule.key + \"-\" + moduleId + (jssId ? \"-\" + jssId : '') + \"-\" + ruleCounter;\n  };\n\n  return generateId;\n};\n/**\n * Cache the value from the first time a function is called.\n */\n\n\nvar memoize = function memoize(fn) {\n  var value;\n  return function () {\n    if (!value) value = fn();\n    return value;\n  };\n};\n/**\n * Get a style property value.\n */\n\n\nvar getPropertyValue = function getPropertyValue(cssRule, prop) {\n  try {\n    // Support CSSTOM.\n    if (cssRule.attributeStyleMap) {\n      return cssRule.attributeStyleMap.get(prop);\n    }\n\n    return cssRule.style.getPropertyValue(prop);\n  } catch (err) {\n    // IE may throw if property is unknown.\n    return '';\n  }\n};\n/**\n * Set a style property.\n */\n\n\nvar setProperty = function setProperty(cssRule, prop, value) {\n  try {\n    var cssValue = value;\n\n    if (Array.isArray(value)) {\n      cssValue = toCssValue(value, true);\n\n      if (value[value.length - 1] === '!important') {\n        cssRule.style.setProperty(prop, cssValue, 'important');\n        return true;\n      }\n    } // Support CSSTOM.\n\n\n    if (cssRule.attributeStyleMap) {\n      cssRule.attributeStyleMap.set(prop, cssValue);\n    } else {\n      cssRule.style.setProperty(prop, cssValue);\n    }\n  } catch (err) {\n    // IE may throw if property is unknown.\n    return false;\n  }\n\n  return true;\n};\n/**\n * Remove a style property.\n */\n\n\nvar removeProperty = function removeProperty(cssRule, prop) {\n  try {\n    // Support CSSTOM.\n    if (cssRule.attributeStyleMap) {\n      cssRule.attributeStyleMap.delete(prop);\n    } else {\n      cssRule.style.removeProperty(prop);\n    }\n  } catch (err) {\n    process.env.NODE_ENV !== \"production\" ? warning(false, \"[JSS] DOMException \\\"\" + err.message + \"\\\" was thrown. Tried to remove property \\\"\" + prop + \"\\\".\") : void 0;\n  }\n};\n/**\n * Set the selector.\n */\n\n\nvar setSelector = function setSelector(cssRule, selectorText) {\n  cssRule.selectorText = selectorText; // Return false if setter was not successful.\n  // Currently works in chrome only.\n\n  return cssRule.selectorText === selectorText;\n};\n/**\n * Gets the `head` element upon the first call and caches it.\n * We assume it can't be null.\n */\n\n\nvar getHead = memoize(function () {\n  return document.querySelector('head');\n});\n/**\n * Find attached sheet with an index higher than the passed one.\n */\n\nfunction findHigherSheet(registry, options) {\n  for (var i = 0; i < registry.length; i++) {\n    var sheet = registry[i];\n\n    if (sheet.attached && sheet.options.index > options.index && sheet.options.insertionPoint === options.insertionPoint) {\n      return sheet;\n    }\n  }\n\n  return null;\n}\n/**\n * Find attached sheet with the highest index.\n */\n\n\nfunction findHighestSheet(registry, options) {\n  for (var i = registry.length - 1; i >= 0; i--) {\n    var sheet = registry[i];\n\n    if (sheet.attached && sheet.options.insertionPoint === options.insertionPoint) {\n      return sheet;\n    }\n  }\n\n  return null;\n}\n/**\n * Find a comment with \"jss\" inside.\n */\n\n\nfunction findCommentNode(text) {\n  var head = getHead();\n\n  for (var i = 0; i < head.childNodes.length; i++) {\n    var node = head.childNodes[i];\n\n    if (node.nodeType === 8 && node.nodeValue.trim() === text) {\n      return node;\n    }\n  }\n\n  return null;\n}\n/**\n * Find a node before which we can insert the sheet.\n */\n\n\nfunction findPrevNode(options) {\n  var registry$1 = registry.registry;\n\n  if (registry$1.length > 0) {\n    // Try to insert before the next higher sheet.\n    var sheet = findHigherSheet(registry$1, options);\n\n    if (sheet && sheet.renderer) {\n      return {\n        parent: sheet.renderer.element.parentNode,\n        node: sheet.renderer.element\n      };\n    } // Otherwise insert after the last attached.\n\n\n    sheet = findHighestSheet(registry$1, options);\n\n    if (sheet && sheet.renderer) {\n      return {\n        parent: sheet.renderer.element.parentNode,\n        node: sheet.renderer.element.nextSibling\n      };\n    }\n  } // Try to find a comment placeholder if registry is empty.\n\n\n  var insertionPoint = options.insertionPoint;\n\n  if (insertionPoint && typeof insertionPoint === 'string') {\n    var comment = findCommentNode(insertionPoint);\n\n    if (comment) {\n      return {\n        parent: comment.parentNode,\n        node: comment.nextSibling\n      };\n    } // If user specifies an insertion point and it can't be found in the document -\n    // bad specificity issues may appear.\n\n\n    process.env.NODE_ENV !== \"production\" ? warning(false, \"[JSS] Insertion point \\\"\" + insertionPoint + \"\\\" not found.\") : void 0;\n  }\n\n  return false;\n}\n/**\n * Insert style element into the DOM.\n */\n\n\nfunction insertStyle(style, options) {\n  var insertionPoint = options.insertionPoint;\n  var nextNode = findPrevNode(options);\n\n  if (nextNode !== false && nextNode.parent) {\n    nextNode.parent.insertBefore(style, nextNode.node);\n    return;\n  } // Works with iframes and any node types.\n\n\n  if (insertionPoint && typeof insertionPoint.nodeType === 'number') {\n    // https://stackoverflow.com/questions/41328728/force-casting-in-flow\n    var insertionPointElement = insertionPoint;\n    var parentNode = insertionPointElement.parentNode;\n    if (parentNode) parentNode.insertBefore(style, insertionPointElement.nextSibling);else process.env.NODE_ENV !== \"production\" ? warning(false, '[JSS] Insertion point is not in the DOM.') : void 0;\n    return;\n  }\n\n  getHead().appendChild(style);\n}\n/**\n * Read jss nonce setting from the page if the user has set it.\n */\n\n\nvar getNonce = memoize(function () {\n  var node = document.querySelector('meta[property=\"csp-nonce\"]');\n  return node ? node.getAttribute('content') : null;\n});\n\nvar _insertRule = function insertRule(container, rule, index) {\n  try {\n    if ('insertRule' in container) {\n      var c = container;\n      c.insertRule(rule, index);\n    } // Keyframes rule.\n    else if ('appendRule' in container) {\n      var _c = container;\n\n      _c.appendRule(rule);\n    }\n  } catch (err) {\n    process.env.NODE_ENV !== \"production\" ? warning(false, \"[JSS] \" + err.message) : void 0;\n    return false;\n  }\n\n  return container.cssRules[index];\n};\n\nvar getValidRuleInsertionIndex = function getValidRuleInsertionIndex(container, index) {\n  var maxIndex = container.cssRules.length; // In case previous insertion fails, passed index might be wrong\n\n  if (index === undefined || index > maxIndex) {\n    // eslint-disable-next-line no-param-reassign\n    return maxIndex;\n  }\n\n  return index;\n};\n\nvar createStyle = function createStyle() {\n  var el = document.createElement('style'); // Without it, IE will have a broken source order specificity if we\n  // insert rules after we insert the style tag.\n  // It seems to kick-off the source order specificity algorithm.\n\n  el.textContent = '\\n';\n  return el;\n};\n\nvar DomRenderer = /*#__PURE__*/function () {\n  // HTMLStyleElement needs fixing https://github.com/facebook/flow/issues/2696\n  // Will be empty if link: true option is not set, because\n  // it is only for use together with insertRule API.\n  function DomRenderer(sheet) {\n    this.getPropertyValue = getPropertyValue;\n    this.setProperty = setProperty;\n    this.removeProperty = removeProperty;\n    this.setSelector = setSelector;\n    this.element = void 0;\n    this.sheet = void 0;\n    this.hasInsertedRules = false;\n    this.cssRules = []; // There is no sheet when the renderer is used from a standalone StyleRule.\n\n    if (sheet) registry.add(sheet);\n    this.sheet = sheet;\n\n    var _ref = this.sheet ? this.sheet.options : {},\n        media = _ref.media,\n        meta = _ref.meta,\n        element = _ref.element;\n\n    this.element = element || createStyle();\n    this.element.setAttribute('data-jss', '');\n    if (media) this.element.setAttribute('media', media);\n    if (meta) this.element.setAttribute('data-meta', meta);\n    var nonce = getNonce();\n    if (nonce) this.element.setAttribute('nonce', nonce);\n  }\n  /**\n   * Insert style element into render tree.\n   */\n\n\n  var _proto = DomRenderer.prototype;\n\n  _proto.attach = function attach() {\n    // In the case the element node is external and it is already in the DOM.\n    if (this.element.parentNode || !this.sheet) return;\n    insertStyle(this.element, this.sheet.options); // When rules are inserted using `insertRule` API, after `sheet.detach().attach()`\n    // most browsers create a new CSSStyleSheet, except of all IEs.\n\n    var deployed = Boolean(this.sheet && this.sheet.deployed);\n\n    if (this.hasInsertedRules && deployed) {\n      this.hasInsertedRules = false;\n      this.deploy();\n    }\n  }\n  /**\n   * Remove style element from render tree.\n   */\n  ;\n\n  _proto.detach = function detach() {\n    if (!this.sheet) return;\n    var parentNode = this.element.parentNode;\n    if (parentNode) parentNode.removeChild(this.element); // In the most browsers, rules inserted using insertRule() API will be lost when style element is removed.\n    // Though IE will keep them and we need a consistent behavior.\n\n    if (this.sheet.options.link) {\n      this.cssRules = [];\n      this.element.textContent = '\\n';\n    }\n  }\n  /**\n   * Inject CSS string into element.\n   */\n  ;\n\n  _proto.deploy = function deploy() {\n    var sheet = this.sheet;\n    if (!sheet) return;\n\n    if (sheet.options.link) {\n      this.insertRules(sheet.rules);\n      return;\n    }\n\n    this.element.textContent = \"\\n\" + sheet.toString() + \"\\n\";\n  }\n  /**\n   * Insert RuleList into an element.\n   */\n  ;\n\n  _proto.insertRules = function insertRules(rules, nativeParent) {\n    for (var i = 0; i < rules.index.length; i++) {\n      this.insertRule(rules.index[i], i, nativeParent);\n    }\n  }\n  /**\n   * Insert a rule into element.\n   */\n  ;\n\n  _proto.insertRule = function insertRule(rule, index, nativeParent) {\n    if (nativeParent === void 0) {\n      nativeParent = this.element.sheet;\n    }\n\n    if (rule.rules) {\n      var parent = rule;\n      var latestNativeParent = nativeParent;\n\n      if (rule.type === 'conditional' || rule.type === 'keyframes') {\n        var _insertionIndex = getValidRuleInsertionIndex(nativeParent, index); // We need to render the container without children first.\n\n\n        latestNativeParent = _insertRule(nativeParent, parent.toString({\n          children: false\n        }), _insertionIndex);\n\n        if (latestNativeParent === false) {\n          return false;\n        }\n\n        this.refCssRule(rule, _insertionIndex, latestNativeParent);\n      }\n\n      this.insertRules(parent.rules, latestNativeParent);\n      return latestNativeParent;\n    }\n\n    var ruleStr = rule.toString();\n    if (!ruleStr) return false;\n    var insertionIndex = getValidRuleInsertionIndex(nativeParent, index);\n\n    var nativeRule = _insertRule(nativeParent, ruleStr, insertionIndex);\n\n    if (nativeRule === false) {\n      return false;\n    }\n\n    this.hasInsertedRules = true;\n    this.refCssRule(rule, insertionIndex, nativeRule);\n    return nativeRule;\n  };\n\n  _proto.refCssRule = function refCssRule(rule, index, cssRule) {\n    rule.renderable = cssRule; // We only want to reference the top level rules, deleteRule API doesn't support removing nested rules\n    // like rules inside media queries or keyframes\n\n    if (rule.options.parent instanceof StyleSheet) {\n      this.cssRules[index] = cssRule;\n    }\n  }\n  /**\n   * Delete a rule.\n   */\n  ;\n\n  _proto.deleteRule = function deleteRule(cssRule) {\n    var sheet = this.element.sheet;\n    var index = this.indexOf(cssRule);\n    if (index === -1) return false;\n    sheet.deleteRule(index);\n    this.cssRules.splice(index, 1);\n    return true;\n  }\n  /**\n   * Get index of a CSS Rule.\n   */\n  ;\n\n  _proto.indexOf = function indexOf(cssRule) {\n    return this.cssRules.indexOf(cssRule);\n  }\n  /**\n   * Generate a new CSS rule and replace the existing one.\n   *\n   * Only used for some old browsers because they can't set a selector.\n   */\n  ;\n\n  _proto.replaceRule = function replaceRule(cssRule, rule) {\n    var index = this.indexOf(cssRule);\n    if (index === -1) return false;\n    this.element.sheet.deleteRule(index);\n    this.cssRules.splice(index, 1);\n    return this.insertRule(rule, index);\n  }\n  /**\n   * Get all rules elements.\n   */\n  ;\n\n  _proto.getRules = function getRules() {\n    return this.element.sheet.cssRules;\n  };\n\n  return DomRenderer;\n}();\n\nvar instanceCounter = 0;\n\nvar Jss = /*#__PURE__*/function () {\n  function Jss(options) {\n    this.id = instanceCounter++;\n    this.version = \"10.7.1\";\n    this.plugins = new PluginsRegistry();\n    this.options = {\n      id: {\n        minify: false\n      },\n      createGenerateId: createGenerateId,\n      Renderer: isInBrowser ? DomRenderer : null,\n      plugins: []\n    };\n    this.generateId = createGenerateId({\n      minify: false\n    });\n\n    for (var i = 0; i < plugins.length; i++) {\n      this.plugins.use(plugins[i], {\n        queue: 'internal'\n      });\n    }\n\n    this.setup(options);\n  }\n  /**\n   * Prepares various options, applies plugins.\n   * Should not be used twice on the same instance, because there is no plugins\n   * deduplication logic.\n   */\n\n\n  var _proto = Jss.prototype;\n\n  _proto.setup = function setup(options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    if (options.createGenerateId) {\n      this.options.createGenerateId = options.createGenerateId;\n    }\n\n    if (options.id) {\n      this.options.id = _extends({}, this.options.id, options.id);\n    }\n\n    if (options.createGenerateId || options.id) {\n      this.generateId = this.options.createGenerateId(this.options.id);\n    }\n\n    if (options.insertionPoint != null) this.options.insertionPoint = options.insertionPoint;\n\n    if ('Renderer' in options) {\n      this.options.Renderer = options.Renderer;\n    } // eslint-disable-next-line prefer-spread\n\n\n    if (options.plugins) this.use.apply(this, options.plugins);\n    return this;\n  }\n  /**\n   * Create a Style Sheet.\n   */\n  ;\n\n  _proto.createStyleSheet = function createStyleSheet(styles, options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    var _options = options,\n        index = _options.index;\n\n    if (typeof index !== 'number') {\n      index = registry.index === 0 ? 0 : registry.index + 1;\n    }\n\n    var sheet = new StyleSheet(styles, _extends({}, options, {\n      jss: this,\n      generateId: options.generateId || this.generateId,\n      insertionPoint: this.options.insertionPoint,\n      Renderer: this.options.Renderer,\n      index: index\n    }));\n    this.plugins.onProcessSheet(sheet);\n    return sheet;\n  }\n  /**\n   * Detach the Style Sheet and remove it from the registry.\n   */\n  ;\n\n  _proto.removeStyleSheet = function removeStyleSheet(sheet) {\n    sheet.detach();\n    registry.remove(sheet);\n    return this;\n  }\n  /**\n   * Create a rule without a Style Sheet.\n   * [Deprecated] will be removed in the next major version.\n   */\n  ;\n\n  _proto.createRule = function createRule$1(name, style, options) {\n    if (style === void 0) {\n      style = {};\n    }\n\n    if (options === void 0) {\n      options = {};\n    } // Enable rule without name for inline styles.\n\n\n    if (typeof name === 'object') {\n      // $FlowFixMe[incompatible-call]\n      return this.createRule(undefined, name, style);\n    } // $FlowFixMe[incompatible-type]\n\n\n    var ruleOptions = _extends({}, options, {\n      name: name,\n      jss: this,\n      Renderer: this.options.Renderer\n    });\n\n    if (!ruleOptions.generateId) ruleOptions.generateId = this.generateId;\n    if (!ruleOptions.classes) ruleOptions.classes = {};\n    if (!ruleOptions.keyframes) ruleOptions.keyframes = {};\n    var rule = createRule(name, style, ruleOptions);\n    if (rule) this.plugins.onProcessRule(rule);\n    return rule;\n  }\n  /**\n   * Register plugin. Passed function will be invoked with a rule instance.\n   */\n  ;\n\n  _proto.use = function use() {\n    var _this = this;\n\n    for (var _len = arguments.length, plugins = new Array(_len), _key = 0; _key < _len; _key++) {\n      plugins[_key] = arguments[_key];\n    }\n\n    plugins.forEach(function (plugin) {\n      _this.plugins.use(plugin);\n    });\n    return this;\n  };\n\n  return Jss;\n}();\n/**\n * Extracts a styles object with only props that contain function values.\n */\n\n\nfunction getDynamicStyles(styles) {\n  var to = null;\n\n  for (var key in styles) {\n    var value = styles[key];\n    var type = typeof value;\n\n    if (type === 'function') {\n      if (!to) to = {};\n      to[key] = value;\n    } else if (type === 'object' && value !== null && !Array.isArray(value)) {\n      var extracted = getDynamicStyles(value);\n\n      if (extracted) {\n        if (!to) to = {};\n        to[key] = extracted;\n      }\n    }\n  }\n\n  return to;\n}\n/**\n * SheetsManager is like a WeakMap which is designed to count StyleSheet\n * instances and attach/detach automatically.\n */\n\n\nvar SheetsManager = /*#__PURE__*/function () {\n  function SheetsManager() {\n    this.length = 0;\n    this.sheets = new WeakMap();\n  }\n\n  var _proto = SheetsManager.prototype;\n\n  _proto.get = function get(key) {\n    var entry = this.sheets.get(key);\n    return entry && entry.sheet;\n  };\n\n  _proto.add = function add(key, sheet) {\n    if (this.sheets.has(key)) return;\n    this.length++;\n    this.sheets.set(key, {\n      sheet: sheet,\n      refs: 0\n    });\n  };\n\n  _proto.manage = function manage(key) {\n    var entry = this.sheets.get(key);\n\n    if (entry) {\n      if (entry.refs === 0) {\n        entry.sheet.attach();\n      }\n\n      entry.refs++;\n      return entry.sheet;\n    }\n\n    warning(false, \"[JSS] SheetsManager: can't find sheet to manage\");\n    return undefined;\n  };\n\n  _proto.unmanage = function unmanage(key) {\n    var entry = this.sheets.get(key);\n\n    if (entry) {\n      if (entry.refs > 0) {\n        entry.refs--;\n        if (entry.refs === 0) entry.sheet.detach();\n      }\n    } else {\n      warning(false, \"SheetsManager: can't find sheet to unmanage\");\n    }\n  };\n\n  _createClass(SheetsManager, [{\n    key: \"size\",\n    get: function get() {\n      return this.length;\n    }\n  }]);\n\n  return SheetsManager;\n}();\n/**\n * A better abstraction over CSS.\n *\n * @copyright Oleg Isonen (Slobodskoi) / Isonen 2014-present\n * @website https://github.com/cssinjs/jss\n * @license MIT\n */\n\n/**\n * Export a constant indicating if this browser has CSSTOM support.\n * https://developers.google.com/web/updates/2018/03/cssom\n */\n\n\nvar hasCSSTOMSupport = typeof CSS === 'object' && CSS != null && 'number' in CSS;\n/**\n * Creates a new instance of Jss.\n */\n\nvar create = function create(options) {\n  return new Jss(options);\n};\n/**\n * A global Jss instance.\n */\n\n\nvar jss = create();\nexport default jss;\nexport { RuleList, SheetsManager, SheetsRegistry, create, createGenerateId, createRule, getDynamicStyles, hasCSSTOMSupport, registry as sheets, toCssValue };","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { getDisplayName } from '@material-ui/utils';\nexport default function mergeClasses() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var baseClasses = options.baseClasses,\n      newClasses = options.newClasses,\n      Component = options.Component;\n\n  if (!newClasses) {\n    return baseClasses;\n  }\n\n  var nextClasses = _extends({}, baseClasses);\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (typeof newClasses === 'string') {\n      console.error([\"Material-UI: The value `\".concat(newClasses, \"` \") + \"provided to the classes prop of \".concat(getDisplayName(Component), \" is incorrect.\"), 'You might want to use the className prop instead.'].join('\\n'));\n      return baseClasses;\n    }\n  }\n\n  Object.keys(newClasses).forEach(function (key) {\n    if (process.env.NODE_ENV !== 'production') {\n      if (!baseClasses[key] && newClasses[key]) {\n        console.error([\"Material-UI: The key `\".concat(key, \"` \") + \"provided to the classes prop is not implemented in \".concat(getDisplayName(Component), \".\"), \"You can only override one of the following: \".concat(Object.keys(baseClasses).join(','), \".\")].join('\\n'));\n      }\n\n      if (newClasses[key] && typeof newClasses[key] !== 'string') {\n        console.error([\"Material-UI: The key `\".concat(key, \"` \") + \"provided to the classes prop is not valid for \".concat(getDisplayName(Component), \".\"), \"You need to provide a non empty string instead of: \".concat(newClasses[key], \".\")].join('\\n'));\n      }\n    }\n\n    if (newClasses[key]) {\n      nextClasses[key] = \"\".concat(baseClasses[key], \" \").concat(newClasses[key]);\n    }\n  });\n  return nextClasses;\n}","// Used https://github.com/thinkloop/multi-key-cache as inspiration\nvar multiKeyStore = {\n  set: function set(cache, key1, key2, value) {\n    var subCache = cache.get(key1);\n\n    if (!subCache) {\n      subCache = new Map();\n      cache.set(key1, subCache);\n    }\n\n    subCache.set(key2, value);\n  },\n  get: function get(cache, key1, key2) {\n    var subCache = cache.get(key1);\n    return subCache ? subCache.get(key2) : undefined;\n  },\n  delete: function _delete(cache, key1, key2) {\n    var subCache = cache.get(key1);\n    subCache.delete(key2);\n  }\n};\nexport default multiKeyStore;","import React from 'react';\nvar ThemeContext = React.createContext(null);\n\nif (process.env.NODE_ENV !== 'production') {\n  ThemeContext.displayName = 'ThemeContext';\n}\n\nexport default ThemeContext;","import React from 'react';\nimport ThemeContext from './ThemeContext';\nexport default function useTheme() {\n  var theme = React.useContext(ThemeContext);\n\n  if (process.env.NODE_ENV !== 'production') {\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    React.useDebugValue(theme);\n  }\n\n  return theme;\n}","var hasSymbol = typeof Symbol === 'function' && Symbol.for;\nexport default hasSymbol ? Symbol.for('mui.nested') : '__THEME_NESTED__';","import nested from '../ThemeProvider/nested';\n/**\n * This is the list of the style rule name we use as drop in replacement for the built-in\n * pseudo classes (:checked, :disabled, :focused, etc.).\n *\n * Why do they exist in the first place?\n * These classes are used at a specificity of 2.\n * It allows them to override previously definied styles as well as\n * being untouched by simple user overrides.\n */\n\nvar pseudoClasses = ['checked', 'disabled', 'error', 'focused', 'focusVisible', 'required', 'expanded', 'selected']; // Returns a function which generates unique class names based on counters.\n// When new generator function is created, rule counter is reset.\n// We need to reset the rule counter for SSR for each request.\n//\n// It's inspired by\n// https://github.com/cssinjs/jss/blob/4e6a05dd3f7b6572fdd3ab216861d9e446c20331/src/utils/createGenerateClassName.js\n\nexport default function createGenerateClassName() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var _options$disableGloba = options.disableGlobal,\n      disableGlobal = _options$disableGloba === void 0 ? false : _options$disableGloba,\n      _options$productionPr = options.productionPrefix,\n      productionPrefix = _options$productionPr === void 0 ? 'jss' : _options$productionPr,\n      _options$seed = options.seed,\n      seed = _options$seed === void 0 ? '' : _options$seed;\n  var seedPrefix = seed === '' ? '' : \"\".concat(seed, \"-\");\n  var ruleCounter = 0;\n\n  var getNextCounterId = function getNextCounterId() {\n    ruleCounter += 1;\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (ruleCounter >= 1e10) {\n        console.warn(['Material-UI: You might have a memory leak.', 'The ruleCounter is not supposed to grow that much.'].join(''));\n      }\n    }\n\n    return ruleCounter;\n  };\n\n  return function (rule, styleSheet) {\n    var name = styleSheet.options.name; // Is a global static MUI style?\n\n    if (name && name.indexOf('Mui') === 0 && !styleSheet.options.link && !disableGlobal) {\n      // We can use a shorthand class name, we never use the keys to style the components.\n      if (pseudoClasses.indexOf(rule.key) !== -1) {\n        return \"Mui-\".concat(rule.key);\n      }\n\n      var prefix = \"\".concat(seedPrefix).concat(name, \"-\").concat(rule.key);\n\n      if (!styleSheet.options.theme[nested] || seed !== '') {\n        return prefix;\n      }\n\n      return \"\".concat(prefix, \"-\").concat(getNextCounterId());\n    }\n\n    if (process.env.NODE_ENV === 'production') {\n      return \"\".concat(seedPrefix).concat(productionPrefix).concat(getNextCounterId());\n    }\n\n    var suffix = \"\".concat(rule.key, \"-\").concat(getNextCounterId()); // Help with debuggability.\n\n    if (styleSheet.options.classNamePrefix) {\n      return \"\".concat(seedPrefix).concat(styleSheet.options.classNamePrefix, \"-\").concat(suffix);\n    }\n\n    return \"\".concat(seedPrefix).concat(suffix);\n  };\n}","import warning from 'tiny-warning';\nimport { createRule } from 'jss';\nvar now = Date.now();\nvar fnValuesNs = \"fnValues\" + now;\nvar fnRuleNs = \"fnStyle\" + ++now;\n\nvar functionPlugin = function functionPlugin() {\n  return {\n    onCreateRule: function onCreateRule(name, decl, options) {\n      if (typeof decl !== 'function') return null;\n      var rule = createRule(name, {}, options);\n      rule[fnRuleNs] = decl;\n      return rule;\n    },\n    onProcessStyle: function onProcessStyle(style, rule) {\n      // We need to extract function values from the declaration, so that we can keep core unaware of them.\n      // We need to do that only once.\n      // We don't need to extract functions on each style update, since this can happen only once.\n      // We don't support function values inside of function rules.\n      if (fnValuesNs in rule || fnRuleNs in rule) return style;\n      var fnValues = {};\n\n      for (var prop in style) {\n        var value = style[prop];\n        if (typeof value !== 'function') continue;\n        delete style[prop];\n        fnValues[prop] = value;\n      } // $FlowFixMe[prop-missing]\n\n\n      rule[fnValuesNs] = fnValues;\n      return style;\n    },\n    onUpdate: function onUpdate(data, rule, sheet, options) {\n      var styleRule = rule; // $FlowFixMe[prop-missing]\n\n      var fnRule = styleRule[fnRuleNs]; // If we have a style function, the entire rule is dynamic and style object\n      // will be returned from that function.\n\n      if (fnRule) {\n        // Empty object will remove all currently defined props\n        // in case function rule returns a falsy value.\n        styleRule.style = fnRule(data) || {};\n\n        if (process.env.NODE_ENV === 'development') {\n          for (var prop in styleRule.style) {\n            if (typeof styleRule.style[prop] === 'function') {\n              process.env.NODE_ENV !== \"production\" ? warning(false, '[JSS] Function values inside function rules are not supported.') : void 0;\n              break;\n            }\n          }\n        }\n      } // $FlowFixMe[prop-missing]\n\n\n      var fnValues = styleRule[fnValuesNs]; // If we have a fn values map, it is a rule with function values.\n\n      if (fnValues) {\n        for (var _prop in fnValues) {\n          styleRule.prop(_prop, fnValues[_prop](data), options);\n        }\n      }\n    }\n  };\n};\n\nexport default functionPlugin;","import _extends from '@babel/runtime/helpers/esm/extends';\nimport { RuleList } from 'jss';\nvar at = '@global';\nvar atPrefix = '@global ';\n\nvar GlobalContainerRule = /*#__PURE__*/function () {\n  function GlobalContainerRule(key, styles, options) {\n    this.type = 'global';\n    this.at = at;\n    this.rules = void 0;\n    this.options = void 0;\n    this.key = void 0;\n    this.isProcessed = false;\n    this.key = key;\n    this.options = options;\n    this.rules = new RuleList(_extends({}, options, {\n      parent: this\n    }));\n\n    for (var selector in styles) {\n      this.rules.add(selector, styles[selector]);\n    }\n\n    this.rules.process();\n  }\n  /**\n   * Get a rule.\n   */\n\n\n  var _proto = GlobalContainerRule.prototype;\n\n  _proto.getRule = function getRule(name) {\n    return this.rules.get(name);\n  }\n  /**\n   * Create and register rule, run plugins.\n   */\n  ;\n\n  _proto.addRule = function addRule(name, style, options) {\n    var rule = this.rules.add(name, style, options);\n    if (rule) this.options.jss.plugins.onProcessRule(rule);\n    return rule;\n  }\n  /**\n   * Get index of a rule.\n   */\n  ;\n\n  _proto.indexOf = function indexOf(rule) {\n    return this.rules.indexOf(rule);\n  }\n  /**\n   * Generates a CSS string.\n   */\n  ;\n\n  _proto.toString = function toString() {\n    return this.rules.toString();\n  };\n\n  return GlobalContainerRule;\n}();\n\nvar GlobalPrefixedRule = /*#__PURE__*/function () {\n  function GlobalPrefixedRule(key, style, options) {\n    this.type = 'global';\n    this.at = at;\n    this.options = void 0;\n    this.rule = void 0;\n    this.isProcessed = false;\n    this.key = void 0;\n    this.key = key;\n    this.options = options;\n    var selector = key.substr(atPrefix.length);\n    this.rule = options.jss.createRule(selector, style, _extends({}, options, {\n      parent: this\n    }));\n  }\n\n  var _proto2 = GlobalPrefixedRule.prototype;\n\n  _proto2.toString = function toString(options) {\n    return this.rule ? this.rule.toString(options) : '';\n  };\n\n  return GlobalPrefixedRule;\n}();\n\nvar separatorRegExp = /\\s*,\\s*/g;\n\nfunction addScope(selector, scope) {\n  var parts = selector.split(separatorRegExp);\n  var scoped = '';\n\n  for (var i = 0; i < parts.length; i++) {\n    scoped += scope + \" \" + parts[i].trim();\n    if (parts[i + 1]) scoped += ', ';\n  }\n\n  return scoped;\n}\n\nfunction handleNestedGlobalContainerRule(rule, sheet) {\n  var options = rule.options,\n      style = rule.style;\n  var rules = style ? style[at] : null;\n  if (!rules) return;\n\n  for (var name in rules) {\n    sheet.addRule(name, rules[name], _extends({}, options, {\n      selector: addScope(name, rule.selector)\n    }));\n  }\n\n  delete style[at];\n}\n\nfunction handlePrefixedGlobalRule(rule, sheet) {\n  var options = rule.options,\n      style = rule.style;\n\n  for (var prop in style) {\n    if (prop[0] !== '@' || prop.substr(0, at.length) !== at) continue;\n    var selector = addScope(prop.substr(at.length), rule.selector);\n    sheet.addRule(selector, style[prop], _extends({}, options, {\n      selector: selector\n    }));\n    delete style[prop];\n  }\n}\n/**\n * Convert nested rules to separate, remove them from original styles.\n *\n * @param {Rule} rule\n * @api public\n */\n\n\nfunction jssGlobal() {\n  function onCreateRule(name, styles, options) {\n    if (!name) return null;\n\n    if (name === at) {\n      return new GlobalContainerRule(name, styles, options);\n    }\n\n    if (name[0] === '@' && name.substr(0, atPrefix.length) === atPrefix) {\n      return new GlobalPrefixedRule(name, styles, options);\n    }\n\n    var parent = options.parent;\n\n    if (parent) {\n      if (parent.type === 'global' || parent.options.parent && parent.options.parent.type === 'global') {\n        options.scoped = false;\n      }\n    }\n\n    if (options.scoped === false) {\n      options.selector = name;\n    }\n\n    return null;\n  }\n\n  function onProcessRule(rule, sheet) {\n    if (rule.type !== 'style' || !sheet) return;\n    handleNestedGlobalContainerRule(rule, sheet);\n    handlePrefixedGlobalRule(rule, sheet);\n  }\n\n  return {\n    onCreateRule: onCreateRule,\n    onProcessRule: onProcessRule\n  };\n}\n\nexport default jssGlobal;","import _extends from '@babel/runtime/helpers/esm/extends';\nimport warning from 'tiny-warning';\nvar separatorRegExp = /\\s*,\\s*/g;\nvar parentRegExp = /&/g;\nvar refRegExp = /\\$([\\w-]+)/g;\n/**\n * Convert nested rules to separate, remove them from original styles.\n *\n * @param {Rule} rule\n * @api public\n */\n\nfunction jssNested() {\n  // Get a function to be used for $ref replacement.\n  function getReplaceRef(container, sheet) {\n    return function (match, key) {\n      var rule = container.getRule(key) || sheet && sheet.getRule(key);\n\n      if (rule) {\n        rule = rule;\n        return rule.selector;\n      }\n\n      process.env.NODE_ENV !== \"production\" ? warning(false, \"[JSS] Could not find the referenced rule \\\"\" + key + \"\\\" in \\\"\" + (container.options.meta || container.toString()) + \"\\\".\") : void 0;\n      return key;\n    };\n  }\n\n  function replaceParentRefs(nestedProp, parentProp) {\n    var parentSelectors = parentProp.split(separatorRegExp);\n    var nestedSelectors = nestedProp.split(separatorRegExp);\n    var result = '';\n\n    for (var i = 0; i < parentSelectors.length; i++) {\n      var parent = parentSelectors[i];\n\n      for (var j = 0; j < nestedSelectors.length; j++) {\n        var nested = nestedSelectors[j];\n        if (result) result += ', '; // Replace all & by the parent or prefix & with the parent.\n\n        result += nested.indexOf('&') !== -1 ? nested.replace(parentRegExp, parent) : parent + \" \" + nested;\n      }\n    }\n\n    return result;\n  }\n\n  function getOptions(rule, container, prevOptions) {\n    // Options has been already created, now we only increase index.\n    if (prevOptions) return _extends({}, prevOptions, {\n      index: prevOptions.index + 1 // $FlowFixMe[prop-missing]\n\n    });\n    var nestingLevel = rule.options.nestingLevel;\n    nestingLevel = nestingLevel === undefined ? 1 : nestingLevel + 1;\n\n    var options = _extends({}, rule.options, {\n      nestingLevel: nestingLevel,\n      index: container.indexOf(rule) + 1 // We don't need the parent name to be set options for chlid.\n\n    });\n\n    delete options.name;\n    return options;\n  }\n\n  function onProcessStyle(style, rule, sheet) {\n    if (rule.type !== 'style') return style;\n    var styleRule = rule;\n    var container = styleRule.options.parent;\n    var options;\n    var replaceRef;\n\n    for (var prop in style) {\n      var isNested = prop.indexOf('&') !== -1;\n      var isNestedConditional = prop[0] === '@';\n      if (!isNested && !isNestedConditional) continue;\n      options = getOptions(styleRule, container, options);\n\n      if (isNested) {\n        var selector = replaceParentRefs(prop, styleRule.selector); // Lazily create the ref replacer function just once for\n        // all nested rules within the sheet.\n\n        if (!replaceRef) replaceRef = getReplaceRef(container, sheet); // Replace all $refs.\n\n        selector = selector.replace(refRegExp, replaceRef);\n        container.addRule(selector, style[prop], _extends({}, options, {\n          selector: selector\n        }));\n      } else if (isNestedConditional) {\n        // Place conditional right after the parent rule to ensure right ordering.\n        container.addRule(prop, {}, options) // Flow expects more options but they aren't required\n        // And flow doesn't know this will always be a StyleRule which has the addRule method\n        // $FlowFixMe[incompatible-use]\n        // $FlowFixMe[prop-missing]\n        .addRule(styleRule.key, style[prop], {\n          selector: styleRule.selector\n        });\n      }\n\n      delete style[prop];\n    }\n\n    return style;\n  }\n\n  return {\n    onProcessStyle: onProcessStyle\n  };\n}\n\nexport default jssNested;","/* eslint-disable no-var, prefer-template */\nvar uppercasePattern = /[A-Z]/g;\nvar msPattern = /^ms-/;\nvar cache = {};\n\nfunction toHyphenLower(match) {\n  return '-' + match.toLowerCase();\n}\n\nfunction hyphenateStyleName(name) {\n  if (cache.hasOwnProperty(name)) {\n    return cache[name];\n  }\n\n  var hName = name.replace(uppercasePattern, toHyphenLower);\n  return cache[name] = msPattern.test(hName) ? '-' + hName : hName;\n}\n\nexport default hyphenateStyleName;","import hyphenate from 'hyphenate-style-name';\n/**\n * Convert camel cased property names to dash separated.\n *\n * @param {Object} style\n * @return {Object}\n */\n\nfunction convertCase(style) {\n  var converted = {};\n\n  for (var prop in style) {\n    var key = prop.indexOf('--') === 0 ? prop : hyphenate(prop);\n    converted[key] = style[prop];\n  }\n\n  if (style.fallbacks) {\n    if (Array.isArray(style.fallbacks)) converted.fallbacks = style.fallbacks.map(convertCase);else converted.fallbacks = convertCase(style.fallbacks);\n  }\n\n  return converted;\n}\n/**\n * Allow camel cased property names by converting them back to dasherized.\n *\n * @param {Rule} rule\n */\n\n\nfunction camelCase() {\n  function onProcessStyle(style) {\n    if (Array.isArray(style)) {\n      // Handle rules like @font-face, which can have multiple styles in an array\n      for (var index = 0; index < style.length; index++) {\n        style[index] = convertCase(style[index]);\n      }\n\n      return style;\n    }\n\n    return convertCase(style);\n  }\n\n  function onChangeValue(value, prop, rule) {\n    if (prop.indexOf('--') === 0) {\n      return value;\n    }\n\n    var hyphenatedProp = hyphenate(prop); // There was no camel case in place\n\n    if (prop === hyphenatedProp) return value;\n    rule.prop(hyphenatedProp, value); // Core will ignore that property value we set the proper one above.\n\n    return null;\n  }\n\n  return {\n    onProcessStyle: onProcessStyle,\n    onChangeValue: onChangeValue\n  };\n}\n\nexport default camelCase;","import { hasCSSTOMSupport } from 'jss';\nvar px = hasCSSTOMSupport && CSS ? CSS.px : 'px';\nvar ms = hasCSSTOMSupport && CSS ? CSS.ms : 'ms';\nvar percent = hasCSSTOMSupport && CSS ? CSS.percent : '%';\n/**\n * Generated jss-plugin-default-unit CSS property units\n *\n * @type object\n */\n\nvar defaultUnits = {\n  // Animation properties\n  'animation-delay': ms,\n  'animation-duration': ms,\n  // Background properties\n  'background-position': px,\n  'background-position-x': px,\n  'background-position-y': px,\n  'background-size': px,\n  // Border Properties\n  border: px,\n  'border-bottom': px,\n  'border-bottom-left-radius': px,\n  'border-bottom-right-radius': px,\n  'border-bottom-width': px,\n  'border-left': px,\n  'border-left-width': px,\n  'border-radius': px,\n  'border-right': px,\n  'border-right-width': px,\n  'border-top': px,\n  'border-top-left-radius': px,\n  'border-top-right-radius': px,\n  'border-top-width': px,\n  'border-width': px,\n  'border-block': px,\n  'border-block-end': px,\n  'border-block-end-width': px,\n  'border-block-start': px,\n  'border-block-start-width': px,\n  'border-block-width': px,\n  'border-inline': px,\n  'border-inline-end': px,\n  'border-inline-end-width': px,\n  'border-inline-start': px,\n  'border-inline-start-width': px,\n  'border-inline-width': px,\n  'border-start-start-radius': px,\n  'border-start-end-radius': px,\n  'border-end-start-radius': px,\n  'border-end-end-radius': px,\n  // Margin properties\n  margin: px,\n  'margin-bottom': px,\n  'margin-left': px,\n  'margin-right': px,\n  'margin-top': px,\n  'margin-block': px,\n  'margin-block-end': px,\n  'margin-block-start': px,\n  'margin-inline': px,\n  'margin-inline-end': px,\n  'margin-inline-start': px,\n  // Padding properties\n  padding: px,\n  'padding-bottom': px,\n  'padding-left': px,\n  'padding-right': px,\n  'padding-top': px,\n  'padding-block': px,\n  'padding-block-end': px,\n  'padding-block-start': px,\n  'padding-inline': px,\n  'padding-inline-end': px,\n  'padding-inline-start': px,\n  // Mask properties\n  'mask-position-x': px,\n  'mask-position-y': px,\n  'mask-size': px,\n  // Width and height properties\n  height: px,\n  width: px,\n  'min-height': px,\n  'max-height': px,\n  'min-width': px,\n  'max-width': px,\n  // Position properties\n  bottom: px,\n  left: px,\n  top: px,\n  right: px,\n  inset: px,\n  'inset-block': px,\n  'inset-block-end': px,\n  'inset-block-start': px,\n  'inset-inline': px,\n  'inset-inline-end': px,\n  'inset-inline-start': px,\n  // Shadow properties\n  'box-shadow': px,\n  'text-shadow': px,\n  // Column properties\n  'column-gap': px,\n  'column-rule': px,\n  'column-rule-width': px,\n  'column-width': px,\n  // Font and text properties\n  'font-size': px,\n  'font-size-delta': px,\n  'letter-spacing': px,\n  'text-decoration-thickness': px,\n  'text-indent': px,\n  'text-stroke': px,\n  'text-stroke-width': px,\n  'word-spacing': px,\n  // Motion properties\n  motion: px,\n  'motion-offset': px,\n  // Outline properties\n  outline: px,\n  'outline-offset': px,\n  'outline-width': px,\n  // Perspective properties\n  perspective: px,\n  'perspective-origin-x': percent,\n  'perspective-origin-y': percent,\n  // Transform properties\n  'transform-origin': percent,\n  'transform-origin-x': percent,\n  'transform-origin-y': percent,\n  'transform-origin-z': percent,\n  // Transition properties\n  'transition-delay': ms,\n  'transition-duration': ms,\n  // Alignment properties\n  'vertical-align': px,\n  'flex-basis': px,\n  // Some random properties\n  'shape-margin': px,\n  size: px,\n  gap: px,\n  // Grid properties\n  grid: px,\n  'grid-gap': px,\n  'row-gap': px,\n  'grid-row-gap': px,\n  'grid-column-gap': px,\n  'grid-template-rows': px,\n  'grid-template-columns': px,\n  'grid-auto-rows': px,\n  'grid-auto-columns': px,\n  // Not existing properties.\n  // Used to avoid issues with jss-plugin-expand integration.\n  'box-shadow-x': px,\n  'box-shadow-y': px,\n  'box-shadow-blur': px,\n  'box-shadow-spread': px,\n  'font-line-height': px,\n  'text-shadow-x': px,\n  'text-shadow-y': px,\n  'text-shadow-blur': px\n};\n/**\n * Clones the object and adds a camel cased property version.\n */\n\nfunction addCamelCasedVersion(obj) {\n  var regExp = /(-[a-z])/g;\n\n  var replace = function replace(str) {\n    return str[1].toUpperCase();\n  };\n\n  var newObj = {};\n\n  for (var _key in obj) {\n    newObj[_key] = obj[_key];\n    newObj[_key.replace(regExp, replace)] = obj[_key];\n  }\n\n  return newObj;\n}\n\nvar units = addCamelCasedVersion(defaultUnits);\n/**\n * Recursive deep style passing function\n */\n\nfunction iterate(prop, value, options) {\n  if (value == null) return value;\n\n  if (Array.isArray(value)) {\n    for (var i = 0; i < value.length; i++) {\n      value[i] = iterate(prop, value[i], options);\n    }\n  } else if (typeof value === 'object') {\n    if (prop === 'fallbacks') {\n      for (var innerProp in value) {\n        value[innerProp] = iterate(innerProp, value[innerProp], options);\n      }\n    } else {\n      for (var _innerProp in value) {\n        value[_innerProp] = iterate(prop + \"-\" + _innerProp, value[_innerProp], options);\n      }\n    } // eslint-disable-next-line no-restricted-globals\n\n  } else if (typeof value === 'number' && isNaN(value) === false) {\n    var unit = options[prop] || units[prop]; // Add the unit if available, except for the special case of 0px.\n\n    if (unit && !(value === 0 && unit === px)) {\n      return typeof unit === 'function' ? unit(value).toString() : \"\" + value + unit;\n    }\n\n    return value.toString();\n  }\n\n  return value;\n}\n/**\n * Add unit to numeric values.\n */\n\n\nfunction defaultUnit(options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var camelCasedOptions = addCamelCasedVersion(options);\n\n  function onProcessStyle(style, rule) {\n    if (rule.type !== 'style') return style;\n\n    for (var prop in style) {\n      style[prop] = iterate(prop, style[prop], camelCasedOptions);\n    }\n\n    return style;\n  }\n\n  function onChangeValue(value, prop) {\n    return iterate(prop, value, camelCasedOptions);\n  }\n\n  return {\n    onProcessStyle: onProcessStyle,\n    onChangeValue: onChangeValue\n  };\n}\n\nexport default defaultUnit;","import isInBrowser from 'is-in-browser';\nimport _toConsumableArray from '@babel/runtime/helpers/esm/toConsumableArray'; // Export javascript style and css style vendor prefixes.\n\nvar js = '';\nvar css = '';\nvar vendor = '';\nvar browser = '';\nvar isTouch = isInBrowser && 'ontouchstart' in document.documentElement; // We should not do anything if required serverside.\n\nif (isInBrowser) {\n  // Order matters. We need to check Webkit the last one because\n  // other vendors use to add Webkit prefixes to some properties\n  var jsCssMap = {\n    Moz: '-moz-',\n    ms: '-ms-',\n    O: '-o-',\n    Webkit: '-webkit-'\n  };\n\n  var _document$createEleme = document.createElement('p'),\n      style = _document$createEleme.style;\n\n  var testProp = 'Transform';\n\n  for (var key in jsCssMap) {\n    if (key + testProp in style) {\n      js = key;\n      css = jsCssMap[key];\n      break;\n    }\n  } // Correctly detect the Edge browser.\n\n\n  if (js === 'Webkit' && 'msHyphens' in style) {\n    js = 'ms';\n    css = jsCssMap.ms;\n    browser = 'edge';\n  } // Correctly detect the Safari browser.\n\n\n  if (js === 'Webkit' && '-apple-trailing-word' in style) {\n    vendor = 'apple';\n  }\n}\n/**\n * Vendor prefix string for the current browser.\n *\n * @type {{js: String, css: String, vendor: String, browser: String}}\n * @api public\n */\n\n\nvar prefix = {\n  js: js,\n  css: css,\n  vendor: vendor,\n  browser: browser,\n  isTouch: isTouch\n};\n/**\n * Test if a keyframe at-rule should be prefixed or not\n *\n * @param {String} vendor prefix string for the current browser.\n * @return {String}\n * @api public\n */\n\nfunction supportedKeyframes(key) {\n  // Keyframes is already prefixed. e.g. key = '@-webkit-keyframes a'\n  if (key[1] === '-') return key; // No need to prefix IE/Edge. Older browsers will ignore unsupported rules.\n  // https://caniuse.com/#search=keyframes\n\n  if (prefix.js === 'ms') return key;\n  return \"@\" + prefix.css + \"keyframes\" + key.substr(10);\n} // https://caniuse.com/#search=appearance\n\n\nvar appearence = {\n  noPrefill: ['appearance'],\n  supportedProperty: function supportedProperty(prop) {\n    if (prop !== 'appearance') return false;\n    if (prefix.js === 'ms') return \"-webkit-\" + prop;\n    return prefix.css + prop;\n  }\n}; // https://caniuse.com/#search=color-adjust\n\nvar colorAdjust = {\n  noPrefill: ['color-adjust'],\n  supportedProperty: function supportedProperty(prop) {\n    if (prop !== 'color-adjust') return false;\n    if (prefix.js === 'Webkit') return prefix.css + \"print-\" + prop;\n    return prop;\n  }\n};\nvar regExp = /[-\\s]+(.)?/g;\n/**\n * Replaces the letter with the capital letter\n *\n * @param {String} match\n * @param {String} c\n * @return {String}\n * @api private\n */\n\nfunction toUpper(match, c) {\n  return c ? c.toUpperCase() : '';\n}\n/**\n * Convert dash separated strings to camel-cased.\n *\n * @param {String} str\n * @return {String}\n * @api private\n */\n\n\nfunction camelize(str) {\n  return str.replace(regExp, toUpper);\n}\n/**\n * Convert dash separated strings to pascal cased.\n *\n * @param {String} str\n * @return {String}\n * @api private\n */\n\n\nfunction pascalize(str) {\n  return camelize(\"-\" + str);\n} // but we can use a longhand property instead.\n// https://caniuse.com/#search=mask\n\n\nvar mask = {\n  noPrefill: ['mask'],\n  supportedProperty: function supportedProperty(prop, style) {\n    if (!/^mask/.test(prop)) return false;\n\n    if (prefix.js === 'Webkit') {\n      var longhand = 'mask-image';\n\n      if (camelize(longhand) in style) {\n        return prop;\n      }\n\n      if (prefix.js + pascalize(longhand) in style) {\n        return prefix.css + prop;\n      }\n    }\n\n    return prop;\n  }\n}; // https://caniuse.com/#search=text-orientation\n\nvar textOrientation = {\n  noPrefill: ['text-orientation'],\n  supportedProperty: function supportedProperty(prop) {\n    if (prop !== 'text-orientation') return false;\n\n    if (prefix.vendor === 'apple' && !prefix.isTouch) {\n      return prefix.css + prop;\n    }\n\n    return prop;\n  }\n}; // https://caniuse.com/#search=transform\n\nvar transform = {\n  noPrefill: ['transform'],\n  supportedProperty: function supportedProperty(prop, style, options) {\n    if (prop !== 'transform') return false;\n\n    if (options.transform) {\n      return prop;\n    }\n\n    return prefix.css + prop;\n  }\n}; // https://caniuse.com/#search=transition\n\nvar transition = {\n  noPrefill: ['transition'],\n  supportedProperty: function supportedProperty(prop, style, options) {\n    if (prop !== 'transition') return false;\n\n    if (options.transition) {\n      return prop;\n    }\n\n    return prefix.css + prop;\n  }\n}; // https://caniuse.com/#search=writing-mode\n\nvar writingMode = {\n  noPrefill: ['writing-mode'],\n  supportedProperty: function supportedProperty(prop) {\n    if (prop !== 'writing-mode') return false;\n\n    if (prefix.js === 'Webkit' || prefix.js === 'ms' && prefix.browser !== 'edge') {\n      return prefix.css + prop;\n    }\n\n    return prop;\n  }\n}; // https://caniuse.com/#search=user-select\n\nvar userSelect = {\n  noPrefill: ['user-select'],\n  supportedProperty: function supportedProperty(prop) {\n    if (prop !== 'user-select') return false;\n\n    if (prefix.js === 'Moz' || prefix.js === 'ms' || prefix.vendor === 'apple') {\n      return prefix.css + prop;\n    }\n\n    return prop;\n  }\n}; // https://caniuse.com/#search=multicolumn\n// https://github.com/postcss/autoprefixer/issues/491\n// https://github.com/postcss/autoprefixer/issues/177\n\nvar breakPropsOld = {\n  supportedProperty: function supportedProperty(prop, style) {\n    if (!/^break-/.test(prop)) return false;\n\n    if (prefix.js === 'Webkit') {\n      var jsProp = \"WebkitColumn\" + pascalize(prop);\n      return jsProp in style ? prefix.css + \"column-\" + prop : false;\n    }\n\n    if (prefix.js === 'Moz') {\n      var _jsProp = \"page\" + pascalize(prop);\n\n      return _jsProp in style ? \"page-\" + prop : false;\n    }\n\n    return false;\n  }\n}; // See https://github.com/postcss/autoprefixer/issues/324.\n\nvar inlineLogicalOld = {\n  supportedProperty: function supportedProperty(prop, style) {\n    if (!/^(border|margin|padding)-inline/.test(prop)) return false;\n    if (prefix.js === 'Moz') return prop;\n    var newProp = prop.replace('-inline', '');\n    return prefix.js + pascalize(newProp) in style ? prefix.css + newProp : false;\n  }\n}; // Camelization is required because we can't test using.\n// CSS syntax for e.g. in FF.\n\nvar unprefixed = {\n  supportedProperty: function supportedProperty(prop, style) {\n    return camelize(prop) in style ? prop : false;\n  }\n};\nvar prefixed = {\n  supportedProperty: function supportedProperty(prop, style) {\n    var pascalized = pascalize(prop); // Return custom CSS variable without prefixing.\n\n    if (prop[0] === '-') return prop; // Return already prefixed value without prefixing.\n\n    if (prop[0] === '-' && prop[1] === '-') return prop;\n    if (prefix.js + pascalized in style) return prefix.css + prop; // Try webkit fallback.\n\n    if (prefix.js !== 'Webkit' && \"Webkit\" + pascalized in style) return \"-webkit-\" + prop;\n    return false;\n  }\n}; // https://caniuse.com/#search=scroll-snap\n\nvar scrollSnap = {\n  supportedProperty: function supportedProperty(prop) {\n    if (prop.substring(0, 11) !== 'scroll-snap') return false;\n\n    if (prefix.js === 'ms') {\n      return \"\" + prefix.css + prop;\n    }\n\n    return prop;\n  }\n}; // https://caniuse.com/#search=overscroll-behavior\n\nvar overscrollBehavior = {\n  supportedProperty: function supportedProperty(prop) {\n    if (prop !== 'overscroll-behavior') return false;\n\n    if (prefix.js === 'ms') {\n      return prefix.css + \"scroll-chaining\";\n    }\n\n    return prop;\n  }\n};\nvar propMap = {\n  'flex-grow': 'flex-positive',\n  'flex-shrink': 'flex-negative',\n  'flex-basis': 'flex-preferred-size',\n  'justify-content': 'flex-pack',\n  order: 'flex-order',\n  'align-items': 'flex-align',\n  'align-content': 'flex-line-pack' // 'align-self' is handled by 'align-self' plugin.\n\n}; // Support old flex spec from 2012.\n\nvar flex2012 = {\n  supportedProperty: function supportedProperty(prop, style) {\n    var newProp = propMap[prop];\n    if (!newProp) return false;\n    return prefix.js + pascalize(newProp) in style ? prefix.css + newProp : false;\n  }\n};\nvar propMap$1 = {\n  flex: 'box-flex',\n  'flex-grow': 'box-flex',\n  'flex-direction': ['box-orient', 'box-direction'],\n  order: 'box-ordinal-group',\n  'align-items': 'box-align',\n  'flex-flow': ['box-orient', 'box-direction'],\n  'justify-content': 'box-pack'\n};\nvar propKeys = Object.keys(propMap$1);\n\nvar prefixCss = function prefixCss(p) {\n  return prefix.css + p;\n}; // Support old flex spec from 2009.\n\n\nvar flex2009 = {\n  supportedProperty: function supportedProperty(prop, style, _ref) {\n    var multiple = _ref.multiple;\n\n    if (propKeys.indexOf(prop) > -1) {\n      var newProp = propMap$1[prop];\n\n      if (!Array.isArray(newProp)) {\n        return prefix.js + pascalize(newProp) in style ? prefix.css + newProp : false;\n      }\n\n      if (!multiple) return false;\n\n      for (var i = 0; i < newProp.length; i++) {\n        if (!(prefix.js + pascalize(newProp[0]) in style)) {\n          return false;\n        }\n      }\n\n      return newProp.map(prefixCss);\n    }\n\n    return false;\n  }\n}; // plugins = [\n//   ...plugins,\n//    breakPropsOld,\n//    inlineLogicalOld,\n//    unprefixed,\n//    prefixed,\n//    scrollSnap,\n//    flex2012,\n//    flex2009\n// ]\n// Plugins without 'noPrefill' value, going last.\n// 'flex-*' plugins should be at the bottom.\n// 'flex2009' going after 'flex2012'.\n// 'prefixed' going after 'unprefixed'\n\nvar plugins = [appearence, colorAdjust, mask, textOrientation, transform, transition, writingMode, userSelect, breakPropsOld, inlineLogicalOld, unprefixed, prefixed, scrollSnap, overscrollBehavior, flex2012, flex2009];\nvar propertyDetectors = plugins.filter(function (p) {\n  return p.supportedProperty;\n}).map(function (p) {\n  return p.supportedProperty;\n});\nvar noPrefill = plugins.filter(function (p) {\n  return p.noPrefill;\n}).reduce(function (a, p) {\n  a.push.apply(a, _toConsumableArray(p.noPrefill));\n  return a;\n}, []);\nvar el;\nvar cache = {};\n\nif (isInBrowser) {\n  el = document.createElement('p'); // We test every property on vendor prefix requirement.\n  // Once tested, result is cached. It gives us up to 70% perf boost.\n  // http://jsperf.com/element-style-object-access-vs-plain-object\n  //\n  // Prefill cache with known css properties to reduce amount of\n  // properties we need to feature test at runtime.\n  // http://davidwalsh.name/vendor-prefix\n\n  var computed = window.getComputedStyle(document.documentElement, '');\n\n  for (var key$1 in computed) {\n    // eslint-disable-next-line no-restricted-globals\n    if (!isNaN(key$1)) cache[computed[key$1]] = computed[key$1];\n  } // Properties that cannot be correctly detected using the\n  // cache prefill method.\n\n\n  noPrefill.forEach(function (x) {\n    return delete cache[x];\n  });\n}\n/**\n * Test if a property is supported, returns supported property with vendor\n * prefix if required. Returns `false` if not supported.\n *\n * @param {String} prop dash separated\n * @param {Object} [options]\n * @return {String|Boolean}\n * @api public\n */\n\n\nfunction supportedProperty(prop, options) {\n  if (options === void 0) {\n    options = {};\n  } // For server-side rendering.\n\n\n  if (!el) return prop; // Remove cache for benchmark tests or return property from the cache.\n\n  if (process.env.NODE_ENV !== 'benchmark' && cache[prop] != null) {\n    return cache[prop];\n  } // Check if 'transition' or 'transform' natively supported in browser.\n\n\n  if (prop === 'transition' || prop === 'transform') {\n    options[prop] = prop in el.style;\n  } // Find a plugin for current prefix property.\n\n\n  for (var i = 0; i < propertyDetectors.length; i++) {\n    cache[prop] = propertyDetectors[i](prop, el.style, options); // Break loop, if value found.\n\n    if (cache[prop]) break;\n  } // Reset styles for current property.\n  // Firefox can even throw an error for invalid properties, e.g., \"0\".\n\n\n  try {\n    el.style[prop] = '';\n  } catch (err) {\n    return false;\n  }\n\n  return cache[prop];\n}\n\nvar cache$1 = {};\nvar transitionProperties = {\n  transition: 1,\n  'transition-property': 1,\n  '-webkit-transition': 1,\n  '-webkit-transition-property': 1\n};\nvar transPropsRegExp = /(^\\s*[\\w-]+)|, (\\s*[\\w-]+)(?![^()]*\\))/g;\nvar el$1;\n/**\n * Returns prefixed value transition/transform if needed.\n *\n * @param {String} match\n * @param {String} p1\n * @param {String} p2\n * @return {String}\n * @api private\n */\n\nfunction prefixTransitionCallback(match, p1, p2) {\n  if (p1 === 'var') return 'var';\n  if (p1 === 'all') return 'all';\n  if (p2 === 'all') return ', all';\n  var prefixedValue = p1 ? supportedProperty(p1) : \", \" + supportedProperty(p2);\n  if (!prefixedValue) return p1 || p2;\n  return prefixedValue;\n}\n\nif (isInBrowser) el$1 = document.createElement('p');\n/**\n * Returns prefixed value if needed. Returns `false` if value is not supported.\n *\n * @param {String} property\n * @param {String} value\n * @return {String|Boolean}\n * @api public\n */\n\nfunction supportedValue(property, value) {\n  // For server-side rendering.\n  var prefixedValue = value;\n  if (!el$1 || property === 'content') return value; // It is a string or a number as a string like '1'.\n  // We want only prefixable values here.\n  // eslint-disable-next-line no-restricted-globals\n\n  if (typeof prefixedValue !== 'string' || !isNaN(parseInt(prefixedValue, 10))) {\n    return prefixedValue;\n  } // Create cache key for current value.\n\n\n  var cacheKey = property + prefixedValue; // Remove cache for benchmark tests or return value from cache.\n\n  if (process.env.NODE_ENV !== 'benchmark' && cache$1[cacheKey] != null) {\n    return cache$1[cacheKey];\n  } // IE can even throw an error in some cases, for e.g. style.content = 'bar'.\n\n\n  try {\n    // Test value as it is.\n    el$1.style[property] = prefixedValue;\n  } catch (err) {\n    // Return false if value not supported.\n    cache$1[cacheKey] = false;\n    return false;\n  } // If 'transition' or 'transition-property' property.\n\n\n  if (transitionProperties[property]) {\n    prefixedValue = prefixedValue.replace(transPropsRegExp, prefixTransitionCallback);\n  } else if (el$1.style[property] === '') {\n    // Value with a vendor prefix.\n    prefixedValue = prefix.css + prefixedValue; // Hardcode test to convert \"flex\" to \"-ms-flexbox\" for IE10.\n\n    if (prefixedValue === '-ms-flex') el$1.style[property] = '-ms-flexbox'; // Test prefixed value.\n\n    el$1.style[property] = prefixedValue; // Return false if value not supported.\n\n    if (el$1.style[property] === '') {\n      cache$1[cacheKey] = false;\n      return false;\n    }\n  } // Reset styles for current property.\n\n\n  el$1.style[property] = ''; // Write current value to cache.\n\n  cache$1[cacheKey] = prefixedValue;\n  return cache$1[cacheKey];\n}\n\nexport { prefix, supportedKeyframes, supportedProperty, supportedValue };","import { supportedKeyframes, supportedValue, supportedProperty } from 'css-vendor';\nimport { toCssValue } from 'jss';\n/**\n * Add vendor prefix to a property name when needed.\n *\n * @api public\n */\n\nfunction jssVendorPrefixer() {\n  function onProcessRule(rule) {\n    if (rule.type === 'keyframes') {\n      var atRule = rule;\n      atRule.at = supportedKeyframes(atRule.at);\n    }\n  }\n\n  function prefixStyle(style) {\n    for (var prop in style) {\n      var value = style[prop];\n\n      if (prop === 'fallbacks' && Array.isArray(value)) {\n        style[prop] = value.map(prefixStyle);\n        continue;\n      }\n\n      var changeProp = false;\n      var supportedProp = supportedProperty(prop);\n      if (supportedProp && supportedProp !== prop) changeProp = true;\n      var changeValue = false;\n      var supportedValue$1 = supportedValue(supportedProp, toCssValue(value));\n      if (supportedValue$1 && supportedValue$1 !== value) changeValue = true;\n\n      if (changeProp || changeValue) {\n        if (changeProp) delete style[prop];\n        style[supportedProp || prop] = supportedValue$1 || value;\n      }\n    }\n\n    return style;\n  }\n\n  function onProcessStyle(style, rule) {\n    if (rule.type !== 'style') return style;\n    return prefixStyle(style);\n  }\n\n  function onChangeValue(value, prop) {\n    return supportedValue(prop, toCssValue(value)) || value;\n  }\n\n  return {\n    onProcessRule: onProcessRule,\n    onProcessStyle: onProcessStyle,\n    onChangeValue: onChangeValue\n  };\n}\n\nexport default jssVendorPrefixer;","/**\n * Sort props by length.\n */\nfunction jssPropsSort() {\n  var sort = function sort(prop0, prop1) {\n    if (prop0.length === prop1.length) {\n      return prop0 > prop1 ? 1 : -1;\n    }\n\n    return prop0.length - prop1.length;\n  };\n\n  return {\n    onProcessStyle: function onProcessStyle(style, rule) {\n      if (rule.type !== 'style') return style;\n      var newStyle = {};\n      var props = Object.keys(style).sort(sort);\n\n      for (var i = 0; i < props.length; i++) {\n        newStyle[props[i]] = style[props[i]];\n      }\n\n      return newStyle;\n    }\n  };\n}\n\nexport default jssPropsSort;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport React from 'react';\nimport { exactProp } from '@material-ui/utils';\nimport createGenerateClassName from '../createGenerateClassName';\nimport { create } from 'jss';\nimport jssPreset from '../jssPreset'; // Default JSS instance.\n\nvar jss = create(jssPreset()); // Use a singleton or the provided one by the context.\n//\n// The counter-based approach doesn't tolerate any mistake.\n// It's much safer to use the same counter everywhere.\n\nvar generateClassName = createGenerateClassName(); // Exported for test purposes\n\nexport var sheetsManager = new Map();\nvar defaultOptions = {\n  disableGeneration: false,\n  generateClassName: generateClassName,\n  jss: jss,\n  sheetsCache: null,\n  sheetsManager: sheetsManager,\n  sheetsRegistry: null\n};\nexport var StylesContext = React.createContext(defaultOptions);\n\nif (process.env.NODE_ENV !== 'production') {\n  StylesContext.displayName = 'StylesContext';\n}\n\nvar injectFirstNode;\nexport default function StylesProvider(props) {\n  var children = props.children,\n      _props$injectFirst = props.injectFirst,\n      injectFirst = _props$injectFirst === void 0 ? false : _props$injectFirst,\n      _props$disableGenerat = props.disableGeneration,\n      disableGeneration = _props$disableGenerat === void 0 ? false : _props$disableGenerat,\n      localOptions = _objectWithoutProperties(props, [\"children\", \"injectFirst\", \"disableGeneration\"]);\n\n  var outerOptions = React.useContext(StylesContext);\n\n  var context = _extends({}, outerOptions, {\n    disableGeneration: disableGeneration\n  }, localOptions);\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (typeof window === 'undefined' && !context.sheetsManager) {\n      console.error('Material-UI: You need to use the ServerStyleSheets API when rendering on the server.');\n    }\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (context.jss.options.insertionPoint && injectFirst) {\n      console.error('Material-UI: You cannot use a custom insertionPoint and <StylesContext injectFirst> at the same time.');\n    }\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (injectFirst && localOptions.jss) {\n      console.error('Material-UI: You cannot use the jss and injectFirst props at the same time.');\n    }\n  }\n\n  if (!context.jss.options.insertionPoint && injectFirst && typeof window !== 'undefined') {\n    if (!injectFirstNode) {\n      var head = document.head;\n      injectFirstNode = document.createComment('mui-inject-first');\n      head.insertBefore(injectFirstNode, head.firstChild);\n    }\n\n    context.jss = create({\n      plugins: jssPreset().plugins,\n      insertionPoint: injectFirstNode\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(StylesContext.Provider, {\n    value: context\n  }, children);\n}\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\n\nif (process.env.NODE_ENV !== 'production') {\n  process.env.NODE_ENV !== \"production\" ? void 0 : void 0;\n}","import functions from 'jss-plugin-rule-value-function';\nimport global from 'jss-plugin-global';\nimport nested from 'jss-plugin-nested';\nimport camelCase from 'jss-plugin-camel-case';\nimport defaultUnit from 'jss-plugin-default-unit';\nimport vendorPrefixer from 'jss-plugin-vendor-prefixer';\nimport propsSort from 'jss-plugin-props-sort'; // Subset of jss-preset-default with only the plugins the Material-UI components are using.\n\nexport default function jssPreset() {\n  return {\n    plugins: [functions(), global(), nested(), camelCase(), defaultUnit(), // Disable the vendor prefixer server-side, it does nothing.\n    // This way, we can get a performance boost.\n    // In the documentation, we are using `autoprefixer` to solve this problem.\n    typeof window === 'undefined' ? null : vendorPrefixer(), propsSort()]\n  };\n}","/* eslint-disable import/prefer-default-export */\n// Global index counter to preserve source order.\n// We create the style sheet during the creation of the component,\n// children are handled after the parents, so the order of style elements would be parent->child.\n// It is a problem though when a parent passes a className\n// which needs to override any child's styles.\n// StyleSheet of the child has a higher specificity, because of the source order.\n// So our solution is to render sheets them in the reverse order child->sheet, so\n// that parent has a higher specificity.\nvar indexCounter = -1e9;\nexport function increment() {\n  indexCounter += 1;\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (indexCounter >= 0) {\n      console.warn(['Material-UI: You might have a memory leak.', 'The indexCounter is not supposed to grow that much.'].join('\\n'));\n    }\n  }\n\n  return indexCounter;\n}","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nexport function isPlainObject(item) {\n  return item && _typeof(item) === 'object' && item.constructor === Object;\n}\nexport default function deepmerge(target, source) {\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {\n    clone: true\n  };\n  var output = options.clone ? _extends({}, target) : target;\n\n  if (isPlainObject(target) && isPlainObject(source)) {\n    Object.keys(source).forEach(function (key) {\n      // Avoid prototype pollution\n      if (key === '__proto__') {\n        return;\n      }\n\n      if (isPlainObject(source[key]) && key in target) {\n        output[key] = deepmerge(target[key], source[key], options);\n      } else {\n        output[key] = source[key];\n      }\n    });\n  }\n\n  return output;\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport { deepmerge } from '@material-ui/utils';\nimport noopTheme from './noopTheme';\nexport default function getStylesCreator(stylesOrCreator) {\n  var themingEnabled = typeof stylesOrCreator === 'function';\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (_typeof(stylesOrCreator) !== 'object' && !themingEnabled) {\n      console.error(['Material-UI: The `styles` argument provided is invalid.', 'You need to provide a function generating the styles or a styles object.'].join('\\n'));\n    }\n  }\n\n  return {\n    create: function create(theme, name) {\n      var styles;\n\n      try {\n        styles = themingEnabled ? stylesOrCreator(theme) : stylesOrCreator;\n      } catch (err) {\n        if (process.env.NODE_ENV !== 'production') {\n          if (themingEnabled === true && theme === noopTheme) {\n            // TODO: prepend error message/name instead\n            console.error(['Material-UI: The `styles` argument provided is invalid.', 'You are providing a function without a theme in the context.', 'One of the parent elements needs to use a ThemeProvider.'].join('\\n'));\n          }\n        }\n\n        throw err;\n      }\n\n      if (!name || !theme.overrides || !theme.overrides[name]) {\n        return styles;\n      }\n\n      var overrides = theme.overrides[name];\n\n      var stylesWithOverrides = _extends({}, styles);\n\n      Object.keys(overrides).forEach(function (key) {\n        if (process.env.NODE_ENV !== 'production') {\n          if (!stylesWithOverrides[key]) {\n            console.warn(['Material-UI: You are trying to override a style that does not exist.', \"Fix the `\".concat(key, \"` key of `theme.overrides.\").concat(name, \"`.\")].join('\\n'));\n          }\n        }\n\n        stylesWithOverrides[key] = deepmerge(stylesWithOverrides[key], overrides[key]);\n      });\n      return stylesWithOverrides;\n    },\n    options: {}\n  };\n}","// We use the same empty object to ref count the styles that don't need a theme object.\nvar noopTheme = {};\nexport default noopTheme;","import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport React from 'react';\nimport { getDynamicStyles } from 'jss';\nimport mergeClasses from '../mergeClasses';\nimport multiKeyStore from './multiKeyStore';\nimport useTheme from '../useTheme';\nimport { StylesContext } from '../StylesProvider';\nimport { increment } from './indexCounter';\nimport getStylesCreator from '../getStylesCreator';\nimport noopTheme from '../getStylesCreator/noopTheme';\n\nfunction getClasses(_ref, classes, Component) {\n  var state = _ref.state,\n      stylesOptions = _ref.stylesOptions;\n\n  if (stylesOptions.disableGeneration) {\n    return classes || {};\n  }\n\n  if (!state.cacheClasses) {\n    state.cacheClasses = {\n      // Cache for the finalized classes value.\n      value: null,\n      // Cache for the last used classes prop pointer.\n      lastProp: null,\n      // Cache for the last used rendered classes pointer.\n      lastJSS: {}\n    };\n  } // Tracks if either the rendered classes or classes prop has changed,\n  // requiring the generation of a new finalized classes object.\n\n\n  var generate = false;\n\n  if (state.classes !== state.cacheClasses.lastJSS) {\n    state.cacheClasses.lastJSS = state.classes;\n    generate = true;\n  }\n\n  if (classes !== state.cacheClasses.lastProp) {\n    state.cacheClasses.lastProp = classes;\n    generate = true;\n  }\n\n  if (generate) {\n    state.cacheClasses.value = mergeClasses({\n      baseClasses: state.cacheClasses.lastJSS,\n      newClasses: classes,\n      Component: Component\n    });\n  }\n\n  return state.cacheClasses.value;\n}\n\nfunction attach(_ref2, props) {\n  var state = _ref2.state,\n      theme = _ref2.theme,\n      stylesOptions = _ref2.stylesOptions,\n      stylesCreator = _ref2.stylesCreator,\n      name = _ref2.name;\n\n  if (stylesOptions.disableGeneration) {\n    return;\n  }\n\n  var sheetManager = multiKeyStore.get(stylesOptions.sheetsManager, stylesCreator, theme);\n\n  if (!sheetManager) {\n    sheetManager = {\n      refs: 0,\n      staticSheet: null,\n      dynamicStyles: null\n    };\n    multiKeyStore.set(stylesOptions.sheetsManager, stylesCreator, theme, sheetManager);\n  }\n\n  var options = _extends({}, stylesCreator.options, stylesOptions, {\n    theme: theme,\n    flip: typeof stylesOptions.flip === 'boolean' ? stylesOptions.flip : theme.direction === 'rtl'\n  });\n\n  options.generateId = options.serverGenerateClassName || options.generateClassName;\n  var sheetsRegistry = stylesOptions.sheetsRegistry;\n\n  if (sheetManager.refs === 0) {\n    var staticSheet;\n\n    if (stylesOptions.sheetsCache) {\n      staticSheet = multiKeyStore.get(stylesOptions.sheetsCache, stylesCreator, theme);\n    }\n\n    var styles = stylesCreator.create(theme, name);\n\n    if (!staticSheet) {\n      staticSheet = stylesOptions.jss.createStyleSheet(styles, _extends({\n        link: false\n      }, options));\n      staticSheet.attach();\n\n      if (stylesOptions.sheetsCache) {\n        multiKeyStore.set(stylesOptions.sheetsCache, stylesCreator, theme, staticSheet);\n      }\n    }\n\n    if (sheetsRegistry) {\n      sheetsRegistry.add(staticSheet);\n    }\n\n    sheetManager.staticSheet = staticSheet;\n    sheetManager.dynamicStyles = getDynamicStyles(styles);\n  }\n\n  if (sheetManager.dynamicStyles) {\n    var dynamicSheet = stylesOptions.jss.createStyleSheet(sheetManager.dynamicStyles, _extends({\n      link: true\n    }, options));\n    dynamicSheet.update(props);\n    dynamicSheet.attach();\n    state.dynamicSheet = dynamicSheet;\n    state.classes = mergeClasses({\n      baseClasses: sheetManager.staticSheet.classes,\n      newClasses: dynamicSheet.classes\n    });\n\n    if (sheetsRegistry) {\n      sheetsRegistry.add(dynamicSheet);\n    }\n  } else {\n    state.classes = sheetManager.staticSheet.classes;\n  }\n\n  sheetManager.refs += 1;\n}\n\nfunction update(_ref3, props) {\n  var state = _ref3.state;\n\n  if (state.dynamicSheet) {\n    state.dynamicSheet.update(props);\n  }\n}\n\nfunction detach(_ref4) {\n  var state = _ref4.state,\n      theme = _ref4.theme,\n      stylesOptions = _ref4.stylesOptions,\n      stylesCreator = _ref4.stylesCreator;\n\n  if (stylesOptions.disableGeneration) {\n    return;\n  }\n\n  var sheetManager = multiKeyStore.get(stylesOptions.sheetsManager, stylesCreator, theme);\n  sheetManager.refs -= 1;\n  var sheetsRegistry = stylesOptions.sheetsRegistry;\n\n  if (sheetManager.refs === 0) {\n    multiKeyStore.delete(stylesOptions.sheetsManager, stylesCreator, theme);\n    stylesOptions.jss.removeStyleSheet(sheetManager.staticSheet);\n\n    if (sheetsRegistry) {\n      sheetsRegistry.remove(sheetManager.staticSheet);\n    }\n  }\n\n  if (state.dynamicSheet) {\n    stylesOptions.jss.removeStyleSheet(state.dynamicSheet);\n\n    if (sheetsRegistry) {\n      sheetsRegistry.remove(state.dynamicSheet);\n    }\n  }\n}\n\nfunction useSynchronousEffect(func, values) {\n  var key = React.useRef([]);\n  var output; // Store \"generation\" key. Just returns a new object every time\n\n  var currentKey = React.useMemo(function () {\n    return {};\n  }, values); // eslint-disable-line react-hooks/exhaustive-deps\n  // \"the first render\", or \"memo dropped the value\"\n\n  if (key.current !== currentKey) {\n    key.current = currentKey;\n    output = func();\n  }\n\n  React.useEffect(function () {\n    return function () {\n      if (output) {\n        output();\n      }\n    };\n  }, [currentKey] // eslint-disable-line react-hooks/exhaustive-deps\n  );\n}\n\nexport default function makeStyles(stylesOrCreator) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  var name = options.name,\n      classNamePrefixOption = options.classNamePrefix,\n      Component = options.Component,\n      _options$defaultTheme = options.defaultTheme,\n      defaultTheme = _options$defaultTheme === void 0 ? noopTheme : _options$defaultTheme,\n      stylesOptions2 = _objectWithoutProperties(options, [\"name\", \"classNamePrefix\", \"Component\", \"defaultTheme\"]);\n\n  var stylesCreator = getStylesCreator(stylesOrCreator);\n  var classNamePrefix = name || classNamePrefixOption || 'makeStyles';\n  stylesCreator.options = {\n    index: increment(),\n    name: name,\n    meta: classNamePrefix,\n    classNamePrefix: classNamePrefix\n  };\n\n  var useStyles = function useStyles() {\n    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var theme = useTheme() || defaultTheme;\n\n    var stylesOptions = _extends({}, React.useContext(StylesContext), stylesOptions2);\n\n    var instance = React.useRef();\n    var shouldUpdate = React.useRef();\n    useSynchronousEffect(function () {\n      var current = {\n        name: name,\n        state: {},\n        stylesCreator: stylesCreator,\n        stylesOptions: stylesOptions,\n        theme: theme\n      };\n      attach(current, props);\n      shouldUpdate.current = false;\n      instance.current = current;\n      return function () {\n        detach(current);\n      };\n    }, [theme, stylesCreator]);\n    React.useEffect(function () {\n      if (shouldUpdate.current) {\n        update(instance.current, props);\n      }\n\n      shouldUpdate.current = true;\n    });\n    var classes = getClasses(instance.current, props.classes, Component);\n\n    if (process.env.NODE_ENV !== 'production') {\n      // eslint-disable-next-line react-hooks/rules-of-hooks\n      React.useDebugValue(classes);\n    }\n\n    return classes;\n  };\n\n  return useStyles;\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\"; // Sorted ASC by size. That's important.\n// It can't be configured as it's used statically for propTypes.\n\nexport var keys = ['xs', 'sm', 'md', 'lg', 'xl']; // Keep in mind that @media is inclusive by the CSS specification.\n\nexport default function createBreakpoints(breakpoints) {\n  var _breakpoints$values = breakpoints.values,\n      values = _breakpoints$values === void 0 ? {\n    xs: 0,\n    sm: 600,\n    md: 960,\n    lg: 1280,\n    xl: 1920\n  } : _breakpoints$values,\n      _breakpoints$unit = breakpoints.unit,\n      unit = _breakpoints$unit === void 0 ? 'px' : _breakpoints$unit,\n      _breakpoints$step = breakpoints.step,\n      step = _breakpoints$step === void 0 ? 5 : _breakpoints$step,\n      other = _objectWithoutProperties(breakpoints, [\"values\", \"unit\", \"step\"]);\n\n  function up(key) {\n    var value = typeof values[key] === 'number' ? values[key] : key;\n    return \"@media (min-width:\".concat(value).concat(unit, \")\");\n  }\n\n  function down(key) {\n    var endIndex = keys.indexOf(key) + 1;\n    var upperbound = values[keys[endIndex]];\n\n    if (endIndex === keys.length) {\n      // xl down applies to all sizes\n      return up('xs');\n    }\n\n    var value = typeof upperbound === 'number' && endIndex > 0 ? upperbound : key;\n    return \"@media (max-width:\".concat(value - step / 100).concat(unit, \")\");\n  }\n\n  function between(start, end) {\n    var endIndex = keys.indexOf(end);\n\n    if (endIndex === keys.length - 1) {\n      return up(start);\n    }\n\n    return \"@media (min-width:\".concat(typeof values[start] === 'number' ? values[start] : start).concat(unit, \") and \") + \"(max-width:\".concat((endIndex !== -1 && typeof values[keys[endIndex + 1]] === 'number' ? values[keys[endIndex + 1]] : end) - step / 100).concat(unit, \")\");\n  }\n\n  function only(key) {\n    return between(key, key);\n  }\n\n  var warnedOnce = false;\n\n  function width(key) {\n    if (process.env.NODE_ENV !== 'production') {\n      if (!warnedOnce) {\n        warnedOnce = true;\n        console.warn([\"Material-UI: The `theme.breakpoints.width` utility is deprecated because it's redundant.\", 'Use the `theme.breakpoints.values` instead.'].join('\\n'));\n      }\n    }\n\n    return values[key];\n  }\n\n  return _extends({\n    keys: keys,\n    values: values,\n    up: up,\n    down: down,\n    between: between,\n    only: only,\n    width: width\n  }, other);\n}","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nexport default function createMixins(breakpoints, spacing, mixins) {\n  var _toolbar;\n\n  return _extends({\n    gutters: function gutters() {\n      var styles = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      console.warn(['Material-UI: theme.mixins.gutters() is deprecated.', 'You can use the source of the mixin directly:', \"\\n      paddingLeft: theme.spacing(2),\\n      paddingRight: theme.spacing(2),\\n      [theme.breakpoints.up('sm')]: {\\n        paddingLeft: theme.spacing(3),\\n        paddingRight: theme.spacing(3),\\n      },\\n      \"].join('\\n'));\n      return _extends({\n        paddingLeft: spacing(2),\n        paddingRight: spacing(2)\n      }, styles, _defineProperty({}, breakpoints.up('sm'), _extends({\n        paddingLeft: spacing(3),\n        paddingRight: spacing(3)\n      }, styles[breakpoints.up('sm')])));\n    },\n    toolbar: (_toolbar = {\n      minHeight: 56\n    }, _defineProperty(_toolbar, \"\".concat(breakpoints.up('xs'), \" and (orientation: landscape)\"), {\n      minHeight: 48\n    }), _defineProperty(_toolbar, breakpoints.up('sm'), {\n      minHeight: 64\n    }), _toolbar)\n  }, mixins);\n}","/**\n * WARNING: Don't import this directly.\n * Use `MuiError` from `@material-ui/utils/macros/MuiError.macro` instead.\n * @param {number} code\n */\nexport default function formatMuiErrorMessage(code) {\n  // Apply babel-plugin-transform-template-literals in loose mode\n  // loose mode is safe iff we're concatenating primitives\n  // see https://babeljs.io/docs/en/babel-plugin-transform-template-literals#loose\n\n  /* eslint-disable prefer-template */\n  var url = 'https://material-ui.com/production-error/?code=' + code;\n\n  for (var i = 1; i < arguments.length; i += 1) {\n    // rest params over-transpile for this case\n    // eslint-disable-next-line prefer-rest-params\n    url += '&args[]=' + encodeURIComponent(arguments[i]);\n  }\n\n  return 'Minified Material-UI error #' + code + '; visit ' + url + ' for the full message.';\n  /* eslint-enable prefer-template */\n}","var common = {\n  black: '#000',\n  white: '#fff'\n};\nexport default common;","var grey = {\n  50: '#fafafa',\n  100: '#f5f5f5',\n  200: '#eeeeee',\n  300: '#e0e0e0',\n  400: '#bdbdbd',\n  500: '#9e9e9e',\n  600: '#757575',\n  700: '#616161',\n  800: '#424242',\n  900: '#212121',\n  A100: '#d5d5d5',\n  A200: '#aaaaaa',\n  A400: '#303030',\n  A700: '#616161'\n};\nexport default grey;","var indigo = {\n  50: '#e8eaf6',\n  100: '#c5cae9',\n  200: '#9fa8da',\n  300: '#7986cb',\n  400: '#5c6bc0',\n  500: '#3f51b5',\n  600: '#3949ab',\n  700: '#303f9f',\n  800: '#283593',\n  900: '#1a237e',\n  A100: '#8c9eff',\n  A200: '#536dfe',\n  A400: '#3d5afe',\n  A700: '#304ffe'\n};\nexport default indigo;","var pink = {\n  50: '#fce4ec',\n  100: '#f8bbd0',\n  200: '#f48fb1',\n  300: '#f06292',\n  400: '#ec407a',\n  500: '#e91e63',\n  600: '#d81b60',\n  700: '#c2185b',\n  800: '#ad1457',\n  900: '#880e4f',\n  A100: '#ff80ab',\n  A200: '#ff4081',\n  A400: '#f50057',\n  A700: '#c51162'\n};\nexport default pink;","var red = {\n  50: '#ffebee',\n  100: '#ffcdd2',\n  200: '#ef9a9a',\n  300: '#e57373',\n  400: '#ef5350',\n  500: '#f44336',\n  600: '#e53935',\n  700: '#d32f2f',\n  800: '#c62828',\n  900: '#b71c1c',\n  A100: '#ff8a80',\n  A200: '#ff5252',\n  A400: '#ff1744',\n  A700: '#d50000'\n};\nexport default red;","var orange = {\n  50: '#fff3e0',\n  100: '#ffe0b2',\n  200: '#ffcc80',\n  300: '#ffb74d',\n  400: '#ffa726',\n  500: '#ff9800',\n  600: '#fb8c00',\n  700: '#f57c00',\n  800: '#ef6c00',\n  900: '#e65100',\n  A100: '#ffd180',\n  A200: '#ffab40',\n  A400: '#ff9100',\n  A700: '#ff6d00'\n};\nexport default orange;","var blue = {\n  50: '#e3f2fd',\n  100: '#bbdefb',\n  200: '#90caf9',\n  300: '#64b5f6',\n  400: '#42a5f5',\n  500: '#2196f3',\n  600: '#1e88e5',\n  700: '#1976d2',\n  800: '#1565c0',\n  900: '#0d47a1',\n  A100: '#82b1ff',\n  A200: '#448aff',\n  A400: '#2979ff',\n  A700: '#2962ff'\n};\nexport default blue;","var green = {\n  50: '#e8f5e9',\n  100: '#c8e6c9',\n  200: '#a5d6a7',\n  300: '#81c784',\n  400: '#66bb6a',\n  500: '#4caf50',\n  600: '#43a047',\n  700: '#388e3c',\n  800: '#2e7d32',\n  900: '#1b5e20',\n  A100: '#b9f6ca',\n  A200: '#69f0ae',\n  A400: '#00e676',\n  A700: '#00c853'\n};\nexport default green;","import { formatMuiErrorMessage as _formatMuiErrorMessage } from \"@material-ui/utils\";\n/* eslint-disable no-use-before-define */\n\n/**\n * Returns a number whose value is limited to the given range.\n *\n * @param {number} value The value to be clamped\n * @param {number} min The lower boundary of the output range\n * @param {number} max The upper boundary of the output range\n * @returns {number} A number in the range [min, max]\n */\n\nfunction clamp(value) {\n  var min = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  var max = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (value < min || value > max) {\n      console.error(\"Material-UI: The value provided \".concat(value, \" is out of range [\").concat(min, \", \").concat(max, \"].\"));\n    }\n  }\n\n  return Math.min(Math.max(min, value), max);\n}\n/**\n * Converts a color from CSS hex format to CSS rgb format.\n *\n * @param {string} color - Hex color, i.e. #nnn or #nnnnnn\n * @returns {string} A CSS rgb color string\n */\n\n\nexport function hexToRgb(color) {\n  color = color.substr(1);\n  var re = new RegExp(\".{1,\".concat(color.length >= 6 ? 2 : 1, \"}\"), 'g');\n  var colors = color.match(re);\n\n  if (colors && colors[0].length === 1) {\n    colors = colors.map(function (n) {\n      return n + n;\n    });\n  }\n\n  return colors ? \"rgb\".concat(colors.length === 4 ? 'a' : '', \"(\").concat(colors.map(function (n, index) {\n    return index < 3 ? parseInt(n, 16) : Math.round(parseInt(n, 16) / 255 * 1000) / 1000;\n  }).join(', '), \")\") : '';\n}\n\nfunction intToHex(int) {\n  var hex = int.toString(16);\n  return hex.length === 1 ? \"0\".concat(hex) : hex;\n}\n/**\n * Converts a color from CSS rgb format to CSS hex format.\n *\n * @param {string} color - RGB color, i.e. rgb(n, n, n)\n * @returns {string} A CSS rgb color string, i.e. #nnnnnn\n */\n\n\nexport function rgbToHex(color) {\n  // Idempotent\n  if (color.indexOf('#') === 0) {\n    return color;\n  }\n\n  var _decomposeColor = decomposeColor(color),\n      values = _decomposeColor.values;\n\n  return \"#\".concat(values.map(function (n) {\n    return intToHex(n);\n  }).join(''));\n}\n/**\n * Converts a color from hsl format to rgb format.\n *\n * @param {string} color - HSL color values\n * @returns {string} rgb color values\n */\n\nexport function hslToRgb(color) {\n  color = decomposeColor(color);\n  var _color = color,\n      values = _color.values;\n  var h = values[0];\n  var s = values[1] / 100;\n  var l = values[2] / 100;\n  var a = s * Math.min(l, 1 - l);\n\n  var f = function f(n) {\n    var k = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : (n + h / 30) % 12;\n    return l - a * Math.max(Math.min(k - 3, 9 - k, 1), -1);\n  };\n\n  var type = 'rgb';\n  var rgb = [Math.round(f(0) * 255), Math.round(f(8) * 255), Math.round(f(4) * 255)];\n\n  if (color.type === 'hsla') {\n    type += 'a';\n    rgb.push(values[3]);\n  }\n\n  return recomposeColor({\n    type: type,\n    values: rgb\n  });\n}\n/**\n * Returns an object with the type and values of a color.\n *\n * Note: Does not support rgb % values.\n *\n * @param {string} color - CSS color, i.e. one of: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla()\n * @returns {object} - A MUI color object: {type: string, values: number[]}\n */\n\nexport function decomposeColor(color) {\n  // Idempotent\n  if (color.type) {\n    return color;\n  }\n\n  if (color.charAt(0) === '#') {\n    return decomposeColor(hexToRgb(color));\n  }\n\n  var marker = color.indexOf('(');\n  var type = color.substring(0, marker);\n\n  if (['rgb', 'rgba', 'hsl', 'hsla'].indexOf(type) === -1) {\n    throw new Error(process.env.NODE_ENV !== \"production\" ? \"Material-UI: Unsupported `\".concat(color, \"` color.\\nWe support the following formats: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla().\") : _formatMuiErrorMessage(3, color));\n  }\n\n  var values = color.substring(marker + 1, color.length - 1).split(',');\n  values = values.map(function (value) {\n    return parseFloat(value);\n  });\n  return {\n    type: type,\n    values: values\n  };\n}\n/**\n * Converts a color object with type and values to a string.\n *\n * @param {object} color - Decomposed color\n * @param {string} color.type - One of: 'rgb', 'rgba', 'hsl', 'hsla'\n * @param {array} color.values - [n,n,n] or [n,n,n,n]\n * @returns {string} A CSS color string\n */\n\nexport function recomposeColor(color) {\n  var type = color.type;\n  var values = color.values;\n\n  if (type.indexOf('rgb') !== -1) {\n    // Only convert the first 3 values to int (i.e. not alpha)\n    values = values.map(function (n, i) {\n      return i < 3 ? parseInt(n, 10) : n;\n    });\n  } else if (type.indexOf('hsl') !== -1) {\n    values[1] = \"\".concat(values[1], \"%\");\n    values[2] = \"\".concat(values[2], \"%\");\n  }\n\n  return \"\".concat(type, \"(\").concat(values.join(', '), \")\");\n}\n/**\n * Calculates the contrast ratio between two colors.\n *\n * Formula: https://www.w3.org/TR/WCAG20-TECHS/G17.html#G17-tests\n *\n * @param {string} foreground - CSS color, i.e. one of: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla()\n * @param {string} background - CSS color, i.e. one of: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla()\n * @returns {number} A contrast ratio value in the range 0 - 21.\n */\n\nexport function getContrastRatio(foreground, background) {\n  var lumA = getLuminance(foreground);\n  var lumB = getLuminance(background);\n  return (Math.max(lumA, lumB) + 0.05) / (Math.min(lumA, lumB) + 0.05);\n}\n/**\n * The relative brightness of any point in a color space,\n * normalized to 0 for darkest black and 1 for lightest white.\n *\n * Formula: https://www.w3.org/TR/WCAG20-TECHS/G17.html#G17-tests\n *\n * @param {string} color - CSS color, i.e. one of: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla()\n * @returns {number} The relative brightness of the color in the range 0 - 1\n */\n\nexport function getLuminance(color) {\n  color = decomposeColor(color);\n  var rgb = color.type === 'hsl' ? decomposeColor(hslToRgb(color)).values : color.values;\n  rgb = rgb.map(function (val) {\n    val /= 255; // normalized\n\n    return val <= 0.03928 ? val / 12.92 : Math.pow((val + 0.055) / 1.055, 2.4);\n  }); // Truncate at 3 digits\n\n  return Number((0.2126 * rgb[0] + 0.7152 * rgb[1] + 0.0722 * rgb[2]).toFixed(3));\n}\n/**\n * Darken or lighten a color, depending on its luminance.\n * Light colors are darkened, dark colors are lightened.\n *\n * @param {string} color - CSS color, i.e. one of: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla()\n * @param {number} coefficient=0.15 - multiplier in the range 0 - 1\n * @returns {string} A CSS color string. Hex input values are returned as rgb\n */\n\nexport function emphasize(color) {\n  var coefficient = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0.15;\n  return getLuminance(color) > 0.5 ? darken(color, coefficient) : lighten(color, coefficient);\n}\nvar warnedOnce = false;\n/**\n * Set the absolute transparency of a color.\n * Any existing alpha values are overwritten.\n *\n * @param {string} color - CSS color, i.e. one of: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla()\n * @param {number} value - value to set the alpha channel to in the range 0 -1\n * @returns {string} A CSS color string. Hex input values are returned as rgb\n *\n * @deprecated\n * Use `import { alpha } from '@material-ui/core/styles'` instead.\n */\n\nexport function fade(color, value) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (!warnedOnce) {\n      warnedOnce = true;\n      console.error(['Material-UI: The `fade` color utility was renamed to `alpha` to better describe its functionality.', '', \"You should use `import { alpha } from '@material-ui/core/styles'`\"].join('\\n'));\n    }\n  }\n\n  return alpha(color, value);\n}\n/**\n * Set the absolute transparency of a color.\n * Any existing alpha value is overwritten.\n *\n * @param {string} color - CSS color, i.e. one of: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla()\n * @param {number} value - value to set the alpha channel to in the range 0-1\n * @returns {string} A CSS color string. Hex input values are returned as rgb\n */\n\nexport function alpha(color, value) {\n  color = decomposeColor(color);\n  value = clamp(value);\n\n  if (color.type === 'rgb' || color.type === 'hsl') {\n    color.type += 'a';\n  }\n\n  color.values[3] = value;\n  return recomposeColor(color);\n}\n/**\n * Darkens a color.\n *\n * @param {string} color - CSS color, i.e. one of: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla()\n * @param {number} coefficient - multiplier in the range 0 - 1\n * @returns {string} A CSS color string. Hex input values are returned as rgb\n */\n\nexport function darken(color, coefficient) {\n  color = decomposeColor(color);\n  coefficient = clamp(coefficient);\n\n  if (color.type.indexOf('hsl') !== -1) {\n    color.values[2] *= 1 - coefficient;\n  } else if (color.type.indexOf('rgb') !== -1) {\n    for (var i = 0; i < 3; i += 1) {\n      color.values[i] *= 1 - coefficient;\n    }\n  }\n\n  return recomposeColor(color);\n}\n/**\n * Lightens a color.\n *\n * @param {string} color - CSS color, i.e. one of: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla()\n * @param {number} coefficient - multiplier in the range 0 - 1\n * @returns {string} A CSS color string. Hex input values are returned as rgb\n */\n\nexport function lighten(color, coefficient) {\n  color = decomposeColor(color);\n  coefficient = clamp(coefficient);\n\n  if (color.type.indexOf('hsl') !== -1) {\n    color.values[2] += (100 - color.values[2]) * coefficient;\n  } else if (color.type.indexOf('rgb') !== -1) {\n    for (var i = 0; i < 3; i += 1) {\n      color.values[i] += (255 - color.values[i]) * coefficient;\n    }\n  }\n\n  return recomposeColor(color);\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport { formatMuiErrorMessage as _formatMuiErrorMessage } from \"@material-ui/utils\";\nimport { deepmerge } from '@material-ui/utils';\nimport common from '../colors/common';\nimport grey from '../colors/grey';\nimport indigo from '../colors/indigo';\nimport pink from '../colors/pink';\nimport red from '../colors/red';\nimport orange from '../colors/orange';\nimport blue from '../colors/blue';\nimport green from '../colors/green';\nimport { darken, getContrastRatio, lighten } from './colorManipulator';\nexport var light = {\n  // The colors used to style the text.\n  text: {\n    // The most important text.\n    primary: 'rgba(0, 0, 0, 0.87)',\n    // Secondary text.\n    secondary: 'rgba(0, 0, 0, 0.54)',\n    // Disabled text have even lower visual prominence.\n    disabled: 'rgba(0, 0, 0, 0.38)',\n    // Text hints.\n    hint: 'rgba(0, 0, 0, 0.38)'\n  },\n  // The color used to divide different elements.\n  divider: 'rgba(0, 0, 0, 0.12)',\n  // The background colors used to style the surfaces.\n  // Consistency between these values is important.\n  background: {\n    paper: common.white,\n    default: grey[50]\n  },\n  // The colors used to style the action elements.\n  action: {\n    // The color of an active action like an icon button.\n    active: 'rgba(0, 0, 0, 0.54)',\n    // The color of an hovered action.\n    hover: 'rgba(0, 0, 0, 0.04)',\n    hoverOpacity: 0.04,\n    // The color of a selected action.\n    selected: 'rgba(0, 0, 0, 0.08)',\n    selectedOpacity: 0.08,\n    // The color of a disabled action.\n    disabled: 'rgba(0, 0, 0, 0.26)',\n    // The background color of a disabled action.\n    disabledBackground: 'rgba(0, 0, 0, 0.12)',\n    disabledOpacity: 0.38,\n    focus: 'rgba(0, 0, 0, 0.12)',\n    focusOpacity: 0.12,\n    activatedOpacity: 0.12\n  }\n};\nexport var dark = {\n  text: {\n    primary: common.white,\n    secondary: 'rgba(255, 255, 255, 0.7)',\n    disabled: 'rgba(255, 255, 255, 0.5)',\n    hint: 'rgba(255, 255, 255, 0.5)',\n    icon: 'rgba(255, 255, 255, 0.5)'\n  },\n  divider: 'rgba(255, 255, 255, 0.12)',\n  background: {\n    paper: grey[800],\n    default: '#303030'\n  },\n  action: {\n    active: common.white,\n    hover: 'rgba(255, 255, 255, 0.08)',\n    hoverOpacity: 0.08,\n    selected: 'rgba(255, 255, 255, 0.16)',\n    selectedOpacity: 0.16,\n    disabled: 'rgba(255, 255, 255, 0.3)',\n    disabledBackground: 'rgba(255, 255, 255, 0.12)',\n    disabledOpacity: 0.38,\n    focus: 'rgba(255, 255, 255, 0.12)',\n    focusOpacity: 0.12,\n    activatedOpacity: 0.24\n  }\n};\n\nfunction addLightOrDark(intent, direction, shade, tonalOffset) {\n  var tonalOffsetLight = tonalOffset.light || tonalOffset;\n  var tonalOffsetDark = tonalOffset.dark || tonalOffset * 1.5;\n\n  if (!intent[direction]) {\n    if (intent.hasOwnProperty(shade)) {\n      intent[direction] = intent[shade];\n    } else if (direction === 'light') {\n      intent.light = lighten(intent.main, tonalOffsetLight);\n    } else if (direction === 'dark') {\n      intent.dark = darken(intent.main, tonalOffsetDark);\n    }\n  }\n}\n\nexport default function createPalette(palette) {\n  var _palette$primary = palette.primary,\n      primary = _palette$primary === void 0 ? {\n    light: indigo[300],\n    main: indigo[500],\n    dark: indigo[700]\n  } : _palette$primary,\n      _palette$secondary = palette.secondary,\n      secondary = _palette$secondary === void 0 ? {\n    light: pink.A200,\n    main: pink.A400,\n    dark: pink.A700\n  } : _palette$secondary,\n      _palette$error = palette.error,\n      error = _palette$error === void 0 ? {\n    light: red[300],\n    main: red[500],\n    dark: red[700]\n  } : _palette$error,\n      _palette$warning = palette.warning,\n      warning = _palette$warning === void 0 ? {\n    light: orange[300],\n    main: orange[500],\n    dark: orange[700]\n  } : _palette$warning,\n      _palette$info = palette.info,\n      info = _palette$info === void 0 ? {\n    light: blue[300],\n    main: blue[500],\n    dark: blue[700]\n  } : _palette$info,\n      _palette$success = palette.success,\n      success = _palette$success === void 0 ? {\n    light: green[300],\n    main: green[500],\n    dark: green[700]\n  } : _palette$success,\n      _palette$type = palette.type,\n      type = _palette$type === void 0 ? 'light' : _palette$type,\n      _palette$contrastThre = palette.contrastThreshold,\n      contrastThreshold = _palette$contrastThre === void 0 ? 3 : _palette$contrastThre,\n      _palette$tonalOffset = palette.tonalOffset,\n      tonalOffset = _palette$tonalOffset === void 0 ? 0.2 : _palette$tonalOffset,\n      other = _objectWithoutProperties(palette, [\"primary\", \"secondary\", \"error\", \"warning\", \"info\", \"success\", \"type\", \"contrastThreshold\", \"tonalOffset\"]); // Use the same logic as\n  // Bootstrap: https://github.com/twbs/bootstrap/blob/1d6e3710dd447de1a200f29e8fa521f8a0908f70/scss/_functions.scss#L59\n  // and material-components-web https://github.com/material-components/material-components-web/blob/ac46b8863c4dab9fc22c4c662dc6bd1b65dd652f/packages/mdc-theme/_functions.scss#L54\n\n\n  function getContrastText(background) {\n    var contrastText = getContrastRatio(background, dark.text.primary) >= contrastThreshold ? dark.text.primary : light.text.primary;\n\n    if (process.env.NODE_ENV !== 'production') {\n      var contrast = getContrastRatio(background, contrastText);\n\n      if (contrast < 3) {\n        console.error([\"Material-UI: The contrast ratio of \".concat(contrast, \":1 for \").concat(contrastText, \" on \").concat(background), 'falls below the WCAG recommended absolute minimum contrast ratio of 3:1.', 'https://www.w3.org/TR/2008/REC-WCAG20-20081211/#visual-audio-contrast-contrast'].join('\\n'));\n      }\n    }\n\n    return contrastText;\n  }\n\n  var augmentColor = function augmentColor(color) {\n    var mainShade = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 500;\n    var lightShade = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 300;\n    var darkShade = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 700;\n    color = _extends({}, color);\n\n    if (!color.main && color[mainShade]) {\n      color.main = color[mainShade];\n    }\n\n    if (!color.main) {\n      throw new Error(process.env.NODE_ENV !== \"production\" ? \"Material-UI: The color provided to augmentColor(color) is invalid.\\nThe color object needs to have a `main` property or a `\".concat(mainShade, \"` property.\") : _formatMuiErrorMessage(4, mainShade));\n    }\n\n    if (typeof color.main !== 'string') {\n      throw new Error(process.env.NODE_ENV !== \"production\" ? \"Material-UI: The color provided to augmentColor(color) is invalid.\\n`color.main` should be a string, but `\".concat(JSON.stringify(color.main), \"` was provided instead.\\n\\nDid you intend to use one of the following approaches?\\n\\nimport {\\xA0green } from \\\"@material-ui/core/colors\\\";\\n\\nconst theme1 = createTheme({ palette: {\\n  primary: green,\\n} });\\n\\nconst theme2 = createTheme({ palette: {\\n  primary: { main: green[500] },\\n} });\") : _formatMuiErrorMessage(5, JSON.stringify(color.main)));\n    }\n\n    addLightOrDark(color, 'light', lightShade, tonalOffset);\n    addLightOrDark(color, 'dark', darkShade, tonalOffset);\n\n    if (!color.contrastText) {\n      color.contrastText = getContrastText(color.main);\n    }\n\n    return color;\n  };\n\n  var types = {\n    dark: dark,\n    light: light\n  };\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (!types[type]) {\n      console.error(\"Material-UI: The palette type `\".concat(type, \"` is not supported.\"));\n    }\n  }\n\n  var paletteOutput = deepmerge(_extends({\n    // A collection of common colors.\n    common: common,\n    // The palette type, can be light or dark.\n    type: type,\n    // The colors used to represent primary interface elements for a user.\n    primary: augmentColor(primary),\n    // The colors used to represent secondary interface elements for a user.\n    secondary: augmentColor(secondary, 'A400', 'A200', 'A700'),\n    // The colors used to represent interface elements that the user should be made aware of.\n    error: augmentColor(error),\n    // The colors used to represent potentially dangerous actions or important messages.\n    warning: augmentColor(warning),\n    // The colors used to present information to the user that is neutral and not necessarily important.\n    info: augmentColor(info),\n    // The colors used to indicate the successful completion of an action that user triggered.\n    success: augmentColor(success),\n    // The grey colors.\n    grey: grey,\n    // Used by `getContrastText()` to maximize the contrast between\n    // the background and the text.\n    contrastThreshold: contrastThreshold,\n    // Takes a background color and returns the text color that maximizes the contrast.\n    getContrastText: getContrastText,\n    // Generate a rich color object.\n    augmentColor: augmentColor,\n    // Used by the functions below to shift a color's luminance by approximately\n    // two indexes within its tonal palette.\n    // E.g., shift from Red 500 to Red 300 or Red 700.\n    tonalOffset: tonalOffset\n  }, types[type]), other);\n  return paletteOutput;\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport { deepmerge } from '@material-ui/utils';\n\nfunction round(value) {\n  return Math.round(value * 1e5) / 1e5;\n}\n\nvar warnedOnce = false;\n\nfunction roundWithDeprecationWarning(value) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (!warnedOnce) {\n      console.warn(['Material-UI: The `theme.typography.round` helper is deprecated.', 'Head to https://material-ui.com/r/migration-v4/#theme for a migration path.'].join('\\n'));\n      warnedOnce = true;\n    }\n  }\n\n  return round(value);\n}\n\nvar caseAllCaps = {\n  textTransform: 'uppercase'\n};\nvar defaultFontFamily = '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif';\n/**\n * @see @link{https://material.io/design/typography/the-type-system.html}\n * @see @link{https://material.io/design/typography/understanding-typography.html}\n */\n\nexport default function createTypography(palette, typography) {\n  var _ref = typeof typography === 'function' ? typography(palette) : typography,\n      _ref$fontFamily = _ref.fontFamily,\n      fontFamily = _ref$fontFamily === void 0 ? defaultFontFamily : _ref$fontFamily,\n      _ref$fontSize = _ref.fontSize,\n      fontSize = _ref$fontSize === void 0 ? 14 : _ref$fontSize,\n      _ref$fontWeightLight = _ref.fontWeightLight,\n      fontWeightLight = _ref$fontWeightLight === void 0 ? 300 : _ref$fontWeightLight,\n      _ref$fontWeightRegula = _ref.fontWeightRegular,\n      fontWeightRegular = _ref$fontWeightRegula === void 0 ? 400 : _ref$fontWeightRegula,\n      _ref$fontWeightMedium = _ref.fontWeightMedium,\n      fontWeightMedium = _ref$fontWeightMedium === void 0 ? 500 : _ref$fontWeightMedium,\n      _ref$fontWeightBold = _ref.fontWeightBold,\n      fontWeightBold = _ref$fontWeightBold === void 0 ? 700 : _ref$fontWeightBold,\n      _ref$htmlFontSize = _ref.htmlFontSize,\n      htmlFontSize = _ref$htmlFontSize === void 0 ? 16 : _ref$htmlFontSize,\n      allVariants = _ref.allVariants,\n      pxToRem2 = _ref.pxToRem,\n      other = _objectWithoutProperties(_ref, [\"fontFamily\", \"fontSize\", \"fontWeightLight\", \"fontWeightRegular\", \"fontWeightMedium\", \"fontWeightBold\", \"htmlFontSize\", \"allVariants\", \"pxToRem\"]);\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (typeof fontSize !== 'number') {\n      console.error('Material-UI: `fontSize` is required to be a number.');\n    }\n\n    if (typeof htmlFontSize !== 'number') {\n      console.error('Material-UI: `htmlFontSize` is required to be a number.');\n    }\n  }\n\n  var coef = fontSize / 14;\n\n  var pxToRem = pxToRem2 || function (size) {\n    return \"\".concat(size / htmlFontSize * coef, \"rem\");\n  };\n\n  var buildVariant = function buildVariant(fontWeight, size, lineHeight, letterSpacing, casing) {\n    return _extends({\n      fontFamily: fontFamily,\n      fontWeight: fontWeight,\n      fontSize: pxToRem(size),\n      // Unitless following https://meyerweb.com/eric/thoughts/2006/02/08/unitless-line-heights/\n      lineHeight: lineHeight\n    }, fontFamily === defaultFontFamily ? {\n      letterSpacing: \"\".concat(round(letterSpacing / size), \"em\")\n    } : {}, casing, allVariants);\n  };\n\n  var variants = {\n    h1: buildVariant(fontWeightLight, 96, 1.167, -1.5),\n    h2: buildVariant(fontWeightLight, 60, 1.2, -0.5),\n    h3: buildVariant(fontWeightRegular, 48, 1.167, 0),\n    h4: buildVariant(fontWeightRegular, 34, 1.235, 0.25),\n    h5: buildVariant(fontWeightRegular, 24, 1.334, 0),\n    h6: buildVariant(fontWeightMedium, 20, 1.6, 0.15),\n    subtitle1: buildVariant(fontWeightRegular, 16, 1.75, 0.15),\n    subtitle2: buildVariant(fontWeightMedium, 14, 1.57, 0.1),\n    body1: buildVariant(fontWeightRegular, 16, 1.5, 0.15),\n    body2: buildVariant(fontWeightRegular, 14, 1.43, 0.15),\n    button: buildVariant(fontWeightMedium, 14, 1.75, 0.4, caseAllCaps),\n    caption: buildVariant(fontWeightRegular, 12, 1.66, 0.4),\n    overline: buildVariant(fontWeightRegular, 12, 2.66, 1, caseAllCaps)\n  };\n  return deepmerge(_extends({\n    htmlFontSize: htmlFontSize,\n    pxToRem: pxToRem,\n    round: roundWithDeprecationWarning,\n    // TODO v5: remove\n    fontFamily: fontFamily,\n    fontSize: fontSize,\n    fontWeightLight: fontWeightLight,\n    fontWeightRegular: fontWeightRegular,\n    fontWeightMedium: fontWeightMedium,\n    fontWeightBold: fontWeightBold\n  }, variants), other, {\n    clone: false // No need to clone deep\n\n  });\n}","var shadowKeyUmbraOpacity = 0.2;\nvar shadowKeyPenumbraOpacity = 0.14;\nvar shadowAmbientShadowOpacity = 0.12;\n\nfunction createShadow() {\n  return [\"\".concat(arguments.length <= 0 ? undefined : arguments[0], \"px \").concat(arguments.length <= 1 ? undefined : arguments[1], \"px \").concat(arguments.length <= 2 ? undefined : arguments[2], \"px \").concat(arguments.length <= 3 ? undefined : arguments[3], \"px rgba(0,0,0,\").concat(shadowKeyUmbraOpacity, \")\"), \"\".concat(arguments.length <= 4 ? undefined : arguments[4], \"px \").concat(arguments.length <= 5 ? undefined : arguments[5], \"px \").concat(arguments.length <= 6 ? undefined : arguments[6], \"px \").concat(arguments.length <= 7 ? undefined : arguments[7], \"px rgba(0,0,0,\").concat(shadowKeyPenumbraOpacity, \")\"), \"\".concat(arguments.length <= 8 ? undefined : arguments[8], \"px \").concat(arguments.length <= 9 ? undefined : arguments[9], \"px \").concat(arguments.length <= 10 ? undefined : arguments[10], \"px \").concat(arguments.length <= 11 ? undefined : arguments[11], \"px rgba(0,0,0,\").concat(shadowAmbientShadowOpacity, \")\")].join(',');\n} // Values from https://github.com/material-components/material-components-web/blob/be8747f94574669cb5e7add1a7c54fa41a89cec7/packages/mdc-elevation/_variables.scss\n\n\nvar shadows = ['none', createShadow(0, 2, 1, -1, 0, 1, 1, 0, 0, 1, 3, 0), createShadow(0, 3, 1, -2, 0, 2, 2, 0, 0, 1, 5, 0), createShadow(0, 3, 3, -2, 0, 3, 4, 0, 0, 1, 8, 0), createShadow(0, 2, 4, -1, 0, 4, 5, 0, 0, 1, 10, 0), createShadow(0, 3, 5, -1, 0, 5, 8, 0, 0, 1, 14, 0), createShadow(0, 3, 5, -1, 0, 6, 10, 0, 0, 1, 18, 0), createShadow(0, 4, 5, -2, 0, 7, 10, 1, 0, 2, 16, 1), createShadow(0, 5, 5, -3, 0, 8, 10, 1, 0, 3, 14, 2), createShadow(0, 5, 6, -3, 0, 9, 12, 1, 0, 3, 16, 2), createShadow(0, 6, 6, -3, 0, 10, 14, 1, 0, 4, 18, 3), createShadow(0, 6, 7, -4, 0, 11, 15, 1, 0, 4, 20, 3), createShadow(0, 7, 8, -4, 0, 12, 17, 2, 0, 5, 22, 4), createShadow(0, 7, 8, -4, 0, 13, 19, 2, 0, 5, 24, 4), createShadow(0, 7, 9, -4, 0, 14, 21, 2, 0, 5, 26, 4), createShadow(0, 8, 9, -5, 0, 15, 22, 2, 0, 6, 28, 5), createShadow(0, 8, 10, -5, 0, 16, 24, 2, 0, 6, 30, 5), createShadow(0, 8, 11, -5, 0, 17, 26, 2, 0, 6, 32, 5), createShadow(0, 9, 11, -5, 0, 18, 28, 2, 0, 7, 34, 6), createShadow(0, 9, 12, -6, 0, 19, 29, 2, 0, 7, 36, 6), createShadow(0, 10, 13, -6, 0, 20, 31, 3, 0, 8, 38, 7), createShadow(0, 10, 13, -6, 0, 21, 33, 3, 0, 8, 40, 7), createShadow(0, 10, 14, -6, 0, 22, 35, 3, 0, 8, 42, 7), createShadow(0, 11, 14, -7, 0, 23, 36, 3, 0, 9, 44, 8), createShadow(0, 11, 15, -7, 0, 24, 38, 3, 0, 9, 46, 8)];\nexport default shadows;","var shape = {\n  borderRadius: 4\n};\nexport default shape;","import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport PropTypes from 'prop-types';\nimport merge from './merge'; // The breakpoint **start** at this value.\n// For instance with the first breakpoint xs: [xs, sm[.\n\nvar values = {\n  xs: 0,\n  sm: 600,\n  md: 960,\n  lg: 1280,\n  xl: 1920\n};\nvar defaultBreakpoints = {\n  // Sorted ASC by size. That's important.\n  // It can't be configured as it's used statically for propTypes.\n  keys: ['xs', 'sm', 'md', 'lg', 'xl'],\n  up: function up(key) {\n    return \"@media (min-width:\".concat(values[key], \"px)\");\n  }\n};\nexport function handleBreakpoints(props, propValue, styleFromPropValue) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (!props.theme) {\n      console.error('Material-UI: You are calling a style function without a theme value.');\n    }\n  }\n\n  if (Array.isArray(propValue)) {\n    var themeBreakpoints = props.theme.breakpoints || defaultBreakpoints;\n    return propValue.reduce(function (acc, item, index) {\n      acc[themeBreakpoints.up(themeBreakpoints.keys[index])] = styleFromPropValue(propValue[index]);\n      return acc;\n    }, {});\n  }\n\n  if (_typeof(propValue) === 'object') {\n    var _themeBreakpoints = props.theme.breakpoints || defaultBreakpoints;\n\n    return Object.keys(propValue).reduce(function (acc, breakpoint) {\n      acc[_themeBreakpoints.up(breakpoint)] = styleFromPropValue(propValue[breakpoint]);\n      return acc;\n    }, {});\n  }\n\n  var output = styleFromPropValue(propValue);\n  return output;\n}\n\nfunction breakpoints(styleFunction) {\n  var newStyleFunction = function newStyleFunction(props) {\n    var base = styleFunction(props);\n    var themeBreakpoints = props.theme.breakpoints || defaultBreakpoints;\n    var extended = themeBreakpoints.keys.reduce(function (acc, key) {\n      if (props[key]) {\n        acc = acc || {};\n        acc[themeBreakpoints.up(key)] = styleFunction(_extends({\n          theme: props.theme\n        }, props[key]));\n      }\n\n      return acc;\n    }, null);\n    return merge(base, extended);\n  };\n\n  newStyleFunction.propTypes = process.env.NODE_ENV !== 'production' ? _extends({}, styleFunction.propTypes, {\n    xs: PropTypes.object,\n    sm: PropTypes.object,\n    md: PropTypes.object,\n    lg: PropTypes.object,\n    xl: PropTypes.object\n  }) : {};\n  newStyleFunction.filterProps = ['xs', 'sm', 'md', 'lg', 'xl'].concat(_toConsumableArray(styleFunction.filterProps));\n  return newStyleFunction;\n}\n\nexport default breakpoints;","import { deepmerge } from '@material-ui/utils';\n\nfunction merge(acc, item) {\n  if (!item) {\n    return acc;\n  }\n\n  return deepmerge(acc, item, {\n    clone: false // No need to clone deep, it's way faster.\n\n  });\n}\n\nexport default merge;","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport responsivePropType from './responsivePropType';\nimport { handleBreakpoints } from './breakpoints';\nimport merge from './merge';\nimport memoize from './memoize';\nvar properties = {\n  m: 'margin',\n  p: 'padding'\n};\nvar directions = {\n  t: 'Top',\n  r: 'Right',\n  b: 'Bottom',\n  l: 'Left',\n  x: ['Left', 'Right'],\n  y: ['Top', 'Bottom']\n};\nvar aliases = {\n  marginX: 'mx',\n  marginY: 'my',\n  paddingX: 'px',\n  paddingY: 'py'\n}; // memoize() impact:\n// From 300,000 ops/sec\n// To 350,000 ops/sec\n\nvar getCssProperties = memoize(function (prop) {\n  // It's not a shorthand notation.\n  if (prop.length > 2) {\n    if (aliases[prop]) {\n      prop = aliases[prop];\n    } else {\n      return [prop];\n    }\n  }\n\n  var _prop$split = prop.split(''),\n      _prop$split2 = _slicedToArray(_prop$split, 2),\n      a = _prop$split2[0],\n      b = _prop$split2[1];\n\n  var property = properties[a];\n  var direction = directions[b] || '';\n  return Array.isArray(direction) ? direction.map(function (dir) {\n    return property + dir;\n  }) : [property + direction];\n});\nvar spacingKeys = ['m', 'mt', 'mr', 'mb', 'ml', 'mx', 'my', 'p', 'pt', 'pr', 'pb', 'pl', 'px', 'py', 'margin', 'marginTop', 'marginRight', 'marginBottom', 'marginLeft', 'marginX', 'marginY', 'padding', 'paddingTop', 'paddingRight', 'paddingBottom', 'paddingLeft', 'paddingX', 'paddingY'];\nexport function createUnarySpacing(theme) {\n  var themeSpacing = theme.spacing || 8;\n\n  if (typeof themeSpacing === 'number') {\n    return function (abs) {\n      if (process.env.NODE_ENV !== 'production') {\n        if (typeof abs !== 'number') {\n          console.error(\"Material-UI: Expected spacing argument to be a number, got \".concat(abs, \".\"));\n        }\n      }\n\n      return themeSpacing * abs;\n    };\n  }\n\n  if (Array.isArray(themeSpacing)) {\n    return function (abs) {\n      if (process.env.NODE_ENV !== 'production') {\n        if (abs > themeSpacing.length - 1) {\n          console.error([\"Material-UI: The value provided (\".concat(abs, \") overflows.\"), \"The supported values are: \".concat(JSON.stringify(themeSpacing), \".\"), \"\".concat(abs, \" > \").concat(themeSpacing.length - 1, \", you need to add the missing values.\")].join('\\n'));\n        }\n      }\n\n      return themeSpacing[abs];\n    };\n  }\n\n  if (typeof themeSpacing === 'function') {\n    return themeSpacing;\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    console.error([\"Material-UI: The `theme.spacing` value (\".concat(themeSpacing, \") is invalid.\"), 'It should be a number, an array or a function.'].join('\\n'));\n  }\n\n  return function () {\n    return undefined;\n  };\n}\n\nfunction getValue(transformer, propValue) {\n  if (typeof propValue === 'string' || propValue == null) {\n    return propValue;\n  }\n\n  var abs = Math.abs(propValue);\n  var transformed = transformer(abs);\n\n  if (propValue >= 0) {\n    return transformed;\n  }\n\n  if (typeof transformed === 'number') {\n    return -transformed;\n  }\n\n  return \"-\".concat(transformed);\n}\n\nfunction getStyleFromPropValue(cssProperties, transformer) {\n  return function (propValue) {\n    return cssProperties.reduce(function (acc, cssProperty) {\n      acc[cssProperty] = getValue(transformer, propValue);\n      return acc;\n    }, {});\n  };\n}\n\nfunction spacing(props) {\n  var theme = props.theme;\n  var transformer = createUnarySpacing(theme);\n  return Object.keys(props).map(function (prop) {\n    // Using a hash computation over an array iteration could be faster, but with only 28 items,\n    // it's doesn't worth the bundle size.\n    if (spacingKeys.indexOf(prop) === -1) {\n      return null;\n    }\n\n    var cssProperties = getCssProperties(prop);\n    var styleFromPropValue = getStyleFromPropValue(cssProperties, transformer);\n    var propValue = props[prop];\n    return handleBreakpoints(props, propValue, styleFromPropValue);\n  }).reduce(merge, {});\n}\n\nspacing.propTypes = process.env.NODE_ENV !== 'production' ? spacingKeys.reduce(function (obj, key) {\n  obj[key] = responsivePropType;\n  return obj;\n}, {}) : {};\nspacing.filterProps = spacingKeys;\nexport default spacing;","export default function memoize(fn) {\n  var cache = {};\n  return function (arg) {\n    if (cache[arg] === undefined) {\n      cache[arg] = fn(arg);\n    }\n\n    return cache[arg];\n  };\n}","import { createUnarySpacing } from '@material-ui/system';\nvar warnOnce;\nexport default function createSpacing() {\n  var spacingInput = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 8; // Already transformed.\n\n  if (spacingInput.mui) {\n    return spacingInput;\n  } // Material Design layouts are visually balanced. Most measurements align to an 8dp grid applied, which aligns both spacing and the overall layout.\n  // Smaller components, such as icons and type, can align to a 4dp grid.\n  // https://material.io/design/layout/understanding-layout.html#usage\n\n\n  var transform = createUnarySpacing({\n    spacing: spacingInput\n  });\n\n  var spacing = function spacing() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (!(args.length <= 4)) {\n        console.error(\"Material-UI: Too many arguments provided, expected between 0 and 4, got \".concat(args.length));\n      }\n    }\n\n    if (args.length === 0) {\n      return transform(1);\n    }\n\n    if (args.length === 1) {\n      return transform(args[0]);\n    }\n\n    return args.map(function (argument) {\n      if (typeof argument === 'string') {\n        return argument;\n      }\n\n      var output = transform(argument);\n      return typeof output === 'number' ? \"\".concat(output, \"px\") : output;\n    }).join(' ');\n  }; // Backward compatibility, to remove in v5.\n\n\n  Object.defineProperty(spacing, 'unit', {\n    get: function get() {\n      if (process.env.NODE_ENV !== 'production') {\n        if (!warnOnce || process.env.NODE_ENV === 'test') {\n          console.error(['Material-UI: theme.spacing.unit usage has been deprecated.', 'It will be removed in v5.', 'You can replace `theme.spacing.unit * y` with `theme.spacing(y)`.', '', 'You can use the `https://github.com/mui-org/material-ui/tree/master/packages/material-ui-codemod/README.md#theme-spacing-api` migration helper to make the process smoother.'].join('\\n'));\n        }\n\n        warnOnce = true;\n      }\n\n      return spacingInput;\n    }\n  });\n  spacing.mui = true;\n  return spacing;\n}","import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\"; // Follow https://material.google.com/motion/duration-easing.html#duration-easing-natural-easing-curves\n// to learn the context in which each easing should be used.\n\nexport var easing = {\n  // This is the most common easing curve.\n  easeInOut: 'cubic-bezier(0.4, 0, 0.2, 1)',\n  // Objects enter the screen at full velocity from off-screen and\n  // slowly decelerate to a resting point.\n  easeOut: 'cubic-bezier(0.0, 0, 0.2, 1)',\n  // Objects leave the screen at full velocity. They do not decelerate when off-screen.\n  easeIn: 'cubic-bezier(0.4, 0, 1, 1)',\n  // The sharp curve is used by objects that may return to the screen at any time.\n  sharp: 'cubic-bezier(0.4, 0, 0.6, 1)'\n}; // Follow https://material.io/guidelines/motion/duration-easing.html#duration-easing-common-durations\n// to learn when use what timing\n\nexport var duration = {\n  shortest: 150,\n  shorter: 200,\n  short: 250,\n  // most basic recommended timing\n  standard: 300,\n  // this is to be used in complex animations\n  complex: 375,\n  // recommended when something is entering screen\n  enteringScreen: 225,\n  // recommended when something is leaving screen\n  leavingScreen: 195\n};\n\nfunction formatMs(milliseconds) {\n  return \"\".concat(Math.round(milliseconds), \"ms\");\n}\n/**\n * @param {string|Array} props\n * @param {object} param\n * @param {string} param.prop\n * @param {number} param.duration\n * @param {string} param.easing\n * @param {number} param.delay\n */\n\n\nexport default {\n  easing: easing,\n  duration: duration,\n  create: function create() {\n    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : ['all'];\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var _options$duration = options.duration,\n        durationOption = _options$duration === void 0 ? duration.standard : _options$duration,\n        _options$easing = options.easing,\n        easingOption = _options$easing === void 0 ? easing.easeInOut : _options$easing,\n        _options$delay = options.delay,\n        delay = _options$delay === void 0 ? 0 : _options$delay,\n        other = _objectWithoutProperties(options, [\"duration\", \"easing\", \"delay\"]);\n\n    if (process.env.NODE_ENV !== 'production') {\n      var isString = function isString(value) {\n        return typeof value === 'string';\n      };\n\n      var isNumber = function isNumber(value) {\n        return !isNaN(parseFloat(value));\n      };\n\n      if (!isString(props) && !Array.isArray(props)) {\n        console.error('Material-UI: Argument \"props\" must be a string or Array.');\n      }\n\n      if (!isNumber(durationOption) && !isString(durationOption)) {\n        console.error(\"Material-UI: Argument \\\"duration\\\" must be a number or a string but found \".concat(durationOption, \".\"));\n      }\n\n      if (!isString(easingOption)) {\n        console.error('Material-UI: Argument \"easing\" must be a string.');\n      }\n\n      if (!isNumber(delay) && !isString(delay)) {\n        console.error('Material-UI: Argument \"delay\" must be a number or a string.');\n      }\n\n      if (Object.keys(other).length !== 0) {\n        console.error(\"Material-UI: Unrecognized argument(s) [\".concat(Object.keys(other).join(','), \"].\"));\n      }\n    }\n\n    return (Array.isArray(props) ? props : [props]).map(function (animatedProp) {\n      return \"\".concat(animatedProp, \" \").concat(typeof durationOption === 'string' ? durationOption : formatMs(durationOption), \" \").concat(easingOption, \" \").concat(typeof delay === 'string' ? delay : formatMs(delay));\n    }).join(',');\n  },\n  getAutoHeightDuration: function getAutoHeightDuration(height) {\n    if (!height) {\n      return 0;\n    }\n\n    var constant = height / 36; // https://www.wolframalpha.com/input/?i=(4+%2B+15+*+(x+%2F+36+)+**+0.25+%2B+(x+%2F+36)+%2F+5)+*+10\n\n    return Math.round((4 + 15 * Math.pow(constant, 0.25) + constant / 5) * 10);\n  }\n};","// We need to centralize the zIndex definitions as they work\n// like global values in the browser.\nvar zIndex = {\n  mobileStepper: 1000,\n  speedDial: 1050,\n  appBar: 1100,\n  drawer: 1200,\n  modal: 1300,\n  snackbar: 1400,\n  tooltip: 1500\n};\nexport default zIndex;","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport { deepmerge } from '@material-ui/utils';\nimport createBreakpoints from './createBreakpoints';\nimport createMixins from './createMixins';\nimport createPalette from './createPalette';\nimport createTypography from './createTypography';\nimport shadows from './shadows';\nimport shape from './shape';\nimport createSpacing from './createSpacing';\nimport transitions from './transitions';\nimport zIndex from './zIndex';\n\nfunction createTheme() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var _options$breakpoints = options.breakpoints,\n      breakpointsInput = _options$breakpoints === void 0 ? {} : _options$breakpoints,\n      _options$mixins = options.mixins,\n      mixinsInput = _options$mixins === void 0 ? {} : _options$mixins,\n      _options$palette = options.palette,\n      paletteInput = _options$palette === void 0 ? {} : _options$palette,\n      spacingInput = options.spacing,\n      _options$typography = options.typography,\n      typographyInput = _options$typography === void 0 ? {} : _options$typography,\n      other = _objectWithoutProperties(options, [\"breakpoints\", \"mixins\", \"palette\", \"spacing\", \"typography\"]);\n\n  var palette = createPalette(paletteInput);\n  var breakpoints = createBreakpoints(breakpointsInput);\n  var spacing = createSpacing(spacingInput);\n  var muiTheme = deepmerge({\n    breakpoints: breakpoints,\n    direction: 'ltr',\n    mixins: createMixins(breakpoints, spacing, mixinsInput),\n    overrides: {},\n    // Inject custom styles\n    palette: palette,\n    props: {},\n    // Provide default props\n    shadows: shadows,\n    typography: createTypography(palette, typographyInput),\n    spacing: spacing,\n    shape: shape,\n    transitions: transitions,\n    zIndex: zIndex\n  }, other);\n\n  for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    args[_key - 1] = arguments[_key];\n  }\n\n  muiTheme = args.reduce(function (acc, argument) {\n    return deepmerge(acc, argument);\n  }, muiTheme);\n\n  if (process.env.NODE_ENV !== 'production') {\n    var pseudoClasses = ['checked', 'disabled', 'error', 'focused', 'focusVisible', 'required', 'expanded', 'selected'];\n\n    var traverse = function traverse(node, parentKey) {\n      var depth = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n      var key; // eslint-disable-next-line guard-for-in, no-restricted-syntax\n\n      for (key in node) {\n        var child = node[key];\n\n        if (depth === 1) {\n          if (key.indexOf('Mui') === 0 && child) {\n            traverse(child, key, depth + 1);\n          }\n        } else if (pseudoClasses.indexOf(key) !== -1 && Object.keys(child).length > 0) {\n          if (process.env.NODE_ENV !== 'production') {\n            console.error([\"Material-UI: The `\".concat(parentKey, \"` component increases \") + \"the CSS specificity of the `\".concat(key, \"` internal state.\"), 'You can not override it like this: ', JSON.stringify(node, null, 2), '', 'Instead, you need to use the $ruleName syntax:', JSON.stringify({\n              root: _defineProperty({}, \"&$\".concat(key), child)\n            }, null, 2), '', 'https://material-ui.com/r/pseudo-classes-guide'].join('\\n'));\n          } // Remove the style to prevent global conflicts.\n\n\n          node[key] = {};\n        }\n      }\n    };\n\n    traverse(muiTheme.overrides);\n  }\n\n  return muiTheme;\n}\n\nvar warnedOnce = false;\nexport function createMuiTheme() {\n  if (process.env.NODE_ENV !== 'production') {\n    if (!warnedOnce) {\n      warnedOnce = true;\n      console.error(['Material-UI: the createMuiTheme function was renamed to createTheme.', '', \"You should use `import { createTheme } from '@material-ui/core/styles'`\"].join('\\n'));\n    }\n  }\n\n  return createTheme.apply(void 0, arguments);\n}\nexport default createTheme;","import createTheme from './createTheme';\nvar defaultTheme = createTheme();\nexport default defaultTheme;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { makeStyles as makeStylesWithoutDefault } from '@material-ui/styles';\nimport defaultTheme from './defaultTheme';\n\nfunction makeStyles(stylesOrCreator) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return makeStylesWithoutDefault(stylesOrCreator, _extends({\n    defaultTheme: defaultTheme\n  }, options));\n}\n\nexport default makeStyles;","function toVal(mix) {\n  var k,\n      y,\n      str = '';\n\n  if (typeof mix === 'string' || typeof mix === 'number') {\n    str += mix;\n  } else if (typeof mix === 'object') {\n    if (Array.isArray(mix)) {\n      for (k = 0; k < mix.length; k++) {\n        if (mix[k]) {\n          if (y = toVal(mix[k])) {\n            str && (str += ' ');\n            str += y;\n          }\n        }\n      }\n    } else {\n      for (k in mix) {\n        if (mix[k]) {\n          str && (str += ' ');\n          str += k;\n        }\n      }\n    }\n  }\n\n  return str;\n}\n\nexport default function () {\n  var i = 0,\n      tmp,\n      x,\n      str = '';\n\n  while (i < arguments.length) {\n    if (tmp = arguments[i++]) {\n      if (x = toVal(tmp)) {\n        str && (str += ' ');\n        str += x;\n      }\n    }\n  }\n\n  return str;\n}","/* eslint-disable no-restricted-syntax */\nexport default function getThemeProps(params) {\n  var theme = params.theme,\n      name = params.name,\n      props = params.props;\n\n  if (!theme || !theme.props || !theme.props[name]) {\n    return props;\n  } // Resolve default props, code borrow from React source.\n  // https://github.com/facebook/react/blob/15a8f031838a553e41c0b66eb1bcf1da8448104d/packages/react/src/ReactElement.js#L221\n\n\n  var defaultProps = theme.props[name];\n  var propName;\n\n  for (propName in defaultProps) {\n    if (props[propName] === undefined) {\n      props[propName] = defaultProps[propName];\n    }\n  }\n\n  return props;\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport React from 'react';\nimport hoistNonReactStatics from 'hoist-non-react-statics';\nimport { chainPropTypes, getDisplayName } from '@material-ui/utils';\nimport makeStyles from '../makeStyles';\nimport getThemeProps from '../getThemeProps';\nimport useTheme from '../useTheme'; // Link a style sheet with a component.\n// It does not modify the component passed to it;\n// instead, it returns a new component, with a `classes` property.\n\nvar withStyles = function withStyles(stylesOrCreator) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return function (Component) {\n    var defaultTheme = options.defaultTheme,\n        _options$withTheme = options.withTheme,\n        withTheme = _options$withTheme === void 0 ? false : _options$withTheme,\n        name = options.name,\n        stylesOptions = _objectWithoutProperties(options, [\"defaultTheme\", \"withTheme\", \"name\"]);\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (Component === undefined) {\n        throw new Error(['You are calling withStyles(styles)(Component) with an undefined component.', 'You may have forgotten to import it.'].join('\\n'));\n      }\n    }\n\n    var classNamePrefix = name;\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (!name) {\n        // Provide a better DX outside production.\n        var displayName = getDisplayName(Component);\n\n        if (displayName !== undefined) {\n          classNamePrefix = displayName;\n        }\n      }\n    }\n\n    var useStyles = makeStyles(stylesOrCreator, _extends({\n      defaultTheme: defaultTheme,\n      Component: Component,\n      name: name || Component.displayName,\n      classNamePrefix: classNamePrefix\n    }, stylesOptions));\n    var WithStyles = /*#__PURE__*/React.forwardRef(function WithStyles(props, ref) {\n      var classesProp = props.classes,\n          innerRef = props.innerRef,\n          other = _objectWithoutProperties(props, [\"classes\", \"innerRef\"]); // The wrapper receives only user supplied props, which could be a subset of\n      // the actual props Component might receive due to merging with defaultProps.\n      // So copying it here would give us the same result in the wrapper as well.\n\n\n      var classes = useStyles(_extends({}, Component.defaultProps, props));\n      var theme;\n      var more = other;\n\n      if (typeof name === 'string' || withTheme) {\n        // name and withTheme are invariant in the outer scope\n        // eslint-disable-next-line react-hooks/rules-of-hooks\n        theme = useTheme() || defaultTheme;\n\n        if (name) {\n          more = getThemeProps({\n            theme: theme,\n            name: name,\n            props: other\n          });\n        } // Provide the theme to the wrapped component.\n        // So we don't have to use the `withTheme()` Higher-order Component.\n\n\n        if (withTheme && !more.theme) {\n          more.theme = theme;\n        }\n      }\n\n      return /*#__PURE__*/React.createElement(Component, _extends({\n        ref: innerRef || ref,\n        classes: classes\n      }, more));\n    });\n    process.env.NODE_ENV !== \"production\" ? void 0 : void 0;\n\n    if (process.env.NODE_ENV !== 'production') {\n      WithStyles.displayName = \"WithStyles(\".concat(getDisplayName(Component), \")\");\n    }\n\n    hoistNonReactStatics(WithStyles, Component);\n\n    if (process.env.NODE_ENV !== 'production') {\n      // Exposed for test purposes.\n      WithStyles.Naked = Component;\n      WithStyles.options = options;\n      WithStyles.useStyles = useStyles;\n    }\n\n    return WithStyles;\n  };\n};\n\nexport default withStyles;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { withStyles as withStylesWithoutDefault } from '@material-ui/styles';\nimport defaultTheme from './defaultTheme';\n\nfunction withStyles(stylesOrCreator, options) {\n  return withStylesWithoutDefault(stylesOrCreator, _extends({\n    defaultTheme: defaultTheme\n  }, options));\n}\n\nexport default withStyles;","import { formatMuiErrorMessage as _formatMuiErrorMessage } from \"@material-ui/utils\"; // It should to be noted that this function isn't equivalent to `text-transform: capitalize`.\n//\n// A strict capitalization should uppercase the first letter of each word a the sentence.\n// We only handle the first word.\n\nexport default function capitalize(string) {\n  if (typeof string !== 'string') {\n    throw new Error(process.env.NODE_ENV !== \"production\" ? \"Material-UI: capitalize(string) expects a string argument.\" : _formatMuiErrorMessage(7));\n  }\n\n  return string.charAt(0).toUpperCase() + string.slice(1);\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport capitalize from '../utils/capitalize';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      margin: 0\n    },\n\n    /* Styles applied to the root element if `variant=\"body2\"`. */\n    body2: theme.typography.body2,\n\n    /* Styles applied to the root element if `variant=\"body1\"`. */\n    body1: theme.typography.body1,\n\n    /* Styles applied to the root element if `variant=\"caption\"`. */\n    caption: theme.typography.caption,\n\n    /* Styles applied to the root element if `variant=\"button\"`. */\n    button: theme.typography.button,\n\n    /* Styles applied to the root element if `variant=\"h1\"`. */\n    h1: theme.typography.h1,\n\n    /* Styles applied to the root element if `variant=\"h2\"`. */\n    h2: theme.typography.h2,\n\n    /* Styles applied to the root element if `variant=\"h3\"`. */\n    h3: theme.typography.h3,\n\n    /* Styles applied to the root element if `variant=\"h4\"`. */\n    h4: theme.typography.h4,\n\n    /* Styles applied to the root element if `variant=\"h5\"`. */\n    h5: theme.typography.h5,\n\n    /* Styles applied to the root element if `variant=\"h6\"`. */\n    h6: theme.typography.h6,\n\n    /* Styles applied to the root element if `variant=\"subtitle1\"`. */\n    subtitle1: theme.typography.subtitle1,\n\n    /* Styles applied to the root element if `variant=\"subtitle2\"`. */\n    subtitle2: theme.typography.subtitle2,\n\n    /* Styles applied to the root element if `variant=\"overline\"`. */\n    overline: theme.typography.overline,\n\n    /* Styles applied to the root element if `variant=\"srOnly\"`. Only accessible to screen readers. */\n    srOnly: {\n      position: 'absolute',\n      height: 1,\n      width: 1,\n      overflow: 'hidden'\n    },\n\n    /* Styles applied to the root element if `align=\"left\"`. */\n    alignLeft: {\n      textAlign: 'left'\n    },\n\n    /* Styles applied to the root element if `align=\"center\"`. */\n    alignCenter: {\n      textAlign: 'center'\n    },\n\n    /* Styles applied to the root element if `align=\"right\"`. */\n    alignRight: {\n      textAlign: 'right'\n    },\n\n    /* Styles applied to the root element if `align=\"justify\"`. */\n    alignJustify: {\n      textAlign: 'justify'\n    },\n\n    /* Styles applied to the root element if `nowrap={true}`. */\n    noWrap: {\n      overflow: 'hidden',\n      textOverflow: 'ellipsis',\n      whiteSpace: 'nowrap'\n    },\n\n    /* Styles applied to the root element if `gutterBottom={true}`. */\n    gutterBottom: {\n      marginBottom: '0.35em'\n    },\n\n    /* Styles applied to the root element if `paragraph={true}`. */\n    paragraph: {\n      marginBottom: 16\n    },\n\n    /* Styles applied to the root element if `color=\"inherit\"`. */\n    colorInherit: {\n      color: 'inherit'\n    },\n\n    /* Styles applied to the root element if `color=\"primary\"`. */\n    colorPrimary: {\n      color: theme.palette.primary.main\n    },\n\n    /* Styles applied to the root element if `color=\"secondary\"`. */\n    colorSecondary: {\n      color: theme.palette.secondary.main\n    },\n\n    /* Styles applied to the root element if `color=\"textPrimary\"`. */\n    colorTextPrimary: {\n      color: theme.palette.text.primary\n    },\n\n    /* Styles applied to the root element if `color=\"textSecondary\"`. */\n    colorTextSecondary: {\n      color: theme.palette.text.secondary\n    },\n\n    /* Styles applied to the root element if `color=\"error\"`. */\n    colorError: {\n      color: theme.palette.error.main\n    },\n\n    /* Styles applied to the root element if `display=\"inline\"`. */\n    displayInline: {\n      display: 'inline'\n    },\n\n    /* Styles applied to the root element if `display=\"block\"`. */\n    displayBlock: {\n      display: 'block'\n    }\n  };\n};\nvar defaultVariantMapping = {\n  h1: 'h1',\n  h2: 'h2',\n  h3: 'h3',\n  h4: 'h4',\n  h5: 'h5',\n  h6: 'h6',\n  subtitle1: 'h6',\n  subtitle2: 'h6',\n  body1: 'p',\n  body2: 'p'\n};\nvar Typography = /*#__PURE__*/React.forwardRef(function Typography(props, ref) {\n  var _props$align = props.align,\n      align = _props$align === void 0 ? 'inherit' : _props$align,\n      classes = props.classes,\n      className = props.className,\n      _props$color = props.color,\n      color = _props$color === void 0 ? 'initial' : _props$color,\n      component = props.component,\n      _props$display = props.display,\n      display = _props$display === void 0 ? 'initial' : _props$display,\n      _props$gutterBottom = props.gutterBottom,\n      gutterBottom = _props$gutterBottom === void 0 ? false : _props$gutterBottom,\n      _props$noWrap = props.noWrap,\n      noWrap = _props$noWrap === void 0 ? false : _props$noWrap,\n      _props$paragraph = props.paragraph,\n      paragraph = _props$paragraph === void 0 ? false : _props$paragraph,\n      _props$variant = props.variant,\n      variant = _props$variant === void 0 ? 'body1' : _props$variant,\n      _props$variantMapping = props.variantMapping,\n      variantMapping = _props$variantMapping === void 0 ? defaultVariantMapping : _props$variantMapping,\n      other = _objectWithoutProperties(props, [\"align\", \"classes\", \"className\", \"color\", \"component\", \"display\", \"gutterBottom\", \"noWrap\", \"paragraph\", \"variant\", \"variantMapping\"]);\n\n  var Component = component || (paragraph ? 'p' : variantMapping[variant] || defaultVariantMapping[variant]) || 'span';\n  return /*#__PURE__*/React.createElement(Component, _extends({\n    className: clsx(classes.root, className, variant !== 'inherit' && classes[variant], color !== 'initial' && classes[\"color\".concat(capitalize(color))], noWrap && classes.noWrap, gutterBottom && classes.gutterBottom, paragraph && classes.paragraph, align !== 'inherit' && classes[\"align\".concat(capitalize(align))], display !== 'initial' && classes[\"display\".concat(capitalize(display))]),\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\nexport default withStyles(styles, {\n  name: 'MuiTypography'\n})(Typography);","// based on https://github.com/WICG/focus-visible/blob/v4.1.5/src/focus-visible.js\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nvar hadKeyboardEvent = true;\nvar hadFocusVisibleRecently = false;\nvar hadFocusVisibleRecentlyTimeout = null;\nvar inputTypesWhitelist = {\n  text: true,\n  search: true,\n  url: true,\n  tel: true,\n  email: true,\n  password: true,\n  number: true,\n  date: true,\n  month: true,\n  week: true,\n  time: true,\n  datetime: true,\n  'datetime-local': true\n};\n/**\n * Computes whether the given element should automatically trigger the\n * `focus-visible` class being added, i.e. whether it should always match\n * `:focus-visible` when focused.\n * @param {Element} node\n * @return {boolean}\n */\n\nfunction focusTriggersKeyboardModality(node) {\n  var type = node.type,\n      tagName = node.tagName;\n\n  if (tagName === 'INPUT' && inputTypesWhitelist[type] && !node.readOnly) {\n    return true;\n  }\n\n  if (tagName === 'TEXTAREA' && !node.readOnly) {\n    return true;\n  }\n\n  if (node.isContentEditable) {\n    return true;\n  }\n\n  return false;\n}\n/**\n * Keep track of our keyboard modality state with `hadKeyboardEvent`.\n * If the most recent user interaction was via the keyboard;\n * and the key press did not include a meta, alt/option, or control key;\n * then the modality is keyboard. Otherwise, the modality is not keyboard.\n * @param {KeyboardEvent} event\n */\n\n\nfunction handleKeyDown(event) {\n  if (event.metaKey || event.altKey || event.ctrlKey) {\n    return;\n  }\n\n  hadKeyboardEvent = true;\n}\n/**\n * If at any point a user clicks with a pointing device, ensure that we change\n * the modality away from keyboard.\n * This avoids the situation where a user presses a key on an already focused\n * element, and then clicks on a different element, focusing it with a\n * pointing device, while we still think we're in keyboard modality.\n */\n\n\nfunction handlePointerDown() {\n  hadKeyboardEvent = false;\n}\n\nfunction handleVisibilityChange() {\n  if (this.visibilityState === 'hidden') {\n    // If the tab becomes active again, the browser will handle calling focus\n    // on the element (Safari actually calls it twice).\n    // If this tab change caused a blur on an element with focus-visible,\n    // re-apply the class when the user switches back to the tab.\n    if (hadFocusVisibleRecently) {\n      hadKeyboardEvent = true;\n    }\n  }\n}\n\nfunction prepare(doc) {\n  doc.addEventListener('keydown', handleKeyDown, true);\n  doc.addEventListener('mousedown', handlePointerDown, true);\n  doc.addEventListener('pointerdown', handlePointerDown, true);\n  doc.addEventListener('touchstart', handlePointerDown, true);\n  doc.addEventListener('visibilitychange', handleVisibilityChange, true);\n}\n\nexport function teardown(doc) {\n  doc.removeEventListener('keydown', handleKeyDown, true);\n  doc.removeEventListener('mousedown', handlePointerDown, true);\n  doc.removeEventListener('pointerdown', handlePointerDown, true);\n  doc.removeEventListener('touchstart', handlePointerDown, true);\n  doc.removeEventListener('visibilitychange', handleVisibilityChange, true);\n}\n\nfunction isFocusVisible(event) {\n  var target = event.target;\n\n  try {\n    return target.matches(':focus-visible');\n  } catch (error) {} // browsers not implementing :focus-visible will throw a SyntaxError\n  // we use our own heuristic for those browsers\n  // rethrow might be better if it's not the expected error but do we really\n  // want to crash if focus-visible malfunctioned?\n  // no need for validFocusTarget check. the user does that by attaching it to\n  // focusable events only\n\n\n  return hadKeyboardEvent || focusTriggersKeyboardModality(target);\n}\n/**\n * Should be called if a blur event is fired on a focus-visible element\n */\n\n\nfunction handleBlurVisible() {\n  // To detect a tab/window switch, we look for a blur event followed\n  // rapidly by a visibility change.\n  // If we don't see a visibility change within 100ms, it's probably a\n  // regular focus change.\n  hadFocusVisibleRecently = true;\n  window.clearTimeout(hadFocusVisibleRecentlyTimeout);\n  hadFocusVisibleRecentlyTimeout = window.setTimeout(function () {\n    hadFocusVisibleRecently = false;\n  }, 100);\n}\n\nexport default function useIsFocusVisible() {\n  var ref = React.useCallback(function (instance) {\n    var node = ReactDOM.findDOMNode(instance);\n\n    if (node != null) {\n      prepare(node.ownerDocument);\n    }\n  }, []);\n\n  if (process.env.NODE_ENV !== 'production') {\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    React.useDebugValue(isFocusVisible);\n  }\n\n  return {\n    isFocusVisible: isFocusVisible,\n    onBlurVisible: handleBlurVisible,\n    ref: ref\n  };\n}","export default function ownerDocument(node) {\n  return node && node.ownerDocument || document;\n}","import * as React from 'react';\nvar useEnhancedEffect = typeof window !== 'undefined' ? React.useLayoutEffect : React.useEffect;\n/**\n * https://github.com/facebook/react/issues/14099#issuecomment-440013892\n *\n * @param {function} fn\n */\n\nexport default function useEventCallback(fn) {\n  var ref = React.useRef(fn);\n  useEnhancedEffect(function () {\n    ref.current = fn;\n  });\n  return React.useCallback(function () {\n    return (0, ref.current).apply(void 0, arguments);\n  }, []);\n}","// TODO v5: consider to make it private\nexport default function setRef(ref, value) {\n  if (typeof ref === 'function') {\n    ref(value);\n  } else if (ref) {\n    ref.current = value;\n  }\n}","import * as React from 'react';\nimport setRef from './setRef';\nexport default function useForkRef(refA, refB) {\n  /**\n   * This will create a new function if the ref props change and are defined.\n   * This means react will call the old forkRef with `null` and the new forkRef\n   * with the ref. Cleanup naturally emerges from this behavior\n   */\n  return React.useMemo(function () {\n    if (refA == null && refB == null) {\n      return null;\n    }\n\n    return function (refValue) {\n      setRef(refA, refValue);\n      setRef(refB, refValue);\n    };\n  }, [refA, refB]);\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\n\nvar styles = function styles(theme) {\n  return {\n    thumb: {\n      '&$open': {\n        '& $offset': {\n          transform: 'scale(1) translateY(-10px)'\n        }\n      }\n    },\n    open: {},\n    offset: _extends({\n      zIndex: 1\n    }, theme.typography.body2, {\n      fontSize: theme.typography.pxToRem(12),\n      lineHeight: 1.2,\n      transition: theme.transitions.create(['transform'], {\n        duration: theme.transitions.duration.shortest\n      }),\n      top: -34,\n      transformOrigin: 'bottom center',\n      transform: 'scale(0)',\n      position: 'absolute'\n    }),\n    circle: {\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      width: 32,\n      height: 32,\n      borderRadius: '50% 50% 50% 0',\n      backgroundColor: 'currentColor',\n      transform: 'rotate(-45deg)'\n    },\n    label: {\n      color: theme.palette.primary.contrastText,\n      transform: 'rotate(45deg)'\n    }\n  };\n};\n/**\n * @ignore - internal component.\n */\n\n\nfunction ValueLabel(props) {\n  var children = props.children,\n      classes = props.classes,\n      className = props.className,\n      open = props.open,\n      value = props.value,\n      valueLabelDisplay = props.valueLabelDisplay;\n\n  if (valueLabelDisplay === 'off') {\n    return children;\n  }\n\n  return /*#__PURE__*/React.cloneElement(children, {\n    className: clsx(children.props.className, (open || valueLabelDisplay === 'on') && classes.open, classes.thumb)\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: clsx(classes.offset, className)\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: classes.circle\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: classes.label\n  }, value))));\n}\n\nexport default withStyles(styles, {\n  name: 'PrivateValueLabel'\n})(ValueLabel);","import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport { chainPropTypes } from '@material-ui/utils';\nimport withStyles from '../styles/withStyles';\nimport useTheme from '../styles/useTheme';\nimport { alpha, lighten, darken } from '../styles/colorManipulator';\nimport useIsFocusVisible from '../utils/useIsFocusVisible';\nimport ownerDocument from '../utils/ownerDocument';\nimport useEventCallback from '../utils/useEventCallback';\nimport useForkRef from '../utils/useForkRef';\nimport capitalize from '../utils/capitalize';\nimport useControlled from '../utils/useControlled';\nimport ValueLabel from './ValueLabel';\n\nfunction asc(a, b) {\n  return a - b;\n}\n\nfunction clamp(value, min, max) {\n  return Math.min(Math.max(min, value), max);\n}\n\nfunction findClosest(values, currentValue) {\n  var _values$reduce = values.reduce(function (acc, value, index) {\n    var distance = Math.abs(currentValue - value);\n\n    if (acc === null || distance < acc.distance || distance === acc.distance) {\n      return {\n        distance: distance,\n        index: index\n      };\n    }\n\n    return acc;\n  }, null),\n      closestIndex = _values$reduce.index;\n\n  return closestIndex;\n}\n\nfunction trackFinger(event, touchId) {\n  if (touchId.current !== undefined && event.changedTouches) {\n    for (var i = 0; i < event.changedTouches.length; i += 1) {\n      var touch = event.changedTouches[i];\n\n      if (touch.identifier === touchId.current) {\n        return {\n          x: touch.clientX,\n          y: touch.clientY\n        };\n      }\n    }\n\n    return false;\n  }\n\n  return {\n    x: event.clientX,\n    y: event.clientY\n  };\n}\n\nfunction valueToPercent(value, min, max) {\n  return (value - min) * 100 / (max - min);\n}\n\nfunction percentToValue(percent, min, max) {\n  return (max - min) * percent + min;\n}\n\nfunction getDecimalPrecision(num) {\n  // This handles the case when num is very small (0.00000001), js will turn this into 1e-8.\n  // When num is bigger than 1 or less than -1 it won't get converted to this notation so it's fine.\n  if (Math.abs(num) < 1) {\n    var parts = num.toExponential().split('e-');\n    var matissaDecimalPart = parts[0].split('.')[1];\n    return (matissaDecimalPart ? matissaDecimalPart.length : 0) + parseInt(parts[1], 10);\n  }\n\n  var decimalPart = num.toString().split('.')[1];\n  return decimalPart ? decimalPart.length : 0;\n}\n\nfunction roundValueToStep(value, step, min) {\n  var nearest = Math.round((value - min) / step) * step + min;\n  return Number(nearest.toFixed(getDecimalPrecision(step)));\n}\n\nfunction setValueIndex(_ref) {\n  var values = _ref.values,\n      source = _ref.source,\n      newValue = _ref.newValue,\n      index = _ref.index; // Performance shortcut\n\n  if (values[index] === newValue) {\n    return source;\n  }\n\n  var output = values.slice();\n  output[index] = newValue;\n  return output;\n}\n\nfunction focusThumb(_ref2) {\n  var sliderRef = _ref2.sliderRef,\n      activeIndex = _ref2.activeIndex,\n      setActive = _ref2.setActive;\n\n  if (!sliderRef.current.contains(document.activeElement) || Number(document.activeElement.getAttribute('data-index')) !== activeIndex) {\n    sliderRef.current.querySelector(\"[role=\\\"slider\\\"][data-index=\\\"\".concat(activeIndex, \"\\\"]\")).focus();\n  }\n\n  if (setActive) {\n    setActive(activeIndex);\n  }\n}\n\nvar axisProps = {\n  horizontal: {\n    offset: function offset(percent) {\n      return {\n        left: \"\".concat(percent, \"%\")\n      };\n    },\n    leap: function leap(percent) {\n      return {\n        width: \"\".concat(percent, \"%\")\n      };\n    }\n  },\n  'horizontal-reverse': {\n    offset: function offset(percent) {\n      return {\n        right: \"\".concat(percent, \"%\")\n      };\n    },\n    leap: function leap(percent) {\n      return {\n        width: \"\".concat(percent, \"%\")\n      };\n    }\n  },\n  vertical: {\n    offset: function offset(percent) {\n      return {\n        bottom: \"\".concat(percent, \"%\")\n      };\n    },\n    leap: function leap(percent) {\n      return {\n        height: \"\".concat(percent, \"%\")\n      };\n    }\n  }\n};\n\nvar Identity = function Identity(x) {\n  return x;\n};\n\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      height: 2,\n      width: '100%',\n      boxSizing: 'content-box',\n      padding: '13px 0',\n      display: 'inline-block',\n      position: 'relative',\n      cursor: 'pointer',\n      touchAction: 'none',\n      color: theme.palette.primary.main,\n      WebkitTapHighlightColor: 'transparent',\n      '&$disabled': {\n        pointerEvents: 'none',\n        cursor: 'default',\n        color: theme.palette.grey[400]\n      },\n      '&$vertical': {\n        width: 2,\n        height: '100%',\n        padding: '0 13px'\n      },\n      // The primary input mechanism of the device includes a pointing device of limited accuracy.\n      '@media (pointer: coarse)': {\n        // Reach 42px touch target, about ~8mm on screen.\n        padding: '20px 0',\n        '&$vertical': {\n          padding: '0 20px'\n        }\n      },\n      '@media print': {\n        colorAdjust: 'exact'\n      }\n    },\n\n    /* Styles applied to the root element if `color=\"primary\"`. */\n    colorPrimary: {// TODO v5: move the style here\n    },\n\n    /* Styles applied to the root element if `color=\"secondary\"`. */\n    colorSecondary: {\n      color: theme.palette.secondary.main\n    },\n\n    /* Styles applied to the root element if `marks` is provided with at least one label. */\n    marked: {\n      marginBottom: 20,\n      '&$vertical': {\n        marginBottom: 'auto',\n        marginRight: 20\n      }\n    },\n\n    /* Pseudo-class applied to the root element if `orientation=\"vertical\"`. */\n    vertical: {},\n\n    /* Pseudo-class applied to the root and thumb element if `disabled={true}`. */\n    disabled: {},\n\n    /* Styles applied to the rail element. */\n    rail: {\n      display: 'block',\n      position: 'absolute',\n      width: '100%',\n      height: 2,\n      borderRadius: 1,\n      backgroundColor: 'currentColor',\n      opacity: 0.38,\n      '$vertical &': {\n        height: '100%',\n        width: 2\n      }\n    },\n\n    /* Styles applied to the track element. */\n    track: {\n      display: 'block',\n      position: 'absolute',\n      height: 2,\n      borderRadius: 1,\n      backgroundColor: 'currentColor',\n      '$vertical &': {\n        width: 2\n      }\n    },\n\n    /* Styles applied to the track element if `track={false}`. */\n    trackFalse: {\n      '& $track': {\n        display: 'none'\n      }\n    },\n\n    /* Styles applied to the track element if `track=\"inverted\"`. */\n    trackInverted: {\n      '& $track': {\n        backgroundColor: // Same logic as the LinearProgress track color\n        theme.palette.type === 'light' ? lighten(theme.palette.primary.main, 0.62) : darken(theme.palette.primary.main, 0.5)\n      },\n      '& $rail': {\n        opacity: 1\n      }\n    },\n\n    /* Styles applied to the thumb element. */\n    thumb: {\n      position: 'absolute',\n      width: 12,\n      height: 12,\n      marginLeft: -6,\n      marginTop: -5,\n      boxSizing: 'border-box',\n      borderRadius: '50%',\n      outline: 0,\n      backgroundColor: 'currentColor',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      transition: theme.transitions.create(['box-shadow'], {\n        duration: theme.transitions.duration.shortest\n      }),\n      '&::after': {\n        position: 'absolute',\n        content: '\"\"',\n        borderRadius: '50%',\n        // reach 42px hit target (2 * 15 + thumb diameter)\n        left: -15,\n        top: -15,\n        right: -15,\n        bottom: -15\n      },\n      '&$focusVisible,&:hover': {\n        boxShadow: \"0px 0px 0px 8px \".concat(alpha(theme.palette.primary.main, 0.16)),\n        '@media (hover: none)': {\n          boxShadow: 'none'\n        }\n      },\n      '&$active': {\n        boxShadow: \"0px 0px 0px 14px \".concat(alpha(theme.palette.primary.main, 0.16))\n      },\n      '&$disabled': {\n        width: 8,\n        height: 8,\n        marginLeft: -4,\n        marginTop: -3,\n        '&:hover': {\n          boxShadow: 'none'\n        }\n      },\n      '$vertical &': {\n        marginLeft: -5,\n        marginBottom: -6\n      },\n      '$vertical &$disabled': {\n        marginLeft: -3,\n        marginBottom: -4\n      }\n    },\n\n    /* Styles applied to the thumb element if `color=\"primary\"`. */\n    thumbColorPrimary: {// TODO v5: move the style here\n    },\n\n    /* Styles applied to the thumb element if `color=\"secondary\"`. */\n    thumbColorSecondary: {\n      '&$focusVisible,&:hover': {\n        boxShadow: \"0px 0px 0px 8px \".concat(alpha(theme.palette.secondary.main, 0.16))\n      },\n      '&$active': {\n        boxShadow: \"0px 0px 0px 14px \".concat(alpha(theme.palette.secondary.main, 0.16))\n      }\n    },\n\n    /* Pseudo-class applied to the thumb element if it's active. */\n    active: {},\n\n    /* Pseudo-class applied to the thumb element if keyboard focused. */\n    focusVisible: {},\n\n    /* Styles applied to the thumb label element. */\n    valueLabel: {\n      // IE 11 centering bug, to remove from the customization demos once no longer supported\n      left: 'calc(-50% - 4px)'\n    },\n\n    /* Styles applied to the mark element. */\n    mark: {\n      position: 'absolute',\n      width: 2,\n      height: 2,\n      borderRadius: 1,\n      backgroundColor: 'currentColor'\n    },\n\n    /* Styles applied to the mark element if active (depending on the value). */\n    markActive: {\n      backgroundColor: theme.palette.background.paper,\n      opacity: 0.8\n    },\n\n    /* Styles applied to the mark label element. */\n    markLabel: _extends({}, theme.typography.body2, {\n      color: theme.palette.text.secondary,\n      position: 'absolute',\n      top: 26,\n      transform: 'translateX(-50%)',\n      whiteSpace: 'nowrap',\n      '$vertical &': {\n        top: 'auto',\n        left: 26,\n        transform: 'translateY(50%)'\n      },\n      '@media (pointer: coarse)': {\n        top: 40,\n        '$vertical &': {\n          left: 31\n        }\n      }\n    }),\n\n    /* Styles applied to the mark label element if active (depending on the value). */\n    markLabelActive: {\n      color: theme.palette.text.primary\n    }\n  };\n};\nvar Slider = /*#__PURE__*/React.forwardRef(function Slider(props, ref) {\n  var ariaLabel = props['aria-label'],\n      ariaLabelledby = props['aria-labelledby'],\n      ariaValuetext = props['aria-valuetext'],\n      classes = props.classes,\n      className = props.className,\n      _props$color = props.color,\n      color = _props$color === void 0 ? 'primary' : _props$color,\n      _props$component = props.component,\n      Component = _props$component === void 0 ? 'span' : _props$component,\n      defaultValue = props.defaultValue,\n      _props$disabled = props.disabled,\n      disabled = _props$disabled === void 0 ? false : _props$disabled,\n      getAriaLabel = props.getAriaLabel,\n      getAriaValueText = props.getAriaValueText,\n      _props$marks = props.marks,\n      marksProp = _props$marks === void 0 ? false : _props$marks,\n      _props$max = props.max,\n      max = _props$max === void 0 ? 100 : _props$max,\n      _props$min = props.min,\n      min = _props$min === void 0 ? 0 : _props$min,\n      name = props.name,\n      onChange = props.onChange,\n      onChangeCommitted = props.onChangeCommitted,\n      onMouseDown = props.onMouseDown,\n      _props$orientation = props.orientation,\n      orientation = _props$orientation === void 0 ? 'horizontal' : _props$orientation,\n      _props$scale = props.scale,\n      scale = _props$scale === void 0 ? Identity : _props$scale,\n      _props$step = props.step,\n      step = _props$step === void 0 ? 1 : _props$step,\n      _props$ThumbComponent = props.ThumbComponent,\n      ThumbComponent = _props$ThumbComponent === void 0 ? 'span' : _props$ThumbComponent,\n      _props$track = props.track,\n      track = _props$track === void 0 ? 'normal' : _props$track,\n      valueProp = props.value,\n      _props$ValueLabelComp = props.ValueLabelComponent,\n      ValueLabelComponent = _props$ValueLabelComp === void 0 ? ValueLabel : _props$ValueLabelComp,\n      _props$valueLabelDisp = props.valueLabelDisplay,\n      valueLabelDisplay = _props$valueLabelDisp === void 0 ? 'off' : _props$valueLabelDisp,\n      _props$valueLabelForm = props.valueLabelFormat,\n      valueLabelFormat = _props$valueLabelForm === void 0 ? Identity : _props$valueLabelForm,\n      other = _objectWithoutProperties(props, [\"aria-label\", \"aria-labelledby\", \"aria-valuetext\", \"classes\", \"className\", \"color\", \"component\", \"defaultValue\", \"disabled\", \"getAriaLabel\", \"getAriaValueText\", \"marks\", \"max\", \"min\", \"name\", \"onChange\", \"onChangeCommitted\", \"onMouseDown\", \"orientation\", \"scale\", \"step\", \"ThumbComponent\", \"track\", \"value\", \"ValueLabelComponent\", \"valueLabelDisplay\", \"valueLabelFormat\"]);\n\n  var theme = useTheme();\n  var touchId = React.useRef(); // We can't use the :active browser pseudo-classes.\n  // - The active state isn't triggered when clicking on the rail.\n  // - The active state isn't transfered when inversing a range slider.\n\n  var _React$useState = React.useState(-1),\n      active = _React$useState[0],\n      setActive = _React$useState[1];\n\n  var _React$useState2 = React.useState(-1),\n      open = _React$useState2[0],\n      setOpen = _React$useState2[1];\n\n  var _useControlled = useControlled({\n    controlled: valueProp,\n    default: defaultValue,\n    name: 'Slider'\n  }),\n      _useControlled2 = _slicedToArray(_useControlled, 2),\n      valueDerived = _useControlled2[0],\n      setValueState = _useControlled2[1];\n\n  var range = Array.isArray(valueDerived);\n  var values = range ? valueDerived.slice().sort(asc) : [valueDerived];\n  values = values.map(function (value) {\n    return clamp(value, min, max);\n  });\n  var marks = marksProp === true && step !== null ? _toConsumableArray(Array(Math.floor((max - min) / step) + 1)).map(function (_, index) {\n    return {\n      value: min + step * index\n    };\n  }) : marksProp || [];\n\n  var _useIsFocusVisible = useIsFocusVisible(),\n      isFocusVisible = _useIsFocusVisible.isFocusVisible,\n      onBlurVisible = _useIsFocusVisible.onBlurVisible,\n      focusVisibleRef = _useIsFocusVisible.ref;\n\n  var _React$useState3 = React.useState(-1),\n      focusVisible = _React$useState3[0],\n      setFocusVisible = _React$useState3[1];\n\n  var sliderRef = React.useRef();\n  var handleFocusRef = useForkRef(focusVisibleRef, sliderRef);\n  var handleRef = useForkRef(ref, handleFocusRef);\n  var handleFocus = useEventCallback(function (event) {\n    var index = Number(event.currentTarget.getAttribute('data-index'));\n\n    if (isFocusVisible(event)) {\n      setFocusVisible(index);\n    }\n\n    setOpen(index);\n  });\n  var handleBlur = useEventCallback(function () {\n    if (focusVisible !== -1) {\n      setFocusVisible(-1);\n      onBlurVisible();\n    }\n\n    setOpen(-1);\n  });\n  var handleMouseOver = useEventCallback(function (event) {\n    var index = Number(event.currentTarget.getAttribute('data-index'));\n    setOpen(index);\n  });\n  var handleMouseLeave = useEventCallback(function () {\n    setOpen(-1);\n  });\n  var isRtl = theme.direction === 'rtl';\n  var handleKeyDown = useEventCallback(function (event) {\n    var index = Number(event.currentTarget.getAttribute('data-index'));\n    var value = values[index];\n    var tenPercents = (max - min) / 10;\n    var marksValues = marks.map(function (mark) {\n      return mark.value;\n    });\n    var marksIndex = marksValues.indexOf(value);\n    var newValue;\n    var increaseKey = isRtl ? 'ArrowLeft' : 'ArrowRight';\n    var decreaseKey = isRtl ? 'ArrowRight' : 'ArrowLeft';\n\n    switch (event.key) {\n      case 'Home':\n        newValue = min;\n        break;\n\n      case 'End':\n        newValue = max;\n        break;\n\n      case 'PageUp':\n        if (step) {\n          newValue = value + tenPercents;\n        }\n\n        break;\n\n      case 'PageDown':\n        if (step) {\n          newValue = value - tenPercents;\n        }\n\n        break;\n\n      case increaseKey:\n      case 'ArrowUp':\n        if (step) {\n          newValue = value + step;\n        } else {\n          newValue = marksValues[marksIndex + 1] || marksValues[marksValues.length - 1];\n        }\n\n        break;\n\n      case decreaseKey:\n      case 'ArrowDown':\n        if (step) {\n          newValue = value - step;\n        } else {\n          newValue = marksValues[marksIndex - 1] || marksValues[0];\n        }\n\n        break;\n\n      default:\n        return;\n    } // Prevent scroll of the page\n\n\n    event.preventDefault();\n\n    if (step) {\n      newValue = roundValueToStep(newValue, step, min);\n    }\n\n    newValue = clamp(newValue, min, max);\n\n    if (range) {\n      var previousValue = newValue;\n      newValue = setValueIndex({\n        values: values,\n        source: valueDerived,\n        newValue: newValue,\n        index: index\n      }).sort(asc);\n      focusThumb({\n        sliderRef: sliderRef,\n        activeIndex: newValue.indexOf(previousValue)\n      });\n    }\n\n    setValueState(newValue);\n    setFocusVisible(index);\n\n    if (onChange) {\n      onChange(event, newValue);\n    }\n\n    if (onChangeCommitted) {\n      onChangeCommitted(event, newValue);\n    }\n  });\n  var previousIndex = React.useRef();\n  var axis = orientation;\n\n  if (isRtl && orientation !== \"vertical\") {\n    axis += '-reverse';\n  }\n\n  var getFingerNewValue = function getFingerNewValue(_ref3) {\n    var finger = _ref3.finger,\n        _ref3$move = _ref3.move,\n        move = _ref3$move === void 0 ? false : _ref3$move,\n        values2 = _ref3.values,\n        source = _ref3.source;\n    var slider = sliderRef.current;\n\n    var _slider$getBoundingCl = slider.getBoundingClientRect(),\n        width = _slider$getBoundingCl.width,\n        height = _slider$getBoundingCl.height,\n        bottom = _slider$getBoundingCl.bottom,\n        left = _slider$getBoundingCl.left;\n\n    var percent;\n\n    if (axis.indexOf('vertical') === 0) {\n      percent = (bottom - finger.y) / height;\n    } else {\n      percent = (finger.x - left) / width;\n    }\n\n    if (axis.indexOf('-reverse') !== -1) {\n      percent = 1 - percent;\n    }\n\n    var newValue;\n    newValue = percentToValue(percent, min, max);\n\n    if (step) {\n      newValue = roundValueToStep(newValue, step, min);\n    } else {\n      var marksValues = marks.map(function (mark) {\n        return mark.value;\n      });\n      var closestIndex = findClosest(marksValues, newValue);\n      newValue = marksValues[closestIndex];\n    }\n\n    newValue = clamp(newValue, min, max);\n    var activeIndex = 0;\n\n    if (range) {\n      if (!move) {\n        activeIndex = findClosest(values2, newValue);\n      } else {\n        activeIndex = previousIndex.current;\n      }\n\n      var previousValue = newValue;\n      newValue = setValueIndex({\n        values: values2,\n        source: source,\n        newValue: newValue,\n        index: activeIndex\n      }).sort(asc);\n      activeIndex = newValue.indexOf(previousValue);\n      previousIndex.current = activeIndex;\n    }\n\n    return {\n      newValue: newValue,\n      activeIndex: activeIndex\n    };\n  };\n\n  var handleTouchMove = useEventCallback(function (event) {\n    var finger = trackFinger(event, touchId);\n\n    if (!finger) {\n      return;\n    }\n\n    var _getFingerNewValue = getFingerNewValue({\n      finger: finger,\n      move: true,\n      values: values,\n      source: valueDerived\n    }),\n        newValue = _getFingerNewValue.newValue,\n        activeIndex = _getFingerNewValue.activeIndex;\n\n    focusThumb({\n      sliderRef: sliderRef,\n      activeIndex: activeIndex,\n      setActive: setActive\n    });\n    setValueState(newValue);\n\n    if (onChange) {\n      onChange(event, newValue);\n    }\n  });\n  var handleTouchEnd = useEventCallback(function (event) {\n    var finger = trackFinger(event, touchId);\n\n    if (!finger) {\n      return;\n    }\n\n    var _getFingerNewValue2 = getFingerNewValue({\n      finger: finger,\n      values: values,\n      source: valueDerived\n    }),\n        newValue = _getFingerNewValue2.newValue;\n\n    setActive(-1);\n\n    if (event.type === 'touchend') {\n      setOpen(-1);\n    }\n\n    if (onChangeCommitted) {\n      onChangeCommitted(event, newValue);\n    }\n\n    touchId.current = undefined;\n    var doc = ownerDocument(sliderRef.current);\n    doc.removeEventListener('mousemove', handleTouchMove);\n    doc.removeEventListener('mouseup', handleTouchEnd);\n    doc.removeEventListener('touchmove', handleTouchMove);\n    doc.removeEventListener('touchend', handleTouchEnd);\n  });\n  var handleTouchStart = useEventCallback(function (event) {\n    // Workaround as Safari has partial support for touchAction: 'none'.\n    event.preventDefault();\n    var touch = event.changedTouches[0];\n\n    if (touch != null) {\n      // A number that uniquely identifies the current finger in the touch session.\n      touchId.current = touch.identifier;\n    }\n\n    var finger = trackFinger(event, touchId);\n\n    var _getFingerNewValue3 = getFingerNewValue({\n      finger: finger,\n      values: values,\n      source: valueDerived\n    }),\n        newValue = _getFingerNewValue3.newValue,\n        activeIndex = _getFingerNewValue3.activeIndex;\n\n    focusThumb({\n      sliderRef: sliderRef,\n      activeIndex: activeIndex,\n      setActive: setActive\n    });\n    setValueState(newValue);\n\n    if (onChange) {\n      onChange(event, newValue);\n    }\n\n    var doc = ownerDocument(sliderRef.current);\n    doc.addEventListener('touchmove', handleTouchMove);\n    doc.addEventListener('touchend', handleTouchEnd);\n  });\n  React.useEffect(function () {\n    var slider = sliderRef.current;\n    slider.addEventListener('touchstart', handleTouchStart);\n    var doc = ownerDocument(slider);\n    return function () {\n      slider.removeEventListener('touchstart', handleTouchStart);\n      doc.removeEventListener('mousemove', handleTouchMove);\n      doc.removeEventListener('mouseup', handleTouchEnd);\n      doc.removeEventListener('touchmove', handleTouchMove);\n      doc.removeEventListener('touchend', handleTouchEnd);\n    };\n  }, [handleTouchEnd, handleTouchMove, handleTouchStart]);\n  var handleMouseDown = useEventCallback(function (event) {\n    if (onMouseDown) {\n      onMouseDown(event);\n    }\n\n    event.preventDefault();\n    var finger = trackFinger(event, touchId);\n\n    var _getFingerNewValue4 = getFingerNewValue({\n      finger: finger,\n      values: values,\n      source: valueDerived\n    }),\n        newValue = _getFingerNewValue4.newValue,\n        activeIndex = _getFingerNewValue4.activeIndex;\n\n    focusThumb({\n      sliderRef: sliderRef,\n      activeIndex: activeIndex,\n      setActive: setActive\n    });\n    setValueState(newValue);\n\n    if (onChange) {\n      onChange(event, newValue);\n    }\n\n    var doc = ownerDocument(sliderRef.current);\n    doc.addEventListener('mousemove', handleTouchMove);\n    doc.addEventListener('mouseup', handleTouchEnd);\n  });\n  var trackOffset = valueToPercent(range ? values[0] : min, min, max);\n  var trackLeap = valueToPercent(values[values.length - 1], min, max) - trackOffset;\n\n  var trackStyle = _extends({}, axisProps[axis].offset(trackOffset), axisProps[axis].leap(trackLeap));\n\n  return /*#__PURE__*/React.createElement(Component, _extends({\n    ref: handleRef,\n    className: clsx(classes.root, classes[\"color\".concat(capitalize(color))], className, disabled && classes.disabled, marks.length > 0 && marks.some(function (mark) {\n      return mark.label;\n    }) && classes.marked, track === false && classes.trackFalse, orientation === 'vertical' && classes.vertical, track === 'inverted' && classes.trackInverted),\n    onMouseDown: handleMouseDown\n  }, other), /*#__PURE__*/React.createElement(\"span\", {\n    className: classes.rail\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: classes.track,\n    style: trackStyle\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    value: values.join(','),\n    name: name,\n    type: \"hidden\"\n  }), marks.map(function (mark, index) {\n    var percent = valueToPercent(mark.value, min, max);\n    var style = axisProps[axis].offset(percent);\n    var markActive;\n\n    if (track === false) {\n      markActive = values.indexOf(mark.value) !== -1;\n    } else {\n      markActive = track === 'normal' && (range ? mark.value >= values[0] && mark.value <= values[values.length - 1] : mark.value <= values[0]) || track === 'inverted' && (range ? mark.value <= values[0] || mark.value >= values[values.length - 1] : mark.value >= values[0]);\n    }\n\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      key: mark.value\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      style: style,\n      \"data-index\": index,\n      className: clsx(classes.mark, markActive && classes.markActive)\n    }), mark.label != null ? /*#__PURE__*/React.createElement(\"span\", {\n      \"aria-hidden\": true,\n      \"data-index\": index,\n      style: style,\n      className: clsx(classes.markLabel, markActive && classes.markLabelActive)\n    }, mark.label) : null);\n  }), values.map(function (value, index) {\n    var percent = valueToPercent(value, min, max);\n    var style = axisProps[axis].offset(percent);\n    return /*#__PURE__*/React.createElement(ValueLabelComponent, {\n      key: index,\n      valueLabelFormat: valueLabelFormat,\n      valueLabelDisplay: valueLabelDisplay,\n      className: classes.valueLabel,\n      value: typeof valueLabelFormat === 'function' ? valueLabelFormat(scale(value), index) : valueLabelFormat,\n      index: index,\n      open: open === index || active === index || valueLabelDisplay === 'on',\n      disabled: disabled\n    }, /*#__PURE__*/React.createElement(ThumbComponent, {\n      className: clsx(classes.thumb, classes[\"thumbColor\".concat(capitalize(color))], active === index && classes.active, disabled && classes.disabled, focusVisible === index && classes.focusVisible),\n      tabIndex: disabled ? null : 0,\n      role: \"slider\",\n      style: style,\n      \"data-index\": index,\n      \"aria-label\": getAriaLabel ? getAriaLabel(index) : ariaLabel,\n      \"aria-labelledby\": ariaLabelledby,\n      \"aria-orientation\": orientation,\n      \"aria-valuemax\": scale(max),\n      \"aria-valuemin\": scale(min),\n      \"aria-valuenow\": scale(value),\n      \"aria-valuetext\": getAriaValueText ? getAriaValueText(scale(value), index) : ariaValuetext,\n      onKeyDown: handleKeyDown,\n      onFocus: handleFocus,\n      onBlur: handleBlur,\n      onMouseOver: handleMouseOver,\n      onMouseLeave: handleMouseLeave\n    }));\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\nexport default withStyles(styles, {\n  name: 'MuiSlider'\n})(Slider);","import { useTheme as useThemeWithoutDefault } from '@material-ui/styles';\nimport React from 'react';\nimport defaultTheme from './defaultTheme';\nexport default function useTheme() {\n  var theme = useThemeWithoutDefault() || defaultTheme;\n\n  if (process.env.NODE_ENV !== 'production') {\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    React.useDebugValue(theme);\n  }\n\n  return theme;\n}","/* eslint-disable react-hooks/rules-of-hooks, react-hooks/exhaustive-deps */\nimport * as React from 'react';\nexport default function useControlled(_ref) {\n  var controlled = _ref.controlled,\n      defaultProp = _ref.default,\n      name = _ref.name,\n      _ref$state = _ref.state,\n      state = _ref$state === void 0 ? 'value' : _ref$state;\n\n  var _React$useRef = React.useRef(controlled !== undefined),\n      isControlled = _React$useRef.current;\n\n  var _React$useState = React.useState(defaultProp),\n      valueState = _React$useState[0],\n      setValue = _React$useState[1];\n\n  var value = isControlled ? controlled : valueState;\n\n  if (process.env.NODE_ENV !== 'production') {\n    React.useEffect(function () {\n      if (isControlled !== (controlled !== undefined)) {\n        console.error([\"Material-UI: A component is changing the \".concat(isControlled ? '' : 'un', \"controlled \").concat(state, \" state of \").concat(name, \" to be \").concat(isControlled ? 'un' : '', \"controlled.\"), 'Elements should not switch from uncontrolled to controlled (or vice versa).', \"Decide between using a controlled or uncontrolled \".concat(name, \" \") + 'element for the lifetime of the component.', \"The nature of the state is determined during the first render, it's considered controlled if the value is not `undefined`.\", 'More info: https://fb.me/react-controlled-components'].join('\\n'));\n      }\n    }, [controlled]);\n\n    var _React$useRef2 = React.useRef(defaultProp),\n        defaultValue = _React$useRef2.current;\n\n    React.useEffect(function () {\n      if (!isControlled && defaultValue !== defaultProp) {\n        console.error([\"Material-UI: A component is changing the default \".concat(state, \" state of an uncontrolled \").concat(name, \" after being initialized. \") + \"To suppress this warning opt to use a controlled \".concat(name, \".\")].join('\\n'));\n      }\n    }, [JSON.stringify(defaultProp)]);\n  }\n\n  var setValueIfUncontrolled = React.useCallback(function (newValue) {\n    if (!isControlled) {\n      setValue(newValue);\n    }\n  }, []);\n  return [value, setValueIfUncontrolled];\n}","import React, { useState } from \"react\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Slider from '@material-ui/core/Slider';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n  \twidth:'250px',\r\n    margin: '0 auto'\r\n  },\r\n  margin: {\r\n    height: theme.spacing(3),\r\n  },\r\n}));\r\n\r\n\r\nfunction valuetext(value) {\r\n  return `${value} ft`;\r\n}\r\n\r\n\r\nfunction LongtitudeSlider({defaultValue, onChange, min, max, marks}) {\r\n  const classes = useStyles();\r\n\r\n  let [val, setVal] = useState(defaultValue)\r\n\r\n  function _onChange(e,value){\r\n    if(val === value) return;\r\n    setVal(value)\r\n    onChange(value, 'length')\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Typography id=\"discrete-slider-custom\" gutterBottom>\r\n        Length\r\n      </Typography>\r\n      <Slider\r\n        value={val}\r\n        getAriaValueText={valuetext}\r\n        aria-labelledby=\"discrete-slider-custom\"\r\n        step={1}\r\n        max={max || 130}\r\n        min={min || 110}\r\n        valueLabelDisplay=\"auto\"\r\n        marks={marks}\r\n        onChange={_onChange}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction WidthSlider({defaultValue, onChange, min, max, marks}){\r\n  const classes = useStyles();\r\n\r\n  let [val, setVal] = useState(defaultValue)\r\n\r\n  function _onChange(e,value){\r\n    if(val === value) return;\r\n    setVal(value)\r\n    onChange(value, 'width')\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Typography id=\"discrete-slider-custom\" gutterBottom>\r\n        Width\r\n      </Typography>\r\n      <Slider\r\n        value={val}\r\n        getAriaValueText={valuetext}\r\n        aria-labelledby=\"discrete-slider-custom\"\r\n        step={1}\r\n        min={min || 50}\r\n        max={max || 70}\r\n        valueLabelDisplay=\"auto\"\r\n        onChange={_onChange}\r\n        marks={marks}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport {WidthSlider, LongtitudeSlider}","import React, { useState, useEffect, useRef } from \"react\";\r\nimport { renderHoop, renderNet, changeHoopPositions } from \"../render3DElements\";\r\nimport { renderMiddleLine } from \"../renderBasketball\";\r\n\r\nfunction Switcher({name, imgName, width, length, hoopsDefault, excludePositions, isBasketball}){\r\n\r\n\tlet [ checked, setChecked ] = useState(false)\r\n\tlet [ hoops, setHoops ] = useState([0,0,0,0,0])\r\n\tlet [ showSelect, setShowSelect ] = useState(false)\r\n\r\n\tlet handler = useRef(null)\r\n\r\n\tfunction close(e){\r\n\t\tlet el = document.querySelector(\".select-hoops\");\r\n\r\n\t\tif(el.contains(e.target) || e.target.tagName === 'INPUT') return false;\r\n\r\n\t\tsetShowSelect(false)\r\n\t\twindow.removeEventListener('click', handler.current)\r\n\t}\r\n\r\n\tfunction onChange(e){\r\n\t\tif(!showSelect){\r\n\t\t\tsetShowSelect(true)\r\n\t\t}else{\r\n\t\t\tsetShowSelect(false)\r\n\t\t}\r\n\t}\r\n\r\n\tfunction onClickHoops(e){\r\n\t\tlet pos = e.target.dataset.pos;\r\n\r\n\t\tlet _hoops = [ ...hoops ];\r\n\r\n\t\tif(_hoops[pos] === 0){\r\n\t\t\t_hoops[pos] = 1;\r\n\t\t}else{\r\n\t\t\t_hoops[pos] = 0;\r\n\t\t}\r\n\r\n\t\tif(hoops[0] === 1 && isBasketball){\r\n\t\t\tlet offsetZ = 13.57\r\n\t\t\tlet offsetX = length/2 - 39.2\r\n\r\n\t\t\trenderMiddleLine(width,length, offsetX, offsetZ)\r\n\t\t}else if(hoops[0] === 0 && isBasketball){\r\n\t\t\twindow.scene.children = window.scene.children.filter(x => x.name !== 'middleLine')\r\n\t\t}\r\n\t\tsetHoops([..._hoops]);\r\n\t}\r\n\r\n\tfunction switcherImgHandler(){\r\n\t\tif(!checked) return;\r\n\r\n\t\tsetShowSelect(true)\r\n\t}\r\n\r\n\tuseEffect( () => {\r\n\r\n\t\tif(!handler.current) handler.current = close;\r\n\r\n\t\tif(showSelect){\r\n\t\t\twindow.addEventListener(\"click\", handler.current)\r\n\t\t}\r\n\t}, [showSelect])\r\n\r\n\tuseEffect(() => {\r\n\t\tif(hoops.some(x => x === 1)){\r\n\t\t\tsetChecked(true)\r\n\t\t}\r\n\r\n\t\tif(hoops.every(x => x === 0)){\r\n\t\t\tsetChecked(false)\r\n\t\t}\r\n\t\trenderHoop(hoops, width, length)\r\n\t}, [hoops])\r\n\r\n\tuseEffect( () => {\r\n\t\tif(!hoopsDefault) return;\r\n\t\tsetHoops([...hoopsDefault])\r\n\t}, [])\r\n\r\n\tuseEffect( () => {\r\n\t\tchangeHoopPositions(width,length)\r\n\t}, [width, length])\r\n\treturn(\r\n\t\t<>\r\n\t\t<span>{name}</span>\r\n\t\t\t<label className=\"switch\">\r\n\t\t\t  <input type=\"checkbox\" checked={checked} onChange={onChange} />\r\n\t\t\t  <span className=\"slider round\"></span>\r\n\t\t\t</label>\r\n\t\t<img src={checked ? `/static/assets/images/${imgName}-full.svg` : `/static/assets/images/${imgName}.svg`} onClick={switcherImgHandler} style={{cursor:'pointer'}}/>\r\n\t\t{showSelect && <div className=\"select-hoops select\"> \r\n\t\t\t<img src=\"/static/assets/images/tennis-court-full.png\" className=\"bg-img-hoops\" />\r\n\t\t\t<div className=\"circular-position\">\r\n\r\n\t\t\t\t<img \r\n\t\t\t\t\tclassName=\"img-select top\" \r\n\t\t\t\t\tsrc={hoops[0] === 0 ? \"/static/assets/images/top-board-noborder-check.png\" : \"/static/assets/images/top-board-noborder-full-check.png\"} \r\n\t\t\t\t\tonClick={onClickHoops} \r\n\t\t\t\t\tdata-pos={0} \r\n\t\t\t\t\tstyle={excludePositions[3] ? {left: '50%'}: {}}\r\n\t\t\t\t/>\r\n\t\t\t\t{!excludePositions[3] && <img className=\"img-select top-middle\" src={hoops[3] === 0 ? \"/static/assets/images/top-board-noborder-check.png\" : \"/static/assets/images/top-board-noborder-full-check.png\"} onClick={onClickHoops} data-pos={3} /> }\r\n\r\n\t\t\t\t<img className=\"img-select left\" src={hoops[1] === 0 ? \"/static/assets/images/top-board-noborder-check.png\" : \"/static/assets/images/top-board-noborder-full-check.png\"} onClick={onClickHoops} data-pos={1} />\r\n\t\t\t\t<img className=\"img-select right\" src={hoops[2] === 0 ? \"/static/assets/images/top-board-noborder-check.png\" : \"/static/assets/images/top-board-noborder-full-check.png\"} onClick={onClickHoops} data-pos={2} />\r\n\r\n\t\t\t\t{!excludePositions[4] && <img className=\"img-select bottom-middle\" src={hoops[4] === 0 ? \"/static/assets/images/top-board-noborder-check.png\" : \"/static/assets/images/top-board-noborder-full-check.png\"} onClick={onClickHoops} data-pos={4} />}\r\n\t\t\t</div>\r\n\t\t</div>}\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nfunction SwitcherNet({name,imgName}){\r\n\tlet [ nets, setNets ] = useState([0,0])\r\n\tlet [ checked, setChecked ] = useState(false)\r\n\tlet [ showSelect, setShowSelect ] = useState(false)\r\n\r\n\tlet handler = useRef(null)\r\n\r\n\tfunction close(e){\r\n\t\tlet el = document.querySelector(\".select-nets\")\r\n\r\n\t\tif(el.contains(e.target) || e.target.tagName === 'INPUT') return false;\r\n\r\n\t\tsetShowSelect(false)\r\n\t\twindow.removeEventListener('click', handler.current)\r\n\t}\r\n\tfunction onChange(e){\r\n\t\tif(!showSelect){\r\n\t\t\tsetShowSelect(true)\r\n\t\t}else{\r\n\t\t\tsetShowSelect(false)\r\n\t\t}\r\n\t}\r\n\r\n\tfunction switcherImgHandler(){\r\n\t\tif(checked){\r\n\t\t\tsetShowSelect(true)\r\n\t\t}\r\n\t}\r\n\r\n\tfunction onClickNets(e){\r\n\t\tlet pos = e.target.dataset.pos;\r\n\r\n\t\tlet _nets = [ 0,0 ];\r\n\r\n\t\t_nets[pos] = nets[pos]\r\n\t\t\r\n\t\tif(_nets[pos] === 0){\r\n\t\t\t_nets[pos] = 1;\r\n\t\t}else{\r\n\t\t\t_nets[pos] = 0;\r\n\t\t}\r\n\r\n\t\tsetNets([..._nets]);\r\n\t}\r\n\r\n\tuseEffect( () => {\r\n\r\n\t\tif(!handler.current) handler.current = close;\r\n\r\n\t\tif(showSelect){\r\n\t\t\twindow.addEventListener(\"click\", handler.current)\r\n\t\t}\r\n\t}, [showSelect])\r\n\r\n\r\n\r\n\tuseEffect(() => {\r\n\r\n\t\tif(nets.some(x => x === 1)){\r\n\t\t\tsetChecked(true)\r\n\t\t}\r\n\r\n\t\tif(nets.every(x => x === 0)){\r\n\t\t\tsetChecked(false)\r\n\t\t}\r\n\t\trenderNet(nets)\r\n\t}, [nets])\r\n\treturn(\r\n\t\t<>\r\n\t\t<span>{name}</span>\r\n\t\t\t<label className=\"switch\">\r\n\t\t\t  <input type=\"checkbox\" checked={checked} onChange={onChange} />\r\n\t\t\t  <span className=\"slider round\"></span>\r\n\t\t\t</label>\r\n\t\t<img src={checked ? `/static/assets/images/${imgName}-full.svg` : `/static/assets/images/${imgName}.svg`} style={{cursor:'pointer'}} onClick={switcherImgHandler}/>\r\n\t\t{showSelect && <div className=\"select-nets select\"> \r\n\t\t\t\t<div className=\"img-cont left-right\">\r\n\t\t\t\t\t<img title=\"Tennis\" alt=\"pickleball\" className=\"img-select\" src={nets[0] === 0 ? \"/static/assets/images/tennis.png\" : \"/static/assets/images/tennis-full.png\"} onClick={onClickNets} data-pos={0} />\r\n\t\t\t\t\t<img title=\"Pickleball\" alt=\"pickleball\" className=\"img-select\" src={nets[1] === 0 ? \"/static/assets/images/pickleball.png\" : \"/static/assets/images/pickleball-full.png\"} onClick={onClickNets} data-pos={1} />\r\n\t\t\t\t</div>\r\n\t\t</div>}\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nexport { SwitcherNet, Switcher }","export default function hexToRgb(hex) {\r\n\t\thex = hex.slice(1, hex.length);\r\n\r\n\t    var bigint = parseInt(hex, 16);\r\n\t    var r = (bigint >> 16) & 255;\r\n\t    var g = (bigint >> 8) & 255;\r\n\t    var b = bigint & 255;\r\n\r\n\t    return {r: r/255,g: g/255,b: b/255}\r\n\t}","/*!\nfflate - fast JavaScript compression/decompression\n<https://101arrowz.github.io/fflate>\nLicensed under MIT. https://github.com/101arrowz/fflate/blob/master/LICENSE\nversion 0.6.9\n*/\n// DEFLATE is a complex format; to read this code, you should probably check the RFC first:\n// https://tools.ietf.org/html/rfc1951\n// You may also wish to take a look at the guide I made about this program:\n// https://gist.github.com/101arrowz/253f31eb5abc3d9275ab943003ffecad\n// Some of the following code is similar to that of UZIP.js:\n// https://github.com/photopea/UZIP.js\n// However, the vast majority of the codebase has diverged from UZIP.js to increase performance and reduce bundle size.\n// Sometimes 0 will appear where -1 would be more appropriate. This is because using a uint\n// is better for memory in most engines (I *think*).\nvar ch2 = {};\n\nvar durl = function durl(c) {\n  return URL.createObjectURL(new Blob([c], {\n    type: 'text/javascript'\n  }));\n};\n\nvar cwk = function cwk(u) {\n  return new Worker(u);\n};\n\ntry {\n  URL.revokeObjectURL(durl(''));\n} catch (e) {\n  // We're in Deno or a very old browser\n  durl = function durl(c) {\n    return 'data:application/javascript;charset=UTF-8,' + encodeURI(c);\n  }; // If Deno, this is necessary; if not, this changes nothing\n\n\n  cwk = function cwk(u) {\n    return new Worker(u, {\n      type: 'module'\n    });\n  };\n}\n\nvar wk = function wk(c, id, msg, transfer, cb) {\n  var w = cwk(ch2[id] || (ch2[id] = durl(c)));\n\n  w.onerror = function (e) {\n    return cb(e.error, null);\n  };\n\n  w.onmessage = function (e) {\n    return cb(null, e.data);\n  };\n\n  w.postMessage(msg, transfer);\n  return w;\n}; // aliases for shorter compressed code (most minifers don't do this)\n\n\nvar u8 = Uint8Array,\n    u16 = Uint16Array,\n    u32 = Uint32Array; // fixed length extra bits\n\nvar fleb = new u8([0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 0,\n/* unused */\n0, 0,\n/* impossible */\n0]); // fixed distance extra bits\n// see fleb note\n\nvar fdeb = new u8([0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12, 12, 13, 13,\n/* unused */\n0, 0]); // code length index map\n\nvar clim = new u8([16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15]); // get base, reverse index map from extra bits\n\nvar freb = function freb(eb, start) {\n  var b = new u16(31);\n\n  for (var i = 0; i < 31; ++i) {\n    b[i] = start += 1 << eb[i - 1];\n  } // numbers here are at max 18 bits\n\n\n  var r = new u32(b[30]);\n\n  for (var i = 1; i < 30; ++i) {\n    for (var j = b[i]; j < b[i + 1]; ++j) {\n      r[j] = j - b[i] << 5 | i;\n    }\n  }\n\n  return [b, r];\n};\n\nvar _a = freb(fleb, 2),\n    fl = _a[0],\n    revfl = _a[1]; // we can ignore the fact that the other numbers are wrong; they never happen anyway\n\n\nfl[28] = 258, revfl[258] = 28;\n\nvar _b = freb(fdeb, 0),\n    fd = _b[0],\n    revfd = _b[1]; // map of value to reverse (assuming 16 bits)\n\n\nvar rev = new u16(32768);\n\nfor (var i = 0; i < 32768; ++i) {\n  // reverse table algorithm from SO\n  var x = (i & 0xAAAA) >>> 1 | (i & 0x5555) << 1;\n  x = (x & 0xCCCC) >>> 2 | (x & 0x3333) << 2;\n  x = (x & 0xF0F0) >>> 4 | (x & 0x0F0F) << 4;\n  rev[i] = ((x & 0xFF00) >>> 8 | (x & 0x00FF) << 8) >>> 1;\n} // create huffman tree from u8 \"map\": index -> code length for code index\n// mb (max bits) must be at most 15\n// TODO: optimize/split up?\n\n\nvar hMap = function hMap(cd, mb, r) {\n  var s = cd.length; // index\n\n  var i = 0; // u16 \"map\": index -> # of codes with bit length = index\n\n  var l = new u16(mb); // length of cd must be 288 (total # of codes)\n\n  for (; i < s; ++i) {\n    ++l[cd[i] - 1];\n  } // u16 \"map\": index -> minimum code for bit length = index\n\n\n  var le = new u16(mb);\n\n  for (i = 0; i < mb; ++i) {\n    le[i] = le[i - 1] + l[i - 1] << 1;\n  }\n\n  var co;\n\n  if (r) {\n    // u16 \"map\": index -> number of actual bits, symbol for code\n    co = new u16(1 << mb); // bits to remove for reverser\n\n    var rvb = 15 - mb;\n\n    for (i = 0; i < s; ++i) {\n      // ignore 0 lengths\n      if (cd[i]) {\n        // num encoding both symbol and bits read\n        var sv = i << 4 | cd[i]; // free bits\n\n        var r_1 = mb - cd[i]; // start value\n\n        var v = le[cd[i] - 1]++ << r_1; // m is end value\n\n        for (var m = v | (1 << r_1) - 1; v <= m; ++v) {\n          // every 16 bit value starting with the code yields the same result\n          co[rev[v] >>> rvb] = sv;\n        }\n      }\n    }\n  } else {\n    co = new u16(s);\n\n    for (i = 0; i < s; ++i) {\n      if (cd[i]) {\n        co[i] = rev[le[cd[i] - 1]++] >>> 15 - cd[i];\n      }\n    }\n  }\n\n  return co;\n}; // fixed length tree\n\n\nvar flt = new u8(288);\n\nfor (var i = 0; i < 144; ++i) {\n  flt[i] = 8;\n}\n\nfor (var i = 144; i < 256; ++i) {\n  flt[i] = 9;\n}\n\nfor (var i = 256; i < 280; ++i) {\n  flt[i] = 7;\n}\n\nfor (var i = 280; i < 288; ++i) {\n  flt[i] = 8;\n} // fixed distance tree\n\n\nvar fdt = new u8(32);\n\nfor (var i = 0; i < 32; ++i) {\n  fdt[i] = 5;\n} // fixed length map\n\n\nvar flm = /*#__PURE__*/hMap(flt, 9, 0),\n    flrm = /*#__PURE__*/hMap(flt, 9, 1); // fixed distance map\n\nvar fdm = /*#__PURE__*/hMap(fdt, 5, 0),\n    fdrm = /*#__PURE__*/hMap(fdt, 5, 1); // find max of array\n\nvar max = function max(a) {\n  var m = a[0];\n\n  for (var i = 1; i < a.length; ++i) {\n    if (a[i] > m) m = a[i];\n  }\n\n  return m;\n}; // read d, starting at bit p and mask with m\n\n\nvar bits = function bits(d, p, m) {\n  var o = p / 8 | 0;\n  return (d[o] | d[o + 1] << 8) >> (p & 7) & m;\n}; // read d, starting at bit p continuing for at least 16 bits\n\n\nvar bits16 = function bits16(d, p) {\n  var o = p / 8 | 0;\n  return (d[o] | d[o + 1] << 8 | d[o + 2] << 16) >> (p & 7);\n}; // get end of byte\n\n\nvar shft = function shft(p) {\n  return (p / 8 | 0) + (p & 7 && 1);\n}; // typed array slice - allows garbage collector to free original reference,\n// while being more compatible than .slice\n\n\nvar slc = function slc(v, s, e) {\n  if (s == null || s < 0) s = 0;\n  if (e == null || e > v.length) e = v.length; // can't use .constructor in case user-supplied\n\n  var n = new (v instanceof u16 ? u16 : v instanceof u32 ? u32 : u8)(e - s);\n  n.set(v.subarray(s, e));\n  return n;\n}; // expands raw DEFLATE data\n\n\nvar inflt = function inflt(dat, buf, st) {\n  // source length\n  var sl = dat.length;\n  if (!sl || st && !st.l && sl < 5) return buf || new u8(0); // have to estimate size\n\n  var noBuf = !buf || st; // no state\n\n  var noSt = !st || st.i;\n  if (!st) st = {}; // Assumes roughly 33% compression ratio average\n\n  if (!buf) buf = new u8(sl * 3); // ensure buffer can fit at least l elements\n\n  var cbuf = function cbuf(l) {\n    var bl = buf.length; // need to increase size to fit\n\n    if (l > bl) {\n      // Double or set to necessary, whichever is greater\n      var nbuf = new u8(Math.max(bl * 2, l));\n      nbuf.set(buf);\n      buf = nbuf;\n    }\n  }; //  last chunk         bitpos           bytes\n\n\n  var final = st.f || 0,\n      pos = st.p || 0,\n      bt = st.b || 0,\n      lm = st.l,\n      dm = st.d,\n      lbt = st.m,\n      dbt = st.n; // total bits\n\n  var tbts = sl * 8;\n\n  do {\n    if (!lm) {\n      // BFINAL - this is only 1 when last chunk is next\n      st.f = final = bits(dat, pos, 1); // type: 0 = no compression, 1 = fixed huffman, 2 = dynamic huffman\n\n      var type = bits(dat, pos + 1, 3);\n      pos += 3;\n\n      if (!type) {\n        // go to end of byte boundary\n        var s = shft(pos) + 4,\n            l = dat[s - 4] | dat[s - 3] << 8,\n            t = s + l;\n\n        if (t > sl) {\n          if (noSt) throw 'unexpected EOF';\n          break;\n        } // ensure size\n\n\n        if (noBuf) cbuf(bt + l); // Copy over uncompressed data\n\n        buf.set(dat.subarray(s, t), bt); // Get new bitpos, update byte count\n\n        st.b = bt += l, st.p = pos = t * 8;\n        continue;\n      } else if (type == 1) lm = flrm, dm = fdrm, lbt = 9, dbt = 5;else if (type == 2) {\n        //  literal                            lengths\n        var hLit = bits(dat, pos, 31) + 257,\n            hcLen = bits(dat, pos + 10, 15) + 4;\n        var tl = hLit + bits(dat, pos + 5, 31) + 1;\n        pos += 14; // length+distance tree\n\n        var ldt = new u8(tl); // code length tree\n\n        var clt = new u8(19);\n\n        for (var i = 0; i < hcLen; ++i) {\n          // use index map to get real code\n          clt[clim[i]] = bits(dat, pos + i * 3, 7);\n        }\n\n        pos += hcLen * 3; // code lengths bits\n\n        var clb = max(clt),\n            clbmsk = (1 << clb) - 1; // code lengths map\n\n        var clm = hMap(clt, clb, 1);\n\n        for (var i = 0; i < tl;) {\n          var r = clm[bits(dat, pos, clbmsk)]; // bits read\n\n          pos += r & 15; // symbol\n\n          var s = r >>> 4; // code length to copy\n\n          if (s < 16) {\n            ldt[i++] = s;\n          } else {\n            //  copy   count\n            var c = 0,\n                n = 0;\n            if (s == 16) n = 3 + bits(dat, pos, 3), pos += 2, c = ldt[i - 1];else if (s == 17) n = 3 + bits(dat, pos, 7), pos += 3;else if (s == 18) n = 11 + bits(dat, pos, 127), pos += 7;\n\n            while (n--) {\n              ldt[i++] = c;\n            }\n          }\n        } //    length tree                 distance tree\n\n\n        var lt = ldt.subarray(0, hLit),\n            dt = ldt.subarray(hLit); // max length bits\n\n        lbt = max(lt); // max dist bits\n\n        dbt = max(dt);\n        lm = hMap(lt, lbt, 1);\n        dm = hMap(dt, dbt, 1);\n      } else throw 'invalid block type';\n\n      if (pos > tbts) {\n        if (noSt) throw 'unexpected EOF';\n        break;\n      }\n    } // Make sure the buffer can hold this + the largest possible addition\n    // Maximum chunk size (practically, theoretically infinite) is 2^17;\n\n\n    if (noBuf) cbuf(bt + 131072);\n    var lms = (1 << lbt) - 1,\n        dms = (1 << dbt) - 1;\n    var lpos = pos;\n\n    for (;; lpos = pos) {\n      // bits read, code\n      var c = lm[bits16(dat, pos) & lms],\n          sym = c >>> 4;\n      pos += c & 15;\n\n      if (pos > tbts) {\n        if (noSt) throw 'unexpected EOF';\n        break;\n      }\n\n      if (!c) throw 'invalid length/literal';\n      if (sym < 256) buf[bt++] = sym;else if (sym == 256) {\n        lpos = pos, lm = null;\n        break;\n      } else {\n        var add = sym - 254; // no extra bits needed if less\n\n        if (sym > 264) {\n          // index\n          var i = sym - 257,\n              b = fleb[i];\n          add = bits(dat, pos, (1 << b) - 1) + fl[i];\n          pos += b;\n        } // dist\n\n\n        var d = dm[bits16(dat, pos) & dms],\n            dsym = d >>> 4;\n        if (!d) throw 'invalid distance';\n        pos += d & 15;\n        var dt = fd[dsym];\n\n        if (dsym > 3) {\n          var b = fdeb[dsym];\n          dt += bits16(dat, pos) & (1 << b) - 1, pos += b;\n        }\n\n        if (pos > tbts) {\n          if (noSt) throw 'unexpected EOF';\n          break;\n        }\n\n        if (noBuf) cbuf(bt + 131072);\n        var end = bt + add;\n\n        for (; bt < end; bt += 4) {\n          buf[bt] = buf[bt - dt];\n          buf[bt + 1] = buf[bt + 1 - dt];\n          buf[bt + 2] = buf[bt + 2 - dt];\n          buf[bt + 3] = buf[bt + 3 - dt];\n        }\n\n        bt = end;\n      }\n    }\n\n    st.l = lm, st.p = lpos, st.b = bt;\n    if (lm) final = 1, st.m = lbt, st.d = dm, st.n = dbt;\n  } while (!final);\n\n  return bt == buf.length ? buf : slc(buf, 0, bt);\n}; // starting at p, write the minimum number of bits that can hold v to d\n\n\nvar wbits = function wbits(d, p, v) {\n  v <<= p & 7;\n  var o = p / 8 | 0;\n  d[o] |= v;\n  d[o + 1] |= v >>> 8;\n}; // starting at p, write the minimum number of bits (>8) that can hold v to d\n\n\nvar wbits16 = function wbits16(d, p, v) {\n  v <<= p & 7;\n  var o = p / 8 | 0;\n  d[o] |= v;\n  d[o + 1] |= v >>> 8;\n  d[o + 2] |= v >>> 16;\n}; // creates code lengths from a frequency table\n\n\nvar hTree = function hTree(d, mb) {\n  // Need extra info to make a tree\n  var t = [];\n\n  for (var i = 0; i < d.length; ++i) {\n    if (d[i]) t.push({\n      s: i,\n      f: d[i]\n    });\n  }\n\n  var s = t.length;\n  var t2 = t.slice();\n  if (!s) return [et, 0];\n\n  if (s == 1) {\n    var v = new u8(t[0].s + 1);\n    v[t[0].s] = 1;\n    return [v, 1];\n  }\n\n  t.sort(function (a, b) {\n    return a.f - b.f;\n  }); // after i2 reaches last ind, will be stopped\n  // freq must be greater than largest possible number of symbols\n\n  t.push({\n    s: -1,\n    f: 25001\n  });\n  var l = t[0],\n      r = t[1],\n      i0 = 0,\n      i1 = 1,\n      i2 = 2;\n  t[0] = {\n    s: -1,\n    f: l.f + r.f,\n    l: l,\n    r: r\n  }; // efficient algorithm from UZIP.js\n  // i0 is lookbehind, i2 is lookahead - after processing two low-freq\n  // symbols that combined have high freq, will start processing i2 (high-freq,\n  // non-composite) symbols instead\n  // see https://reddit.com/r/photopea/comments/ikekht/uzipjs_questions/\n\n  while (i1 != s - 1) {\n    l = t[t[i0].f < t[i2].f ? i0++ : i2++];\n    r = t[i0 != i1 && t[i0].f < t[i2].f ? i0++ : i2++];\n    t[i1++] = {\n      s: -1,\n      f: l.f + r.f,\n      l: l,\n      r: r\n    };\n  }\n\n  var maxSym = t2[0].s;\n\n  for (var i = 1; i < s; ++i) {\n    if (t2[i].s > maxSym) maxSym = t2[i].s;\n  } // code lengths\n\n\n  var tr = new u16(maxSym + 1); // max bits in tree\n\n  var mbt = ln(t[i1 - 1], tr, 0);\n\n  if (mbt > mb) {\n    // more algorithms from UZIP.js\n    // TODO: find out how this code works (debt)\n    //  ind    debt\n    var i = 0,\n        dt = 0; //    left            cost\n\n    var lft = mbt - mb,\n        cst = 1 << lft;\n    t2.sort(function (a, b) {\n      return tr[b.s] - tr[a.s] || a.f - b.f;\n    });\n\n    for (; i < s; ++i) {\n      var i2_1 = t2[i].s;\n\n      if (tr[i2_1] > mb) {\n        dt += cst - (1 << mbt - tr[i2_1]);\n        tr[i2_1] = mb;\n      } else break;\n    }\n\n    dt >>>= lft;\n\n    while (dt > 0) {\n      var i2_2 = t2[i].s;\n      if (tr[i2_2] < mb) dt -= 1 << mb - tr[i2_2]++ - 1;else ++i;\n    }\n\n    for (; i >= 0 && dt; --i) {\n      var i2_3 = t2[i].s;\n\n      if (tr[i2_3] == mb) {\n        --tr[i2_3];\n        ++dt;\n      }\n    }\n\n    mbt = mb;\n  }\n\n  return [new u8(tr), mbt];\n}; // get the max length and assign length codes\n\n\nvar ln = function ln(n, l, d) {\n  return n.s == -1 ? Math.max(ln(n.l, l, d + 1), ln(n.r, l, d + 1)) : l[n.s] = d;\n}; // length codes generation\n\n\nvar lc = function lc(c) {\n  var s = c.length; // Note that the semicolon was intentional\n\n  while (s && !c[--s]) {\n    ;\n  }\n\n  var cl = new u16(++s); //  ind      num         streak\n\n  var cli = 0,\n      cln = c[0],\n      cls = 1;\n\n  var w = function w(v) {\n    cl[cli++] = v;\n  };\n\n  for (var i = 1; i <= s; ++i) {\n    if (c[i] == cln && i != s) ++cls;else {\n      if (!cln && cls > 2) {\n        for (; cls > 138; cls -= 138) {\n          w(32754);\n        }\n\n        if (cls > 2) {\n          w(cls > 10 ? cls - 11 << 5 | 28690 : cls - 3 << 5 | 12305);\n          cls = 0;\n        }\n      } else if (cls > 3) {\n        w(cln), --cls;\n\n        for (; cls > 6; cls -= 6) {\n          w(8304);\n        }\n\n        if (cls > 2) w(cls - 3 << 5 | 8208), cls = 0;\n      }\n\n      while (cls--) {\n        w(cln);\n      }\n\n      cls = 1;\n      cln = c[i];\n    }\n  }\n\n  return [cl.subarray(0, cli), s];\n}; // calculate the length of output from tree, code lengths\n\n\nvar clen = function clen(cf, cl) {\n  var l = 0;\n\n  for (var i = 0; i < cl.length; ++i) {\n    l += cf[i] * cl[i];\n  }\n\n  return l;\n}; // writes a fixed block\n// returns the new bit pos\n\n\nvar wfblk = function wfblk(out, pos, dat) {\n  // no need to write 00 as type: TypedArray defaults to 0\n  var s = dat.length;\n  var o = shft(pos + 2);\n  out[o] = s & 255;\n  out[o + 1] = s >>> 8;\n  out[o + 2] = out[o] ^ 255;\n  out[o + 3] = out[o + 1] ^ 255;\n\n  for (var i = 0; i < s; ++i) {\n    out[o + i + 4] = dat[i];\n  }\n\n  return (o + 4 + s) * 8;\n}; // writes a block\n\n\nvar wblk = function wblk(dat, out, final, syms, lf, df, eb, li, bs, bl, p) {\n  wbits(out, p++, final);\n  ++lf[256];\n\n  var _a = hTree(lf, 15),\n      dlt = _a[0],\n      mlb = _a[1];\n\n  var _b = hTree(df, 15),\n      ddt = _b[0],\n      mdb = _b[1];\n\n  var _c = lc(dlt),\n      lclt = _c[0],\n      nlc = _c[1];\n\n  var _d = lc(ddt),\n      lcdt = _d[0],\n      ndc = _d[1];\n\n  var lcfreq = new u16(19);\n\n  for (var i = 0; i < lclt.length; ++i) {\n    lcfreq[lclt[i] & 31]++;\n  }\n\n  for (var i = 0; i < lcdt.length; ++i) {\n    lcfreq[lcdt[i] & 31]++;\n  }\n\n  var _e = hTree(lcfreq, 7),\n      lct = _e[0],\n      mlcb = _e[1];\n\n  var nlcc = 19;\n\n  for (; nlcc > 4 && !lct[clim[nlcc - 1]]; --nlcc) {\n    ;\n  }\n\n  var flen = bl + 5 << 3;\n  var ftlen = clen(lf, flt) + clen(df, fdt) + eb;\n  var dtlen = clen(lf, dlt) + clen(df, ddt) + eb + 14 + 3 * nlcc + clen(lcfreq, lct) + (2 * lcfreq[16] + 3 * lcfreq[17] + 7 * lcfreq[18]);\n  if (flen <= ftlen && flen <= dtlen) return wfblk(out, p, dat.subarray(bs, bs + bl));\n  var lm, ll, dm, dl;\n  wbits(out, p, 1 + (dtlen < ftlen)), p += 2;\n\n  if (dtlen < ftlen) {\n    lm = hMap(dlt, mlb, 0), ll = dlt, dm = hMap(ddt, mdb, 0), dl = ddt;\n    var llm = hMap(lct, mlcb, 0);\n    wbits(out, p, nlc - 257);\n    wbits(out, p + 5, ndc - 1);\n    wbits(out, p + 10, nlcc - 4);\n    p += 14;\n\n    for (var i = 0; i < nlcc; ++i) {\n      wbits(out, p + 3 * i, lct[clim[i]]);\n    }\n\n    p += 3 * nlcc;\n    var lcts = [lclt, lcdt];\n\n    for (var it = 0; it < 2; ++it) {\n      var clct = lcts[it];\n\n      for (var i = 0; i < clct.length; ++i) {\n        var len = clct[i] & 31;\n        wbits(out, p, llm[len]), p += lct[len];\n        if (len > 15) wbits(out, p, clct[i] >>> 5 & 127), p += clct[i] >>> 12;\n      }\n    }\n  } else {\n    lm = flm, ll = flt, dm = fdm, dl = fdt;\n  }\n\n  for (var i = 0; i < li; ++i) {\n    if (syms[i] > 255) {\n      var len = syms[i] >>> 18 & 31;\n      wbits16(out, p, lm[len + 257]), p += ll[len + 257];\n      if (len > 7) wbits(out, p, syms[i] >>> 23 & 31), p += fleb[len];\n      var dst = syms[i] & 31;\n      wbits16(out, p, dm[dst]), p += dl[dst];\n      if (dst > 3) wbits16(out, p, syms[i] >>> 5 & 8191), p += fdeb[dst];\n    } else {\n      wbits16(out, p, lm[syms[i]]), p += ll[syms[i]];\n    }\n  }\n\n  wbits16(out, p, lm[256]);\n  return p + ll[256];\n}; // deflate options (nice << 13) | chain\n\n\nvar deo = /*#__PURE__*/new u32([65540, 131080, 131088, 131104, 262176, 1048704, 1048832, 2114560, 2117632]); // empty\n\nvar et = /*#__PURE__*/new u8(0); // compresses data into a raw DEFLATE buffer\n\nvar dflt = function dflt(dat, lvl, plvl, pre, post, lst) {\n  var s = dat.length;\n  var o = new u8(pre + s + 5 * (1 + Math.ceil(s / 7000)) + post); // writing to this writes to the output buffer\n\n  var w = o.subarray(pre, o.length - post);\n  var pos = 0;\n\n  if (!lvl || s < 8) {\n    for (var i = 0; i <= s; i += 65535) {\n      // end\n      var e = i + 65535;\n\n      if (e < s) {\n        // write full block\n        pos = wfblk(w, pos, dat.subarray(i, e));\n      } else {\n        // write final block\n        w[i] = lst;\n        pos = wfblk(w, pos, dat.subarray(i, s));\n      }\n    }\n  } else {\n    var opt = deo[lvl - 1];\n    var n = opt >>> 13,\n        c = opt & 8191;\n    var msk_1 = (1 << plvl) - 1; //    prev 2-byte val map    curr 2-byte val map\n\n    var prev = new u16(32768),\n        head = new u16(msk_1 + 1);\n    var bs1_1 = Math.ceil(plvl / 3),\n        bs2_1 = 2 * bs1_1;\n\n    var hsh = function hsh(i) {\n      return (dat[i] ^ dat[i + 1] << bs1_1 ^ dat[i + 2] << bs2_1) & msk_1;\n    }; // 24576 is an arbitrary number of maximum symbols per block\n    // 424 buffer for last block\n\n\n    var syms = new u32(25000); // length/literal freq   distance freq\n\n    var lf = new u16(288),\n        df = new u16(32); //  l/lcnt  exbits  index  l/lind  waitdx  bitpos\n\n    var lc_1 = 0,\n        eb = 0,\n        i = 0,\n        li = 0,\n        wi = 0,\n        bs = 0;\n\n    for (; i < s; ++i) {\n      // hash value\n      // deopt when i > s - 3 - at end, deopt acceptable\n      var hv = hsh(i); // index mod 32768    previous index mod\n\n      var imod = i & 32767,\n          pimod = head[hv];\n      prev[imod] = pimod;\n      head[hv] = imod; // We always should modify head and prev, but only add symbols if\n      // this data is not yet processed (\"wait\" for wait index)\n\n      if (wi <= i) {\n        // bytes remaining\n        var rem = s - i;\n\n        if ((lc_1 > 7000 || li > 24576) && rem > 423) {\n          pos = wblk(dat, w, 0, syms, lf, df, eb, li, bs, i - bs, pos);\n          li = lc_1 = eb = 0, bs = i;\n\n          for (var j = 0; j < 286; ++j) {\n            lf[j] = 0;\n          }\n\n          for (var j = 0; j < 30; ++j) {\n            df[j] = 0;\n          }\n        } //  len    dist   chain\n\n\n        var l = 2,\n            d = 0,\n            ch_1 = c,\n            dif = imod - pimod & 32767;\n\n        if (rem > 2 && hv == hsh(i - dif)) {\n          var maxn = Math.min(n, rem) - 1;\n          var maxd = Math.min(32767, i); // max possible length\n          // not capped at dif because decompressors implement \"rolling\" index population\n\n          var ml = Math.min(258, rem);\n\n          while (dif <= maxd && --ch_1 && imod != pimod) {\n            if (dat[i + l] == dat[i + l - dif]) {\n              var nl = 0;\n\n              for (; nl < ml && dat[i + nl] == dat[i + nl - dif]; ++nl) {\n                ;\n              }\n\n              if (nl > l) {\n                l = nl, d = dif; // break out early when we reach \"nice\" (we are satisfied enough)\n\n                if (nl > maxn) break; // now, find the rarest 2-byte sequence within this\n                // length of literals and search for that instead.\n                // Much faster than just using the start\n\n                var mmd = Math.min(dif, nl - 2);\n                var md = 0;\n\n                for (var j = 0; j < mmd; ++j) {\n                  var ti = i - dif + j + 32768 & 32767;\n                  var pti = prev[ti];\n                  var cd = ti - pti + 32768 & 32767;\n                  if (cd > md) md = cd, pimod = ti;\n                }\n              }\n            } // check the previous match\n\n\n            imod = pimod, pimod = prev[imod];\n            dif += imod - pimod + 32768 & 32767;\n          }\n        } // d will be nonzero only when a match was found\n\n\n        if (d) {\n          // store both dist and len data in one Uint32\n          // Make sure this is recognized as a len/dist with 28th bit (2^28)\n          syms[li++] = 268435456 | revfl[l] << 18 | revfd[d];\n          var lin = revfl[l] & 31,\n              din = revfd[d] & 31;\n          eb += fleb[lin] + fdeb[din];\n          ++lf[257 + lin];\n          ++df[din];\n          wi = i + l;\n          ++lc_1;\n        } else {\n          syms[li++] = dat[i];\n          ++lf[dat[i]];\n        }\n      }\n    }\n\n    pos = wblk(dat, w, lst, syms, lf, df, eb, li, bs, i - bs, pos); // this is the easiest way to avoid needing to maintain state\n\n    if (!lst && pos & 7) pos = wfblk(w, pos + 1, et);\n  }\n\n  return slc(o, 0, pre + shft(pos) + post);\n}; // CRC32 table\n\n\nvar crct = /*#__PURE__*/function () {\n  var t = new u32(256);\n\n  for (var i = 0; i < 256; ++i) {\n    var c = i,\n        k = 9;\n\n    while (--k) {\n      c = (c & 1 && 0xEDB88320) ^ c >>> 1;\n    }\n\n    t[i] = c;\n  }\n\n  return t;\n}(); // CRC32\n\n\nvar crc = function crc() {\n  var c = -1;\n  return {\n    p: function p(d) {\n      // closures have awful performance\n      var cr = c;\n\n      for (var i = 0; i < d.length; ++i) {\n        cr = crct[cr & 255 ^ d[i]] ^ cr >>> 8;\n      }\n\n      c = cr;\n    },\n    d: function d() {\n      return ~c;\n    }\n  };\n}; // Alder32\n\n\nvar adler = function adler() {\n  var a = 1,\n      b = 0;\n  return {\n    p: function p(d) {\n      // closures have awful performance\n      var n = a,\n          m = b;\n      var l = d.length;\n\n      for (var i = 0; i != l;) {\n        var e = Math.min(i + 2655, l);\n\n        for (; i < e; ++i) {\n          m += n += d[i];\n        }\n\n        n = (n & 65535) + 15 * (n >> 16), m = (m & 65535) + 15 * (m >> 16);\n      }\n\n      a = n, b = m;\n    },\n    d: function d() {\n      a %= 65521, b %= 65521;\n      return (a & 255) << 24 | a >>> 8 << 16 | (b & 255) << 8 | b >>> 8;\n    }\n  };\n};\n\n; // deflate with opts\n\nvar dopt = function dopt(dat, opt, pre, post, st) {\n  return dflt(dat, opt.level == null ? 6 : opt.level, opt.mem == null ? Math.ceil(Math.max(8, Math.min(13, Math.log(dat.length))) * 1.5) : 12 + opt.mem, pre, post, !st);\n}; // Walmart object spread\n\n\nvar mrg = function mrg(a, b) {\n  var o = {};\n\n  for (var k in a) {\n    o[k] = a[k];\n  }\n\n  for (var k in b) {\n    o[k] = b[k];\n  }\n\n  return o;\n}; // worker clone\n// This is possibly the craziest part of the entire codebase, despite how simple it may seem.\n// The only parameter to this function is a closure that returns an array of variables outside of the function scope.\n// We're going to try to figure out the variable names used in the closure as strings because that is crucial for workerization.\n// We will return an object mapping of true variable name to value (basically, the current scope as a JS object).\n// The reason we can't just use the original variable names is minifiers mangling the toplevel scope.\n// This took me three weeks to figure out how to do.\n\n\nvar wcln = function wcln(fn, fnStr, td) {\n  var dt = fn();\n  var st = fn.toString();\n  var ks = st.slice(st.indexOf('[') + 1, st.lastIndexOf(']')).replace(/ /g, '').split(',');\n\n  for (var i = 0; i < dt.length; ++i) {\n    var v = dt[i],\n        k = ks[i];\n\n    if (typeof v == 'function') {\n      fnStr += ';' + k + '=';\n      var st_1 = v.toString();\n\n      if (v.prototype) {\n        // for global objects\n        if (st_1.indexOf('[native code]') != -1) {\n          var spInd = st_1.indexOf(' ', 8) + 1;\n          fnStr += st_1.slice(spInd, st_1.indexOf('(', spInd));\n        } else {\n          fnStr += st_1;\n\n          for (var t in v.prototype) {\n            fnStr += ';' + k + '.prototype.' + t + '=' + v.prototype[t].toString();\n          }\n        }\n      } else fnStr += st_1;\n    } else td[k] = v;\n  }\n\n  return [fnStr, td];\n};\n\nvar ch = []; // clone bufs\n\nvar cbfs = function cbfs(v) {\n  var tl = [];\n\n  for (var k in v) {\n    if (v[k] instanceof u8 || v[k] instanceof u16 || v[k] instanceof u32) tl.push((v[k] = new v[k].constructor(v[k])).buffer);\n  }\n\n  return tl;\n}; // use a worker to execute code\n\n\nvar wrkr = function wrkr(fns, init, id, cb) {\n  var _a;\n\n  if (!ch[id]) {\n    var fnStr = '',\n        td_1 = {},\n        m = fns.length - 1;\n\n    for (var i = 0; i < m; ++i) {\n      _a = wcln(fns[i], fnStr, td_1), fnStr = _a[0], td_1 = _a[1];\n    }\n\n    ch[id] = wcln(fns[m], fnStr, td_1);\n  }\n\n  var td = mrg({}, ch[id][1]);\n  return wk(ch[id][0] + ';onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage=' + init.toString() + '}', id, td, cbfs(td), cb);\n}; // base async inflate fn\n\n\nvar bInflt = function bInflt() {\n  return [u8, u16, u32, fleb, fdeb, clim, fl, fd, flrm, fdrm, rev, hMap, max, bits, bits16, shft, slc, inflt, inflateSync, pbf, gu8];\n};\n\nvar bDflt = function bDflt() {\n  return [u8, u16, u32, fleb, fdeb, clim, revfl, revfd, flm, flt, fdm, fdt, rev, deo, et, hMap, wbits, wbits16, hTree, ln, lc, clen, wfblk, wblk, shft, slc, dflt, dopt, deflateSync, pbf];\n}; // gzip extra\n\n\nvar gze = function gze() {\n  return [gzh, gzhl, wbytes, crc, crct];\n}; // gunzip extra\n\n\nvar guze = function guze() {\n  return [gzs, gzl];\n}; // zlib extra\n\n\nvar zle = function zle() {\n  return [zlh, wbytes, adler];\n}; // unzlib extra\n\n\nvar zule = function zule() {\n  return [zlv];\n}; // post buf\n\n\nvar pbf = function pbf(msg) {\n  return postMessage(msg, [msg.buffer]);\n}; // get u8\n\n\nvar gu8 = function gu8(o) {\n  return o && o.size && new u8(o.size);\n}; // async helper\n\n\nvar cbify = function cbify(dat, opts, fns, init, id, cb) {\n  var w = wrkr(fns, init, id, function (err, dat) {\n    w.terminate();\n    cb(err, dat);\n  });\n  w.postMessage([dat, opts], opts.consume ? [dat.buffer] : []);\n  return function () {\n    w.terminate();\n  };\n}; // auto stream\n\n\nvar astrm = function astrm(strm) {\n  strm.ondata = function (dat, final) {\n    return postMessage([dat, final], [dat.buffer]);\n  };\n\n  return function (ev) {\n    return strm.push(ev.data[0], ev.data[1]);\n  };\n}; // async stream attach\n\n\nvar astrmify = function astrmify(fns, strm, opts, init, id) {\n  var t;\n  var w = wrkr(fns, init, id, function (err, dat) {\n    if (err) w.terminate(), strm.ondata.call(strm, err);else {\n      if (dat[1]) w.terminate();\n      strm.ondata.call(strm, err, dat[0], dat[1]);\n    }\n  });\n  w.postMessage(opts);\n\n  strm.push = function (d, f) {\n    if (t) throw 'stream finished';\n    if (!strm.ondata) throw 'no stream handler';\n    w.postMessage([d, t = f], [d.buffer]);\n  };\n\n  strm.terminate = function () {\n    w.terminate();\n  };\n}; // read 2 bytes\n\n\nvar b2 = function b2(d, b) {\n  return d[b] | d[b + 1] << 8;\n}; // read 4 bytes\n\n\nvar b4 = function b4(d, b) {\n  return (d[b] | d[b + 1] << 8 | d[b + 2] << 16 | d[b + 3] << 24) >>> 0;\n};\n\nvar b8 = function b8(d, b) {\n  return b4(d, b) + b4(d, b + 4) * 4294967296;\n}; // write bytes\n\n\nvar wbytes = function wbytes(d, b, v) {\n  for (; v; ++b) {\n    d[b] = v, v >>>= 8;\n  }\n}; // gzip header\n\n\nvar gzh = function gzh(c, o) {\n  var fn = o.filename;\n  c[0] = 31, c[1] = 139, c[2] = 8, c[8] = o.level < 2 ? 4 : o.level == 9 ? 2 : 0, c[9] = 3; // assume Unix\n\n  if (o.mtime != 0) wbytes(c, 4, Math.floor(new Date(o.mtime || Date.now()) / 1000));\n\n  if (fn) {\n    c[3] = 8;\n\n    for (var i = 0; i <= fn.length; ++i) {\n      c[i + 10] = fn.charCodeAt(i);\n    }\n  }\n}; // gzip footer: -8 to -4 = CRC, -4 to -0 is length\n// gzip start\n\n\nvar gzs = function gzs(d) {\n  if (d[0] != 31 || d[1] != 139 || d[2] != 8) throw 'invalid gzip data';\n  var flg = d[3];\n  var st = 10;\n  if (flg & 4) st += d[10] | (d[11] << 8) + 2;\n\n  for (var zs = (flg >> 3 & 1) + (flg >> 4 & 1); zs > 0; zs -= !d[st++]) {\n    ;\n  }\n\n  return st + (flg & 2);\n}; // gzip length\n\n\nvar gzl = function gzl(d) {\n  var l = d.length;\n  return (d[l - 4] | d[l - 3] << 8 | d[l - 2] << 16 | d[l - 1] << 24) >>> 0;\n}; // gzip header length\n\n\nvar gzhl = function gzhl(o) {\n  return 10 + (o.filename && o.filename.length + 1 || 0);\n}; // zlib header\n\n\nvar zlh = function zlh(c, o) {\n  var lv = o.level,\n      fl = lv == 0 ? 0 : lv < 6 ? 1 : lv == 9 ? 3 : 2;\n  c[0] = 120, c[1] = fl << 6 | (fl ? 32 - 2 * fl : 1);\n}; // zlib valid\n\n\nvar zlv = function zlv(d) {\n  if ((d[0] & 15) != 8 || d[0] >>> 4 > 7 || (d[0] << 8 | d[1]) % 31) throw 'invalid zlib data';\n  if (d[1] & 32) throw 'invalid zlib data: preset dictionaries not supported';\n};\n\nfunction AsyncCmpStrm(opts, cb) {\n  if (!cb && typeof opts == 'function') cb = opts, opts = {};\n  this.ondata = cb;\n  return opts;\n} // zlib footer: -4 to -0 is Adler32\n\n/**\n * Streaming DEFLATE compression\n */\n\n\nvar Deflate = function () {\n  function Deflate(opts, cb) {\n    if (!cb && typeof opts == 'function') cb = opts, opts = {};\n    this.ondata = cb;\n    this.o = opts || {};\n  }\n\n  Deflate.prototype.p = function (c, f) {\n    this.ondata(dopt(c, this.o, 0, 0, !f), f);\n  };\n  /**\n   * Pushes a chunk to be deflated\n   * @param chunk The chunk to push\n   * @param final Whether this is the last chunk\n   */\n\n\n  Deflate.prototype.push = function (chunk, final) {\n    if (this.d) throw 'stream finished';\n    if (!this.ondata) throw 'no stream handler';\n    this.d = final;\n    this.p(chunk, final || false);\n  };\n\n  return Deflate;\n}();\n\nexport { Deflate };\n/**\n * Asynchronous streaming DEFLATE compression\n */\n\nvar AsyncDeflate = function () {\n  function AsyncDeflate(opts, cb) {\n    astrmify([bDflt, function () {\n      return [astrm, Deflate];\n    }], this, AsyncCmpStrm.call(this, opts, cb), function (ev) {\n      var strm = new Deflate(ev.data);\n      onmessage = astrm(strm);\n    }, 6);\n  }\n\n  return AsyncDeflate;\n}();\n\nexport { AsyncDeflate };\nexport function deflate(data, opts, cb) {\n  if (!cb) cb = opts, opts = {};\n  if (typeof cb != 'function') throw 'no callback';\n  return cbify(data, opts, [bDflt], function (ev) {\n    return pbf(deflateSync(ev.data[0], ev.data[1]));\n  }, 0, cb);\n}\n/**\n * Compresses data with DEFLATE without any wrapper\n * @param data The data to compress\n * @param opts The compression options\n * @returns The deflated version of the data\n */\n\nexport function deflateSync(data, opts) {\n  return dopt(data, opts || {}, 0, 0);\n}\n/**\n * Streaming DEFLATE decompression\n */\n\nvar Inflate = function () {\n  /**\n   * Creates an inflation stream\n   * @param cb The callback to call whenever data is inflated\n   */\n  function Inflate(cb) {\n    this.s = {};\n    this.p = new u8(0);\n    this.ondata = cb;\n  }\n\n  Inflate.prototype.e = function (c) {\n    if (this.d) throw 'stream finished';\n    if (!this.ondata) throw 'no stream handler';\n    var l = this.p.length;\n    var n = new u8(l + c.length);\n    n.set(this.p), n.set(c, l), this.p = n;\n  };\n\n  Inflate.prototype.c = function (final) {\n    this.d = this.s.i = final || false;\n    var bts = this.s.b;\n    var dt = inflt(this.p, this.o, this.s);\n    this.ondata(slc(dt, bts, this.s.b), this.d);\n    this.o = slc(dt, this.s.b - 32768), this.s.b = this.o.length;\n    this.p = slc(this.p, this.s.p / 8 | 0), this.s.p &= 7;\n  };\n  /**\n   * Pushes a chunk to be inflated\n   * @param chunk The chunk to push\n   * @param final Whether this is the final chunk\n   */\n\n\n  Inflate.prototype.push = function (chunk, final) {\n    this.e(chunk), this.c(final);\n  };\n\n  return Inflate;\n}();\n\nexport { Inflate };\n/**\n * Asynchronous streaming DEFLATE decompression\n */\n\nvar AsyncInflate = function () {\n  /**\n   * Creates an asynchronous inflation stream\n   * @param cb The callback to call whenever data is deflated\n   */\n  function AsyncInflate(cb) {\n    this.ondata = cb;\n    astrmify([bInflt, function () {\n      return [astrm, Inflate];\n    }], this, 0, function () {\n      var strm = new Inflate();\n      onmessage = astrm(strm);\n    }, 7);\n  }\n\n  return AsyncInflate;\n}();\n\nexport { AsyncInflate };\nexport function inflate(data, opts, cb) {\n  if (!cb) cb = opts, opts = {};\n  if (typeof cb != 'function') throw 'no callback';\n  return cbify(data, opts, [bInflt], function (ev) {\n    return pbf(inflateSync(ev.data[0], gu8(ev.data[1])));\n  }, 1, cb);\n}\n/**\n * Expands DEFLATE data with no wrapper\n * @param data The data to decompress\n * @param out Where to write the data. Saves memory if you know the decompressed size and provide an output buffer of that length.\n * @returns The decompressed version of the data\n */\n\nexport function inflateSync(data, out) {\n  return inflt(data, out);\n} // before you yell at me for not just using extends, my reason is that TS inheritance is hard to workerize.\n\n/**\n * Streaming GZIP compression\n */\n\nvar Gzip = function () {\n  function Gzip(opts, cb) {\n    this.c = crc();\n    this.l = 0;\n    this.v = 1;\n    Deflate.call(this, opts, cb);\n  }\n  /**\n   * Pushes a chunk to be GZIPped\n   * @param chunk The chunk to push\n   * @param final Whether this is the last chunk\n   */\n\n\n  Gzip.prototype.push = function (chunk, final) {\n    Deflate.prototype.push.call(this, chunk, final);\n  };\n\n  Gzip.prototype.p = function (c, f) {\n    this.c.p(c);\n    this.l += c.length;\n    var raw = dopt(c, this.o, this.v && gzhl(this.o), f && 8, !f);\n    if (this.v) gzh(raw, this.o), this.v = 0;\n    if (f) wbytes(raw, raw.length - 8, this.c.d()), wbytes(raw, raw.length - 4, this.l);\n    this.ondata(raw, f);\n  };\n\n  return Gzip;\n}();\n\nexport { Gzip };\n/**\n * Asynchronous streaming GZIP compression\n */\n\nvar AsyncGzip = function () {\n  function AsyncGzip(opts, cb) {\n    astrmify([bDflt, gze, function () {\n      return [astrm, Deflate, Gzip];\n    }], this, AsyncCmpStrm.call(this, opts, cb), function (ev) {\n      var strm = new Gzip(ev.data);\n      onmessage = astrm(strm);\n    }, 8);\n  }\n\n  return AsyncGzip;\n}();\n\nexport { AsyncGzip };\nexport function gzip(data, opts, cb) {\n  if (!cb) cb = opts, opts = {};\n  if (typeof cb != 'function') throw 'no callback';\n  return cbify(data, opts, [bDflt, gze, function () {\n    return [gzipSync];\n  }], function (ev) {\n    return pbf(gzipSync(ev.data[0], ev.data[1]));\n  }, 2, cb);\n}\n/**\n * Compresses data with GZIP\n * @param data The data to compress\n * @param opts The compression options\n * @returns The gzipped version of the data\n */\n\nexport function gzipSync(data, opts) {\n  if (!opts) opts = {};\n  var c = crc(),\n      l = data.length;\n  c.p(data);\n  var d = dopt(data, opts, gzhl(opts), 8),\n      s = d.length;\n  return gzh(d, opts), wbytes(d, s - 8, c.d()), wbytes(d, s - 4, l), d;\n}\n/**\n * Streaming GZIP decompression\n */\n\nvar Gunzip = function () {\n  /**\n   * Creates a GUNZIP stream\n   * @param cb The callback to call whenever data is inflated\n   */\n  function Gunzip(cb) {\n    this.v = 1;\n    Inflate.call(this, cb);\n  }\n  /**\n   * Pushes a chunk to be GUNZIPped\n   * @param chunk The chunk to push\n   * @param final Whether this is the last chunk\n   */\n\n\n  Gunzip.prototype.push = function (chunk, final) {\n    Inflate.prototype.e.call(this, chunk);\n\n    if (this.v) {\n      var s = this.p.length > 3 ? gzs(this.p) : 4;\n      if (s >= this.p.length && !final) return;\n      this.p = this.p.subarray(s), this.v = 0;\n    }\n\n    if (final) {\n      if (this.p.length < 8) throw 'invalid gzip stream';\n      this.p = this.p.subarray(0, -8);\n    } // necessary to prevent TS from using the closure value\n    // This allows for workerization to function correctly\n\n\n    Inflate.prototype.c.call(this, final);\n  };\n\n  return Gunzip;\n}();\n\nexport { Gunzip };\n/**\n * Asynchronous streaming GZIP decompression\n */\n\nvar AsyncGunzip = function () {\n  /**\n   * Creates an asynchronous GUNZIP stream\n   * @param cb The callback to call whenever data is deflated\n   */\n  function AsyncGunzip(cb) {\n    this.ondata = cb;\n    astrmify([bInflt, guze, function () {\n      return [astrm, Inflate, Gunzip];\n    }], this, 0, function () {\n      var strm = new Gunzip();\n      onmessage = astrm(strm);\n    }, 9);\n  }\n\n  return AsyncGunzip;\n}();\n\nexport { AsyncGunzip };\nexport function gunzip(data, opts, cb) {\n  if (!cb) cb = opts, opts = {};\n  if (typeof cb != 'function') throw 'no callback';\n  return cbify(data, opts, [bInflt, guze, function () {\n    return [gunzipSync];\n  }], function (ev) {\n    return pbf(gunzipSync(ev.data[0]));\n  }, 3, cb);\n}\n/**\n * Expands GZIP data\n * @param data The data to decompress\n * @param out Where to write the data. GZIP already encodes the output size, so providing this doesn't save memory.\n * @returns The decompressed version of the data\n */\n\nexport function gunzipSync(data, out) {\n  return inflt(data.subarray(gzs(data), -8), out || new u8(gzl(data)));\n}\n/**\n * Streaming Zlib compression\n */\n\nvar Zlib = function () {\n  function Zlib(opts, cb) {\n    this.c = adler();\n    this.v = 1;\n    Deflate.call(this, opts, cb);\n  }\n  /**\n   * Pushes a chunk to be zlibbed\n   * @param chunk The chunk to push\n   * @param final Whether this is the last chunk\n   */\n\n\n  Zlib.prototype.push = function (chunk, final) {\n    Deflate.prototype.push.call(this, chunk, final);\n  };\n\n  Zlib.prototype.p = function (c, f) {\n    this.c.p(c);\n    var raw = dopt(c, this.o, this.v && 2, f && 4, !f);\n    if (this.v) zlh(raw, this.o), this.v = 0;\n    if (f) wbytes(raw, raw.length - 4, this.c.d());\n    this.ondata(raw, f);\n  };\n\n  return Zlib;\n}();\n\nexport { Zlib };\n/**\n * Asynchronous streaming Zlib compression\n */\n\nvar AsyncZlib = function () {\n  function AsyncZlib(opts, cb) {\n    astrmify([bDflt, zle, function () {\n      return [astrm, Deflate, Zlib];\n    }], this, AsyncCmpStrm.call(this, opts, cb), function (ev) {\n      var strm = new Zlib(ev.data);\n      onmessage = astrm(strm);\n    }, 10);\n  }\n\n  return AsyncZlib;\n}();\n\nexport { AsyncZlib };\nexport function zlib(data, opts, cb) {\n  if (!cb) cb = opts, opts = {};\n  if (typeof cb != 'function') throw 'no callback';\n  return cbify(data, opts, [bDflt, zle, function () {\n    return [zlibSync];\n  }], function (ev) {\n    return pbf(zlibSync(ev.data[0], ev.data[1]));\n  }, 4, cb);\n}\n/**\n * Compress data with Zlib\n * @param data The data to compress\n * @param opts The compression options\n * @returns The zlib-compressed version of the data\n */\n\nexport function zlibSync(data, opts) {\n  if (!opts) opts = {};\n  var a = adler();\n  a.p(data);\n  var d = dopt(data, opts, 2, 4);\n  return zlh(d, opts), wbytes(d, d.length - 4, a.d()), d;\n}\n/**\n * Streaming Zlib decompression\n */\n\nvar Unzlib = function () {\n  /**\n   * Creates a Zlib decompression stream\n   * @param cb The callback to call whenever data is inflated\n   */\n  function Unzlib(cb) {\n    this.v = 1;\n    Inflate.call(this, cb);\n  }\n  /**\n   * Pushes a chunk to be unzlibbed\n   * @param chunk The chunk to push\n   * @param final Whether this is the last chunk\n   */\n\n\n  Unzlib.prototype.push = function (chunk, final) {\n    Inflate.prototype.e.call(this, chunk);\n\n    if (this.v) {\n      if (this.p.length < 2 && !final) return;\n      this.p = this.p.subarray(2), this.v = 0;\n    }\n\n    if (final) {\n      if (this.p.length < 4) throw 'invalid zlib stream';\n      this.p = this.p.subarray(0, -4);\n    } // necessary to prevent TS from using the closure value\n    // This allows for workerization to function correctly\n\n\n    Inflate.prototype.c.call(this, final);\n  };\n\n  return Unzlib;\n}();\n\nexport { Unzlib };\n/**\n * Asynchronous streaming Zlib decompression\n */\n\nvar AsyncUnzlib = function () {\n  /**\n   * Creates an asynchronous Zlib decompression stream\n   * @param cb The callback to call whenever data is deflated\n   */\n  function AsyncUnzlib(cb) {\n    this.ondata = cb;\n    astrmify([bInflt, zule, function () {\n      return [astrm, Inflate, Unzlib];\n    }], this, 0, function () {\n      var strm = new Unzlib();\n      onmessage = astrm(strm);\n    }, 11);\n  }\n\n  return AsyncUnzlib;\n}();\n\nexport { AsyncUnzlib };\nexport function unzlib(data, opts, cb) {\n  if (!cb) cb = opts, opts = {};\n  if (typeof cb != 'function') throw 'no callback';\n  return cbify(data, opts, [bInflt, zule, function () {\n    return [unzlibSync];\n  }], function (ev) {\n    return pbf(unzlibSync(ev.data[0], gu8(ev.data[1])));\n  }, 5, cb);\n}\n/**\n * Expands Zlib data\n * @param data The data to decompress\n * @param out Where to write the data. Saves memory if you know the decompressed size and provide an output buffer of that length.\n * @returns The decompressed version of the data\n */\n\nexport function unzlibSync(data, out) {\n  return inflt((zlv(data), data.subarray(2, -4)), out);\n} // Default algorithm for compression (used because having a known output size allows faster decompression)\n\nexport { gzip as compress, AsyncGzip as AsyncCompress }; // Default algorithm for compression (used because having a known output size allows faster decompression)\n\nexport { gzipSync as compressSync, Gzip as Compress };\n/**\n * Streaming GZIP, Zlib, or raw DEFLATE decompression\n */\n\nvar Decompress = function () {\n  /**\n   * Creates a decompression stream\n   * @param cb The callback to call whenever data is decompressed\n   */\n  function Decompress(cb) {\n    this.G = Gunzip;\n    this.I = Inflate;\n    this.Z = Unzlib;\n    this.ondata = cb;\n  }\n  /**\n   * Pushes a chunk to be decompressed\n   * @param chunk The chunk to push\n   * @param final Whether this is the last chunk\n   */\n\n\n  Decompress.prototype.push = function (chunk, final) {\n    if (!this.ondata) throw 'no stream handler';\n\n    if (!this.s) {\n      if (this.p && this.p.length) {\n        var n = new u8(this.p.length + chunk.length);\n        n.set(this.p), n.set(chunk, this.p.length);\n      } else this.p = chunk;\n\n      if (this.p.length > 2) {\n        var _this_1 = this;\n\n        var cb = function cb() {\n          _this_1.ondata.apply(_this_1, arguments);\n        };\n\n        this.s = this.p[0] == 31 && this.p[1] == 139 && this.p[2] == 8 ? new this.G(cb) : (this.p[0] & 15) != 8 || this.p[0] >> 4 > 7 || (this.p[0] << 8 | this.p[1]) % 31 ? new this.I(cb) : new this.Z(cb);\n        this.s.push(this.p, final);\n        this.p = null;\n      }\n    } else this.s.push(chunk, final);\n  };\n\n  return Decompress;\n}();\n\nexport { Decompress };\n/**\n * Asynchronous streaming GZIP, Zlib, or raw DEFLATE decompression\n */\n\nvar AsyncDecompress = function () {\n  /**\n  * Creates an asynchronous decompression stream\n  * @param cb The callback to call whenever data is decompressed\n  */\n  function AsyncDecompress(cb) {\n    this.G = AsyncGunzip;\n    this.I = AsyncInflate;\n    this.Z = AsyncUnzlib;\n    this.ondata = cb;\n  }\n  /**\n   * Pushes a chunk to be decompressed\n   * @param chunk The chunk to push\n   * @param final Whether this is the last chunk\n   */\n\n\n  AsyncDecompress.prototype.push = function (chunk, final) {\n    Decompress.prototype.push.call(this, chunk, final);\n  };\n\n  return AsyncDecompress;\n}();\n\nexport { AsyncDecompress };\nexport function decompress(data, opts, cb) {\n  if (!cb) cb = opts, opts = {};\n  if (typeof cb != 'function') throw 'no callback';\n  return data[0] == 31 && data[1] == 139 && data[2] == 8 ? gunzip(data, opts, cb) : (data[0] & 15) != 8 || data[0] >> 4 > 7 || (data[0] << 8 | data[1]) % 31 ? inflate(data, opts, cb) : unzlib(data, opts, cb);\n}\n/**\n * Expands compressed GZIP, Zlib, or raw DEFLATE data, automatically detecting the format\n * @param data The data to decompress\n * @param out Where to write the data. Saves memory if you know the decompressed size and provide an output buffer of that length.\n * @returns The decompressed version of the data\n */\n\nexport function decompressSync(data, out) {\n  return data[0] == 31 && data[1] == 139 && data[2] == 8 ? gunzipSync(data, out) : (data[0] & 15) != 8 || data[0] >> 4 > 7 || (data[0] << 8 | data[1]) % 31 ? inflateSync(data, out) : unzlibSync(data, out);\n} // flatten a directory structure\n\nvar fltn = function fltn(d, p, t, o) {\n  for (var k in d) {\n    var val = d[k],\n        n = p + k;\n    if (val instanceof u8) t[n] = [val, o];else if (Array.isArray(val)) t[n] = [val[0], mrg(o, val[1])];else fltn(val, n + '/', t, o);\n  }\n}; // text encoder\n\n\nvar te = typeof TextEncoder != 'undefined' && /*#__PURE__*/new TextEncoder(); // text decoder\n\nvar td = typeof TextDecoder != 'undefined' && /*#__PURE__*/new TextDecoder(); // text decoder stream\n\nvar tds = 0;\n\ntry {\n  td.decode(et, {\n    stream: true\n  });\n  tds = 1;\n} catch (e) {} // decode UTF8\n\n\nvar dutf8 = function dutf8(d) {\n  for (var r = '', i = 0;;) {\n    var c = d[i++];\n    var eb = (c > 127) + (c > 223) + (c > 239);\n    if (i + eb > d.length) return [r, slc(d, i - 1)];\n    if (!eb) r += String.fromCharCode(c);else if (eb == 3) {\n      c = ((c & 15) << 18 | (d[i++] & 63) << 12 | (d[i++] & 63) << 6 | d[i++] & 63) - 65536, r += String.fromCharCode(55296 | c >> 10, 56320 | c & 1023);\n    } else if (eb & 1) r += String.fromCharCode((c & 31) << 6 | d[i++] & 63);else r += String.fromCharCode((c & 15) << 12 | (d[i++] & 63) << 6 | d[i++] & 63);\n  }\n};\n/**\n * Streaming UTF-8 decoding\n */\n\n\nvar DecodeUTF8 = function () {\n  /**\n   * Creates a UTF-8 decoding stream\n   * @param cb The callback to call whenever data is decoded\n   */\n  function DecodeUTF8(cb) {\n    this.ondata = cb;\n    if (tds) this.t = new TextDecoder();else this.p = et;\n  }\n  /**\n   * Pushes a chunk to be decoded from UTF-8 binary\n   * @param chunk The chunk to push\n   * @param final Whether this is the last chunk\n   */\n\n\n  DecodeUTF8.prototype.push = function (chunk, final) {\n    if (!this.ondata) throw 'no callback';\n    final = !!final;\n\n    if (this.t) {\n      this.ondata(this.t.decode(chunk, {\n        stream: true\n      }), final);\n\n      if (final) {\n        if (this.t.decode().length) throw 'invalid utf-8 data';\n        this.t = null;\n      }\n\n      return;\n    }\n\n    if (!this.p) throw 'stream finished';\n    var dat = new u8(this.p.length + chunk.length);\n    dat.set(this.p);\n    dat.set(chunk, this.p.length);\n\n    var _a = dutf8(dat),\n        ch = _a[0],\n        np = _a[1];\n\n    if (final) {\n      if (np.length) throw 'invalid utf-8 data';\n      this.p = null;\n    } else this.p = np;\n\n    this.ondata(ch, final);\n  };\n\n  return DecodeUTF8;\n}();\n\nexport { DecodeUTF8 };\n/**\n * Streaming UTF-8 encoding\n */\n\nvar EncodeUTF8 = function () {\n  /**\n   * Creates a UTF-8 decoding stream\n   * @param cb The callback to call whenever data is encoded\n   */\n  function EncodeUTF8(cb) {\n    this.ondata = cb;\n  }\n  /**\n   * Pushes a chunk to be encoded to UTF-8\n   * @param chunk The string data to push\n   * @param final Whether this is the last chunk\n   */\n\n\n  EncodeUTF8.prototype.push = function (chunk, final) {\n    if (!this.ondata) throw 'no callback';\n    if (this.d) throw 'stream finished';\n    this.ondata(strToU8(chunk), this.d = final || false);\n  };\n\n  return EncodeUTF8;\n}();\n\nexport { EncodeUTF8 };\n/**\n * Converts a string into a Uint8Array for use with compression/decompression methods\n * @param str The string to encode\n * @param latin1 Whether or not to interpret the data as Latin-1. This should\n *               not need to be true unless decoding a binary string.\n * @returns The string encoded in UTF-8/Latin-1 binary\n */\n\nexport function strToU8(str, latin1) {\n  if (latin1) {\n    var ar_1 = new u8(str.length);\n\n    for (var i = 0; i < str.length; ++i) {\n      ar_1[i] = str.charCodeAt(i);\n    }\n\n    return ar_1;\n  }\n\n  if (te) return te.encode(str);\n  var l = str.length;\n  var ar = new u8(str.length + (str.length >> 1));\n  var ai = 0;\n\n  var w = function w(v) {\n    ar[ai++] = v;\n  };\n\n  for (var i = 0; i < l; ++i) {\n    if (ai + 5 > ar.length) {\n      var n = new u8(ai + 8 + (l - i << 1));\n      n.set(ar);\n      ar = n;\n    }\n\n    var c = str.charCodeAt(i);\n    if (c < 128 || latin1) w(c);else if (c < 2048) w(192 | c >> 6), w(128 | c & 63);else if (c > 55295 && c < 57344) c = 65536 + (c & 1023 << 10) | str.charCodeAt(++i) & 1023, w(240 | c >> 18), w(128 | c >> 12 & 63), w(128 | c >> 6 & 63), w(128 | c & 63);else w(224 | c >> 12), w(128 | c >> 6 & 63), w(128 | c & 63);\n  }\n\n  return slc(ar, 0, ai);\n}\n/**\n * Converts a Uint8Array to a string\n * @param dat The data to decode to string\n * @param latin1 Whether or not to interpret the data as Latin-1. This should\n *               not need to be true unless encoding to binary string.\n * @returns The original UTF-8/Latin-1 string\n */\n\nexport function strFromU8(dat, latin1) {\n  if (latin1) {\n    var r = '';\n\n    for (var i = 0; i < dat.length; i += 16384) {\n      r += String.fromCharCode.apply(null, dat.subarray(i, i + 16384));\n    }\n\n    return r;\n  } else if (td) return td.decode(dat);else {\n    var _a = dutf8(dat),\n        out = _a[0],\n        ext = _a[1];\n\n    if (ext.length) throw 'invalid utf-8 data';\n    return out;\n  }\n}\n; // deflate bit flag\n\nvar dbf = function dbf(l) {\n  return l == 1 ? 3 : l < 6 ? 2 : l == 9 ? 1 : 0;\n}; // skip local zip header\n\n\nvar slzh = function slzh(d, b) {\n  return b + 30 + b2(d, b + 26) + b2(d, b + 28);\n}; // read zip header\n\n\nvar zh = function zh(d, b, z) {\n  var fnl = b2(d, b + 28),\n      fn = strFromU8(d.subarray(b + 46, b + 46 + fnl), !(b2(d, b + 8) & 2048)),\n      es = b + 46 + fnl,\n      bs = b4(d, b + 20);\n\n  var _a = z && bs == 4294967295 ? z64e(d, es) : [bs, b4(d, b + 24), b4(d, b + 42)],\n      sc = _a[0],\n      su = _a[1],\n      off = _a[2];\n\n  return [b2(d, b + 10), sc, su, fn, es + b2(d, b + 30) + b2(d, b + 32), off];\n}; // read zip64 extra field\n\n\nvar z64e = function z64e(d, b) {\n  for (; b2(d, b) != 1; b += 4 + b2(d, b + 2)) {\n    ;\n  }\n\n  return [b8(d, b + 12), b8(d, b + 4), b8(d, b + 20)];\n}; // extra field length\n\n\nvar exfl = function exfl(ex) {\n  var le = 0;\n\n  if (ex) {\n    for (var k in ex) {\n      var l = ex[k].length;\n      if (l > 65535) throw 'extra field too long';\n      le += l + 4;\n    }\n  }\n\n  return le;\n}; // write zip header\n\n\nvar wzh = function wzh(d, b, f, fn, u, c, ce, co) {\n  var fl = fn.length,\n      ex = f.extra,\n      col = co && co.length;\n  var exl = exfl(ex);\n  wbytes(d, b, ce != null ? 0x2014B50 : 0x4034B50), b += 4;\n  if (ce != null) d[b++] = 20, d[b++] = f.os;\n  d[b] = 20, b += 2; // spec compliance? what's that?\n\n  d[b++] = f.flag << 1 | (c == null && 8), d[b++] = u && 8;\n  d[b++] = f.compression & 255, d[b++] = f.compression >> 8;\n  var dt = new Date(f.mtime == null ? Date.now() : f.mtime),\n      y = dt.getFullYear() - 1980;\n  if (y < 0 || y > 119) throw 'date not in range 1980-2099';\n  wbytes(d, b, y << 25 | dt.getMonth() + 1 << 21 | dt.getDate() << 16 | dt.getHours() << 11 | dt.getMinutes() << 5 | dt.getSeconds() >>> 1), b += 4;\n\n  if (c != null) {\n    wbytes(d, b, f.crc);\n    wbytes(d, b + 4, c);\n    wbytes(d, b + 8, f.size);\n  }\n\n  wbytes(d, b + 12, fl);\n  wbytes(d, b + 14, exl), b += 16;\n\n  if (ce != null) {\n    wbytes(d, b, col);\n    wbytes(d, b + 6, f.attrs);\n    wbytes(d, b + 10, ce), b += 14;\n  }\n\n  d.set(fn, b);\n  b += fl;\n\n  if (exl) {\n    for (var k in ex) {\n      var exf = ex[k],\n          l = exf.length;\n      wbytes(d, b, +k);\n      wbytes(d, b + 2, l);\n      d.set(exf, b + 4), b += 4 + l;\n    }\n  }\n\n  if (col) d.set(co, b), b += col;\n  return b;\n}; // write zip footer (end of central directory)\n\n\nvar wzf = function wzf(o, b, c, d, e) {\n  wbytes(o, b, 0x6054B50); // skip disk\n\n  wbytes(o, b + 8, c);\n  wbytes(o, b + 10, c);\n  wbytes(o, b + 12, d);\n  wbytes(o, b + 16, e);\n};\n/**\n * A pass-through stream to keep data uncompressed in a ZIP archive.\n */\n\n\nvar ZipPassThrough = function () {\n  /**\n   * Creates a pass-through stream that can be added to ZIP archives\n   * @param filename The filename to associate with this data stream\n   */\n  function ZipPassThrough(filename) {\n    this.filename = filename;\n    this.c = crc();\n    this.size = 0;\n    this.compression = 0;\n  }\n  /**\n   * Processes a chunk and pushes to the output stream. You can override this\n   * method in a subclass for custom behavior, but by default this passes\n   * the data through. You must call this.ondata(err, chunk, final) at some\n   * point in this method.\n   * @param chunk The chunk to process\n   * @param final Whether this is the last chunk\n   */\n\n\n  ZipPassThrough.prototype.process = function (chunk, final) {\n    this.ondata(null, chunk, final);\n  };\n  /**\n   * Pushes a chunk to be added. If you are subclassing this with a custom\n   * compression algorithm, note that you must push data from the source\n   * file only, pre-compression.\n   * @param chunk The chunk to push\n   * @param final Whether this is the last chunk\n   */\n\n\n  ZipPassThrough.prototype.push = function (chunk, final) {\n    if (!this.ondata) throw 'no callback - add to ZIP archive before pushing';\n    this.c.p(chunk);\n    this.size += chunk.length;\n    if (final) this.crc = this.c.d();\n    this.process(chunk, final || false);\n  };\n\n  return ZipPassThrough;\n}();\n\nexport { ZipPassThrough }; // I don't extend because TypeScript extension adds 1kB of runtime bloat\n\n/**\n * Streaming DEFLATE compression for ZIP archives. Prefer using AsyncZipDeflate\n * for better performance\n */\n\nvar ZipDeflate = function () {\n  /**\n   * Creates a DEFLATE stream that can be added to ZIP archives\n   * @param filename The filename to associate with this data stream\n   * @param opts The compression options\n   */\n  function ZipDeflate(filename, opts) {\n    var _this_1 = this;\n\n    if (!opts) opts = {};\n    ZipPassThrough.call(this, filename);\n    this.d = new Deflate(opts, function (dat, final) {\n      _this_1.ondata(null, dat, final);\n    });\n    this.compression = 8;\n    this.flag = dbf(opts.level);\n  }\n\n  ZipDeflate.prototype.process = function (chunk, final) {\n    try {\n      this.d.push(chunk, final);\n    } catch (e) {\n      this.ondata(e, null, final);\n    }\n  };\n  /**\n   * Pushes a chunk to be deflated\n   * @param chunk The chunk to push\n   * @param final Whether this is the last chunk\n   */\n\n\n  ZipDeflate.prototype.push = function (chunk, final) {\n    ZipPassThrough.prototype.push.call(this, chunk, final);\n  };\n\n  return ZipDeflate;\n}();\n\nexport { ZipDeflate };\n/**\n * Asynchronous streaming DEFLATE compression for ZIP archives\n */\n\nvar AsyncZipDeflate = function () {\n  /**\n   * Creates a DEFLATE stream that can be added to ZIP archives\n   * @param filename The filename to associate with this data stream\n   * @param opts The compression options\n   */\n  function AsyncZipDeflate(filename, opts) {\n    var _this_1 = this;\n\n    if (!opts) opts = {};\n    ZipPassThrough.call(this, filename);\n    this.d = new AsyncDeflate(opts, function (err, dat, final) {\n      _this_1.ondata(err, dat, final);\n    });\n    this.compression = 8;\n    this.flag = dbf(opts.level);\n    this.terminate = this.d.terminate;\n  }\n\n  AsyncZipDeflate.prototype.process = function (chunk, final) {\n    this.d.push(chunk, final);\n  };\n  /**\n   * Pushes a chunk to be deflated\n   * @param chunk The chunk to push\n   * @param final Whether this is the last chunk\n   */\n\n\n  AsyncZipDeflate.prototype.push = function (chunk, final) {\n    ZipPassThrough.prototype.push.call(this, chunk, final);\n  };\n\n  return AsyncZipDeflate;\n}();\n\nexport { AsyncZipDeflate }; // TODO: Better tree shaking\n\n/**\n * A zippable archive to which files can incrementally be added\n */\n\nvar Zip = function () {\n  /**\n   * Creates an empty ZIP archive to which files can be added\n   * @param cb The callback to call whenever data for the generated ZIP archive\n   *           is available\n   */\n  function Zip(cb) {\n    this.ondata = cb;\n    this.u = [];\n    this.d = 1;\n  }\n  /**\n   * Adds a file to the ZIP archive\n   * @param file The file stream to add\n   */\n\n\n  Zip.prototype.add = function (file) {\n    var _this_1 = this;\n\n    if (this.d & 2) throw 'stream finished';\n    var f = strToU8(file.filename),\n        fl = f.length;\n    var com = file.comment,\n        o = com && strToU8(com);\n    var u = fl != file.filename.length || o && com.length != o.length;\n    var hl = fl + exfl(file.extra) + 30;\n    if (fl > 65535) throw 'filename too long';\n    var header = new u8(hl);\n    wzh(header, 0, file, f, u);\n    var chks = [header];\n\n    var pAll = function pAll() {\n      for (var _i = 0, chks_1 = chks; _i < chks_1.length; _i++) {\n        var chk = chks_1[_i];\n\n        _this_1.ondata(null, chk, false);\n      }\n\n      chks = [];\n    };\n\n    var tr = this.d;\n    this.d = 0;\n    var ind = this.u.length;\n    var uf = mrg(file, {\n      f: f,\n      u: u,\n      o: o,\n      t: function t() {\n        if (file.terminate) file.terminate();\n      },\n      r: function r() {\n        pAll();\n\n        if (tr) {\n          var nxt = _this_1.u[ind + 1];\n          if (nxt) nxt.r();else _this_1.d = 1;\n        }\n\n        tr = 1;\n      }\n    });\n    var cl = 0;\n\n    file.ondata = function (err, dat, final) {\n      if (err) {\n        _this_1.ondata(err, dat, final);\n\n        _this_1.terminate();\n      } else {\n        cl += dat.length;\n        chks.push(dat);\n\n        if (final) {\n          var dd = new u8(16);\n          wbytes(dd, 0, 0x8074B50);\n          wbytes(dd, 4, file.crc);\n          wbytes(dd, 8, cl);\n          wbytes(dd, 12, file.size);\n          chks.push(dd);\n          uf.c = cl, uf.b = hl + cl + 16, uf.crc = file.crc, uf.size = file.size;\n          if (tr) uf.r();\n          tr = 1;\n        } else if (tr) pAll();\n      }\n    };\n\n    this.u.push(uf);\n  };\n  /**\n   * Ends the process of adding files and prepares to emit the final chunks.\n   * This *must* be called after adding all desired files for the resulting\n   * ZIP file to work properly.\n   */\n\n\n  Zip.prototype.end = function () {\n    var _this_1 = this;\n\n    if (this.d & 2) {\n      if (this.d & 1) throw 'stream finishing';\n      throw 'stream finished';\n    }\n\n    if (this.d) this.e();else this.u.push({\n      r: function r() {\n        if (!(_this_1.d & 1)) return;\n\n        _this_1.u.splice(-1, 1);\n\n        _this_1.e();\n      },\n      t: function t() {}\n    });\n    this.d = 3;\n  };\n\n  Zip.prototype.e = function () {\n    var bt = 0,\n        l = 0,\n        tl = 0;\n\n    for (var _i = 0, _a = this.u; _i < _a.length; _i++) {\n      var f = _a[_i];\n      tl += 46 + f.f.length + exfl(f.extra) + (f.o ? f.o.length : 0);\n    }\n\n    var out = new u8(tl + 22);\n\n    for (var _b = 0, _c = this.u; _b < _c.length; _b++) {\n      var f = _c[_b];\n      wzh(out, bt, f, f.f, f.u, f.c, l, f.o);\n      bt += 46 + f.f.length + exfl(f.extra) + (f.o ? f.o.length : 0), l += f.b;\n    }\n\n    wzf(out, bt, this.u.length, tl, l);\n    this.ondata(null, out, true);\n    this.d = 2;\n  };\n  /**\n   * A method to terminate any internal workers used by the stream. Subsequent\n   * calls to add() will fail.\n   */\n\n\n  Zip.prototype.terminate = function () {\n    for (var _i = 0, _a = this.u; _i < _a.length; _i++) {\n      var f = _a[_i];\n      f.t();\n    }\n\n    this.d = 2;\n  };\n\n  return Zip;\n}();\n\nexport { Zip };\nexport function zip(data, opts, cb) {\n  if (!cb) cb = opts, opts = {};\n  if (typeof cb != 'function') throw 'no callback';\n  var r = {};\n  fltn(data, '', r, opts);\n  var k = Object.keys(r);\n  var lft = k.length,\n      o = 0,\n      tot = 0;\n  var slft = lft,\n      files = new Array(lft);\n  var term = [];\n\n  var tAll = function tAll() {\n    for (var i = 0; i < term.length; ++i) {\n      term[i]();\n    }\n  };\n\n  var cbf = function cbf() {\n    var out = new u8(tot + 22),\n        oe = o,\n        cdl = tot - o;\n    tot = 0;\n\n    for (var i = 0; i < slft; ++i) {\n      var f = files[i];\n\n      try {\n        var l = f.c.length;\n        wzh(out, tot, f, f.f, f.u, l);\n        var badd = 30 + f.f.length + exfl(f.extra);\n        var loc = tot + badd;\n        out.set(f.c, loc);\n        wzh(out, o, f, f.f, f.u, l, tot, f.m), o += 16 + badd + (f.m ? f.m.length : 0), tot = loc + l;\n      } catch (e) {\n        return cb(e, null);\n      }\n    }\n\n    wzf(out, o, files.length, cdl, oe);\n    cb(null, out);\n  };\n\n  if (!lft) cbf();\n\n  var _loop_1 = function _loop_1(i) {\n    var fn = k[i];\n    var _a = r[fn],\n        file = _a[0],\n        p = _a[1];\n    var c = crc(),\n        size = file.length;\n    c.p(file);\n    var f = strToU8(fn),\n        s = f.length;\n    var com = p.comment,\n        m = com && strToU8(com),\n        ms = m && m.length;\n    var exl = exfl(p.extra);\n    var compression = p.level == 0 ? 0 : 8;\n\n    var cbl = function cbl(e, d) {\n      if (e) {\n        tAll();\n        cb(e, null);\n      } else {\n        var l = d.length;\n        files[i] = mrg(p, {\n          size: size,\n          crc: c.d(),\n          c: d,\n          f: f,\n          m: m,\n          u: s != fn.length || m && com.length != ms,\n          compression: compression\n        });\n        o += 30 + s + exl + l;\n        tot += 76 + 2 * (s + exl) + (ms || 0) + l;\n        if (! --lft) cbf();\n      }\n    };\n\n    if (s > 65535) cbl('filename too long', null);\n    if (!compression) cbl(null, file);else if (size < 160000) {\n      try {\n        cbl(null, deflateSync(file, p));\n      } catch (e) {\n        cbl(e, null);\n      }\n    } else term.push(deflate(file, p, cbl));\n  }; // Cannot use lft because it can decrease\n\n\n  for (var i = 0; i < slft; ++i) {\n    _loop_1(i);\n  }\n\n  return tAll;\n}\n/**\n * Synchronously creates a ZIP file. Prefer using `zip` for better performance\n * with more than one file.\n * @param data The directory structure for the ZIP archive\n * @param opts The main options, merged with per-file options\n * @returns The generated ZIP archive\n */\n\nexport function zipSync(data, opts) {\n  if (!opts) opts = {};\n  var r = {};\n  var files = [];\n  fltn(data, '', r, opts);\n  var o = 0;\n  var tot = 0;\n\n  for (var fn in r) {\n    var _a = r[fn],\n        file = _a[0],\n        p = _a[1];\n    var compression = p.level == 0 ? 0 : 8;\n    var f = strToU8(fn),\n        s = f.length;\n    var com = p.comment,\n        m = com && strToU8(com),\n        ms = m && m.length;\n    var exl = exfl(p.extra);\n    if (s > 65535) throw 'filename too long';\n    var d = compression ? deflateSync(file, p) : file,\n        l = d.length;\n    var c = crc();\n    c.p(file);\n    files.push(mrg(p, {\n      size: file.length,\n      crc: c.d(),\n      c: d,\n      f: f,\n      m: m,\n      u: s != fn.length || m && com.length != ms,\n      o: o,\n      compression: compression\n    }));\n    o += 30 + s + exl + l;\n    tot += 76 + 2 * (s + exl) + (ms || 0) + l;\n  }\n\n  var out = new u8(tot + 22),\n      oe = o,\n      cdl = tot - o;\n\n  for (var i = 0; i < files.length; ++i) {\n    var f = files[i];\n    wzh(out, f.o, f, f.f, f.u, f.c.length);\n    var badd = 30 + f.f.length + exfl(f.extra);\n    out.set(f.c, f.o + badd);\n    wzh(out, o, f, f.f, f.u, f.c.length, f.o, f.m), o += 16 + badd + (f.m ? f.m.length : 0);\n  }\n\n  wzf(out, o, files.length, cdl, oe);\n  return out;\n}\n/**\n * Streaming pass-through decompression for ZIP archives\n */\n\nvar UnzipPassThrough = function () {\n  function UnzipPassThrough() {}\n\n  UnzipPassThrough.prototype.push = function (data, final) {\n    this.ondata(null, data, final);\n  };\n\n  UnzipPassThrough.compression = 0;\n  return UnzipPassThrough;\n}();\n\nexport { UnzipPassThrough };\n/**\n * Streaming DEFLATE decompression for ZIP archives. Prefer AsyncZipInflate for\n * better performance.\n */\n\nvar UnzipInflate = function () {\n  /**\n   * Creates a DEFLATE decompression that can be used in ZIP archives\n   */\n  function UnzipInflate() {\n    var _this_1 = this;\n\n    this.i = new Inflate(function (dat, final) {\n      _this_1.ondata(null, dat, final);\n    });\n  }\n\n  UnzipInflate.prototype.push = function (data, final) {\n    try {\n      this.i.push(data, final);\n    } catch (e) {\n      this.ondata(e, data, final);\n    }\n  };\n\n  UnzipInflate.compression = 8;\n  return UnzipInflate;\n}();\n\nexport { UnzipInflate };\n/**\n * Asynchronous streaming DEFLATE decompression for ZIP archives\n */\n\nvar AsyncUnzipInflate = function () {\n  /**\n   * Creates a DEFLATE decompression that can be used in ZIP archives\n   */\n  function AsyncUnzipInflate(_, sz) {\n    var _this_1 = this;\n\n    if (sz < 320000) {\n      this.i = new Inflate(function (dat, final) {\n        _this_1.ondata(null, dat, final);\n      });\n    } else {\n      this.i = new AsyncInflate(function (err, dat, final) {\n        _this_1.ondata(err, dat, final);\n      });\n      this.terminate = this.i.terminate;\n    }\n  }\n\n  AsyncUnzipInflate.prototype.push = function (data, final) {\n    if (this.i.terminate) data = slc(data, 0);\n    this.i.push(data, final);\n  };\n\n  AsyncUnzipInflate.compression = 8;\n  return AsyncUnzipInflate;\n}();\n\nexport { AsyncUnzipInflate };\n/**\n * A ZIP archive decompression stream that emits files as they are discovered\n */\n\nvar Unzip = function () {\n  /**\n   * Creates a ZIP decompression stream\n   * @param cb The callback to call whenever a file in the ZIP archive is found\n   */\n  function Unzip(cb) {\n    this.onfile = cb;\n    this.k = [];\n    this.o = {\n      0: UnzipPassThrough\n    };\n    this.p = et;\n  }\n  /**\n   * Pushes a chunk to be unzipped\n   * @param chunk The chunk to push\n   * @param final Whether this is the last chunk\n   */\n\n\n  Unzip.prototype.push = function (chunk, final) {\n    var _this_1 = this;\n\n    if (!this.onfile) throw 'no callback';\n    if (!this.p) throw 'stream finished';\n\n    if (this.c > 0) {\n      var len = Math.min(this.c, chunk.length);\n      var toAdd = chunk.subarray(0, len);\n      this.c -= len;\n      if (this.d) this.d.push(toAdd, !this.c);else this.k[0].push(toAdd);\n      chunk = chunk.subarray(len);\n      if (chunk.length) return this.push(chunk, final);\n    } else {\n      var f = 0,\n          i = 0,\n          is = void 0,\n          buf = void 0;\n      if (!this.p.length) buf = chunk;else if (!chunk.length) buf = this.p;else {\n        buf = new u8(this.p.length + chunk.length);\n        buf.set(this.p), buf.set(chunk, this.p.length);\n      }\n      var l = buf.length,\n          oc = this.c,\n          add = oc && this.d;\n\n      var _loop_2 = function _loop_2() {\n        var _a;\n\n        var sig = b4(buf, i);\n\n        if (sig == 0x4034B50) {\n          f = 1, is = i;\n          this_1.d = null;\n          this_1.c = 0;\n          var bf = b2(buf, i + 6),\n              cmp_1 = b2(buf, i + 8),\n              u = bf & 2048,\n              dd = bf & 8,\n              fnl = b2(buf, i + 26),\n              es = b2(buf, i + 28);\n\n          if (l > i + 30 + fnl + es) {\n            var chks_2 = [];\n            this_1.k.unshift(chks_2);\n            f = 2;\n            var sc_1 = b4(buf, i + 18),\n                su_1 = b4(buf, i + 22);\n            var fn_1 = strFromU8(buf.subarray(i + 30, i += 30 + fnl), !u);\n\n            if (sc_1 == 4294967295) {\n              _a = dd ? [-2] : z64e(buf, i), sc_1 = _a[0], su_1 = _a[1];\n            } else if (dd) sc_1 = -1;\n\n            i += es;\n            this_1.c = sc_1;\n            var d_1;\n            var file_1 = {\n              name: fn_1,\n              compression: cmp_1,\n              start: function start() {\n                if (!file_1.ondata) throw 'no callback';\n                if (!sc_1) file_1.ondata(null, et, true);else {\n                  var ctr = _this_1.o[cmp_1];\n                  if (!ctr) throw 'unknown compression type ' + cmp_1;\n                  d_1 = sc_1 < 0 ? new ctr(fn_1) : new ctr(fn_1, sc_1, su_1);\n\n                  d_1.ondata = function (err, dat, final) {\n                    file_1.ondata(err, dat, final);\n                  };\n\n                  for (var _i = 0, chks_3 = chks_2; _i < chks_3.length; _i++) {\n                    var dat = chks_3[_i];\n                    d_1.push(dat, false);\n                  }\n\n                  if (_this_1.k[0] == chks_2 && _this_1.c) _this_1.d = d_1;else d_1.push(et, true);\n                }\n              },\n              terminate: function terminate() {\n                if (d_1 && d_1.terminate) d_1.terminate();\n              }\n            };\n            if (sc_1 >= 0) file_1.size = sc_1, file_1.originalSize = su_1;\n            this_1.onfile(file_1);\n          }\n\n          return \"break\";\n        } else if (oc) {\n          if (sig == 0x8074B50) {\n            is = i += 12 + (oc == -2 && 8), f = 3, this_1.c = 0;\n            return \"break\";\n          } else if (sig == 0x2014B50) {\n            is = i -= 4, f = 3, this_1.c = 0;\n            return \"break\";\n          }\n        }\n      };\n\n      var this_1 = this;\n\n      for (; i < l - 4; ++i) {\n        var state_1 = _loop_2();\n\n        if (state_1 === \"break\") break;\n      }\n\n      this.p = et;\n\n      if (oc < 0) {\n        var dat = f ? buf.subarray(0, is - 12 - (oc == -2 && 8) - (b4(buf, is - 16) == 0x8074B50 && 4)) : buf.subarray(0, i);\n        if (add) add.push(dat, !!f);else this.k[+(f == 2)].push(dat);\n      }\n\n      if (f & 2) return this.push(buf.subarray(i), final);\n      this.p = buf.subarray(i);\n    }\n\n    if (final) {\n      if (this.c) throw 'invalid zip file';\n      this.p = null;\n    }\n  };\n  /**\n   * Registers a decoder with the stream, allowing for files compressed with\n   * the compression type provided to be expanded correctly\n   * @param decoder The decoder constructor\n   */\n\n\n  Unzip.prototype.register = function (decoder) {\n    this.o[decoder.compression] = decoder;\n  };\n\n  return Unzip;\n}();\n\nexport { Unzip };\n/**\n * Asynchronously decompresses a ZIP archive\n * @param data The raw compressed ZIP file\n * @param cb The callback to call with the decompressed files\n * @returns A function that can be used to immediately terminate the unzipping\n */\n\nexport function unzip(data, cb) {\n  if (typeof cb != 'function') throw 'no callback';\n  var term = [];\n\n  var tAll = function tAll() {\n    for (var i = 0; i < term.length; ++i) {\n      term[i]();\n    }\n  };\n\n  var files = {};\n  var e = data.length - 22;\n\n  for (; b4(data, e) != 0x6054B50; --e) {\n    if (!e || data.length - e > 65558) {\n      cb('invalid zip file', null);\n      return;\n    }\n  }\n\n  ;\n  var lft = b2(data, e + 8);\n  if (!lft) cb(null, {});\n  var c = lft;\n  var o = b4(data, e + 16);\n  var z = o == 4294967295;\n\n  if (z) {\n    e = b4(data, e - 12);\n\n    if (b4(data, e) != 0x6064B50) {\n      cb('invalid zip file', null);\n      return;\n    }\n\n    c = lft = b4(data, e + 32);\n    o = b4(data, e + 48);\n  }\n\n  var _loop_3 = function _loop_3(i) {\n    var _a = zh(data, o, z),\n        c_1 = _a[0],\n        sc = _a[1],\n        su = _a[2],\n        fn = _a[3],\n        no = _a[4],\n        off = _a[5],\n        b = slzh(data, off);\n\n    o = no;\n\n    var cbl = function cbl(e, d) {\n      if (e) {\n        tAll();\n        cb(e, null);\n      } else {\n        files[fn] = d;\n        if (! --lft) cb(null, files);\n      }\n    };\n\n    if (!c_1) cbl(null, slc(data, b, b + sc));else if (c_1 == 8) {\n      var infl = data.subarray(b, b + sc);\n\n      if (sc < 320000) {\n        try {\n          cbl(null, inflateSync(infl, new u8(su)));\n        } catch (e) {\n          cbl(e, null);\n        }\n      } else term.push(inflate(infl, {\n        size: su\n      }, cbl));\n    } else cbl('unknown compression type ' + c_1, null);\n  };\n\n  for (var i = 0; i < c; ++i) {\n    _loop_3(i);\n  }\n\n  return tAll;\n}\n/**\n * Synchronously decompresses a ZIP archive. Prefer using `unzip` for better\n * performance with more than one file.\n * @param data The raw compressed ZIP file\n * @returns The decompressed files\n */\n\nexport function unzipSync(data) {\n  var files = {};\n  var e = data.length - 22;\n\n  for (; b4(data, e) != 0x6054B50; --e) {\n    if (!e || data.length - e > 65558) throw 'invalid zip file';\n  }\n\n  ;\n  var c = b2(data, e + 8);\n  if (!c) return {};\n  var o = b4(data, e + 16);\n  var z = o == 4294967295;\n\n  if (z) {\n    e = b4(data, e - 12);\n    if (b4(data, e) != 0x6064B50) throw 'invalid zip file';\n    c = b4(data, e + 32);\n    o = b4(data, e + 48);\n  }\n\n  for (var i = 0; i < c; ++i) {\n    var _a = zh(data, o, z),\n        c_2 = _a[0],\n        sc = _a[1],\n        su = _a[2],\n        fn = _a[3],\n        no = _a[4],\n        off = _a[5],\n        b = slzh(data, off);\n\n    o = no;\n    if (!c_2) files[fn] = slc(data, b, b + sc);else if (c_2 == 8) files[fn] = inflateSync(data.subarray(b, b + sc), new u8(su));else throw 'unknown compression type ' + c_2;\n  }\n\n  return files;\n}","import _classCallCheck from \"D:/Projects/Tennis/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:/Projects/Tennis/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport { Vector3, Vector4 } from 'three';\n/**\n * NURBS utils\n *\n * See NURBSCurve and NURBSSurface.\n **/\n\n/**************************************************************\n *\tNURBS Utils\n **************************************************************/\n\nvar NURBSUtils = /*#__PURE__*/function () {\n  function NURBSUtils() {\n    _classCallCheck(this, NURBSUtils);\n  }\n\n  _createClass(NURBSUtils, null, [{\n    key: \"findSpan\",\n    value:\n    /*\n    Finds knot vector span.\n    \tp : degree\n    u : parametric value\n    U : knot vector\n    \treturns the span\n    */\n    function findSpan(p, u, U) {\n      var n = U.length - p - 1;\n\n      if (u >= U[n]) {\n        return n - 1;\n      }\n\n      if (u <= U[p]) {\n        return p;\n      }\n\n      var low = p;\n      var high = n;\n      var mid = Math.floor((low + high) / 2);\n\n      while (u < U[mid] || u >= U[mid + 1]) {\n        if (u < U[mid]) {\n          high = mid;\n        } else {\n          low = mid;\n        }\n\n        mid = Math.floor((low + high) / 2);\n      }\n\n      return mid;\n    }\n    /*\n    Calculate basis functions. See The NURBS Book, page 70, algorithm A2.2\n    \tspan : span in which u lies\n    u    : parametric point\n    p    : degree\n    U    : knot vector\n    \treturns array[p+1] with basis functions values.\n    */\n\n  }, {\n    key: \"calcBasisFunctions\",\n    value: function calcBasisFunctions(span, u, p, U) {\n      var N = [];\n      var left = [];\n      var right = [];\n      N[0] = 1.0;\n\n      for (var j = 1; j <= p; ++j) {\n        left[j] = u - U[span + 1 - j];\n        right[j] = U[span + j] - u;\n        var saved = 0.0;\n\n        for (var r = 0; r < j; ++r) {\n          var rv = right[r + 1];\n          var lv = left[j - r];\n          var temp = N[r] / (rv + lv);\n          N[r] = saved + rv * temp;\n          saved = lv * temp;\n        }\n\n        N[j] = saved;\n      }\n\n      return N;\n    }\n    /*\n    Calculate B-Spline curve points. See The NURBS Book, page 82, algorithm A3.1.\n    \tp : degree of B-Spline\n    U : knot vector\n    P : control points (x, y, z, w)\n    u : parametric point\n    \treturns point for given u\n    */\n\n  }, {\n    key: \"calcBSplinePoint\",\n    value: function calcBSplinePoint(p, U, P, u) {\n      var span = this.findSpan(p, u, U);\n      var N = this.calcBasisFunctions(span, u, p, U);\n      var C = new Vector4(0, 0, 0, 0);\n\n      for (var j = 0; j <= p; ++j) {\n        var point = P[span - p + j];\n        var Nj = N[j];\n        var wNj = point.w * Nj;\n        C.x += point.x * wNj;\n        C.y += point.y * wNj;\n        C.z += point.z * wNj;\n        C.w += point.w * Nj;\n      }\n\n      return C;\n    }\n    /*\n    Calculate basis functions derivatives. See The NURBS Book, page 72, algorithm A2.3.\n    \tspan : span in which u lies\n    u    : parametric point\n    p    : degree\n    n    : number of derivatives to calculate\n    U    : knot vector\n    \treturns array[n+1][p+1] with basis functions derivatives\n    */\n\n  }, {\n    key: \"calcBasisFunctionDerivatives\",\n    value: function calcBasisFunctionDerivatives(span, u, p, n, U) {\n      var zeroArr = [];\n\n      for (var i = 0; i <= p; ++i) {\n        zeroArr[i] = 0.0;\n      }\n\n      var ders = [];\n\n      for (var _i = 0; _i <= n; ++_i) {\n        ders[_i] = zeroArr.slice(0);\n      }\n\n      var ndu = [];\n\n      for (var _i2 = 0; _i2 <= p; ++_i2) {\n        ndu[_i2] = zeroArr.slice(0);\n      }\n\n      ndu[0][0] = 1.0;\n      var left = zeroArr.slice(0);\n      var right = zeroArr.slice(0);\n\n      for (var j = 1; j <= p; ++j) {\n        left[j] = u - U[span + 1 - j];\n        right[j] = U[span + j] - u;\n        var saved = 0.0;\n\n        for (var _r = 0; _r < j; ++_r) {\n          var rv = right[_r + 1];\n          var lv = left[j - _r];\n          ndu[j][_r] = rv + lv;\n          var temp = ndu[_r][j - 1] / ndu[j][_r];\n          ndu[_r][j] = saved + rv * temp;\n          saved = lv * temp;\n        }\n\n        ndu[j][j] = saved;\n      }\n\n      for (var _j = 0; _j <= p; ++_j) {\n        ders[0][_j] = ndu[_j][p];\n      }\n\n      for (var _r2 = 0; _r2 <= p; ++_r2) {\n        var s1 = 0;\n        var s2 = 1;\n        var a = [];\n\n        for (var _i3 = 0; _i3 <= p; ++_i3) {\n          a[_i3] = zeroArr.slice(0);\n        }\n\n        a[0][0] = 1.0;\n\n        for (var k = 1; k <= n; ++k) {\n          var d = 0.0;\n          var rk = _r2 - k;\n          var pk = p - k;\n\n          if (_r2 >= k) {\n            a[s2][0] = a[s1][0] / ndu[pk + 1][rk];\n            d = a[s2][0] * ndu[rk][pk];\n          }\n\n          var j1 = rk >= -1 ? 1 : -rk;\n          var j2 = _r2 - 1 <= pk ? k - 1 : p - _r2;\n\n          for (var _j3 = j1; _j3 <= j2; ++_j3) {\n            a[s2][_j3] = (a[s1][_j3] - a[s1][_j3 - 1]) / ndu[pk + 1][rk + _j3];\n            d += a[s2][_j3] * ndu[rk + _j3][pk];\n          }\n\n          if (_r2 <= pk) {\n            a[s2][k] = -a[s1][k - 1] / ndu[pk + 1][_r2];\n            d += a[s2][k] * ndu[_r2][pk];\n          }\n\n          ders[k][_r2] = d;\n          var _j2 = s1;\n          s1 = s2;\n          s2 = _j2;\n        }\n      }\n\n      var r = p;\n\n      for (var _k = 1; _k <= n; ++_k) {\n        for (var _j4 = 0; _j4 <= p; ++_j4) {\n          ders[_k][_j4] *= r;\n        }\n\n        r *= p - _k;\n      }\n\n      return ders;\n    }\n    /*\n    \tCalculate derivatives of a B-Spline. See The NURBS Book, page 93, algorithm A3.2.\n    \t\tp  : degree\n    \tU  : knot vector\n    \tP  : control points\n    \tu  : Parametric points\n    \tnd : number of derivatives\n    \t\treturns array[d+1] with derivatives\n    \t*/\n\n  }, {\n    key: \"calcBSplineDerivatives\",\n    value: function calcBSplineDerivatives(p, U, P, u, nd) {\n      var du = nd < p ? nd : p;\n      var CK = [];\n      var span = this.findSpan(p, u, U);\n      var nders = this.calcBasisFunctionDerivatives(span, u, p, du, U);\n      var Pw = [];\n\n      for (var i = 0; i < P.length; ++i) {\n        var point = P[i].clone();\n        var w = point.w;\n        point.x *= w;\n        point.y *= w;\n        point.z *= w;\n        Pw[i] = point;\n      }\n\n      for (var k = 0; k <= du; ++k) {\n        var _point = Pw[span - p].clone().multiplyScalar(nders[k][0]);\n\n        for (var j = 1; j <= p; ++j) {\n          _point.add(Pw[span - p + j].clone().multiplyScalar(nders[k][j]));\n        }\n\n        CK[k] = _point;\n      }\n\n      for (var _k2 = du + 1; _k2 <= nd + 1; ++_k2) {\n        CK[_k2] = new Vector4(0, 0, 0);\n      }\n\n      return CK;\n    }\n    /*\n    Calculate \"K over I\"\n    \treturns k!/(i!(k-i)!)\n    */\n\n  }, {\n    key: \"calcKoverI\",\n    value: function calcKoverI(k, i) {\n      var nom = 1;\n\n      for (var j = 2; j <= k; ++j) {\n        nom *= j;\n      }\n\n      var denom = 1;\n\n      for (var _j5 = 2; _j5 <= i; ++_j5) {\n        denom *= _j5;\n      }\n\n      for (var _j6 = 2; _j6 <= k - i; ++_j6) {\n        denom *= _j6;\n      }\n\n      return nom / denom;\n    }\n    /*\n    Calculate derivatives (0-nd) of rational curve. See The NURBS Book, page 127, algorithm A4.2.\n    \tPders : result of function calcBSplineDerivatives\n    \treturns array with derivatives for rational curve.\n    */\n\n  }, {\n    key: \"calcRationalCurveDerivatives\",\n    value: function calcRationalCurveDerivatives(Pders) {\n      var nd = Pders.length;\n      var Aders = [];\n      var wders = [];\n\n      for (var i = 0; i < nd; ++i) {\n        var point = Pders[i];\n        Aders[i] = new Vector3(point.x, point.y, point.z);\n        wders[i] = point.w;\n      }\n\n      var CK = [];\n\n      for (var k = 0; k < nd; ++k) {\n        var v = Aders[k].clone();\n\n        for (var _i4 = 1; _i4 <= k; ++_i4) {\n          v.sub(CK[k - _i4].clone().multiplyScalar(this.calcKoverI(k, _i4) * wders[_i4]));\n        }\n\n        CK[k] = v.divideScalar(wders[0]);\n      }\n\n      return CK;\n    }\n    /*\n    Calculate NURBS curve derivatives. See The NURBS Book, page 127, algorithm A4.2.\n    \tp  : degree\n    U  : knot vector\n    P  : control points in homogeneous space\n    u  : parametric points\n    nd : number of derivatives\n    \treturns array with derivatives.\n    */\n\n  }, {\n    key: \"calcNURBSDerivatives\",\n    value: function calcNURBSDerivatives(p, U, P, u, nd) {\n      var Pders = this.calcBSplineDerivatives(p, U, P, u, nd);\n      return this.calcRationalCurveDerivatives(Pders);\n    }\n    /*\n    Calculate rational B-Spline surface point. See The NURBS Book, page 134, algorithm A4.3.\n    \tp1, p2 : degrees of B-Spline surface\n    U1, U2 : knot vectors\n    P      : control points (x, y, z, w)\n    u, v   : parametric values\n    \treturns point for given (u, v)\n    */\n\n  }, {\n    key: \"calcSurfacePoint\",\n    value: function calcSurfacePoint(p, q, U, V, P, u, v, target) {\n      var uspan = this.findSpan(p, u, U);\n      var vspan = this.findSpan(q, v, V);\n      var Nu = this.calcBasisFunctions(uspan, u, p, U);\n      var Nv = this.calcBasisFunctions(vspan, v, q, V);\n      var temp = [];\n\n      for (var l = 0; l <= q; ++l) {\n        temp[l] = new Vector4(0, 0, 0, 0);\n\n        for (var k = 0; k <= p; ++k) {\n          var point = P[uspan - p + k][vspan - q + l].clone();\n          var w = point.w;\n          point.x *= w;\n          point.y *= w;\n          point.z *= w;\n          temp[l].add(point.multiplyScalar(Nu[k]));\n        }\n      }\n\n      var Sw = new Vector4(0, 0, 0, 0);\n\n      for (var _l = 0; _l <= q; ++_l) {\n        Sw.add(temp[_l].multiplyScalar(Nv[_l]));\n      }\n\n      Sw.divideScalar(Sw.w);\n      target.set(Sw.x, Sw.y, Sw.z);\n    }\n  }]);\n\n  return NURBSUtils;\n}();\n\nexport { NURBSUtils };","import _classCallCheck from \"D:/Projects/Tennis/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:/Projects/Tennis/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"D:/Projects/Tennis/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"D:/Projects/Tennis/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:/Projects/Tennis/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport { Curve, Vector3, Vector4 } from 'three';\nimport { NURBSUtils } from '../curves/NURBSUtils.js';\n/**\n * NURBS curve object\n *\n * Derives from Curve, overriding getPoint and getTangent.\n *\n * Implementation is based on (x, y [, z=0 [, w=1]]) control points with w=weight.\n *\n **/\n\nvar NURBSCurve = /*#__PURE__*/function (_Curve) {\n  _inherits(NURBSCurve, _Curve);\n\n  var _super = _createSuper(NURBSCurve);\n\n  function NURBSCurve(degree, knots\n  /* array of reals */\n  , controlPoints\n  /* array of Vector(2|3|4) */\n  , startKnot\n  /* index in knots */\n  , endKnot\n  /* index in knots */\n  ) {\n    var _this;\n\n    _classCallCheck(this, NURBSCurve);\n\n    _this = _super.call(this);\n    _this.degree = degree;\n    _this.knots = knots;\n    _this.controlPoints = []; // Used by periodic NURBS to remove hidden spans\n\n    _this.startKnot = startKnot || 0;\n    _this.endKnot = endKnot || _this.knots.length - 1;\n\n    for (var i = 0; i < controlPoints.length; ++i) {\n      // ensure Vector4 for control points\n      var point = controlPoints[i];\n      _this.controlPoints[i] = new Vector4(point.x, point.y, point.z, point.w);\n    }\n\n    return _this;\n  }\n\n  _createClass(NURBSCurve, [{\n    key: \"getPoint\",\n    value: function getPoint(t) {\n      var optionalTarget = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : new Vector3();\n      var point = optionalTarget;\n      var u = this.knots[this.startKnot] + t * (this.knots[this.endKnot] - this.knots[this.startKnot]); // linear mapping t->u\n      // following results in (wx, wy, wz, w) homogeneous point\n\n      var hpoint = NURBSUtils.calcBSplinePoint(this.degree, this.knots, this.controlPoints, u);\n\n      if (hpoint.w !== 1.0) {\n        // project to 3D space: (wx, wy, wz, w) -> (x, y, z, 1)\n        hpoint.divideScalar(hpoint.w);\n      }\n\n      return point.set(hpoint.x, hpoint.y, hpoint.z);\n    }\n  }, {\n    key: \"getTangent\",\n    value: function getTangent(t) {\n      var optionalTarget = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : new Vector3();\n      var tangent = optionalTarget;\n      var u = this.knots[0] + t * (this.knots[this.knots.length - 1] - this.knots[0]);\n      var ders = NURBSUtils.calcNURBSDerivatives(this.degree, this.knots, this.controlPoints, u, 1);\n      tangent.copy(ders[1]).normalize();\n      return tangent;\n    }\n  }]);\n\n  return NURBSCurve;\n}(Curve);\n\nexport { NURBSCurve };","import _classCallCheck from \"D:/Projects/Tennis/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:/Projects/Tennis/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"D:/Projects/Tennis/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"D:/Projects/Tennis/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:/Projects/Tennis/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport { AmbientLight, AnimationClip, Bone, BufferGeometry, ClampToEdgeWrapping, Color, DirectionalLight, EquirectangularReflectionMapping, Euler, FileLoader, Float32BufferAttribute, Group, Line, LineBasicMaterial, Loader, LoaderUtils, MathUtils, Matrix3, Matrix4, Mesh, MeshLambertMaterial, MeshPhongMaterial, NumberKeyframeTrack, Object3D, OrthographicCamera, PerspectiveCamera, PointLight, PropertyBinding, Quaternion, QuaternionKeyframeTrack, RepeatWrapping, Skeleton, SkinnedMesh, SpotLight, Texture, TextureLoader, Uint16BufferAttribute, Vector3, Vector4, VectorKeyframeTrack, sRGBEncoding } from 'three';\nimport * as fflate from '../libs/fflate.module.js';\nimport { NURBSCurve } from '../curves/NURBSCurve.js';\n/**\n * Loader loads FBX file and generates Group representing FBX scene.\n * Requires FBX file to be >= 7.0 and in ASCII or >= 6400 in Binary format\n * Versions lower than this may load but will probably have errors\n *\n * Needs Support:\n *  Morph normals / blend shape normals\n *\n * FBX format references:\n * \thttps://wiki.blender.org/index.php/User:Mont29/Foundation/FBX_File_Structure\n * \thttp://help.autodesk.com/view/FBX/2017/ENU/?guid=__cpp_ref_index_html (C++ SDK reference)\n *\n * \tBinary format specification:\n *\t\thttps://code.blender.org/2013/08/fbx-binary-file-format-specification/\n */\n\nvar fbxTree;\nvar connections;\nvar sceneGraph;\n\nvar FBXLoader = /*#__PURE__*/function (_Loader) {\n  _inherits(FBXLoader, _Loader);\n\n  var _super = _createSuper(FBXLoader);\n\n  function FBXLoader(manager) {\n    _classCallCheck(this, FBXLoader);\n\n    return _super.call(this, manager);\n  }\n\n  _createClass(FBXLoader, [{\n    key: \"load\",\n    value: function load(url, onLoad, onProgress, onError) {\n      var scope = this;\n      var path = scope.path === '' ? LoaderUtils.extractUrlBase(url) : scope.path;\n      var loader = new FileLoader(this.manager);\n      loader.setPath(scope.path);\n      loader.setResponseType('arraybuffer');\n      loader.setRequestHeader(scope.requestHeader);\n      loader.setWithCredentials(scope.withCredentials);\n      loader.load(url, function (buffer) {\n        try {\n          onLoad(scope.parse(buffer, path));\n        } catch (e) {\n          if (onError) {\n            onError(e);\n          } else {\n            console.error(e);\n          }\n\n          scope.manager.itemError(url);\n        }\n      }, onProgress, onError);\n    }\n  }, {\n    key: \"parse\",\n    value: function parse(FBXBuffer, path) {\n      if (isFbxFormatBinary(FBXBuffer)) {\n        fbxTree = new BinaryParser().parse(FBXBuffer);\n      } else {\n        var FBXText = convertArrayBufferToString(FBXBuffer);\n\n        if (!isFbxFormatASCII(FBXText)) {\n          throw new Error('THREE.FBXLoader: Unknown format.');\n        }\n\n        if (getFbxVersion(FBXText) < 7000) {\n          throw new Error('THREE.FBXLoader: FBX version not supported, FileVersion: ' + getFbxVersion(FBXText));\n        }\n\n        fbxTree = new TextParser().parse(FBXText);\n      } // console.log( fbxTree );\n\n\n      var textureLoader = new TextureLoader(this.manager).setPath(this.resourcePath || path).setCrossOrigin(this.crossOrigin);\n      return new FBXTreeParser(textureLoader, this.manager).parse(fbxTree);\n    }\n  }]);\n\n  return FBXLoader;\n}(Loader); // Parse the FBXTree object returned by the BinaryParser or TextParser and return a Group\n\n\nvar FBXTreeParser = /*#__PURE__*/function () {\n  function FBXTreeParser(textureLoader, manager) {\n    _classCallCheck(this, FBXTreeParser);\n\n    this.textureLoader = textureLoader;\n    this.manager = manager;\n  }\n\n  _createClass(FBXTreeParser, [{\n    key: \"parse\",\n    value: function parse() {\n      connections = this.parseConnections();\n      var images = this.parseImages();\n      var textures = this.parseTextures(images);\n      var materials = this.parseMaterials(textures);\n      var deformers = this.parseDeformers();\n      var geometryMap = new GeometryParser().parse(deformers);\n      this.parseScene(deformers, geometryMap, materials);\n      return sceneGraph;\n    } // Parses FBXTree.Connections which holds parent-child connections between objects (e.g. material -> texture, model->geometry )\n    // and details the connection type\n\n  }, {\n    key: \"parseConnections\",\n    value: function parseConnections() {\n      var connectionMap = new Map();\n\n      if ('Connections' in fbxTree) {\n        var rawConnections = fbxTree.Connections.connections;\n        rawConnections.forEach(function (rawConnection) {\n          var fromID = rawConnection[0];\n          var toID = rawConnection[1];\n          var relationship = rawConnection[2];\n\n          if (!connectionMap.has(fromID)) {\n            connectionMap.set(fromID, {\n              parents: [],\n              children: []\n            });\n          }\n\n          var parentRelationship = {\n            ID: toID,\n            relationship: relationship\n          };\n          connectionMap.get(fromID).parents.push(parentRelationship);\n\n          if (!connectionMap.has(toID)) {\n            connectionMap.set(toID, {\n              parents: [],\n              children: []\n            });\n          }\n\n          var childRelationship = {\n            ID: fromID,\n            relationship: relationship\n          };\n          connectionMap.get(toID).children.push(childRelationship);\n        });\n      }\n\n      return connectionMap;\n    } // Parse FBXTree.Objects.Video for embedded image data\n    // These images are connected to textures in FBXTree.Objects.Textures\n    // via FBXTree.Connections.\n\n  }, {\n    key: \"parseImages\",\n    value: function parseImages() {\n      var images = {};\n      var blobs = {};\n\n      if ('Video' in fbxTree.Objects) {\n        var videoNodes = fbxTree.Objects.Video;\n\n        for (var nodeID in videoNodes) {\n          var videoNode = videoNodes[nodeID];\n          var id = parseInt(nodeID);\n          images[id] = videoNode.RelativeFilename || videoNode.Filename; // raw image data is in videoNode.Content\n\n          if ('Content' in videoNode) {\n            var arrayBufferContent = videoNode.Content instanceof ArrayBuffer && videoNode.Content.byteLength > 0;\n            var base64Content = typeof videoNode.Content === 'string' && videoNode.Content !== '';\n\n            if (arrayBufferContent || base64Content) {\n              var image = this.parseImage(videoNodes[nodeID]);\n              blobs[videoNode.RelativeFilename || videoNode.Filename] = image;\n            }\n          }\n        }\n      }\n\n      for (var _id in images) {\n        var filename = images[_id];\n        if (blobs[filename] !== undefined) images[_id] = blobs[filename];else images[_id] = images[_id].split('\\\\').pop();\n      }\n\n      return images;\n    } // Parse embedded image data in FBXTree.Video.Content\n\n  }, {\n    key: \"parseImage\",\n    value: function parseImage(videoNode) {\n      var content = videoNode.Content;\n      var fileName = videoNode.RelativeFilename || videoNode.Filename;\n      var extension = fileName.slice(fileName.lastIndexOf('.') + 1).toLowerCase();\n      var type;\n\n      switch (extension) {\n        case 'bmp':\n          type = 'image/bmp';\n          break;\n\n        case 'jpg':\n        case 'jpeg':\n          type = 'image/jpeg';\n          break;\n\n        case 'png':\n          type = 'image/png';\n          break;\n\n        case 'tif':\n          type = 'image/tiff';\n          break;\n\n        case 'tga':\n          if (this.manager.getHandler('.tga') === null) {\n            console.warn('FBXLoader: TGA loader not found, skipping ', fileName);\n          }\n\n          type = 'image/tga';\n          break;\n\n        default:\n          console.warn('FBXLoader: Image type \"' + extension + '\" is not supported.');\n          return;\n      }\n\n      if (typeof content === 'string') {\n        // ASCII format\n        return 'data:' + type + ';base64,' + content;\n      } else {\n        // Binary Format\n        var array = new Uint8Array(content);\n        return window.URL.createObjectURL(new Blob([array], {\n          type: type\n        }));\n      }\n    } // Parse nodes in FBXTree.Objects.Texture\n    // These contain details such as UV scaling, cropping, rotation etc and are connected\n    // to images in FBXTree.Objects.Video\n\n  }, {\n    key: \"parseTextures\",\n    value: function parseTextures(images) {\n      var textureMap = new Map();\n\n      if ('Texture' in fbxTree.Objects) {\n        var textureNodes = fbxTree.Objects.Texture;\n\n        for (var nodeID in textureNodes) {\n          var texture = this.parseTexture(textureNodes[nodeID], images);\n          textureMap.set(parseInt(nodeID), texture);\n        }\n      }\n\n      return textureMap;\n    } // Parse individual node in FBXTree.Objects.Texture\n\n  }, {\n    key: \"parseTexture\",\n    value: function parseTexture(textureNode, images) {\n      var texture = this.loadTexture(textureNode, images);\n      texture.ID = textureNode.id;\n      texture.name = textureNode.attrName;\n      var wrapModeU = textureNode.WrapModeU;\n      var wrapModeV = textureNode.WrapModeV;\n      var valueU = wrapModeU !== undefined ? wrapModeU.value : 0;\n      var valueV = wrapModeV !== undefined ? wrapModeV.value : 0; // http://download.autodesk.com/us/fbx/SDKdocs/FBX_SDK_Help/files/fbxsdkref/class_k_fbx_texture.html#889640e63e2e681259ea81061b85143a\n      // 0: repeat(default), 1: clamp\n\n      texture.wrapS = valueU === 0 ? RepeatWrapping : ClampToEdgeWrapping;\n      texture.wrapT = valueV === 0 ? RepeatWrapping : ClampToEdgeWrapping;\n\n      if ('Scaling' in textureNode) {\n        var values = textureNode.Scaling.value;\n        texture.repeat.x = values[0];\n        texture.repeat.y = values[1];\n      }\n\n      return texture;\n    } // load a texture specified as a blob or data URI, or via an external URL using TextureLoader\n\n  }, {\n    key: \"loadTexture\",\n    value: function loadTexture(textureNode, images) {\n      var fileName;\n      var currentPath = this.textureLoader.path;\n      var children = connections.get(textureNode.id).children;\n\n      if (children !== undefined && children.length > 0 && images[children[0].ID] !== undefined) {\n        fileName = images[children[0].ID];\n\n        if (fileName.indexOf('blob:') === 0 || fileName.indexOf('data:') === 0) {\n          this.textureLoader.setPath(undefined);\n        }\n      }\n\n      var texture;\n      var extension = textureNode.FileName.slice(-3).toLowerCase();\n\n      if (extension === 'tga') {\n        var loader = this.manager.getHandler('.tga');\n\n        if (loader === null) {\n          console.warn('FBXLoader: TGA loader not found, creating placeholder texture for', textureNode.RelativeFilename);\n          texture = new Texture();\n        } else {\n          loader.setPath(this.textureLoader.path);\n          texture = loader.load(fileName);\n        }\n      } else if (extension === 'psd') {\n        console.warn('FBXLoader: PSD textures are not supported, creating placeholder texture for', textureNode.RelativeFilename);\n        texture = new Texture();\n      } else {\n        texture = this.textureLoader.load(fileName);\n      }\n\n      this.textureLoader.setPath(currentPath);\n      return texture;\n    } // Parse nodes in FBXTree.Objects.Material\n\n  }, {\n    key: \"parseMaterials\",\n    value: function parseMaterials(textureMap) {\n      var materialMap = new Map();\n\n      if ('Material' in fbxTree.Objects) {\n        var materialNodes = fbxTree.Objects.Material;\n\n        for (var nodeID in materialNodes) {\n          var material = this.parseMaterial(materialNodes[nodeID], textureMap);\n          if (material !== null) materialMap.set(parseInt(nodeID), material);\n        }\n      }\n\n      return materialMap;\n    } // Parse single node in FBXTree.Objects.Material\n    // Materials are connected to texture maps in FBXTree.Objects.Textures\n    // FBX format currently only supports Lambert and Phong shading models\n\n  }, {\n    key: \"parseMaterial\",\n    value: function parseMaterial(materialNode, textureMap) {\n      var ID = materialNode.id;\n      var name = materialNode.attrName;\n      var type = materialNode.ShadingModel; // Case where FBX wraps shading model in property object.\n\n      if (typeof type === 'object') {\n        type = type.value;\n      } // Ignore unused materials which don't have any connections.\n\n\n      if (!connections.has(ID)) return null;\n      var parameters = this.parseParameters(materialNode, textureMap, ID);\n      var material;\n\n      switch (type.toLowerCase()) {\n        case 'phong':\n          material = new MeshPhongMaterial();\n          break;\n\n        case 'lambert':\n          material = new MeshLambertMaterial();\n          break;\n\n        default:\n          console.warn('THREE.FBXLoader: unknown material type \"%s\". Defaulting to MeshPhongMaterial.', type);\n          material = new MeshPhongMaterial();\n          break;\n      }\n\n      material.setValues(parameters);\n      material.name = name;\n      return material;\n    } // Parse FBX material and return parameters suitable for a three.js material\n    // Also parse the texture map and return any textures associated with the material\n\n  }, {\n    key: \"parseParameters\",\n    value: function parseParameters(materialNode, textureMap, ID) {\n      var parameters = {};\n\n      if (materialNode.BumpFactor) {\n        parameters.bumpScale = materialNode.BumpFactor.value;\n      }\n\n      if (materialNode.Diffuse) {\n        parameters.color = new Color().fromArray(materialNode.Diffuse.value);\n      } else if (materialNode.DiffuseColor && (materialNode.DiffuseColor.type === 'Color' || materialNode.DiffuseColor.type === 'ColorRGB')) {\n        // The blender exporter exports diffuse here instead of in materialNode.Diffuse\n        parameters.color = new Color().fromArray(materialNode.DiffuseColor.value);\n      }\n\n      if (materialNode.DisplacementFactor) {\n        parameters.displacementScale = materialNode.DisplacementFactor.value;\n      }\n\n      if (materialNode.Emissive) {\n        parameters.emissive = new Color().fromArray(materialNode.Emissive.value);\n      } else if (materialNode.EmissiveColor && (materialNode.EmissiveColor.type === 'Color' || materialNode.EmissiveColor.type === 'ColorRGB')) {\n        // The blender exporter exports emissive color here instead of in materialNode.Emissive\n        parameters.emissive = new Color().fromArray(materialNode.EmissiveColor.value);\n      }\n\n      if (materialNode.EmissiveFactor) {\n        parameters.emissiveIntensity = parseFloat(materialNode.EmissiveFactor.value);\n      }\n\n      if (materialNode.Opacity) {\n        parameters.opacity = parseFloat(materialNode.Opacity.value);\n      }\n\n      if (parameters.opacity < 1.0) {\n        parameters.transparent = true;\n      }\n\n      if (materialNode.ReflectionFactor) {\n        parameters.reflectivity = materialNode.ReflectionFactor.value;\n      }\n\n      if (materialNode.Shininess) {\n        parameters.shininess = materialNode.Shininess.value;\n      }\n\n      if (materialNode.Specular) {\n        parameters.specular = new Color().fromArray(materialNode.Specular.value);\n      } else if (materialNode.SpecularColor && materialNode.SpecularColor.type === 'Color') {\n        // The blender exporter exports specular color here instead of in materialNode.Specular\n        parameters.specular = new Color().fromArray(materialNode.SpecularColor.value);\n      }\n\n      var scope = this;\n      connections.get(ID).children.forEach(function (child) {\n        var type = child.relationship;\n\n        switch (type) {\n          case 'Bump':\n            parameters.bumpMap = scope.getTexture(textureMap, child.ID);\n            break;\n\n          case 'Maya|TEX_ao_map':\n            parameters.aoMap = scope.getTexture(textureMap, child.ID);\n            break;\n\n          case 'DiffuseColor':\n          case 'Maya|TEX_color_map':\n            parameters.map = scope.getTexture(textureMap, child.ID);\n\n            if (parameters.map !== undefined) {\n              parameters.map.encoding = sRGBEncoding;\n            }\n\n            break;\n\n          case 'DisplacementColor':\n            parameters.displacementMap = scope.getTexture(textureMap, child.ID);\n            break;\n\n          case 'EmissiveColor':\n            parameters.emissiveMap = scope.getTexture(textureMap, child.ID);\n\n            if (parameters.emissiveMap !== undefined) {\n              parameters.emissiveMap.encoding = sRGBEncoding;\n            }\n\n            break;\n\n          case 'NormalMap':\n          case 'Maya|TEX_normal_map':\n            parameters.normalMap = scope.getTexture(textureMap, child.ID);\n            break;\n\n          case 'ReflectionColor':\n            parameters.envMap = scope.getTexture(textureMap, child.ID);\n\n            if (parameters.envMap !== undefined) {\n              parameters.envMap.mapping = EquirectangularReflectionMapping;\n              parameters.envMap.encoding = sRGBEncoding;\n            }\n\n            break;\n\n          case 'SpecularColor':\n            parameters.specularMap = scope.getTexture(textureMap, child.ID);\n\n            if (parameters.specularMap !== undefined) {\n              parameters.specularMap.encoding = sRGBEncoding;\n            }\n\n            break;\n\n          case 'TransparentColor':\n          case 'TransparencyFactor':\n            parameters.alphaMap = scope.getTexture(textureMap, child.ID);\n            parameters.transparent = true;\n            break;\n\n          case 'AmbientColor':\n          case 'ShininessExponent': // AKA glossiness map\n\n          case 'SpecularFactor': // AKA specularLevel\n\n          case 'VectorDisplacementColor': // NOTE: Seems to be a copy of DisplacementColor\n\n          default:\n            console.warn('THREE.FBXLoader: %s map is not supported in three.js, skipping texture.', type);\n            break;\n        }\n      });\n      return parameters;\n    } // get a texture from the textureMap for use by a material.\n\n  }, {\n    key: \"getTexture\",\n    value: function getTexture(textureMap, id) {\n      // if the texture is a layered texture, just use the first layer and issue a warning\n      if ('LayeredTexture' in fbxTree.Objects && id in fbxTree.Objects.LayeredTexture) {\n        console.warn('THREE.FBXLoader: layered textures are not supported in three.js. Discarding all but first layer.');\n        id = connections.get(id).children[0].ID;\n      }\n\n      var texture = textureMap.get(id);\n\n      if (texture.image !== undefined) {\n        return texture;\n      } else {\n        return undefined;\n      }\n    } // Parse nodes in FBXTree.Objects.Deformer\n    // Deformer node can contain skinning or Vertex Cache animation data, however only skinning is supported here\n    // Generates map of Skeleton-like objects for use later when generating and binding skeletons.\n\n  }, {\n    key: \"parseDeformers\",\n    value: function parseDeformers() {\n      var skeletons = {};\n      var morphTargets = {};\n\n      if ('Deformer' in fbxTree.Objects) {\n        var DeformerNodes = fbxTree.Objects.Deformer;\n\n        for (var nodeID in DeformerNodes) {\n          var deformerNode = DeformerNodes[nodeID];\n          var relationships = connections.get(parseInt(nodeID));\n\n          if (deformerNode.attrType === 'Skin') {\n            var skeleton = this.parseSkeleton(relationships, DeformerNodes);\n            skeleton.ID = nodeID;\n            if (relationships.parents.length > 1) console.warn('THREE.FBXLoader: skeleton attached to more than one geometry is not supported.');\n            skeleton.geometryID = relationships.parents[0].ID;\n            skeletons[nodeID] = skeleton;\n          } else if (deformerNode.attrType === 'BlendShape') {\n            var morphTarget = {\n              id: nodeID\n            };\n            morphTarget.rawTargets = this.parseMorphTargets(relationships, DeformerNodes);\n            morphTarget.id = nodeID;\n            if (relationships.parents.length > 1) console.warn('THREE.FBXLoader: morph target attached to more than one geometry is not supported.');\n            morphTargets[nodeID] = morphTarget;\n          }\n        }\n      }\n\n      return {\n        skeletons: skeletons,\n        morphTargets: morphTargets\n      };\n    } // Parse single nodes in FBXTree.Objects.Deformer\n    // The top level skeleton node has type 'Skin' and sub nodes have type 'Cluster'\n    // Each skin node represents a skeleton and each cluster node represents a bone\n\n  }, {\n    key: \"parseSkeleton\",\n    value: function parseSkeleton(relationships, deformerNodes) {\n      var rawBones = [];\n      relationships.children.forEach(function (child) {\n        var boneNode = deformerNodes[child.ID];\n        if (boneNode.attrType !== 'Cluster') return;\n        var rawBone = {\n          ID: child.ID,\n          indices: [],\n          weights: [],\n          transformLink: new Matrix4().fromArray(boneNode.TransformLink.a) // transform: new Matrix4().fromArray( boneNode.Transform.a ),\n          // linkMode: boneNode.Mode,\n\n        };\n\n        if ('Indexes' in boneNode) {\n          rawBone.indices = boneNode.Indexes.a;\n          rawBone.weights = boneNode.Weights.a;\n        }\n\n        rawBones.push(rawBone);\n      });\n      return {\n        rawBones: rawBones,\n        bones: []\n      };\n    } // The top level morph deformer node has type \"BlendShape\" and sub nodes have type \"BlendShapeChannel\"\n\n  }, {\n    key: \"parseMorphTargets\",\n    value: function parseMorphTargets(relationships, deformerNodes) {\n      var rawMorphTargets = [];\n\n      for (var i = 0; i < relationships.children.length; i++) {\n        var child = relationships.children[i];\n        var morphTargetNode = deformerNodes[child.ID];\n        var rawMorphTarget = {\n          name: morphTargetNode.attrName,\n          initialWeight: morphTargetNode.DeformPercent,\n          id: morphTargetNode.id,\n          fullWeights: morphTargetNode.FullWeights.a\n        };\n        if (morphTargetNode.attrType !== 'BlendShapeChannel') return;\n        rawMorphTarget.geoID = connections.get(parseInt(child.ID)).children.filter(function (child) {\n          return child.relationship === undefined;\n        })[0].ID;\n        rawMorphTargets.push(rawMorphTarget);\n      }\n\n      return rawMorphTargets;\n    } // create the main Group() to be returned by the loader\n\n  }, {\n    key: \"parseScene\",\n    value: function parseScene(deformers, geometryMap, materialMap) {\n      sceneGraph = new Group();\n      var modelMap = this.parseModels(deformers.skeletons, geometryMap, materialMap);\n      var modelNodes = fbxTree.Objects.Model;\n      var scope = this;\n      modelMap.forEach(function (model) {\n        var modelNode = modelNodes[model.ID];\n        scope.setLookAtProperties(model, modelNode);\n        var parentConnections = connections.get(model.ID).parents;\n        parentConnections.forEach(function (connection) {\n          var parent = modelMap.get(connection.ID);\n          if (parent !== undefined) parent.add(model);\n        });\n\n        if (model.parent === null) {\n          sceneGraph.add(model);\n        }\n      });\n      this.bindSkeleton(deformers.skeletons, geometryMap, modelMap);\n      this.createAmbientLight();\n      sceneGraph.traverse(function (node) {\n        if (node.userData.transformData) {\n          if (node.parent) {\n            node.userData.transformData.parentMatrix = node.parent.matrix;\n            node.userData.transformData.parentMatrixWorld = node.parent.matrixWorld;\n          }\n\n          var transform = generateTransform(node.userData.transformData);\n          node.applyMatrix4(transform);\n          node.updateWorldMatrix();\n        }\n      });\n      var animations = new AnimationParser().parse(); // if all the models where already combined in a single group, just return that\n\n      if (sceneGraph.children.length === 1 && sceneGraph.children[0].isGroup) {\n        sceneGraph.children[0].animations = animations;\n        sceneGraph = sceneGraph.children[0];\n      }\n\n      sceneGraph.animations = animations;\n    } // parse nodes in FBXTree.Objects.Model\n\n  }, {\n    key: \"parseModels\",\n    value: function parseModels(skeletons, geometryMap, materialMap) {\n      var modelMap = new Map();\n      var modelNodes = fbxTree.Objects.Model;\n\n      for (var nodeID in modelNodes) {\n        var id = parseInt(nodeID);\n        var node = modelNodes[nodeID];\n        var relationships = connections.get(id);\n        var model = this.buildSkeleton(relationships, skeletons, id, node.attrName);\n\n        if (!model) {\n          switch (node.attrType) {\n            case 'Camera':\n              model = this.createCamera(relationships);\n              break;\n\n            case 'Light':\n              model = this.createLight(relationships);\n              break;\n\n            case 'Mesh':\n              model = this.createMesh(relationships, geometryMap, materialMap);\n              break;\n\n            case 'NurbsCurve':\n              model = this.createCurve(relationships, geometryMap);\n              break;\n\n            case 'LimbNode':\n            case 'Root':\n              model = new Bone();\n              break;\n\n            case 'Null':\n            default:\n              model = new Group();\n              break;\n          }\n\n          model.name = node.attrName ? PropertyBinding.sanitizeNodeName(node.attrName) : '';\n          model.ID = id;\n        }\n\n        this.getTransformData(model, node);\n        modelMap.set(id, model);\n      }\n\n      return modelMap;\n    }\n  }, {\n    key: \"buildSkeleton\",\n    value: function buildSkeleton(relationships, skeletons, id, name) {\n      var bone = null;\n      relationships.parents.forEach(function (parent) {\n        var _loop = function _loop(ID) {\n          var skeleton = skeletons[ID];\n          skeleton.rawBones.forEach(function (rawBone, i) {\n            if (rawBone.ID === parent.ID) {\n              var subBone = bone;\n              bone = new Bone();\n              bone.matrixWorld.copy(rawBone.transformLink); // set name and id here - otherwise in cases where \"subBone\" is created it will not have a name / id\n\n              bone.name = name ? PropertyBinding.sanitizeNodeName(name) : '';\n              bone.ID = id;\n              skeleton.bones[i] = bone; // In cases where a bone is shared between multiple meshes\n              // duplicate the bone here and and it as a child of the first bone\n\n              if (subBone !== null) {\n                bone.add(subBone);\n              }\n            }\n          });\n        };\n\n        for (var ID in skeletons) {\n          _loop(ID);\n        }\n      });\n      return bone;\n    } // create a PerspectiveCamera or OrthographicCamera\n\n  }, {\n    key: \"createCamera\",\n    value: function createCamera(relationships) {\n      var model;\n      var cameraAttribute;\n      relationships.children.forEach(function (child) {\n        var attr = fbxTree.Objects.NodeAttribute[child.ID];\n\n        if (attr !== undefined) {\n          cameraAttribute = attr;\n        }\n      });\n\n      if (cameraAttribute === undefined) {\n        model = new Object3D();\n      } else {\n        var type = 0;\n\n        if (cameraAttribute.CameraProjectionType !== undefined && cameraAttribute.CameraProjectionType.value === 1) {\n          type = 1;\n        }\n\n        var nearClippingPlane = 1;\n\n        if (cameraAttribute.NearPlane !== undefined) {\n          nearClippingPlane = cameraAttribute.NearPlane.value / 1000;\n        }\n\n        var farClippingPlane = 1000;\n\n        if (cameraAttribute.FarPlane !== undefined) {\n          farClippingPlane = cameraAttribute.FarPlane.value / 1000;\n        }\n\n        var width = window.innerWidth;\n        var height = window.innerHeight;\n\n        if (cameraAttribute.AspectWidth !== undefined && cameraAttribute.AspectHeight !== undefined) {\n          width = cameraAttribute.AspectWidth.value;\n          height = cameraAttribute.AspectHeight.value;\n        }\n\n        var aspect = width / height;\n        var fov = 45;\n\n        if (cameraAttribute.FieldOfView !== undefined) {\n          fov = cameraAttribute.FieldOfView.value;\n        }\n\n        var focalLength = cameraAttribute.FocalLength ? cameraAttribute.FocalLength.value : null;\n\n        switch (type) {\n          case 0:\n            // Perspective\n            model = new PerspectiveCamera(fov, aspect, nearClippingPlane, farClippingPlane);\n            if (focalLength !== null) model.setFocalLength(focalLength);\n            break;\n\n          case 1:\n            // Orthographic\n            model = new OrthographicCamera(-width / 2, width / 2, height / 2, -height / 2, nearClippingPlane, farClippingPlane);\n            break;\n\n          default:\n            console.warn('THREE.FBXLoader: Unknown camera type ' + type + '.');\n            model = new Object3D();\n            break;\n        }\n      }\n\n      return model;\n    } // Create a DirectionalLight, PointLight or SpotLight\n\n  }, {\n    key: \"createLight\",\n    value: function createLight(relationships) {\n      var model;\n      var lightAttribute;\n      relationships.children.forEach(function (child) {\n        var attr = fbxTree.Objects.NodeAttribute[child.ID];\n\n        if (attr !== undefined) {\n          lightAttribute = attr;\n        }\n      });\n\n      if (lightAttribute === undefined) {\n        model = new Object3D();\n      } else {\n        var type; // LightType can be undefined for Point lights\n\n        if (lightAttribute.LightType === undefined) {\n          type = 0;\n        } else {\n          type = lightAttribute.LightType.value;\n        }\n\n        var color = 0xffffff;\n\n        if (lightAttribute.Color !== undefined) {\n          color = new Color().fromArray(lightAttribute.Color.value);\n        }\n\n        var intensity = lightAttribute.Intensity === undefined ? 1 : lightAttribute.Intensity.value / 100; // light disabled\n\n        if (lightAttribute.CastLightOnObject !== undefined && lightAttribute.CastLightOnObject.value === 0) {\n          intensity = 0;\n        }\n\n        var distance = 0;\n\n        if (lightAttribute.FarAttenuationEnd !== undefined) {\n          if (lightAttribute.EnableFarAttenuation !== undefined && lightAttribute.EnableFarAttenuation.value === 0) {\n            distance = 0;\n          } else {\n            distance = lightAttribute.FarAttenuationEnd.value;\n          }\n        } // TODO: could this be calculated linearly from FarAttenuationStart to FarAttenuationEnd?\n\n\n        var decay = 1;\n\n        switch (type) {\n          case 0:\n            // Point\n            model = new PointLight(color, intensity, distance, decay);\n            break;\n\n          case 1:\n            // Directional\n            model = new DirectionalLight(color, intensity);\n            break;\n\n          case 2:\n            // Spot\n            var angle = Math.PI / 3;\n\n            if (lightAttribute.InnerAngle !== undefined) {\n              angle = MathUtils.degToRad(lightAttribute.InnerAngle.value);\n            }\n\n            var penumbra = 0;\n\n            if (lightAttribute.OuterAngle !== undefined) {\n              // TODO: this is not correct - FBX calculates outer and inner angle in degrees\n              // with OuterAngle > InnerAngle && OuterAngle <= Math.PI\n              // while three.js uses a penumbra between (0, 1) to attenuate the inner angle\n              penumbra = MathUtils.degToRad(lightAttribute.OuterAngle.value);\n              penumbra = Math.max(penumbra, 1);\n            }\n\n            model = new SpotLight(color, intensity, distance, angle, penumbra, decay);\n            break;\n\n          default:\n            console.warn('THREE.FBXLoader: Unknown light type ' + lightAttribute.LightType.value + ', defaulting to a PointLight.');\n            model = new PointLight(color, intensity);\n            break;\n        }\n\n        if (lightAttribute.CastShadows !== undefined && lightAttribute.CastShadows.value === 1) {\n          model.castShadow = true;\n        }\n      }\n\n      return model;\n    }\n  }, {\n    key: \"createMesh\",\n    value: function createMesh(relationships, geometryMap, materialMap) {\n      var model;\n      var geometry = null;\n      var material = null;\n      var materials = []; // get geometry and materials(s) from connections\n\n      relationships.children.forEach(function (child) {\n        if (geometryMap.has(child.ID)) {\n          geometry = geometryMap.get(child.ID);\n        }\n\n        if (materialMap.has(child.ID)) {\n          materials.push(materialMap.get(child.ID));\n        }\n      });\n\n      if (materials.length > 1) {\n        material = materials;\n      } else if (materials.length > 0) {\n        material = materials[0];\n      } else {\n        material = new MeshPhongMaterial({\n          color: 0xcccccc\n        });\n        materials.push(material);\n      }\n\n      if ('color' in geometry.attributes) {\n        materials.forEach(function (material) {\n          material.vertexColors = true;\n        });\n      }\n\n      if (geometry.FBX_Deformer) {\n        model = new SkinnedMesh(geometry, material);\n        model.normalizeSkinWeights();\n      } else {\n        model = new Mesh(geometry, material);\n      }\n\n      return model;\n    }\n  }, {\n    key: \"createCurve\",\n    value: function createCurve(relationships, geometryMap) {\n      var geometry = relationships.children.reduce(function (geo, child) {\n        if (geometryMap.has(child.ID)) geo = geometryMap.get(child.ID);\n        return geo;\n      }, null); // FBX does not list materials for Nurbs lines, so we'll just put our own in here.\n\n      var material = new LineBasicMaterial({\n        color: 0x3300ff,\n        linewidth: 1\n      });\n      return new Line(geometry, material);\n    } // parse the model node for transform data\n\n  }, {\n    key: \"getTransformData\",\n    value: function getTransformData(model, modelNode) {\n      var transformData = {};\n      if ('InheritType' in modelNode) transformData.inheritType = parseInt(modelNode.InheritType.value);\n      if ('RotationOrder' in modelNode) transformData.eulerOrder = getEulerOrder(modelNode.RotationOrder.value);else transformData.eulerOrder = 'ZYX';\n      if ('Lcl_Translation' in modelNode) transformData.translation = modelNode.Lcl_Translation.value;\n      if ('PreRotation' in modelNode) transformData.preRotation = modelNode.PreRotation.value;\n      if ('Lcl_Rotation' in modelNode) transformData.rotation = modelNode.Lcl_Rotation.value;\n      if ('PostRotation' in modelNode) transformData.postRotation = modelNode.PostRotation.value;\n      if ('Lcl_Scaling' in modelNode) transformData.scale = modelNode.Lcl_Scaling.value;\n      if ('ScalingOffset' in modelNode) transformData.scalingOffset = modelNode.ScalingOffset.value;\n      if ('ScalingPivot' in modelNode) transformData.scalingPivot = modelNode.ScalingPivot.value;\n      if ('RotationOffset' in modelNode) transformData.rotationOffset = modelNode.RotationOffset.value;\n      if ('RotationPivot' in modelNode) transformData.rotationPivot = modelNode.RotationPivot.value;\n      model.userData.transformData = transformData;\n    }\n  }, {\n    key: \"setLookAtProperties\",\n    value: function setLookAtProperties(model, modelNode) {\n      if ('LookAtProperty' in modelNode) {\n        var children = connections.get(model.ID).children;\n        children.forEach(function (child) {\n          if (child.relationship === 'LookAtProperty') {\n            var lookAtTarget = fbxTree.Objects.Model[child.ID];\n\n            if ('Lcl_Translation' in lookAtTarget) {\n              var pos = lookAtTarget.Lcl_Translation.value; // DirectionalLight, SpotLight\n\n              if (model.target !== undefined) {\n                model.target.position.fromArray(pos);\n                sceneGraph.add(model.target);\n              } else {\n                // Cameras and other Object3Ds\n                model.lookAt(new Vector3().fromArray(pos));\n              }\n            }\n          }\n        });\n      }\n    }\n  }, {\n    key: \"bindSkeleton\",\n    value: function bindSkeleton(skeletons, geometryMap, modelMap) {\n      var bindMatrices = this.parsePoseNodes();\n\n      var _loop2 = function _loop2(ID) {\n        var skeleton = skeletons[ID];\n        var parents = connections.get(parseInt(skeleton.ID)).parents;\n        parents.forEach(function (parent) {\n          if (geometryMap.has(parent.ID)) {\n            var geoID = parent.ID;\n            var geoRelationships = connections.get(geoID);\n            geoRelationships.parents.forEach(function (geoConnParent) {\n              if (modelMap.has(geoConnParent.ID)) {\n                var model = modelMap.get(geoConnParent.ID);\n                model.bind(new Skeleton(skeleton.bones), bindMatrices[geoConnParent.ID]);\n              }\n            });\n          }\n        });\n      };\n\n      for (var ID in skeletons) {\n        _loop2(ID);\n      }\n    }\n  }, {\n    key: \"parsePoseNodes\",\n    value: function parsePoseNodes() {\n      var bindMatrices = {};\n\n      if ('Pose' in fbxTree.Objects) {\n        var BindPoseNode = fbxTree.Objects.Pose;\n\n        for (var nodeID in BindPoseNode) {\n          if (BindPoseNode[nodeID].attrType === 'BindPose') {\n            var poseNodes = BindPoseNode[nodeID].PoseNode;\n\n            if (Array.isArray(poseNodes)) {\n              poseNodes.forEach(function (poseNode) {\n                bindMatrices[poseNode.Node] = new Matrix4().fromArray(poseNode.Matrix.a);\n              });\n            } else {\n              bindMatrices[poseNodes.Node] = new Matrix4().fromArray(poseNodes.Matrix.a);\n            }\n          }\n        }\n      }\n\n      return bindMatrices;\n    } // Parse ambient color in FBXTree.GlobalSettings - if it's not set to black (default), create an ambient light\n\n  }, {\n    key: \"createAmbientLight\",\n    value: function createAmbientLight() {\n      if ('GlobalSettings' in fbxTree && 'AmbientColor' in fbxTree.GlobalSettings) {\n        var ambientColor = fbxTree.GlobalSettings.AmbientColor.value;\n        var r = ambientColor[0];\n        var g = ambientColor[1];\n        var b = ambientColor[2];\n\n        if (r !== 0 || g !== 0 || b !== 0) {\n          var color = new Color(r, g, b);\n          sceneGraph.add(new AmbientLight(color, 1));\n        }\n      }\n    }\n  }]);\n\n  return FBXTreeParser;\n}(); // parse Geometry data from FBXTree and return map of BufferGeometries\n\n\nvar GeometryParser = /*#__PURE__*/function () {\n  function GeometryParser() {\n    _classCallCheck(this, GeometryParser);\n  }\n\n  _createClass(GeometryParser, [{\n    key: \"parse\",\n    value: // Parse nodes in FBXTree.Objects.Geometry\n    function parse(deformers) {\n      var geometryMap = new Map();\n\n      if ('Geometry' in fbxTree.Objects) {\n        var geoNodes = fbxTree.Objects.Geometry;\n\n        for (var nodeID in geoNodes) {\n          var relationships = connections.get(parseInt(nodeID));\n          var geo = this.parseGeometry(relationships, geoNodes[nodeID], deformers);\n          geometryMap.set(parseInt(nodeID), geo);\n        }\n      }\n\n      return geometryMap;\n    } // Parse single node in FBXTree.Objects.Geometry\n\n  }, {\n    key: \"parseGeometry\",\n    value: function parseGeometry(relationships, geoNode, deformers) {\n      switch (geoNode.attrType) {\n        case 'Mesh':\n          return this.parseMeshGeometry(relationships, geoNode, deformers);\n          break;\n\n        case 'NurbsCurve':\n          return this.parseNurbsGeometry(geoNode);\n          break;\n      }\n    } // Parse single node mesh geometry in FBXTree.Objects.Geometry\n\n  }, {\n    key: \"parseMeshGeometry\",\n    value: function parseMeshGeometry(relationships, geoNode, deformers) {\n      var skeletons = deformers.skeletons;\n      var morphTargets = [];\n      var modelNodes = relationships.parents.map(function (parent) {\n        return fbxTree.Objects.Model[parent.ID];\n      }); // don't create geometry if it is not associated with any models\n\n      if (modelNodes.length === 0) return;\n      var skeleton = relationships.children.reduce(function (skeleton, child) {\n        if (skeletons[child.ID] !== undefined) skeleton = skeletons[child.ID];\n        return skeleton;\n      }, null);\n      relationships.children.forEach(function (child) {\n        if (deformers.morphTargets[child.ID] !== undefined) {\n          morphTargets.push(deformers.morphTargets[child.ID]);\n        }\n      }); // Assume one model and get the preRotation from that\n      // if there is more than one model associated with the geometry this may cause problems\n\n      var modelNode = modelNodes[0];\n      var transformData = {};\n      if ('RotationOrder' in modelNode) transformData.eulerOrder = getEulerOrder(modelNode.RotationOrder.value);\n      if ('InheritType' in modelNode) transformData.inheritType = parseInt(modelNode.InheritType.value);\n      if ('GeometricTranslation' in modelNode) transformData.translation = modelNode.GeometricTranslation.value;\n      if ('GeometricRotation' in modelNode) transformData.rotation = modelNode.GeometricRotation.value;\n      if ('GeometricScaling' in modelNode) transformData.scale = modelNode.GeometricScaling.value;\n      var transform = generateTransform(transformData);\n      return this.genGeometry(geoNode, skeleton, morphTargets, transform);\n    } // Generate a BufferGeometry from a node in FBXTree.Objects.Geometry\n\n  }, {\n    key: \"genGeometry\",\n    value: function genGeometry(geoNode, skeleton, morphTargets, preTransform) {\n      var geo = new BufferGeometry();\n      if (geoNode.attrName) geo.name = geoNode.attrName;\n      var geoInfo = this.parseGeoNode(geoNode, skeleton);\n      var buffers = this.genBuffers(geoInfo);\n      var positionAttribute = new Float32BufferAttribute(buffers.vertex, 3);\n      positionAttribute.applyMatrix4(preTransform);\n      geo.setAttribute('position', positionAttribute);\n\n      if (buffers.colors.length > 0) {\n        geo.setAttribute('color', new Float32BufferAttribute(buffers.colors, 3));\n      }\n\n      if (skeleton) {\n        geo.setAttribute('skinIndex', new Uint16BufferAttribute(buffers.weightsIndices, 4));\n        geo.setAttribute('skinWeight', new Float32BufferAttribute(buffers.vertexWeights, 4)); // used later to bind the skeleton to the model\n\n        geo.FBX_Deformer = skeleton;\n      }\n\n      if (buffers.normal.length > 0) {\n        var normalMatrix = new Matrix3().getNormalMatrix(preTransform);\n        var normalAttribute = new Float32BufferAttribute(buffers.normal, 3);\n        normalAttribute.applyNormalMatrix(normalMatrix);\n        geo.setAttribute('normal', normalAttribute);\n      }\n\n      buffers.uvs.forEach(function (uvBuffer, i) {\n        // subsequent uv buffers are called 'uv1', 'uv2', ...\n        var name = 'uv' + (i + 1).toString(); // the first uv buffer is just called 'uv'\n\n        if (i === 0) {\n          name = 'uv';\n        }\n\n        geo.setAttribute(name, new Float32BufferAttribute(buffers.uvs[i], 2));\n      });\n\n      if (geoInfo.material && geoInfo.material.mappingType !== 'AllSame') {\n        // Convert the material indices of each vertex into rendering groups on the geometry.\n        var prevMaterialIndex = buffers.materialIndex[0];\n        var startIndex = 0;\n        buffers.materialIndex.forEach(function (currentIndex, i) {\n          if (currentIndex !== prevMaterialIndex) {\n            geo.addGroup(startIndex, i - startIndex, prevMaterialIndex);\n            prevMaterialIndex = currentIndex;\n            startIndex = i;\n          }\n        }); // the loop above doesn't add the last group, do that here.\n\n        if (geo.groups.length > 0) {\n          var lastGroup = geo.groups[geo.groups.length - 1];\n          var lastIndex = lastGroup.start + lastGroup.count;\n\n          if (lastIndex !== buffers.materialIndex.length) {\n            geo.addGroup(lastIndex, buffers.materialIndex.length - lastIndex, prevMaterialIndex);\n          }\n        } // case where there are multiple materials but the whole geometry is only\n        // using one of them\n\n\n        if (geo.groups.length === 0) {\n          geo.addGroup(0, buffers.materialIndex.length, buffers.materialIndex[0]);\n        }\n      }\n\n      this.addMorphTargets(geo, geoNode, morphTargets, preTransform);\n      return geo;\n    }\n  }, {\n    key: \"parseGeoNode\",\n    value: function parseGeoNode(geoNode, skeleton) {\n      var geoInfo = {};\n      geoInfo.vertexPositions = geoNode.Vertices !== undefined ? geoNode.Vertices.a : [];\n      geoInfo.vertexIndices = geoNode.PolygonVertexIndex !== undefined ? geoNode.PolygonVertexIndex.a : [];\n\n      if (geoNode.LayerElementColor) {\n        geoInfo.color = this.parseVertexColors(geoNode.LayerElementColor[0]);\n      }\n\n      if (geoNode.LayerElementMaterial) {\n        geoInfo.material = this.parseMaterialIndices(geoNode.LayerElementMaterial[0]);\n      }\n\n      if (geoNode.LayerElementNormal) {\n        geoInfo.normal = this.parseNormals(geoNode.LayerElementNormal[0]);\n      }\n\n      if (geoNode.LayerElementUV) {\n        geoInfo.uv = [];\n        var i = 0;\n\n        while (geoNode.LayerElementUV[i]) {\n          if (geoNode.LayerElementUV[i].UV) {\n            geoInfo.uv.push(this.parseUVs(geoNode.LayerElementUV[i]));\n          }\n\n          i++;\n        }\n      }\n\n      geoInfo.weightTable = {};\n\n      if (skeleton !== null) {\n        geoInfo.skeleton = skeleton;\n        skeleton.rawBones.forEach(function (rawBone, i) {\n          // loop over the bone's vertex indices and weights\n          rawBone.indices.forEach(function (index, j) {\n            if (geoInfo.weightTable[index] === undefined) geoInfo.weightTable[index] = [];\n            geoInfo.weightTable[index].push({\n              id: i,\n              weight: rawBone.weights[j]\n            });\n          });\n        });\n      }\n\n      return geoInfo;\n    }\n  }, {\n    key: \"genBuffers\",\n    value: function genBuffers(geoInfo) {\n      var buffers = {\n        vertex: [],\n        normal: [],\n        colors: [],\n        uvs: [],\n        materialIndex: [],\n        vertexWeights: [],\n        weightsIndices: []\n      };\n      var polygonIndex = 0;\n      var faceLength = 0;\n      var displayedWeightsWarning = false; // these will hold data for a single face\n\n      var facePositionIndexes = [];\n      var faceNormals = [];\n      var faceColors = [];\n      var faceUVs = [];\n      var faceWeights = [];\n      var faceWeightIndices = [];\n      var scope = this;\n      geoInfo.vertexIndices.forEach(function (vertexIndex, polygonVertexIndex) {\n        var materialIndex;\n        var endOfFace = false; // Face index and vertex index arrays are combined in a single array\n        // A cube with quad faces looks like this:\n        // PolygonVertexIndex: *24 {\n        //  a: 0, 1, 3, -3, 2, 3, 5, -5, 4, 5, 7, -7, 6, 7, 1, -1, 1, 7, 5, -4, 6, 0, 2, -5\n        //  }\n        // Negative numbers mark the end of a face - first face here is 0, 1, 3, -3\n        // to find index of last vertex bit shift the index: ^ - 1\n\n        if (vertexIndex < 0) {\n          vertexIndex = vertexIndex ^ -1; // equivalent to ( x * -1 ) - 1\n\n          endOfFace = true;\n        }\n\n        var weightIndices = [];\n        var weights = [];\n        facePositionIndexes.push(vertexIndex * 3, vertexIndex * 3 + 1, vertexIndex * 3 + 2);\n\n        if (geoInfo.color) {\n          var data = getData(polygonVertexIndex, polygonIndex, vertexIndex, geoInfo.color);\n          faceColors.push(data[0], data[1], data[2]);\n        }\n\n        if (geoInfo.skeleton) {\n          if (geoInfo.weightTable[vertexIndex] !== undefined) {\n            geoInfo.weightTable[vertexIndex].forEach(function (wt) {\n              weights.push(wt.weight);\n              weightIndices.push(wt.id);\n            });\n          }\n\n          if (weights.length > 4) {\n            if (!displayedWeightsWarning) {\n              console.warn('THREE.FBXLoader: Vertex has more than 4 skinning weights assigned to vertex. Deleting additional weights.');\n              displayedWeightsWarning = true;\n            }\n\n            var wIndex = [0, 0, 0, 0];\n            var Weight = [0, 0, 0, 0];\n            weights.forEach(function (weight, weightIndex) {\n              var currentWeight = weight;\n              var currentIndex = weightIndices[weightIndex];\n              Weight.forEach(function (comparedWeight, comparedWeightIndex, comparedWeightArray) {\n                if (currentWeight > comparedWeight) {\n                  comparedWeightArray[comparedWeightIndex] = currentWeight;\n                  currentWeight = comparedWeight;\n                  var tmp = wIndex[comparedWeightIndex];\n                  wIndex[comparedWeightIndex] = currentIndex;\n                  currentIndex = tmp;\n                }\n              });\n            });\n            weightIndices = wIndex;\n            weights = Weight;\n          } // if the weight array is shorter than 4 pad with 0s\n\n\n          while (weights.length < 4) {\n            weights.push(0);\n            weightIndices.push(0);\n          }\n\n          for (var i = 0; i < 4; ++i) {\n            faceWeights.push(weights[i]);\n            faceWeightIndices.push(weightIndices[i]);\n          }\n        }\n\n        if (geoInfo.normal) {\n          var _data = getData(polygonVertexIndex, polygonIndex, vertexIndex, geoInfo.normal);\n\n          faceNormals.push(_data[0], _data[1], _data[2]);\n        }\n\n        if (geoInfo.material && geoInfo.material.mappingType !== 'AllSame') {\n          materialIndex = getData(polygonVertexIndex, polygonIndex, vertexIndex, geoInfo.material)[0];\n        }\n\n        if (geoInfo.uv) {\n          geoInfo.uv.forEach(function (uv, i) {\n            var data = getData(polygonVertexIndex, polygonIndex, vertexIndex, uv);\n\n            if (faceUVs[i] === undefined) {\n              faceUVs[i] = [];\n            }\n\n            faceUVs[i].push(data[0]);\n            faceUVs[i].push(data[1]);\n          });\n        }\n\n        faceLength++;\n\n        if (endOfFace) {\n          scope.genFace(buffers, geoInfo, facePositionIndexes, materialIndex, faceNormals, faceColors, faceUVs, faceWeights, faceWeightIndices, faceLength);\n          polygonIndex++;\n          faceLength = 0; // reset arrays for the next face\n\n          facePositionIndexes = [];\n          faceNormals = [];\n          faceColors = [];\n          faceUVs = [];\n          faceWeights = [];\n          faceWeightIndices = [];\n        }\n      });\n      return buffers;\n    } // Generate data for a single face in a geometry. If the face is a quad then split it into 2 tris\n\n  }, {\n    key: \"genFace\",\n    value: function genFace(buffers, geoInfo, facePositionIndexes, materialIndex, faceNormals, faceColors, faceUVs, faceWeights, faceWeightIndices, faceLength) {\n      var _loop3 = function _loop3(i) {\n        buffers.vertex.push(geoInfo.vertexPositions[facePositionIndexes[0]]);\n        buffers.vertex.push(geoInfo.vertexPositions[facePositionIndexes[1]]);\n        buffers.vertex.push(geoInfo.vertexPositions[facePositionIndexes[2]]);\n        buffers.vertex.push(geoInfo.vertexPositions[facePositionIndexes[(i - 1) * 3]]);\n        buffers.vertex.push(geoInfo.vertexPositions[facePositionIndexes[(i - 1) * 3 + 1]]);\n        buffers.vertex.push(geoInfo.vertexPositions[facePositionIndexes[(i - 1) * 3 + 2]]);\n        buffers.vertex.push(geoInfo.vertexPositions[facePositionIndexes[i * 3]]);\n        buffers.vertex.push(geoInfo.vertexPositions[facePositionIndexes[i * 3 + 1]]);\n        buffers.vertex.push(geoInfo.vertexPositions[facePositionIndexes[i * 3 + 2]]);\n\n        if (geoInfo.skeleton) {\n          buffers.vertexWeights.push(faceWeights[0]);\n          buffers.vertexWeights.push(faceWeights[1]);\n          buffers.vertexWeights.push(faceWeights[2]);\n          buffers.vertexWeights.push(faceWeights[3]);\n          buffers.vertexWeights.push(faceWeights[(i - 1) * 4]);\n          buffers.vertexWeights.push(faceWeights[(i - 1) * 4 + 1]);\n          buffers.vertexWeights.push(faceWeights[(i - 1) * 4 + 2]);\n          buffers.vertexWeights.push(faceWeights[(i - 1) * 4 + 3]);\n          buffers.vertexWeights.push(faceWeights[i * 4]);\n          buffers.vertexWeights.push(faceWeights[i * 4 + 1]);\n          buffers.vertexWeights.push(faceWeights[i * 4 + 2]);\n          buffers.vertexWeights.push(faceWeights[i * 4 + 3]);\n          buffers.weightsIndices.push(faceWeightIndices[0]);\n          buffers.weightsIndices.push(faceWeightIndices[1]);\n          buffers.weightsIndices.push(faceWeightIndices[2]);\n          buffers.weightsIndices.push(faceWeightIndices[3]);\n          buffers.weightsIndices.push(faceWeightIndices[(i - 1) * 4]);\n          buffers.weightsIndices.push(faceWeightIndices[(i - 1) * 4 + 1]);\n          buffers.weightsIndices.push(faceWeightIndices[(i - 1) * 4 + 2]);\n          buffers.weightsIndices.push(faceWeightIndices[(i - 1) * 4 + 3]);\n          buffers.weightsIndices.push(faceWeightIndices[i * 4]);\n          buffers.weightsIndices.push(faceWeightIndices[i * 4 + 1]);\n          buffers.weightsIndices.push(faceWeightIndices[i * 4 + 2]);\n          buffers.weightsIndices.push(faceWeightIndices[i * 4 + 3]);\n        }\n\n        if (geoInfo.color) {\n          buffers.colors.push(faceColors[0]);\n          buffers.colors.push(faceColors[1]);\n          buffers.colors.push(faceColors[2]);\n          buffers.colors.push(faceColors[(i - 1) * 3]);\n          buffers.colors.push(faceColors[(i - 1) * 3 + 1]);\n          buffers.colors.push(faceColors[(i - 1) * 3 + 2]);\n          buffers.colors.push(faceColors[i * 3]);\n          buffers.colors.push(faceColors[i * 3 + 1]);\n          buffers.colors.push(faceColors[i * 3 + 2]);\n        }\n\n        if (geoInfo.material && geoInfo.material.mappingType !== 'AllSame') {\n          buffers.materialIndex.push(materialIndex);\n          buffers.materialIndex.push(materialIndex);\n          buffers.materialIndex.push(materialIndex);\n        }\n\n        if (geoInfo.normal) {\n          buffers.normal.push(faceNormals[0]);\n          buffers.normal.push(faceNormals[1]);\n          buffers.normal.push(faceNormals[2]);\n          buffers.normal.push(faceNormals[(i - 1) * 3]);\n          buffers.normal.push(faceNormals[(i - 1) * 3 + 1]);\n          buffers.normal.push(faceNormals[(i - 1) * 3 + 2]);\n          buffers.normal.push(faceNormals[i * 3]);\n          buffers.normal.push(faceNormals[i * 3 + 1]);\n          buffers.normal.push(faceNormals[i * 3 + 2]);\n        }\n\n        if (geoInfo.uv) {\n          geoInfo.uv.forEach(function (uv, j) {\n            if (buffers.uvs[j] === undefined) buffers.uvs[j] = [];\n            buffers.uvs[j].push(faceUVs[j][0]);\n            buffers.uvs[j].push(faceUVs[j][1]);\n            buffers.uvs[j].push(faceUVs[j][(i - 1) * 2]);\n            buffers.uvs[j].push(faceUVs[j][(i - 1) * 2 + 1]);\n            buffers.uvs[j].push(faceUVs[j][i * 2]);\n            buffers.uvs[j].push(faceUVs[j][i * 2 + 1]);\n          });\n        }\n      };\n\n      for (var i = 2; i < faceLength; i++) {\n        _loop3(i);\n      }\n    }\n  }, {\n    key: \"addMorphTargets\",\n    value: function addMorphTargets(parentGeo, parentGeoNode, morphTargets, preTransform) {\n      if (morphTargets.length === 0) return;\n      parentGeo.morphTargetsRelative = true;\n      parentGeo.morphAttributes.position = []; // parentGeo.morphAttributes.normal = []; // not implemented\n\n      var scope = this;\n      morphTargets.forEach(function (morphTarget) {\n        morphTarget.rawTargets.forEach(function (rawTarget) {\n          var morphGeoNode = fbxTree.Objects.Geometry[rawTarget.geoID];\n\n          if (morphGeoNode !== undefined) {\n            scope.genMorphGeometry(parentGeo, parentGeoNode, morphGeoNode, preTransform, rawTarget.name);\n          }\n        });\n      });\n    } // a morph geometry node is similar to a standard  node, and the node is also contained\n    // in FBXTree.Objects.Geometry, however it can only have attributes for position, normal\n    // and a special attribute Index defining which vertices of the original geometry are affected\n    // Normal and position attributes only have data for the vertices that are affected by the morph\n\n  }, {\n    key: \"genMorphGeometry\",\n    value: function genMorphGeometry(parentGeo, parentGeoNode, morphGeoNode, preTransform, name) {\n      var vertexIndices = parentGeoNode.PolygonVertexIndex !== undefined ? parentGeoNode.PolygonVertexIndex.a : [];\n      var morphPositionsSparse = morphGeoNode.Vertices !== undefined ? morphGeoNode.Vertices.a : [];\n      var indices = morphGeoNode.Indexes !== undefined ? morphGeoNode.Indexes.a : [];\n      var length = parentGeo.attributes.position.count * 3;\n      var morphPositions = new Float32Array(length);\n\n      for (var i = 0; i < indices.length; i++) {\n        var morphIndex = indices[i] * 3;\n        morphPositions[morphIndex] = morphPositionsSparse[i * 3];\n        morphPositions[morphIndex + 1] = morphPositionsSparse[i * 3 + 1];\n        morphPositions[morphIndex + 2] = morphPositionsSparse[i * 3 + 2];\n      } // TODO: add morph normal support\n\n\n      var morphGeoInfo = {\n        vertexIndices: vertexIndices,\n        vertexPositions: morphPositions\n      };\n      var morphBuffers = this.genBuffers(morphGeoInfo);\n      var positionAttribute = new Float32BufferAttribute(morphBuffers.vertex, 3);\n      positionAttribute.name = name || morphGeoNode.attrName;\n      positionAttribute.applyMatrix4(preTransform);\n      parentGeo.morphAttributes.position.push(positionAttribute);\n    } // Parse normal from FBXTree.Objects.Geometry.LayerElementNormal if it exists\n\n  }, {\n    key: \"parseNormals\",\n    value: function parseNormals(NormalNode) {\n      var mappingType = NormalNode.MappingInformationType;\n      var referenceType = NormalNode.ReferenceInformationType;\n      var buffer = NormalNode.Normals.a;\n      var indexBuffer = [];\n\n      if (referenceType === 'IndexToDirect') {\n        if ('NormalIndex' in NormalNode) {\n          indexBuffer = NormalNode.NormalIndex.a;\n        } else if ('NormalsIndex' in NormalNode) {\n          indexBuffer = NormalNode.NormalsIndex.a;\n        }\n      }\n\n      return {\n        dataSize: 3,\n        buffer: buffer,\n        indices: indexBuffer,\n        mappingType: mappingType,\n        referenceType: referenceType\n      };\n    } // Parse UVs from FBXTree.Objects.Geometry.LayerElementUV if it exists\n\n  }, {\n    key: \"parseUVs\",\n    value: function parseUVs(UVNode) {\n      var mappingType = UVNode.MappingInformationType;\n      var referenceType = UVNode.ReferenceInformationType;\n      var buffer = UVNode.UV.a;\n      var indexBuffer = [];\n\n      if (referenceType === 'IndexToDirect') {\n        indexBuffer = UVNode.UVIndex.a;\n      }\n\n      return {\n        dataSize: 2,\n        buffer: buffer,\n        indices: indexBuffer,\n        mappingType: mappingType,\n        referenceType: referenceType\n      };\n    } // Parse Vertex Colors from FBXTree.Objects.Geometry.LayerElementColor if it exists\n\n  }, {\n    key: \"parseVertexColors\",\n    value: function parseVertexColors(ColorNode) {\n      var mappingType = ColorNode.MappingInformationType;\n      var referenceType = ColorNode.ReferenceInformationType;\n      var buffer = ColorNode.Colors.a;\n      var indexBuffer = [];\n\n      if (referenceType === 'IndexToDirect') {\n        indexBuffer = ColorNode.ColorIndex.a;\n      }\n\n      return {\n        dataSize: 4,\n        buffer: buffer,\n        indices: indexBuffer,\n        mappingType: mappingType,\n        referenceType: referenceType\n      };\n    } // Parse mapping and material data in FBXTree.Objects.Geometry.LayerElementMaterial if it exists\n\n  }, {\n    key: \"parseMaterialIndices\",\n    value: function parseMaterialIndices(MaterialNode) {\n      var mappingType = MaterialNode.MappingInformationType;\n      var referenceType = MaterialNode.ReferenceInformationType;\n\n      if (mappingType === 'NoMappingInformation') {\n        return {\n          dataSize: 1,\n          buffer: [0],\n          indices: [0],\n          mappingType: 'AllSame',\n          referenceType: referenceType\n        };\n      }\n\n      var materialIndexBuffer = MaterialNode.Materials.a; // Since materials are stored as indices, there's a bit of a mismatch between FBX and what\n      // we expect.So we create an intermediate buffer that points to the index in the buffer,\n      // for conforming with the other functions we've written for other data.\n\n      var materialIndices = [];\n\n      for (var i = 0; i < materialIndexBuffer.length; ++i) {\n        materialIndices.push(i);\n      }\n\n      return {\n        dataSize: 1,\n        buffer: materialIndexBuffer,\n        indices: materialIndices,\n        mappingType: mappingType,\n        referenceType: referenceType\n      };\n    } // Generate a NurbGeometry from a node in FBXTree.Objects.Geometry\n\n  }, {\n    key: \"parseNurbsGeometry\",\n    value: function parseNurbsGeometry(geoNode) {\n      if (NURBSCurve === undefined) {\n        console.error('THREE.FBXLoader: The loader relies on NURBSCurve for any nurbs present in the model. Nurbs will show up as empty geometry.');\n        return new BufferGeometry();\n      }\n\n      var order = parseInt(geoNode.Order);\n\n      if (isNaN(order)) {\n        console.error('THREE.FBXLoader: Invalid Order %s given for geometry ID: %s', geoNode.Order, geoNode.id);\n        return new BufferGeometry();\n      }\n\n      var degree = order - 1;\n      var knots = geoNode.KnotVector.a;\n      var controlPoints = [];\n      var pointsValues = geoNode.Points.a;\n\n      for (var i = 0, l = pointsValues.length; i < l; i += 4) {\n        controlPoints.push(new Vector4().fromArray(pointsValues, i));\n      }\n\n      var startKnot, endKnot;\n\n      if (geoNode.Form === 'Closed') {\n        controlPoints.push(controlPoints[0]);\n      } else if (geoNode.Form === 'Periodic') {\n        startKnot = degree;\n        endKnot = knots.length - 1 - startKnot;\n\n        for (var _i = 0; _i < degree; ++_i) {\n          controlPoints.push(controlPoints[_i]);\n        }\n      }\n\n      var curve = new NURBSCurve(degree, knots, controlPoints, startKnot, endKnot);\n      var points = curve.getPoints(controlPoints.length * 12);\n      return new BufferGeometry().setFromPoints(points);\n    }\n  }]);\n\n  return GeometryParser;\n}(); // parse animation data from FBXTree\n\n\nvar AnimationParser = /*#__PURE__*/function () {\n  function AnimationParser() {\n    _classCallCheck(this, AnimationParser);\n  }\n\n  _createClass(AnimationParser, [{\n    key: \"parse\",\n    value: // take raw animation clips and turn them into three.js animation clips\n    function parse() {\n      var animationClips = [];\n      var rawClips = this.parseClips();\n\n      if (rawClips !== undefined) {\n        for (var key in rawClips) {\n          var rawClip = rawClips[key];\n          var clip = this.addClip(rawClip);\n          animationClips.push(clip);\n        }\n      }\n\n      return animationClips;\n    }\n  }, {\n    key: \"parseClips\",\n    value: function parseClips() {\n      // since the actual transformation data is stored in FBXTree.Objects.AnimationCurve,\n      // if this is undefined we can safely assume there are no animations\n      if (fbxTree.Objects.AnimationCurve === undefined) return undefined;\n      var curveNodesMap = this.parseAnimationCurveNodes();\n      this.parseAnimationCurves(curveNodesMap);\n      var layersMap = this.parseAnimationLayers(curveNodesMap);\n      var rawClips = this.parseAnimStacks(layersMap);\n      return rawClips;\n    } // parse nodes in FBXTree.Objects.AnimationCurveNode\n    // each AnimationCurveNode holds data for an animation transform for a model (e.g. left arm rotation )\n    // and is referenced by an AnimationLayer\n\n  }, {\n    key: \"parseAnimationCurveNodes\",\n    value: function parseAnimationCurveNodes() {\n      var rawCurveNodes = fbxTree.Objects.AnimationCurveNode;\n      var curveNodesMap = new Map();\n\n      for (var nodeID in rawCurveNodes) {\n        var rawCurveNode = rawCurveNodes[nodeID];\n\n        if (rawCurveNode.attrName.match(/S|R|T|DeformPercent/) !== null) {\n          var curveNode = {\n            id: rawCurveNode.id,\n            attr: rawCurveNode.attrName,\n            curves: {}\n          };\n          curveNodesMap.set(curveNode.id, curveNode);\n        }\n      }\n\n      return curveNodesMap;\n    } // parse nodes in FBXTree.Objects.AnimationCurve and connect them up to\n    // previously parsed AnimationCurveNodes. Each AnimationCurve holds data for a single animated\n    // axis ( e.g. times and values of x rotation)\n\n  }, {\n    key: \"parseAnimationCurves\",\n    value: function parseAnimationCurves(curveNodesMap) {\n      var rawCurves = fbxTree.Objects.AnimationCurve; // TODO: Many values are identical up to roundoff error, but won't be optimised\n      // e.g. position times: [0, 0.4, 0. 8]\n      // position values: [7.23538335023477e-7, 93.67518615722656, -0.9982695579528809, 7.23538335023477e-7, 93.67518615722656, -0.9982695579528809, 7.235384487103147e-7, 93.67520904541016, -0.9982695579528809]\n      // clearly, this should be optimised to\n      // times: [0], positions [7.23538335023477e-7, 93.67518615722656, -0.9982695579528809]\n      // this shows up in nearly every FBX file, and generally time array is length > 100\n\n      for (var nodeID in rawCurves) {\n        var animationCurve = {\n          id: rawCurves[nodeID].id,\n          times: rawCurves[nodeID].KeyTime.a.map(convertFBXTimeToSeconds),\n          values: rawCurves[nodeID].KeyValueFloat.a\n        };\n        var relationships = connections.get(animationCurve.id);\n\n        if (relationships !== undefined) {\n          var animationCurveID = relationships.parents[0].ID;\n          var animationCurveRelationship = relationships.parents[0].relationship;\n\n          if (animationCurveRelationship.match(/X/)) {\n            curveNodesMap.get(animationCurveID).curves['x'] = animationCurve;\n          } else if (animationCurveRelationship.match(/Y/)) {\n            curveNodesMap.get(animationCurveID).curves['y'] = animationCurve;\n          } else if (animationCurveRelationship.match(/Z/)) {\n            curveNodesMap.get(animationCurveID).curves['z'] = animationCurve;\n          } else if (animationCurveRelationship.match(/d|DeformPercent/) && curveNodesMap.has(animationCurveID)) {\n            curveNodesMap.get(animationCurveID).curves['morph'] = animationCurve;\n          }\n        }\n      }\n    } // parse nodes in FBXTree.Objects.AnimationLayer. Each layers holds references\n    // to various AnimationCurveNodes and is referenced by an AnimationStack node\n    // note: theoretically a stack can have multiple layers, however in practice there always seems to be one per stack\n\n  }, {\n    key: \"parseAnimationLayers\",\n    value: function parseAnimationLayers(curveNodesMap) {\n      var rawLayers = fbxTree.Objects.AnimationLayer;\n      var layersMap = new Map();\n\n      var _loop4 = function _loop4(nodeID) {\n        var layerCurveNodes = [];\n        var connection = connections.get(parseInt(nodeID));\n\n        if (connection !== undefined) {\n          // all the animationCurveNodes used in the layer\n          var children = connection.children;\n          children.forEach(function (child, i) {\n            if (curveNodesMap.has(child.ID)) {\n              var curveNode = curveNodesMap.get(child.ID); // check that the curves are defined for at least one axis, otherwise ignore the curveNode\n\n              if (curveNode.curves.x !== undefined || curveNode.curves.y !== undefined || curveNode.curves.z !== undefined) {\n                if (layerCurveNodes[i] === undefined) {\n                  var modelID = connections.get(child.ID).parents.filter(function (parent) {\n                    return parent.relationship !== undefined;\n                  })[0].ID;\n\n                  if (modelID !== undefined) {\n                    var rawModel = fbxTree.Objects.Model[modelID.toString()];\n\n                    if (rawModel === undefined) {\n                      console.warn('THREE.FBXLoader: Encountered a unused curve.', child);\n                      return;\n                    }\n\n                    var node = {\n                      modelName: rawModel.attrName ? PropertyBinding.sanitizeNodeName(rawModel.attrName) : '',\n                      ID: rawModel.id,\n                      initialPosition: [0, 0, 0],\n                      initialRotation: [0, 0, 0],\n                      initialScale: [1, 1, 1]\n                    };\n                    sceneGraph.traverse(function (child) {\n                      if (child.ID === rawModel.id) {\n                        node.transform = child.matrix;\n                        if (child.userData.transformData) node.eulerOrder = child.userData.transformData.eulerOrder;\n                      }\n                    });\n                    if (!node.transform) node.transform = new Matrix4(); // if the animated model is pre rotated, we'll have to apply the pre rotations to every\n                    // animation value as well\n\n                    if ('PreRotation' in rawModel) node.preRotation = rawModel.PreRotation.value;\n                    if ('PostRotation' in rawModel) node.postRotation = rawModel.PostRotation.value;\n                    layerCurveNodes[i] = node;\n                  }\n                }\n\n                if (layerCurveNodes[i]) layerCurveNodes[i][curveNode.attr] = curveNode;\n              } else if (curveNode.curves.morph !== undefined) {\n                if (layerCurveNodes[i] === undefined) {\n                  var deformerID = connections.get(child.ID).parents.filter(function (parent) {\n                    return parent.relationship !== undefined;\n                  })[0].ID;\n                  var morpherID = connections.get(deformerID).parents[0].ID;\n                  var geoID = connections.get(morpherID).parents[0].ID; // assuming geometry is not used in more than one model\n\n                  var _modelID = connections.get(geoID).parents[0].ID;\n                  var _rawModel = fbxTree.Objects.Model[_modelID];\n                  var _node = {\n                    modelName: _rawModel.attrName ? PropertyBinding.sanitizeNodeName(_rawModel.attrName) : '',\n                    morphName: fbxTree.Objects.Deformer[deformerID].attrName\n                  };\n                  layerCurveNodes[i] = _node;\n                }\n\n                layerCurveNodes[i][curveNode.attr] = curveNode;\n              }\n            }\n          });\n          layersMap.set(parseInt(nodeID), layerCurveNodes);\n        }\n      };\n\n      for (var nodeID in rawLayers) {\n        _loop4(nodeID);\n      }\n\n      return layersMap;\n    } // parse nodes in FBXTree.Objects.AnimationStack. These are the top level node in the animation\n    // hierarchy. Each Stack node will be used to create a AnimationClip\n\n  }, {\n    key: \"parseAnimStacks\",\n    value: function parseAnimStacks(layersMap) {\n      var rawStacks = fbxTree.Objects.AnimationStack; // connect the stacks (clips) up to the layers\n\n      var rawClips = {};\n\n      for (var nodeID in rawStacks) {\n        var children = connections.get(parseInt(nodeID)).children;\n\n        if (children.length > 1) {\n          // it seems like stacks will always be associated with a single layer. But just in case there are files\n          // where there are multiple layers per stack, we'll display a warning\n          console.warn('THREE.FBXLoader: Encountered an animation stack with multiple layers, this is currently not supported. Ignoring subsequent layers.');\n        }\n\n        var layer = layersMap.get(children[0].ID);\n        rawClips[nodeID] = {\n          name: rawStacks[nodeID].attrName,\n          layer: layer\n        };\n      }\n\n      return rawClips;\n    }\n  }, {\n    key: \"addClip\",\n    value: function addClip(rawClip) {\n      var tracks = [];\n      var scope = this;\n      rawClip.layer.forEach(function (rawTracks) {\n        tracks = tracks.concat(scope.generateTracks(rawTracks));\n      });\n      return new AnimationClip(rawClip.name, -1, tracks);\n    }\n  }, {\n    key: \"generateTracks\",\n    value: function generateTracks(rawTracks) {\n      var tracks = [];\n      var initialPosition = new Vector3();\n      var initialRotation = new Quaternion();\n      var initialScale = new Vector3();\n      if (rawTracks.transform) rawTracks.transform.decompose(initialPosition, initialRotation, initialScale);\n      initialPosition = initialPosition.toArray();\n      initialRotation = new Euler().setFromQuaternion(initialRotation, rawTracks.eulerOrder).toArray();\n      initialScale = initialScale.toArray();\n\n      if (rawTracks.T !== undefined && Object.keys(rawTracks.T.curves).length > 0) {\n        var positionTrack = this.generateVectorTrack(rawTracks.modelName, rawTracks.T.curves, initialPosition, 'position');\n        if (positionTrack !== undefined) tracks.push(positionTrack);\n      }\n\n      if (rawTracks.R !== undefined && Object.keys(rawTracks.R.curves).length > 0) {\n        var rotationTrack = this.generateRotationTrack(rawTracks.modelName, rawTracks.R.curves, initialRotation, rawTracks.preRotation, rawTracks.postRotation, rawTracks.eulerOrder);\n        if (rotationTrack !== undefined) tracks.push(rotationTrack);\n      }\n\n      if (rawTracks.S !== undefined && Object.keys(rawTracks.S.curves).length > 0) {\n        var scaleTrack = this.generateVectorTrack(rawTracks.modelName, rawTracks.S.curves, initialScale, 'scale');\n        if (scaleTrack !== undefined) tracks.push(scaleTrack);\n      }\n\n      if (rawTracks.DeformPercent !== undefined) {\n        var morphTrack = this.generateMorphTrack(rawTracks);\n        if (morphTrack !== undefined) tracks.push(morphTrack);\n      }\n\n      return tracks;\n    }\n  }, {\n    key: \"generateVectorTrack\",\n    value: function generateVectorTrack(modelName, curves, initialValue, type) {\n      var times = this.getTimesForAllAxes(curves);\n      var values = this.getKeyframeTrackValues(times, curves, initialValue);\n      return new VectorKeyframeTrack(modelName + '.' + type, times, values);\n    }\n  }, {\n    key: \"generateRotationTrack\",\n    value: function generateRotationTrack(modelName, curves, initialValue, preRotation, postRotation, eulerOrder) {\n      if (curves.x !== undefined) {\n        this.interpolateRotations(curves.x);\n        curves.x.values = curves.x.values.map(MathUtils.degToRad);\n      }\n\n      if (curves.y !== undefined) {\n        this.interpolateRotations(curves.y);\n        curves.y.values = curves.y.values.map(MathUtils.degToRad);\n      }\n\n      if (curves.z !== undefined) {\n        this.interpolateRotations(curves.z);\n        curves.z.values = curves.z.values.map(MathUtils.degToRad);\n      }\n\n      var times = this.getTimesForAllAxes(curves);\n      var values = this.getKeyframeTrackValues(times, curves, initialValue);\n\n      if (preRotation !== undefined) {\n        preRotation = preRotation.map(MathUtils.degToRad);\n        preRotation.push(eulerOrder);\n        preRotation = new Euler().fromArray(preRotation);\n        preRotation = new Quaternion().setFromEuler(preRotation);\n      }\n\n      if (postRotation !== undefined) {\n        postRotation = postRotation.map(MathUtils.degToRad);\n        postRotation.push(eulerOrder);\n        postRotation = new Euler().fromArray(postRotation);\n        postRotation = new Quaternion().setFromEuler(postRotation).invert();\n      }\n\n      var quaternion = new Quaternion();\n      var euler = new Euler();\n      var quaternionValues = [];\n\n      for (var i = 0; i < values.length; i += 3) {\n        euler.set(values[i], values[i + 1], values[i + 2], eulerOrder);\n        quaternion.setFromEuler(euler);\n        if (preRotation !== undefined) quaternion.premultiply(preRotation);\n        if (postRotation !== undefined) quaternion.multiply(postRotation);\n        quaternion.toArray(quaternionValues, i / 3 * 4);\n      }\n\n      return new QuaternionKeyframeTrack(modelName + '.quaternion', times, quaternionValues);\n    }\n  }, {\n    key: \"generateMorphTrack\",\n    value: function generateMorphTrack(rawTracks) {\n      var curves = rawTracks.DeformPercent.curves.morph;\n      var values = curves.values.map(function (val) {\n        return val / 100;\n      });\n      var morphNum = sceneGraph.getObjectByName(rawTracks.modelName).morphTargetDictionary[rawTracks.morphName];\n      return new NumberKeyframeTrack(rawTracks.modelName + '.morphTargetInfluences[' + morphNum + ']', curves.times, values);\n    } // For all animated objects, times are defined separately for each axis\n    // Here we'll combine the times into one sorted array without duplicates\n\n  }, {\n    key: \"getTimesForAllAxes\",\n    value: function getTimesForAllAxes(curves) {\n      var times = []; // first join together the times for each axis, if defined\n\n      if (curves.x !== undefined) times = times.concat(curves.x.times);\n      if (curves.y !== undefined) times = times.concat(curves.y.times);\n      if (curves.z !== undefined) times = times.concat(curves.z.times); // then sort them\n\n      times = times.sort(function (a, b) {\n        return a - b;\n      }); // and remove duplicates\n\n      if (times.length > 1) {\n        var targetIndex = 1;\n        var lastValue = times[0];\n\n        for (var i = 1; i < times.length; i++) {\n          var currentValue = times[i];\n\n          if (currentValue !== lastValue) {\n            times[targetIndex] = currentValue;\n            lastValue = currentValue;\n            targetIndex++;\n          }\n        }\n\n        times = times.slice(0, targetIndex);\n      }\n\n      return times;\n    }\n  }, {\n    key: \"getKeyframeTrackValues\",\n    value: function getKeyframeTrackValues(times, curves, initialValue) {\n      var prevValue = initialValue;\n      var values = [];\n      var xIndex = -1;\n      var yIndex = -1;\n      var zIndex = -1;\n      times.forEach(function (time) {\n        if (curves.x) xIndex = curves.x.times.indexOf(time);\n        if (curves.y) yIndex = curves.y.times.indexOf(time);\n        if (curves.z) zIndex = curves.z.times.indexOf(time); // if there is an x value defined for this frame, use that\n\n        if (xIndex !== -1) {\n          var xValue = curves.x.values[xIndex];\n          values.push(xValue);\n          prevValue[0] = xValue;\n        } else {\n          // otherwise use the x value from the previous frame\n          values.push(prevValue[0]);\n        }\n\n        if (yIndex !== -1) {\n          var yValue = curves.y.values[yIndex];\n          values.push(yValue);\n          prevValue[1] = yValue;\n        } else {\n          values.push(prevValue[1]);\n        }\n\n        if (zIndex !== -1) {\n          var zValue = curves.z.values[zIndex];\n          values.push(zValue);\n          prevValue[2] = zValue;\n        } else {\n          values.push(prevValue[2]);\n        }\n      });\n      return values;\n    } // Rotations are defined as Euler angles which can have values  of any size\n    // These will be converted to quaternions which don't support values greater than\n    // PI, so we'll interpolate large rotations\n\n  }, {\n    key: \"interpolateRotations\",\n    value: function interpolateRotations(curve) {\n      for (var i = 1; i < curve.values.length; i++) {\n        var initialValue = curve.values[i - 1];\n        var valuesSpan = curve.values[i] - initialValue;\n        var absoluteSpan = Math.abs(valuesSpan);\n\n        if (absoluteSpan >= 180) {\n          var numSubIntervals = absoluteSpan / 180;\n          var step = valuesSpan / numSubIntervals;\n          var nextValue = initialValue + step;\n          var initialTime = curve.times[i - 1];\n          var timeSpan = curve.times[i] - initialTime;\n          var interval = timeSpan / numSubIntervals;\n          var nextTime = initialTime + interval;\n          var interpolatedTimes = [];\n          var interpolatedValues = [];\n\n          while (nextTime < curve.times[i]) {\n            interpolatedTimes.push(nextTime);\n            nextTime += interval;\n            interpolatedValues.push(nextValue);\n            nextValue += step;\n          }\n\n          curve.times = inject(curve.times, i, interpolatedTimes);\n          curve.values = inject(curve.values, i, interpolatedValues);\n        }\n      }\n    }\n  }]);\n\n  return AnimationParser;\n}(); // parse an FBX file in ASCII format\n\n\nvar TextParser = /*#__PURE__*/function () {\n  function TextParser() {\n    _classCallCheck(this, TextParser);\n  }\n\n  _createClass(TextParser, [{\n    key: \"getPrevNode\",\n    value: function getPrevNode() {\n      return this.nodeStack[this.currentIndent - 2];\n    }\n  }, {\n    key: \"getCurrentNode\",\n    value: function getCurrentNode() {\n      return this.nodeStack[this.currentIndent - 1];\n    }\n  }, {\n    key: \"getCurrentProp\",\n    value: function getCurrentProp() {\n      return this.currentProp;\n    }\n  }, {\n    key: \"pushStack\",\n    value: function pushStack(node) {\n      this.nodeStack.push(node);\n      this.currentIndent += 1;\n    }\n  }, {\n    key: \"popStack\",\n    value: function popStack() {\n      this.nodeStack.pop();\n      this.currentIndent -= 1;\n    }\n  }, {\n    key: \"setCurrentProp\",\n    value: function setCurrentProp(val, name) {\n      this.currentProp = val;\n      this.currentPropName = name;\n    }\n  }, {\n    key: \"parse\",\n    value: function parse(text) {\n      this.currentIndent = 0;\n      this.allNodes = new FBXTree();\n      this.nodeStack = [];\n      this.currentProp = [];\n      this.currentPropName = '';\n      var scope = this;\n      var split = text.split(/[\\r\\n]+/);\n      split.forEach(function (line, i) {\n        var matchComment = line.match(/^[\\s\\t]*;/);\n        var matchEmpty = line.match(/^[\\s\\t]*$/);\n        if (matchComment || matchEmpty) return;\n        var matchBeginning = line.match('^\\\\t{' + scope.currentIndent + '}(\\\\w+):(.*){', '');\n        var matchProperty = line.match('^\\\\t{' + scope.currentIndent + '}(\\\\w+):[\\\\s\\\\t\\\\r\\\\n](.*)');\n        var matchEnd = line.match('^\\\\t{' + (scope.currentIndent - 1) + '}}');\n\n        if (matchBeginning) {\n          scope.parseNodeBegin(line, matchBeginning);\n        } else if (matchProperty) {\n          scope.parseNodeProperty(line, matchProperty, split[++i]);\n        } else if (matchEnd) {\n          scope.popStack();\n        } else if (line.match(/^[^\\s\\t}]/)) {\n          // large arrays are split over multiple lines terminated with a ',' character\n          // if this is encountered the line needs to be joined to the previous line\n          scope.parseNodePropertyContinued(line);\n        }\n      });\n      return this.allNodes;\n    }\n  }, {\n    key: \"parseNodeBegin\",\n    value: function parseNodeBegin(line, property) {\n      var nodeName = property[1].trim().replace(/^\"/, '').replace(/\"$/, '');\n      var nodeAttrs = property[2].split(',').map(function (attr) {\n        return attr.trim().replace(/^\"/, '').replace(/\"$/, '');\n      });\n      var node = {\n        name: nodeName\n      };\n      var attrs = this.parseNodeAttr(nodeAttrs);\n      var currentNode = this.getCurrentNode(); // a top node\n\n      if (this.currentIndent === 0) {\n        this.allNodes.add(nodeName, node);\n      } else {\n        // a subnode\n        // if the subnode already exists, append it\n        if (nodeName in currentNode) {\n          // special case Pose needs PoseNodes as an array\n          if (nodeName === 'PoseNode') {\n            currentNode.PoseNode.push(node);\n          } else if (currentNode[nodeName].id !== undefined) {\n            currentNode[nodeName] = {};\n            currentNode[nodeName][currentNode[nodeName].id] = currentNode[nodeName];\n          }\n\n          if (attrs.id !== '') currentNode[nodeName][attrs.id] = node;\n        } else if (typeof attrs.id === 'number') {\n          currentNode[nodeName] = {};\n          currentNode[nodeName][attrs.id] = node;\n        } else if (nodeName !== 'Properties70') {\n          if (nodeName === 'PoseNode') currentNode[nodeName] = [node];else currentNode[nodeName] = node;\n        }\n      }\n\n      if (typeof attrs.id === 'number') node.id = attrs.id;\n      if (attrs.name !== '') node.attrName = attrs.name;\n      if (attrs.type !== '') node.attrType = attrs.type;\n      this.pushStack(node);\n    }\n  }, {\n    key: \"parseNodeAttr\",\n    value: function parseNodeAttr(attrs) {\n      var id = attrs[0];\n\n      if (attrs[0] !== '') {\n        id = parseInt(attrs[0]);\n\n        if (isNaN(id)) {\n          id = attrs[0];\n        }\n      }\n\n      var name = '',\n          type = '';\n\n      if (attrs.length > 1) {\n        name = attrs[1].replace(/^(\\w+)::/, '');\n        type = attrs[2];\n      }\n\n      return {\n        id: id,\n        name: name,\n        type: type\n      };\n    }\n  }, {\n    key: \"parseNodeProperty\",\n    value: function parseNodeProperty(line, property, contentLine) {\n      var propName = property[1].replace(/^\"/, '').replace(/\"$/, '').trim();\n      var propValue = property[2].replace(/^\"/, '').replace(/\"$/, '').trim(); // for special case: base64 image data follows \"Content: ,\" line\n      //\tContent: ,\n      //\t \"/9j/4RDaRXhpZgAATU0A...\"\n\n      if (propName === 'Content' && propValue === ',') {\n        propValue = contentLine.replace(/\"/g, '').replace(/,$/, '').trim();\n      }\n\n      var currentNode = this.getCurrentNode();\n      var parentName = currentNode.name;\n\n      if (parentName === 'Properties70') {\n        this.parseNodeSpecialProperty(line, propName, propValue);\n        return;\n      } // Connections\n\n\n      if (propName === 'C') {\n        var connProps = propValue.split(',').slice(1);\n        var from = parseInt(connProps[0]);\n        var to = parseInt(connProps[1]);\n        var rest = propValue.split(',').slice(3);\n        rest = rest.map(function (elem) {\n          return elem.trim().replace(/^\"/, '');\n        });\n        propName = 'connections';\n        propValue = [from, to];\n        append(propValue, rest);\n\n        if (currentNode[propName] === undefined) {\n          currentNode[propName] = [];\n        }\n      } // Node\n\n\n      if (propName === 'Node') currentNode.id = propValue; // connections\n\n      if (propName in currentNode && Array.isArray(currentNode[propName])) {\n        currentNode[propName].push(propValue);\n      } else {\n        if (propName !== 'a') currentNode[propName] = propValue;else currentNode.a = propValue;\n      }\n\n      this.setCurrentProp(currentNode, propName); // convert string to array, unless it ends in ',' in which case more will be added to it\n\n      if (propName === 'a' && propValue.slice(-1) !== ',') {\n        currentNode.a = parseNumberArray(propValue);\n      }\n    }\n  }, {\n    key: \"parseNodePropertyContinued\",\n    value: function parseNodePropertyContinued(line) {\n      var currentNode = this.getCurrentNode();\n      currentNode.a += line; // if the line doesn't end in ',' we have reached the end of the property value\n      // so convert the string to an array\n\n      if (line.slice(-1) !== ',') {\n        currentNode.a = parseNumberArray(currentNode.a);\n      }\n    } // parse \"Property70\"\n\n  }, {\n    key: \"parseNodeSpecialProperty\",\n    value: function parseNodeSpecialProperty(line, propName, propValue) {\n      // split this\n      // P: \"Lcl Scaling\", \"Lcl Scaling\", \"\", \"A\",1,1,1\n      // into array like below\n      // [\"Lcl Scaling\", \"Lcl Scaling\", \"\", \"A\", \"1,1,1\" ]\n      var props = propValue.split('\",').map(function (prop) {\n        return prop.trim().replace(/^\\\"/, '').replace(/\\s/, '_');\n      });\n      var innerPropName = props[0];\n      var innerPropType1 = props[1];\n      var innerPropType2 = props[2];\n      var innerPropFlag = props[3];\n      var innerPropValue = props[4]; // cast values where needed, otherwise leave as strings\n\n      switch (innerPropType1) {\n        case 'int':\n        case 'enum':\n        case 'bool':\n        case 'ULongLong':\n        case 'double':\n        case 'Number':\n        case 'FieldOfView':\n          innerPropValue = parseFloat(innerPropValue);\n          break;\n\n        case 'Color':\n        case 'ColorRGB':\n        case 'Vector3D':\n        case 'Lcl_Translation':\n        case 'Lcl_Rotation':\n        case 'Lcl_Scaling':\n          innerPropValue = parseNumberArray(innerPropValue);\n          break;\n      } // CAUTION: these props must append to parent's parent\n\n\n      this.getPrevNode()[innerPropName] = {\n        'type': innerPropType1,\n        'type2': innerPropType2,\n        'flag': innerPropFlag,\n        'value': innerPropValue\n      };\n      this.setCurrentProp(this.getPrevNode(), innerPropName);\n    }\n  }]);\n\n  return TextParser;\n}(); // Parse an FBX file in Binary format\n\n\nvar BinaryParser = /*#__PURE__*/function () {\n  function BinaryParser() {\n    _classCallCheck(this, BinaryParser);\n  }\n\n  _createClass(BinaryParser, [{\n    key: \"parse\",\n    value: function parse(buffer) {\n      var reader = new BinaryReader(buffer);\n      reader.skip(23); // skip magic 23 bytes\n\n      var version = reader.getUint32();\n\n      if (version < 6400) {\n        throw new Error('THREE.FBXLoader: FBX version not supported, FileVersion: ' + version);\n      }\n\n      var allNodes = new FBXTree();\n\n      while (!this.endOfContent(reader)) {\n        var node = this.parseNode(reader, version);\n        if (node !== null) allNodes.add(node.name, node);\n      }\n\n      return allNodes;\n    } // Check if reader has reached the end of content.\n\n  }, {\n    key: \"endOfContent\",\n    value: function endOfContent(reader) {\n      // footer size: 160bytes + 16-byte alignment padding\n      // - 16bytes: magic\n      // - padding til 16-byte alignment (at least 1byte?)\n      //\t(seems like some exporters embed fixed 15 or 16bytes?)\n      // - 4bytes: magic\n      // - 4bytes: version\n      // - 120bytes: zero\n      // - 16bytes: magic\n      if (reader.size() % 16 === 0) {\n        return (reader.getOffset() + 160 + 16 & ~0xf) >= reader.size();\n      } else {\n        return reader.getOffset() + 160 + 16 >= reader.size();\n      }\n    } // recursively parse nodes until the end of the file is reached\n\n  }, {\n    key: \"parseNode\",\n    value: function parseNode(reader, version) {\n      var node = {}; // The first three data sizes depends on version.\n\n      var endOffset = version >= 7500 ? reader.getUint64() : reader.getUint32();\n      var numProperties = version >= 7500 ? reader.getUint64() : reader.getUint32();\n      version >= 7500 ? reader.getUint64() : reader.getUint32(); // the returned propertyListLen is not used\n\n      var nameLen = reader.getUint8();\n      var name = reader.getString(nameLen); // Regards this node as NULL-record if endOffset is zero\n\n      if (endOffset === 0) return null;\n      var propertyList = [];\n\n      for (var i = 0; i < numProperties; i++) {\n        propertyList.push(this.parseProperty(reader));\n      } // Regards the first three elements in propertyList as id, attrName, and attrType\n\n\n      var id = propertyList.length > 0 ? propertyList[0] : '';\n      var attrName = propertyList.length > 1 ? propertyList[1] : '';\n      var attrType = propertyList.length > 2 ? propertyList[2] : ''; // check if this node represents just a single property\n      // like (name, 0) set or (name2, [0, 1, 2]) set of {name: 0, name2: [0, 1, 2]}\n\n      node.singleProperty = numProperties === 1 && reader.getOffset() === endOffset ? true : false;\n\n      while (endOffset > reader.getOffset()) {\n        var subNode = this.parseNode(reader, version);\n        if (subNode !== null) this.parseSubNode(name, node, subNode);\n      }\n\n      node.propertyList = propertyList; // raw property list used by parent\n\n      if (typeof id === 'number') node.id = id;\n      if (attrName !== '') node.attrName = attrName;\n      if (attrType !== '') node.attrType = attrType;\n      if (name !== '') node.name = name;\n      return node;\n    }\n  }, {\n    key: \"parseSubNode\",\n    value: function parseSubNode(name, node, subNode) {\n      // special case: child node is single property\n      if (subNode.singleProperty === true) {\n        var value = subNode.propertyList[0];\n\n        if (Array.isArray(value)) {\n          node[subNode.name] = subNode;\n          subNode.a = value;\n        } else {\n          node[subNode.name] = value;\n        }\n      } else if (name === 'Connections' && subNode.name === 'C') {\n        var array = [];\n        subNode.propertyList.forEach(function (property, i) {\n          // first Connection is FBX type (OO, OP, etc.). We'll discard these\n          if (i !== 0) array.push(property);\n        });\n\n        if (node.connections === undefined) {\n          node.connections = [];\n        }\n\n        node.connections.push(array);\n      } else if (subNode.name === 'Properties70') {\n        var keys = Object.keys(subNode);\n        keys.forEach(function (key) {\n          node[key] = subNode[key];\n        });\n      } else if (name === 'Properties70' && subNode.name === 'P') {\n        var innerPropName = subNode.propertyList[0];\n        var innerPropType1 = subNode.propertyList[1];\n        var innerPropType2 = subNode.propertyList[2];\n        var innerPropFlag = subNode.propertyList[3];\n        var innerPropValue;\n        if (innerPropName.indexOf('Lcl ') === 0) innerPropName = innerPropName.replace('Lcl ', 'Lcl_');\n        if (innerPropType1.indexOf('Lcl ') === 0) innerPropType1 = innerPropType1.replace('Lcl ', 'Lcl_');\n\n        if (innerPropType1 === 'Color' || innerPropType1 === 'ColorRGB' || innerPropType1 === 'Vector' || innerPropType1 === 'Vector3D' || innerPropType1.indexOf('Lcl_') === 0) {\n          innerPropValue = [subNode.propertyList[4], subNode.propertyList[5], subNode.propertyList[6]];\n        } else {\n          innerPropValue = subNode.propertyList[4];\n        } // this will be copied to parent, see above\n\n\n        node[innerPropName] = {\n          'type': innerPropType1,\n          'type2': innerPropType2,\n          'flag': innerPropFlag,\n          'value': innerPropValue\n        };\n      } else if (node[subNode.name] === undefined) {\n        if (typeof subNode.id === 'number') {\n          node[subNode.name] = {};\n          node[subNode.name][subNode.id] = subNode;\n        } else {\n          node[subNode.name] = subNode;\n        }\n      } else {\n        if (subNode.name === 'PoseNode') {\n          if (!Array.isArray(node[subNode.name])) {\n            node[subNode.name] = [node[subNode.name]];\n          }\n\n          node[subNode.name].push(subNode);\n        } else if (node[subNode.name][subNode.id] === undefined) {\n          node[subNode.name][subNode.id] = subNode;\n        }\n      }\n    }\n  }, {\n    key: \"parseProperty\",\n    value: function parseProperty(reader) {\n      var type = reader.getString(1);\n      var length;\n\n      switch (type) {\n        case 'C':\n          return reader.getBoolean();\n\n        case 'D':\n          return reader.getFloat64();\n\n        case 'F':\n          return reader.getFloat32();\n\n        case 'I':\n          return reader.getInt32();\n\n        case 'L':\n          return reader.getInt64();\n\n        case 'R':\n          length = reader.getUint32();\n          return reader.getArrayBuffer(length);\n\n        case 'S':\n          length = reader.getUint32();\n          return reader.getString(length);\n\n        case 'Y':\n          return reader.getInt16();\n\n        case 'b':\n        case 'c':\n        case 'd':\n        case 'f':\n        case 'i':\n        case 'l':\n          var arrayLength = reader.getUint32();\n          var encoding = reader.getUint32(); // 0: non-compressed, 1: compressed\n\n          var compressedLength = reader.getUint32();\n\n          if (encoding === 0) {\n            switch (type) {\n              case 'b':\n              case 'c':\n                return reader.getBooleanArray(arrayLength);\n\n              case 'd':\n                return reader.getFloat64Array(arrayLength);\n\n              case 'f':\n                return reader.getFloat32Array(arrayLength);\n\n              case 'i':\n                return reader.getInt32Array(arrayLength);\n\n              case 'l':\n                return reader.getInt64Array(arrayLength);\n            }\n          }\n\n          if (typeof fflate === 'undefined') {\n            console.error('THREE.FBXLoader: External library fflate.min.js required.');\n          }\n\n          var data = fflate.unzlibSync(new Uint8Array(reader.getArrayBuffer(compressedLength))); // eslint-disable-line no-undef\n\n          var reader2 = new BinaryReader(data.buffer);\n\n          switch (type) {\n            case 'b':\n            case 'c':\n              return reader2.getBooleanArray(arrayLength);\n\n            case 'd':\n              return reader2.getFloat64Array(arrayLength);\n\n            case 'f':\n              return reader2.getFloat32Array(arrayLength);\n\n            case 'i':\n              return reader2.getInt32Array(arrayLength);\n\n            case 'l':\n              return reader2.getInt64Array(arrayLength);\n          }\n\n        default:\n          throw new Error('THREE.FBXLoader: Unknown property type ' + type);\n      }\n    }\n  }]);\n\n  return BinaryParser;\n}();\n\nvar BinaryReader = /*#__PURE__*/function () {\n  function BinaryReader(buffer, littleEndian) {\n    _classCallCheck(this, BinaryReader);\n\n    this.dv = new DataView(buffer);\n    this.offset = 0;\n    this.littleEndian = littleEndian !== undefined ? littleEndian : true;\n  }\n\n  _createClass(BinaryReader, [{\n    key: \"getOffset\",\n    value: function getOffset() {\n      return this.offset;\n    }\n  }, {\n    key: \"size\",\n    value: function size() {\n      return this.dv.buffer.byteLength;\n    }\n  }, {\n    key: \"skip\",\n    value: function skip(length) {\n      this.offset += length;\n    } // seems like true/false representation depends on exporter.\n    // true: 1 or 'Y'(=0x59), false: 0 or 'T'(=0x54)\n    // then sees LSB.\n\n  }, {\n    key: \"getBoolean\",\n    value: function getBoolean() {\n      return (this.getUint8() & 1) === 1;\n    }\n  }, {\n    key: \"getBooleanArray\",\n    value: function getBooleanArray(size) {\n      var a = [];\n\n      for (var i = 0; i < size; i++) {\n        a.push(this.getBoolean());\n      }\n\n      return a;\n    }\n  }, {\n    key: \"getUint8\",\n    value: function getUint8() {\n      var value = this.dv.getUint8(this.offset);\n      this.offset += 1;\n      return value;\n    }\n  }, {\n    key: \"getInt16\",\n    value: function getInt16() {\n      var value = this.dv.getInt16(this.offset, this.littleEndian);\n      this.offset += 2;\n      return value;\n    }\n  }, {\n    key: \"getInt32\",\n    value: function getInt32() {\n      var value = this.dv.getInt32(this.offset, this.littleEndian);\n      this.offset += 4;\n      return value;\n    }\n  }, {\n    key: \"getInt32Array\",\n    value: function getInt32Array(size) {\n      var a = [];\n\n      for (var i = 0; i < size; i++) {\n        a.push(this.getInt32());\n      }\n\n      return a;\n    }\n  }, {\n    key: \"getUint32\",\n    value: function getUint32() {\n      var value = this.dv.getUint32(this.offset, this.littleEndian);\n      this.offset += 4;\n      return value;\n    } // JavaScript doesn't support 64-bit integer so calculate this here\n    // 1 << 32 will return 1 so using multiply operation instead here.\n    // There's a possibility that this method returns wrong value if the value\n    // is out of the range between Number.MAX_SAFE_INTEGER and Number.MIN_SAFE_INTEGER.\n    // TODO: safely handle 64-bit integer\n\n  }, {\n    key: \"getInt64\",\n    value: function getInt64() {\n      var low, high;\n\n      if (this.littleEndian) {\n        low = this.getUint32();\n        high = this.getUint32();\n      } else {\n        high = this.getUint32();\n        low = this.getUint32();\n      } // calculate negative value\n\n\n      if (high & 0x80000000) {\n        high = ~high & 0xFFFFFFFF;\n        low = ~low & 0xFFFFFFFF;\n        if (low === 0xFFFFFFFF) high = high + 1 & 0xFFFFFFFF;\n        low = low + 1 & 0xFFFFFFFF;\n        return -(high * 0x100000000 + low);\n      }\n\n      return high * 0x100000000 + low;\n    }\n  }, {\n    key: \"getInt64Array\",\n    value: function getInt64Array(size) {\n      var a = [];\n\n      for (var i = 0; i < size; i++) {\n        a.push(this.getInt64());\n      }\n\n      return a;\n    } // Note: see getInt64() comment\n\n  }, {\n    key: \"getUint64\",\n    value: function getUint64() {\n      var low, high;\n\n      if (this.littleEndian) {\n        low = this.getUint32();\n        high = this.getUint32();\n      } else {\n        high = this.getUint32();\n        low = this.getUint32();\n      }\n\n      return high * 0x100000000 + low;\n    }\n  }, {\n    key: \"getFloat32\",\n    value: function getFloat32() {\n      var value = this.dv.getFloat32(this.offset, this.littleEndian);\n      this.offset += 4;\n      return value;\n    }\n  }, {\n    key: \"getFloat32Array\",\n    value: function getFloat32Array(size) {\n      var a = [];\n\n      for (var i = 0; i < size; i++) {\n        a.push(this.getFloat32());\n      }\n\n      return a;\n    }\n  }, {\n    key: \"getFloat64\",\n    value: function getFloat64() {\n      var value = this.dv.getFloat64(this.offset, this.littleEndian);\n      this.offset += 8;\n      return value;\n    }\n  }, {\n    key: \"getFloat64Array\",\n    value: function getFloat64Array(size) {\n      var a = [];\n\n      for (var i = 0; i < size; i++) {\n        a.push(this.getFloat64());\n      }\n\n      return a;\n    }\n  }, {\n    key: \"getArrayBuffer\",\n    value: function getArrayBuffer(size) {\n      var value = this.dv.buffer.slice(this.offset, this.offset + size);\n      this.offset += size;\n      return value;\n    }\n  }, {\n    key: \"getString\",\n    value: function getString(size) {\n      // note: safari 9 doesn't support Uint8Array.indexOf; create intermediate array instead\n      var a = [];\n\n      for (var i = 0; i < size; i++) {\n        a[i] = this.getUint8();\n      }\n\n      var nullByte = a.indexOf(0);\n      if (nullByte >= 0) a = a.slice(0, nullByte);\n      return LoaderUtils.decodeText(new Uint8Array(a));\n    }\n  }]);\n\n  return BinaryReader;\n}(); // FBXTree holds a representation of the FBX data, returned by the TextParser ( FBX ASCII format)\n// and BinaryParser( FBX Binary format)\n\n\nvar FBXTree = /*#__PURE__*/function () {\n  function FBXTree() {\n    _classCallCheck(this, FBXTree);\n  }\n\n  _createClass(FBXTree, [{\n    key: \"add\",\n    value: function add(key, val) {\n      this[key] = val;\n    }\n  }]);\n\n  return FBXTree;\n}(); // ************** UTILITY FUNCTIONS **************\n\n\nfunction isFbxFormatBinary(buffer) {\n  var CORRECT = \"Kaydara FBX Binary  \\0\";\n  return buffer.byteLength >= CORRECT.length && CORRECT === convertArrayBufferToString(buffer, 0, CORRECT.length);\n}\n\nfunction isFbxFormatASCII(text) {\n  var CORRECT = ['K', 'a', 'y', 'd', 'a', 'r', 'a', '\\\\', 'F', 'B', 'X', '\\\\', 'B', 'i', 'n', 'a', 'r', 'y', '\\\\', '\\\\'];\n  var cursor = 0;\n\n  function read(offset) {\n    var result = text[offset - 1];\n    text = text.slice(cursor + offset);\n    cursor++;\n    return result;\n  }\n\n  for (var i = 0; i < CORRECT.length; ++i) {\n    var num = read(1);\n\n    if (num === CORRECT[i]) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction getFbxVersion(text) {\n  var versionRegExp = /FBXVersion: (\\d+)/;\n  var match = text.match(versionRegExp);\n\n  if (match) {\n    var version = parseInt(match[1]);\n    return version;\n  }\n\n  throw new Error('THREE.FBXLoader: Cannot find the version number for the file given.');\n} // Converts FBX ticks into real time seconds.\n\n\nfunction convertFBXTimeToSeconds(time) {\n  return time / 46186158000;\n}\n\nvar dataArray = []; // extracts the data from the correct position in the FBX array based on indexing type\n\nfunction getData(polygonVertexIndex, polygonIndex, vertexIndex, infoObject) {\n  var index;\n\n  switch (infoObject.mappingType) {\n    case 'ByPolygonVertex':\n      index = polygonVertexIndex;\n      break;\n\n    case 'ByPolygon':\n      index = polygonIndex;\n      break;\n\n    case 'ByVertice':\n      index = vertexIndex;\n      break;\n\n    case 'AllSame':\n      index = infoObject.indices[0];\n      break;\n\n    default:\n      console.warn('THREE.FBXLoader: unknown attribute mapping type ' + infoObject.mappingType);\n  }\n\n  if (infoObject.referenceType === 'IndexToDirect') index = infoObject.indices[index];\n  var from = index * infoObject.dataSize;\n  var to = from + infoObject.dataSize;\n  return slice(dataArray, infoObject.buffer, from, to);\n}\n\nvar tempEuler = new Euler();\nvar tempVec = new Vector3(); // generate transformation from FBX transform data\n// ref: https://help.autodesk.com/view/FBX/2017/ENU/?guid=__files_GUID_10CDD63C_79C1_4F2D_BB28_AD2BE65A02ED_htm\n// ref: http://docs.autodesk.com/FBX/2014/ENU/FBX-SDK-Documentation/index.html?url=cpp_ref/_transformations_2main_8cxx-example.html,topicNumber=cpp_ref__transformations_2main_8cxx_example_htmlfc10a1e1-b18d-4e72-9dc0-70d0f1959f5e\n\nfunction generateTransform(transformData) {\n  var lTranslationM = new Matrix4();\n  var lPreRotationM = new Matrix4();\n  var lRotationM = new Matrix4();\n  var lPostRotationM = new Matrix4();\n  var lScalingM = new Matrix4();\n  var lScalingPivotM = new Matrix4();\n  var lScalingOffsetM = new Matrix4();\n  var lRotationOffsetM = new Matrix4();\n  var lRotationPivotM = new Matrix4();\n  var lParentGX = new Matrix4();\n  var lParentLX = new Matrix4();\n  var lGlobalT = new Matrix4();\n  var inheritType = transformData.inheritType ? transformData.inheritType : 0;\n  if (transformData.translation) lTranslationM.setPosition(tempVec.fromArray(transformData.translation));\n\n  if (transformData.preRotation) {\n    var array = transformData.preRotation.map(MathUtils.degToRad);\n    array.push(transformData.eulerOrder);\n    lPreRotationM.makeRotationFromEuler(tempEuler.fromArray(array));\n  }\n\n  if (transformData.rotation) {\n    var _array = transformData.rotation.map(MathUtils.degToRad);\n\n    _array.push(transformData.eulerOrder);\n\n    lRotationM.makeRotationFromEuler(tempEuler.fromArray(_array));\n  }\n\n  if (transformData.postRotation) {\n    var _array2 = transformData.postRotation.map(MathUtils.degToRad);\n\n    _array2.push(transformData.eulerOrder);\n\n    lPostRotationM.makeRotationFromEuler(tempEuler.fromArray(_array2));\n    lPostRotationM.invert();\n  }\n\n  if (transformData.scale) lScalingM.scale(tempVec.fromArray(transformData.scale)); // Pivots and offsets\n\n  if (transformData.scalingOffset) lScalingOffsetM.setPosition(tempVec.fromArray(transformData.scalingOffset));\n  if (transformData.scalingPivot) lScalingPivotM.setPosition(tempVec.fromArray(transformData.scalingPivot));\n  if (transformData.rotationOffset) lRotationOffsetM.setPosition(tempVec.fromArray(transformData.rotationOffset));\n  if (transformData.rotationPivot) lRotationPivotM.setPosition(tempVec.fromArray(transformData.rotationPivot)); // parent transform\n\n  if (transformData.parentMatrixWorld) {\n    lParentLX.copy(transformData.parentMatrix);\n    lParentGX.copy(transformData.parentMatrixWorld);\n  }\n\n  var lLRM = lPreRotationM.clone().multiply(lRotationM).multiply(lPostRotationM); // Global Rotation\n\n  var lParentGRM = new Matrix4();\n  lParentGRM.extractRotation(lParentGX); // Global Shear*Scaling\n\n  var lParentTM = new Matrix4();\n  lParentTM.copyPosition(lParentGX);\n  var lParentGRSM = lParentTM.clone().invert().multiply(lParentGX);\n  var lParentGSM = lParentGRM.clone().invert().multiply(lParentGRSM);\n  var lLSM = lScalingM;\n  var lGlobalRS = new Matrix4();\n\n  if (inheritType === 0) {\n    lGlobalRS.copy(lParentGRM).multiply(lLRM).multiply(lParentGSM).multiply(lLSM);\n  } else if (inheritType === 1) {\n    lGlobalRS.copy(lParentGRM).multiply(lParentGSM).multiply(lLRM).multiply(lLSM);\n  } else {\n    var lParentLSM = new Matrix4().scale(new Vector3().setFromMatrixScale(lParentLX));\n    var lParentLSM_inv = lParentLSM.clone().invert();\n    var lParentGSM_noLocal = lParentGSM.clone().multiply(lParentLSM_inv);\n    lGlobalRS.copy(lParentGRM).multiply(lLRM).multiply(lParentGSM_noLocal).multiply(lLSM);\n  }\n\n  var lRotationPivotM_inv = lRotationPivotM.clone().invert();\n  var lScalingPivotM_inv = lScalingPivotM.clone().invert(); // Calculate the local transform matrix\n\n  var lTransform = lTranslationM.clone().multiply(lRotationOffsetM).multiply(lRotationPivotM).multiply(lPreRotationM).multiply(lRotationM).multiply(lPostRotationM).multiply(lRotationPivotM_inv).multiply(lScalingOffsetM).multiply(lScalingPivotM).multiply(lScalingM).multiply(lScalingPivotM_inv);\n  var lLocalTWithAllPivotAndOffsetInfo = new Matrix4().copyPosition(lTransform);\n  var lGlobalTranslation = lParentGX.clone().multiply(lLocalTWithAllPivotAndOffsetInfo);\n  lGlobalT.copyPosition(lGlobalTranslation);\n  lTransform = lGlobalT.clone().multiply(lGlobalRS); // from global to local\n\n  lTransform.premultiply(lParentGX.invert());\n  return lTransform;\n} // Returns the three.js intrinsic Euler order corresponding to FBX extrinsic Euler order\n// ref: http://help.autodesk.com/view/FBX/2017/ENU/?guid=__cpp_ref_class_fbx_euler_html\n\n\nfunction getEulerOrder(order) {\n  order = order || 0;\n  var enums = ['ZYX', // -> XYZ extrinsic\n  'YZX', // -> XZY extrinsic\n  'XZY', // -> YZX extrinsic\n  'ZXY', // -> YXZ extrinsic\n  'YXZ', // -> ZXY extrinsic\n  'XYZ' // -> ZYX extrinsic\n  //'SphericXYZ', // not possible to support\n  ];\n\n  if (order === 6) {\n    console.warn('THREE.FBXLoader: unsupported Euler Order: Spherical XYZ. Animations and rotations may be incorrect.');\n    return enums[0];\n  }\n\n  return enums[order];\n} // Parses comma separated list of numbers and returns them an array.\n// Used internally by the TextParser\n\n\nfunction parseNumberArray(value) {\n  var array = value.split(',').map(function (val) {\n    return parseFloat(val);\n  });\n  return array;\n}\n\nfunction convertArrayBufferToString(buffer, from, to) {\n  if (from === undefined) from = 0;\n  if (to === undefined) to = buffer.byteLength;\n  return LoaderUtils.decodeText(new Uint8Array(buffer, from, to));\n}\n\nfunction append(a, b) {\n  for (var i = 0, j = a.length, l = b.length; i < l; i++, j++) {\n    a[j] = b[i];\n  }\n}\n\nfunction slice(a, b, from, to) {\n  for (var i = from, j = 0; i < to; i++, j++) {\n    a[j] = b[i];\n  }\n\n  return a;\n} // inject array a2 into array a1 at index\n\n\nfunction inject(a1, index, a2) {\n  return a1.slice(0, index).concat(a2).concat(a1.slice(index));\n}\n\nexport { FBXLoader };","import { SpotLight, SpotLightHelper } from \"three\";\r\n\r\nexport default function addSpotlight(positions, target, name){\r\n    let { x, z } = positions\r\n    //let lightX = -(length+2-78)/2+length/2 \r\n    //let lightZ = -27-(width-2-27)/2 - 3\r\n\r\n    let inc = null;\r\n    let targetFix = 0;\r\n\r\n    if(name.toLowerCase().includes('bottom')){\r\n        inc = -4\r\n        targetFix = 12\r\n    }else{\r\n        inc = 4\r\n        targetFix = -4\r\n    }\r\n    let spotLight = new SpotLight(0xffa95c, 0.6,0, 0.9, 0.2);\r\n    spotLight.castShadow = true;\r\n    spotLight.shadow.bias = -0.0001;\r\n    spotLight.shadow.mapSize.width = 1024*10\r\n    spotLight.shadow.mapSize.height = 1024*10\r\n    spotLight.target.position.set(target.x,target.y,target.z + targetFix)\r\n    spotLight.position.set(x, 25, z + inc)\r\n    \r\n    //let sHelper = new SpotLightHelper(spotLight)\r\n    //window.scene.add(sHelper)\r\n    //sHelper.update()\r\n    spotLight.name = name\r\n    window.scene.add( spotLight )\r\n    window.scene.add( spotLight.target \t)\r\n}","import _classCallCheck from \"D:/Projects/Tennis/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:/Projects/Tennis/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"D:/Projects/Tennis/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"D:/Projects/Tennis/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:/Projects/Tennis/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport \"core-js/modules/es.string.trim-start.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport { BufferGeometry, FileLoader, Float32BufferAttribute, Group, LineBasicMaterial, LineSegments, Loader, Material, Mesh, MeshPhongMaterial, Points, PointsMaterial, Vector3 } from 'three'; // o object_name | g group_name\n\nvar _object_pattern = /^[og]\\s*(.+)?/; // mtllib file_reference\n\nvar _material_library_pattern = /^mtllib /; // usemtl material_name\n\nvar _material_use_pattern = /^usemtl /; // usemap map_name\n\nvar _map_use_pattern = /^usemap /;\n\nvar _vA = new Vector3();\n\nvar _vB = new Vector3();\n\nvar _vC = new Vector3();\n\nvar _ab = new Vector3();\n\nvar _cb = new Vector3();\n\nfunction ParserState() {\n  var state = {\n    objects: [],\n    object: {},\n    vertices: [],\n    normals: [],\n    colors: [],\n    uvs: [],\n    materials: {},\n    materialLibraries: [],\n    startObject: function startObject(name, fromDeclaration) {\n      // If the current object (initial from reset) is not from a g/o declaration in the parsed\n      // file. We need to use it for the first parsed g/o to keep things in sync.\n      if (this.object && this.object.fromDeclaration === false) {\n        this.object.name = name;\n        this.object.fromDeclaration = fromDeclaration !== false;\n        return;\n      }\n\n      var previousMaterial = this.object && typeof this.object.currentMaterial === 'function' ? this.object.currentMaterial() : undefined;\n\n      if (this.object && typeof this.object._finalize === 'function') {\n        this.object._finalize(true);\n      }\n\n      this.object = {\n        name: name || '',\n        fromDeclaration: fromDeclaration !== false,\n        geometry: {\n          vertices: [],\n          normals: [],\n          colors: [],\n          uvs: [],\n          hasUVIndices: false\n        },\n        materials: [],\n        smooth: true,\n        startMaterial: function startMaterial(name, libraries) {\n          var previous = this._finalize(false); // New usemtl declaration overwrites an inherited material, except if faces were declared\n          // after the material, then it must be preserved for proper MultiMaterial continuation.\n\n\n          if (previous && (previous.inherited || previous.groupCount <= 0)) {\n            this.materials.splice(previous.index, 1);\n          }\n\n          var material = {\n            index: this.materials.length,\n            name: name || '',\n            mtllib: Array.isArray(libraries) && libraries.length > 0 ? libraries[libraries.length - 1] : '',\n            smooth: previous !== undefined ? previous.smooth : this.smooth,\n            groupStart: previous !== undefined ? previous.groupEnd : 0,\n            groupEnd: -1,\n            groupCount: -1,\n            inherited: false,\n            clone: function clone(index) {\n              var cloned = {\n                index: typeof index === 'number' ? index : this.index,\n                name: this.name,\n                mtllib: this.mtllib,\n                smooth: this.smooth,\n                groupStart: 0,\n                groupEnd: -1,\n                groupCount: -1,\n                inherited: false\n              };\n              cloned.clone = this.clone.bind(cloned);\n              return cloned;\n            }\n          };\n          this.materials.push(material);\n          return material;\n        },\n        currentMaterial: function currentMaterial() {\n          if (this.materials.length > 0) {\n            return this.materials[this.materials.length - 1];\n          }\n\n          return undefined;\n        },\n        _finalize: function _finalize(end) {\n          var lastMultiMaterial = this.currentMaterial();\n\n          if (lastMultiMaterial && lastMultiMaterial.groupEnd === -1) {\n            lastMultiMaterial.groupEnd = this.geometry.vertices.length / 3;\n            lastMultiMaterial.groupCount = lastMultiMaterial.groupEnd - lastMultiMaterial.groupStart;\n            lastMultiMaterial.inherited = false;\n          } // Ignore objects tail materials if no face declarations followed them before a new o/g started.\n\n\n          if (end && this.materials.length > 1) {\n            for (var mi = this.materials.length - 1; mi >= 0; mi--) {\n              if (this.materials[mi].groupCount <= 0) {\n                this.materials.splice(mi, 1);\n              }\n            }\n          } // Guarantee at least one empty material, this makes the creation later more straight forward.\n\n\n          if (end && this.materials.length === 0) {\n            this.materials.push({\n              name: '',\n              smooth: this.smooth\n            });\n          }\n\n          return lastMultiMaterial;\n        }\n      }; // Inherit previous objects material.\n      // Spec tells us that a declared material must be set to all objects until a new material is declared.\n      // If a usemtl declaration is encountered while this new object is being parsed, it will\n      // overwrite the inherited material. Exception being that there was already face declarations\n      // to the inherited material, then it will be preserved for proper MultiMaterial continuation.\n\n      if (previousMaterial && previousMaterial.name && typeof previousMaterial.clone === 'function') {\n        var declared = previousMaterial.clone(0);\n        declared.inherited = true;\n        this.object.materials.push(declared);\n      }\n\n      this.objects.push(this.object);\n    },\n    finalize: function finalize() {\n      if (this.object && typeof this.object._finalize === 'function') {\n        this.object._finalize(true);\n      }\n    },\n    parseVertexIndex: function parseVertexIndex(value, len) {\n      var index = parseInt(value, 10);\n      return (index >= 0 ? index - 1 : index + len / 3) * 3;\n    },\n    parseNormalIndex: function parseNormalIndex(value, len) {\n      var index = parseInt(value, 10);\n      return (index >= 0 ? index - 1 : index + len / 3) * 3;\n    },\n    parseUVIndex: function parseUVIndex(value, len) {\n      var index = parseInt(value, 10);\n      return (index >= 0 ? index - 1 : index + len / 2) * 2;\n    },\n    addVertex: function addVertex(a, b, c) {\n      var src = this.vertices;\n      var dst = this.object.geometry.vertices;\n      dst.push(src[a + 0], src[a + 1], src[a + 2]);\n      dst.push(src[b + 0], src[b + 1], src[b + 2]);\n      dst.push(src[c + 0], src[c + 1], src[c + 2]);\n    },\n    addVertexPoint: function addVertexPoint(a) {\n      var src = this.vertices;\n      var dst = this.object.geometry.vertices;\n      dst.push(src[a + 0], src[a + 1], src[a + 2]);\n    },\n    addVertexLine: function addVertexLine(a) {\n      var src = this.vertices;\n      var dst = this.object.geometry.vertices;\n      dst.push(src[a + 0], src[a + 1], src[a + 2]);\n    },\n    addNormal: function addNormal(a, b, c) {\n      var src = this.normals;\n      var dst = this.object.geometry.normals;\n      dst.push(src[a + 0], src[a + 1], src[a + 2]);\n      dst.push(src[b + 0], src[b + 1], src[b + 2]);\n      dst.push(src[c + 0], src[c + 1], src[c + 2]);\n    },\n    addFaceNormal: function addFaceNormal(a, b, c) {\n      var src = this.vertices;\n      var dst = this.object.geometry.normals;\n\n      _vA.fromArray(src, a);\n\n      _vB.fromArray(src, b);\n\n      _vC.fromArray(src, c);\n\n      _cb.subVectors(_vC, _vB);\n\n      _ab.subVectors(_vA, _vB);\n\n      _cb.cross(_ab);\n\n      _cb.normalize();\n\n      dst.push(_cb.x, _cb.y, _cb.z);\n      dst.push(_cb.x, _cb.y, _cb.z);\n      dst.push(_cb.x, _cb.y, _cb.z);\n    },\n    addColor: function addColor(a, b, c) {\n      var src = this.colors;\n      var dst = this.object.geometry.colors;\n      if (src[a] !== undefined) dst.push(src[a + 0], src[a + 1], src[a + 2]);\n      if (src[b] !== undefined) dst.push(src[b + 0], src[b + 1], src[b + 2]);\n      if (src[c] !== undefined) dst.push(src[c + 0], src[c + 1], src[c + 2]);\n    },\n    addUV: function addUV(a, b, c) {\n      var src = this.uvs;\n      var dst = this.object.geometry.uvs;\n      dst.push(src[a + 0], src[a + 1]);\n      dst.push(src[b + 0], src[b + 1]);\n      dst.push(src[c + 0], src[c + 1]);\n    },\n    addDefaultUV: function addDefaultUV() {\n      var dst = this.object.geometry.uvs;\n      dst.push(0, 0);\n      dst.push(0, 0);\n      dst.push(0, 0);\n    },\n    addUVLine: function addUVLine(a) {\n      var src = this.uvs;\n      var dst = this.object.geometry.uvs;\n      dst.push(src[a + 0], src[a + 1]);\n    },\n    addFace: function addFace(a, b, c, ua, ub, uc, na, nb, nc) {\n      var vLen = this.vertices.length;\n      var ia = this.parseVertexIndex(a, vLen);\n      var ib = this.parseVertexIndex(b, vLen);\n      var ic = this.parseVertexIndex(c, vLen);\n      this.addVertex(ia, ib, ic);\n      this.addColor(ia, ib, ic); // normals\n\n      if (na !== undefined && na !== '') {\n        var nLen = this.normals.length;\n        ia = this.parseNormalIndex(na, nLen);\n        ib = this.parseNormalIndex(nb, nLen);\n        ic = this.parseNormalIndex(nc, nLen);\n        this.addNormal(ia, ib, ic);\n      } else {\n        this.addFaceNormal(ia, ib, ic);\n      } // uvs\n\n\n      if (ua !== undefined && ua !== '') {\n        var uvLen = this.uvs.length;\n        ia = this.parseUVIndex(ua, uvLen);\n        ib = this.parseUVIndex(ub, uvLen);\n        ic = this.parseUVIndex(uc, uvLen);\n        this.addUV(ia, ib, ic);\n        this.object.geometry.hasUVIndices = true;\n      } else {\n        // add placeholder values (for inconsistent face definitions)\n        this.addDefaultUV();\n      }\n    },\n    addPointGeometry: function addPointGeometry(vertices) {\n      this.object.geometry.type = 'Points';\n      var vLen = this.vertices.length;\n\n      for (var vi = 0, l = vertices.length; vi < l; vi++) {\n        var index = this.parseVertexIndex(vertices[vi], vLen);\n        this.addVertexPoint(index);\n        this.addColor(index);\n      }\n    },\n    addLineGeometry: function addLineGeometry(vertices, uvs) {\n      this.object.geometry.type = 'Line';\n      var vLen = this.vertices.length;\n      var uvLen = this.uvs.length;\n\n      for (var vi = 0, l = vertices.length; vi < l; vi++) {\n        this.addVertexLine(this.parseVertexIndex(vertices[vi], vLen));\n      }\n\n      for (var uvi = 0, _l = uvs.length; uvi < _l; uvi++) {\n        this.addUVLine(this.parseUVIndex(uvs[uvi], uvLen));\n      }\n    }\n  };\n  state.startObject('', false);\n  return state;\n} //\n\n\nvar OBJLoader = /*#__PURE__*/function (_Loader) {\n  _inherits(OBJLoader, _Loader);\n\n  var _super = _createSuper(OBJLoader);\n\n  function OBJLoader(manager) {\n    var _this;\n\n    _classCallCheck(this, OBJLoader);\n\n    _this = _super.call(this, manager);\n    _this.materials = null;\n    return _this;\n  }\n\n  _createClass(OBJLoader, [{\n    key: \"load\",\n    value: function load(url, onLoad, onProgress, onError) {\n      var scope = this;\n      var loader = new FileLoader(this.manager);\n      loader.setPath(this.path);\n      loader.setRequestHeader(this.requestHeader);\n      loader.setWithCredentials(this.withCredentials);\n      loader.load(url, function (text) {\n        try {\n          onLoad(scope.parse(text));\n        } catch (e) {\n          if (onError) {\n            onError(e);\n          } else {\n            console.error(e);\n          }\n\n          scope.manager.itemError(url);\n        }\n      }, onProgress, onError);\n    }\n  }, {\n    key: \"setMaterials\",\n    value: function setMaterials(materials) {\n      this.materials = materials;\n      return this;\n    }\n  }, {\n    key: \"parse\",\n    value: function parse(text) {\n      var state = new ParserState();\n\n      if (text.indexOf('\\r\\n') !== -1) {\n        // This is faster than String.split with regex that splits on both\n        text = text.replace(/\\r\\n/g, '\\n');\n      }\n\n      if (text.indexOf('\\\\\\n') !== -1) {\n        // join lines separated by a line continuation character (\\)\n        text = text.replace(/\\\\\\n/g, '');\n      }\n\n      var lines = text.split('\\n');\n      var line = '',\n          lineFirstChar = '';\n      var lineLength = 0;\n      var result = []; // Faster to just trim left side of the line. Use if available.\n\n      var trimLeft = typeof ''.trimLeft === 'function';\n\n      for (var i = 0, l = lines.length; i < l; i++) {\n        line = lines[i];\n        line = trimLeft ? line.trimLeft() : line.trim();\n        lineLength = line.length;\n        if (lineLength === 0) continue;\n        lineFirstChar = line.charAt(0); // @todo invoke passed in handler if any\n\n        if (lineFirstChar === '#') continue;\n\n        if (lineFirstChar === 'v') {\n          var data = line.split(/\\s+/);\n\n          switch (data[0]) {\n            case 'v':\n              state.vertices.push(parseFloat(data[1]), parseFloat(data[2]), parseFloat(data[3]));\n\n              if (data.length >= 7) {\n                state.colors.push(parseFloat(data[4]), parseFloat(data[5]), parseFloat(data[6]));\n              } else {\n                // if no colors are defined, add placeholders so color and vertex indices match\n                state.colors.push(undefined, undefined, undefined);\n              }\n\n              break;\n\n            case 'vn':\n              state.normals.push(parseFloat(data[1]), parseFloat(data[2]), parseFloat(data[3]));\n              break;\n\n            case 'vt':\n              state.uvs.push(parseFloat(data[1]), parseFloat(data[2]));\n              break;\n          }\n        } else if (lineFirstChar === 'f') {\n          var lineData = line.substr(1).trim();\n          var vertexData = lineData.split(/\\s+/);\n          var faceVertices = []; // Parse the face vertex data into an easy to work with format\n\n          for (var j = 0, jl = vertexData.length; j < jl; j++) {\n            var vertex = vertexData[j];\n\n            if (vertex.length > 0) {\n              var vertexParts = vertex.split('/');\n              faceVertices.push(vertexParts);\n            }\n          } // Draw an edge between the first vertex and all subsequent vertices to form an n-gon\n\n\n          var v1 = faceVertices[0];\n\n          for (var _j = 1, _jl = faceVertices.length - 1; _j < _jl; _j++) {\n            var v2 = faceVertices[_j];\n            var v3 = faceVertices[_j + 1];\n            state.addFace(v1[0], v2[0], v3[0], v1[1], v2[1], v3[1], v1[2], v2[2], v3[2]);\n          }\n        } else if (lineFirstChar === 'l') {\n          var lineParts = line.substring(1).trim().split(' ');\n          var lineVertices = [];\n          var lineUVs = [];\n\n          if (line.indexOf('/') === -1) {\n            lineVertices = lineParts;\n          } else {\n            for (var li = 0, llen = lineParts.length; li < llen; li++) {\n              var parts = lineParts[li].split('/');\n              if (parts[0] !== '') lineVertices.push(parts[0]);\n              if (parts[1] !== '') lineUVs.push(parts[1]);\n            }\n          }\n\n          state.addLineGeometry(lineVertices, lineUVs);\n        } else if (lineFirstChar === 'p') {\n          var _lineData = line.substr(1).trim();\n\n          var pointData = _lineData.split(' ');\n\n          state.addPointGeometry(pointData);\n        } else if ((result = _object_pattern.exec(line)) !== null) {\n          // o object_name\n          // or\n          // g group_name\n          // WORKAROUND: https://bugs.chromium.org/p/v8/issues/detail?id=2869\n          // let name = result[ 0 ].substr( 1 ).trim();\n          var name = (' ' + result[0].substr(1).trim()).substr(1);\n          state.startObject(name);\n        } else if (_material_use_pattern.test(line)) {\n          // material\n          state.object.startMaterial(line.substring(7).trim(), state.materialLibraries);\n        } else if (_material_library_pattern.test(line)) {\n          // mtl file\n          state.materialLibraries.push(line.substring(7).trim());\n        } else if (_map_use_pattern.test(line)) {\n          // the line is parsed but ignored since the loader assumes textures are defined MTL files\n          // (according to https://www.okino.com/conv/imp_wave.htm, 'usemap' is the old-style Wavefront texture reference method)\n          console.warn('THREE.OBJLoader: Rendering identifier \"usemap\" not supported. Textures must be defined in MTL files.');\n        } else if (lineFirstChar === 's') {\n          result = line.split(' '); // smooth shading\n          // @todo Handle files that have varying smooth values for a set of faces inside one geometry,\n          // but does not define a usemtl for each face set.\n          // This should be detected and a dummy material created (later MultiMaterial and geometry groups).\n          // This requires some care to not create extra material on each smooth value for \"normal\" obj files.\n          // where explicit usemtl defines geometry groups.\n          // Example asset: examples/models/obj/cerberus/Cerberus.obj\n\n          /*\n          \t * http://paulbourke.net/dataformats/obj/\n          \t * or\n          \t * http://www.cs.utah.edu/~boulos/cs3505/obj_spec.pdf\n          \t *\n          \t * From chapter \"Grouping\" Syntax explanation \"s group_number\":\n          \t * \"group_number is the smoothing group number. To turn off smoothing groups, use a value of 0 or off.\n          \t * Polygonal elements use group numbers to put elements in different smoothing groups. For free-form\n          \t * surfaces, smoothing groups are either turned on or off; there is no difference between values greater\n          \t * than 0.\"\n          \t */\n\n          if (result.length > 1) {\n            var value = result[1].trim().toLowerCase();\n            state.object.smooth = value !== '0' && value !== 'off';\n          } else {\n            // ZBrush can produce \"s\" lines #11707\n            state.object.smooth = true;\n          }\n\n          var material = state.object.currentMaterial();\n          if (material) material.smooth = state.object.smooth;\n        } else {\n          // Handle null terminated files without exception\n          if (line === '\\0') continue;\n          console.warn('THREE.OBJLoader: Unexpected line: \"' + line + '\"');\n        }\n      }\n\n      state.finalize();\n      var container = new Group();\n      container.materialLibraries = [].concat(state.materialLibraries);\n      var hasPrimitives = !(state.objects.length === 1 && state.objects[0].geometry.vertices.length === 0);\n\n      if (hasPrimitives === true) {\n        for (var _i = 0, _l2 = state.objects.length; _i < _l2; _i++) {\n          var object = state.objects[_i];\n          var geometry = object.geometry;\n          var materials = object.materials;\n          var isLine = geometry.type === 'Line';\n          var isPoints = geometry.type === 'Points';\n          var hasVertexColors = false; // Skip o/g line declarations that did not follow with any faces\n\n          if (geometry.vertices.length === 0) continue;\n          var buffergeometry = new BufferGeometry();\n          buffergeometry.setAttribute('position', new Float32BufferAttribute(geometry.vertices, 3));\n\n          if (geometry.normals.length > 0) {\n            buffergeometry.setAttribute('normal', new Float32BufferAttribute(geometry.normals, 3));\n          }\n\n          if (geometry.colors.length > 0) {\n            hasVertexColors = true;\n            buffergeometry.setAttribute('color', new Float32BufferAttribute(geometry.colors, 3));\n          }\n\n          if (geometry.hasUVIndices === true) {\n            buffergeometry.setAttribute('uv', new Float32BufferAttribute(geometry.uvs, 2));\n          } // Create materials\n\n\n          var createdMaterials = [];\n\n          for (var mi = 0, miLen = materials.length; mi < miLen; mi++) {\n            var sourceMaterial = materials[mi];\n            var materialHash = sourceMaterial.name + '_' + sourceMaterial.smooth + '_' + hasVertexColors;\n            var _material = state.materials[materialHash];\n\n            if (this.materials !== null) {\n              _material = this.materials.create(sourceMaterial.name); // mtl etc. loaders probably can't create line materials correctly, copy properties to a line material.\n\n              if (isLine && _material && !(_material instanceof LineBasicMaterial)) {\n                var materialLine = new LineBasicMaterial();\n                Material.prototype.copy.call(materialLine, _material);\n                materialLine.color.copy(_material.color);\n                _material = materialLine;\n              } else if (isPoints && _material && !(_material instanceof PointsMaterial)) {\n                var materialPoints = new PointsMaterial({\n                  size: 10,\n                  sizeAttenuation: false\n                });\n                Material.prototype.copy.call(materialPoints, _material);\n                materialPoints.color.copy(_material.color);\n                materialPoints.map = _material.map;\n                _material = materialPoints;\n              }\n            }\n\n            if (_material === undefined) {\n              if (isLine) {\n                _material = new LineBasicMaterial();\n              } else if (isPoints) {\n                _material = new PointsMaterial({\n                  size: 1,\n                  sizeAttenuation: false\n                });\n              } else {\n                _material = new MeshPhongMaterial();\n              }\n\n              _material.name = sourceMaterial.name;\n              _material.flatShading = sourceMaterial.smooth ? false : true;\n              _material.vertexColors = hasVertexColors;\n              state.materials[materialHash] = _material;\n            }\n\n            createdMaterials.push(_material);\n          } // Create mesh\n\n\n          var mesh = void 0;\n\n          if (createdMaterials.length > 1) {\n            for (var _mi = 0, _miLen = materials.length; _mi < _miLen; _mi++) {\n              var _sourceMaterial = materials[_mi];\n              buffergeometry.addGroup(_sourceMaterial.groupStart, _sourceMaterial.groupCount, _mi);\n            }\n\n            if (isLine) {\n              mesh = new LineSegments(buffergeometry, createdMaterials);\n            } else if (isPoints) {\n              mesh = new Points(buffergeometry, createdMaterials);\n            } else {\n              mesh = new Mesh(buffergeometry, createdMaterials);\n            }\n          } else {\n            if (isLine) {\n              mesh = new LineSegments(buffergeometry, createdMaterials[0]);\n            } else if (isPoints) {\n              mesh = new Points(buffergeometry, createdMaterials[0]);\n            } else {\n              mesh = new Mesh(buffergeometry, createdMaterials[0]);\n            }\n          }\n\n          mesh.name = object.name;\n          container.add(mesh);\n        }\n      } else {\n        // if there is only the default parser state object with no geometry data, interpret data as point cloud\n        if (state.vertices.length > 0) {\n          var _material2 = new PointsMaterial({\n            size: 1,\n            sizeAttenuation: false\n          });\n\n          var _buffergeometry = new BufferGeometry();\n\n          _buffergeometry.setAttribute('position', new Float32BufferAttribute(state.vertices, 3));\n\n          if (state.colors.length > 0 && state.colors[0] !== undefined) {\n            _buffergeometry.setAttribute('color', new Float32BufferAttribute(state.colors, 3));\n\n            _material2.vertexColors = true;\n          }\n\n          var points = new Points(_buffergeometry, _material2);\n          container.add(points);\n        }\n      }\n\n      return container;\n    }\n  }]);\n\n  return OBJLoader;\n}(Loader);\n\nexport { OBJLoader };","import _assertThisInitialized from \"D:/Projects/Tennis/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _get from \"D:/Projects/Tennis/node_modules/@babel/runtime/helpers/esm/get\";\nimport _classCallCheck from \"D:/Projects/Tennis/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:/Projects/Tennis/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"D:/Projects/Tennis/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"D:/Projects/Tennis/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:/Projects/Tennis/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport { AnimationClip, Bone, Box3, BufferAttribute, BufferGeometry, ClampToEdgeWrapping, Color, DirectionalLight, DoubleSide, FileLoader, FrontSide, Group, ImageBitmapLoader, InterleavedBuffer, InterleavedBufferAttribute, Interpolant, InterpolateDiscrete, InterpolateLinear, Line, LineBasicMaterial, LineLoop, LineSegments, LinearFilter, LinearMipmapLinearFilter, LinearMipmapNearestFilter, Loader, LoaderUtils, Material, MathUtils, Matrix4, Mesh, MeshBasicMaterial, MeshPhysicalMaterial, MeshStandardMaterial, MirroredRepeatWrapping, NearestFilter, NearestMipmapLinearFilter, NearestMipmapNearestFilter, NumberKeyframeTrack, Object3D, OrthographicCamera, PerspectiveCamera, PointLight, Points, PointsMaterial, PropertyBinding, QuaternionKeyframeTrack, RGBFormat, RepeatWrapping, Skeleton, SkinnedMesh, Sphere, SpotLight, TangentSpaceNormalMap, Texture, TextureLoader, TriangleFanDrawMode, TriangleStripDrawMode, Vector2, Vector3, VectorKeyframeTrack, sRGBEncoding } from 'three';\n\nvar GLTFLoader = /*#__PURE__*/function (_Loader) {\n  _inherits(GLTFLoader, _Loader);\n\n  var _super = _createSuper(GLTFLoader);\n\n  function GLTFLoader(manager) {\n    var _this;\n\n    _classCallCheck(this, GLTFLoader);\n\n    _this = _super.call(this, manager);\n    _this.dracoLoader = null;\n    _this.ktx2Loader = null;\n    _this.meshoptDecoder = null;\n    _this.pluginCallbacks = [];\n\n    _this.register(function (parser) {\n      return new GLTFMaterialsClearcoatExtension(parser);\n    });\n\n    _this.register(function (parser) {\n      return new GLTFTextureBasisUExtension(parser);\n    });\n\n    _this.register(function (parser) {\n      return new GLTFTextureWebPExtension(parser);\n    });\n\n    _this.register(function (parser) {\n      return new GLTFMaterialsTransmissionExtension(parser);\n    });\n\n    _this.register(function (parser) {\n      return new GLTFMaterialsVolumeExtension(parser);\n    });\n\n    _this.register(function (parser) {\n      return new GLTFMaterialsIorExtension(parser);\n    });\n\n    _this.register(function (parser) {\n      return new GLTFMaterialsSpecularExtension(parser);\n    });\n\n    _this.register(function (parser) {\n      return new GLTFLightsExtension(parser);\n    });\n\n    _this.register(function (parser) {\n      return new GLTFMeshoptCompression(parser);\n    });\n\n    return _this;\n  }\n\n  _createClass(GLTFLoader, [{\n    key: \"load\",\n    value: function load(url, onLoad, onProgress, onError) {\n      var scope = this;\n      var resourcePath;\n\n      if (this.resourcePath !== '') {\n        resourcePath = this.resourcePath;\n      } else if (this.path !== '') {\n        resourcePath = this.path;\n      } else {\n        resourcePath = LoaderUtils.extractUrlBase(url);\n      } // Tells the LoadingManager to track an extra item, which resolves after\n      // the model is fully loaded. This means the count of items loaded will\n      // be incorrect, but ensures manager.onLoad() does not fire early.\n\n\n      this.manager.itemStart(url);\n\n      var _onError = function _onError(e) {\n        if (onError) {\n          onError(e);\n        } else {\n          console.error(e);\n        }\n\n        scope.manager.itemError(url);\n        scope.manager.itemEnd(url);\n      };\n\n      var loader = new FileLoader(this.manager);\n      loader.setPath(this.path);\n      loader.setResponseType('arraybuffer');\n      loader.setRequestHeader(this.requestHeader);\n      loader.setWithCredentials(this.withCredentials);\n      loader.load(url, function (data) {\n        try {\n          scope.parse(data, resourcePath, function (gltf) {\n            onLoad(gltf);\n            scope.manager.itemEnd(url);\n          }, _onError);\n        } catch (e) {\n          _onError(e);\n        }\n      }, onProgress, _onError);\n    }\n  }, {\n    key: \"setDRACOLoader\",\n    value: function setDRACOLoader(dracoLoader) {\n      this.dracoLoader = dracoLoader;\n      return this;\n    }\n  }, {\n    key: \"setDDSLoader\",\n    value: function setDDSLoader() {\n      throw new Error('THREE.GLTFLoader: \"MSFT_texture_dds\" no longer supported. Please update to \"KHR_texture_basisu\".');\n    }\n  }, {\n    key: \"setKTX2Loader\",\n    value: function setKTX2Loader(ktx2Loader) {\n      this.ktx2Loader = ktx2Loader;\n      return this;\n    }\n  }, {\n    key: \"setMeshoptDecoder\",\n    value: function setMeshoptDecoder(meshoptDecoder) {\n      this.meshoptDecoder = meshoptDecoder;\n      return this;\n    }\n  }, {\n    key: \"register\",\n    value: function register(callback) {\n      if (this.pluginCallbacks.indexOf(callback) === -1) {\n        this.pluginCallbacks.push(callback);\n      }\n\n      return this;\n    }\n  }, {\n    key: \"unregister\",\n    value: function unregister(callback) {\n      if (this.pluginCallbacks.indexOf(callback) !== -1) {\n        this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(callback), 1);\n      }\n\n      return this;\n    }\n  }, {\n    key: \"parse\",\n    value: function parse(data, path, onLoad, onError) {\n      var content;\n      var extensions = {};\n      var plugins = {};\n\n      if (typeof data === 'string') {\n        content = data;\n      } else {\n        var magic = LoaderUtils.decodeText(new Uint8Array(data, 0, 4));\n\n        if (magic === BINARY_EXTENSION_HEADER_MAGIC) {\n          try {\n            extensions[EXTENSIONS.KHR_BINARY_GLTF] = new GLTFBinaryExtension(data);\n          } catch (error) {\n            if (onError) onError(error);\n            return;\n          }\n\n          content = extensions[EXTENSIONS.KHR_BINARY_GLTF].content;\n        } else {\n          content = LoaderUtils.decodeText(new Uint8Array(data));\n        }\n      }\n\n      var json = JSON.parse(content);\n\n      if (json.asset === undefined || json.asset.version[0] < 2) {\n        if (onError) onError(new Error('THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported.'));\n        return;\n      }\n\n      var parser = new GLTFParser(json, {\n        path: path || this.resourcePath || '',\n        crossOrigin: this.crossOrigin,\n        requestHeader: this.requestHeader,\n        manager: this.manager,\n        ktx2Loader: this.ktx2Loader,\n        meshoptDecoder: this.meshoptDecoder\n      });\n      parser.fileLoader.setRequestHeader(this.requestHeader);\n\n      for (var i = 0; i < this.pluginCallbacks.length; i++) {\n        var plugin = this.pluginCallbacks[i](parser);\n        plugins[plugin.name] = plugin; // Workaround to avoid determining as unknown extension\n        // in addUnknownExtensionsToUserData().\n        // Remove this workaround if we move all the existing\n        // extension handlers to plugin system\n\n        extensions[plugin.name] = true;\n      }\n\n      if (json.extensionsUsed) {\n        for (var _i = 0; _i < json.extensionsUsed.length; ++_i) {\n          var extensionName = json.extensionsUsed[_i];\n          var extensionsRequired = json.extensionsRequired || [];\n\n          switch (extensionName) {\n            case EXTENSIONS.KHR_MATERIALS_UNLIT:\n              extensions[extensionName] = new GLTFMaterialsUnlitExtension();\n              break;\n\n            case EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:\n              extensions[extensionName] = new GLTFMaterialsPbrSpecularGlossinessExtension();\n              break;\n\n            case EXTENSIONS.KHR_DRACO_MESH_COMPRESSION:\n              extensions[extensionName] = new GLTFDracoMeshCompressionExtension(json, this.dracoLoader);\n              break;\n\n            case EXTENSIONS.KHR_TEXTURE_TRANSFORM:\n              extensions[extensionName] = new GLTFTextureTransformExtension();\n              break;\n\n            case EXTENSIONS.KHR_MESH_QUANTIZATION:\n              extensions[extensionName] = new GLTFMeshQuantizationExtension();\n              break;\n\n            default:\n              if (extensionsRequired.indexOf(extensionName) >= 0 && plugins[extensionName] === undefined) {\n                console.warn('THREE.GLTFLoader: Unknown extension \"' + extensionName + '\".');\n              }\n\n          }\n        }\n      }\n\n      parser.setExtensions(extensions);\n      parser.setPlugins(plugins);\n      parser.parse(onLoad, onError);\n    }\n  }]);\n\n  return GLTFLoader;\n}(Loader);\n/* GLTFREGISTRY */\n\n\nfunction GLTFRegistry() {\n  var objects = {};\n  return {\n    get: function get(key) {\n      return objects[key];\n    },\n    add: function add(key, object) {\n      objects[key] = object;\n    },\n    remove: function remove(key) {\n      delete objects[key];\n    },\n    removeAll: function removeAll() {\n      objects = {};\n    }\n  };\n}\n/*********************************/\n\n/********** EXTENSIONS ***********/\n\n/*********************************/\n\n\nvar EXTENSIONS = {\n  KHR_BINARY_GLTF: 'KHR_binary_glTF',\n  KHR_DRACO_MESH_COMPRESSION: 'KHR_draco_mesh_compression',\n  KHR_LIGHTS_PUNCTUAL: 'KHR_lights_punctual',\n  KHR_MATERIALS_CLEARCOAT: 'KHR_materials_clearcoat',\n  KHR_MATERIALS_IOR: 'KHR_materials_ior',\n  KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS: 'KHR_materials_pbrSpecularGlossiness',\n  KHR_MATERIALS_SPECULAR: 'KHR_materials_specular',\n  KHR_MATERIALS_TRANSMISSION: 'KHR_materials_transmission',\n  KHR_MATERIALS_UNLIT: 'KHR_materials_unlit',\n  KHR_MATERIALS_VOLUME: 'KHR_materials_volume',\n  KHR_TEXTURE_BASISU: 'KHR_texture_basisu',\n  KHR_TEXTURE_TRANSFORM: 'KHR_texture_transform',\n  KHR_MESH_QUANTIZATION: 'KHR_mesh_quantization',\n  EXT_TEXTURE_WEBP: 'EXT_texture_webp',\n  EXT_MESHOPT_COMPRESSION: 'EXT_meshopt_compression'\n};\n/**\n * Punctual Lights Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_lights_punctual\n */\n\nvar GLTFLightsExtension = /*#__PURE__*/function () {\n  function GLTFLightsExtension(parser) {\n    _classCallCheck(this, GLTFLightsExtension);\n\n    this.parser = parser;\n    this.name = EXTENSIONS.KHR_LIGHTS_PUNCTUAL; // Object3D instance caches\n\n    this.cache = {\n      refs: {},\n      uses: {}\n    };\n  }\n\n  _createClass(GLTFLightsExtension, [{\n    key: \"_markDefs\",\n    value: function _markDefs() {\n      var parser = this.parser;\n      var nodeDefs = this.parser.json.nodes || [];\n\n      for (var nodeIndex = 0, nodeLength = nodeDefs.length; nodeIndex < nodeLength; nodeIndex++) {\n        var nodeDef = nodeDefs[nodeIndex];\n\n        if (nodeDef.extensions && nodeDef.extensions[this.name] && nodeDef.extensions[this.name].light !== undefined) {\n          parser._addNodeRef(this.cache, nodeDef.extensions[this.name].light);\n        }\n      }\n    }\n  }, {\n    key: \"_loadLight\",\n    value: function _loadLight(lightIndex) {\n      var parser = this.parser;\n      var cacheKey = 'light:' + lightIndex;\n      var dependency = parser.cache.get(cacheKey);\n      if (dependency) return dependency;\n      var json = parser.json;\n      var extensions = json.extensions && json.extensions[this.name] || {};\n      var lightDefs = extensions.lights || [];\n      var lightDef = lightDefs[lightIndex];\n      var lightNode;\n      var color = new Color(0xffffff);\n      if (lightDef.color !== undefined) color.fromArray(lightDef.color);\n      var range = lightDef.range !== undefined ? lightDef.range : 0;\n\n      switch (lightDef.type) {\n        case 'directional':\n          lightNode = new DirectionalLight(color);\n          lightNode.target.position.set(0, 0, -1);\n          lightNode.add(lightNode.target);\n          break;\n\n        case 'point':\n          lightNode = new PointLight(color);\n          lightNode.distance = range;\n          break;\n\n        case 'spot':\n          lightNode = new SpotLight(color);\n          lightNode.distance = range; // Handle spotlight properties.\n\n          lightDef.spot = lightDef.spot || {};\n          lightDef.spot.innerConeAngle = lightDef.spot.innerConeAngle !== undefined ? lightDef.spot.innerConeAngle : 0;\n          lightDef.spot.outerConeAngle = lightDef.spot.outerConeAngle !== undefined ? lightDef.spot.outerConeAngle : Math.PI / 4.0;\n          lightNode.angle = lightDef.spot.outerConeAngle;\n          lightNode.penumbra = 1.0 - lightDef.spot.innerConeAngle / lightDef.spot.outerConeAngle;\n          lightNode.target.position.set(0, 0, -1);\n          lightNode.add(lightNode.target);\n          break;\n\n        default:\n          throw new Error('THREE.GLTFLoader: Unexpected light type: ' + lightDef.type);\n      } // Some lights (e.g. spot) default to a position other than the origin. Reset the position\n      // here, because node-level parsing will only override position if explicitly specified.\n\n\n      lightNode.position.set(0, 0, 0);\n      lightNode.decay = 2;\n      if (lightDef.intensity !== undefined) lightNode.intensity = lightDef.intensity;\n      lightNode.name = parser.createUniqueName(lightDef.name || 'light_' + lightIndex);\n      dependency = Promise.resolve(lightNode);\n      parser.cache.add(cacheKey, dependency);\n      return dependency;\n    }\n  }, {\n    key: \"createNodeAttachment\",\n    value: function createNodeAttachment(nodeIndex) {\n      var self = this;\n      var parser = this.parser;\n      var json = parser.json;\n      var nodeDef = json.nodes[nodeIndex];\n      var lightDef = nodeDef.extensions && nodeDef.extensions[this.name] || {};\n      var lightIndex = lightDef.light;\n      if (lightIndex === undefined) return null;\n      return this._loadLight(lightIndex).then(function (light) {\n        return parser._getNodeRef(self.cache, lightIndex, light);\n      });\n    }\n  }]);\n\n  return GLTFLightsExtension;\n}();\n/**\n * Unlit Materials Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_unlit\n */\n\n\nvar GLTFMaterialsUnlitExtension = /*#__PURE__*/function () {\n  function GLTFMaterialsUnlitExtension() {\n    _classCallCheck(this, GLTFMaterialsUnlitExtension);\n\n    this.name = EXTENSIONS.KHR_MATERIALS_UNLIT;\n  }\n\n  _createClass(GLTFMaterialsUnlitExtension, [{\n    key: \"getMaterialType\",\n    value: function getMaterialType() {\n      return MeshBasicMaterial;\n    }\n  }, {\n    key: \"extendParams\",\n    value: function extendParams(materialParams, materialDef, parser) {\n      var pending = [];\n      materialParams.color = new Color(1.0, 1.0, 1.0);\n      materialParams.opacity = 1.0;\n      var metallicRoughness = materialDef.pbrMetallicRoughness;\n\n      if (metallicRoughness) {\n        if (Array.isArray(metallicRoughness.baseColorFactor)) {\n          var array = metallicRoughness.baseColorFactor;\n          materialParams.color.fromArray(array);\n          materialParams.opacity = array[3];\n        }\n\n        if (metallicRoughness.baseColorTexture !== undefined) {\n          pending.push(parser.assignTexture(materialParams, 'map', metallicRoughness.baseColorTexture));\n        }\n      }\n\n      return Promise.all(pending);\n    }\n  }]);\n\n  return GLTFMaterialsUnlitExtension;\n}();\n/**\n * Clearcoat Materials Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_clearcoat\n */\n\n\nvar GLTFMaterialsClearcoatExtension = /*#__PURE__*/function () {\n  function GLTFMaterialsClearcoatExtension(parser) {\n    _classCallCheck(this, GLTFMaterialsClearcoatExtension);\n\n    this.parser = parser;\n    this.name = EXTENSIONS.KHR_MATERIALS_CLEARCOAT;\n  }\n\n  _createClass(GLTFMaterialsClearcoatExtension, [{\n    key: \"getMaterialType\",\n    value: function getMaterialType(materialIndex) {\n      var parser = this.parser;\n      var materialDef = parser.json.materials[materialIndex];\n      if (!materialDef.extensions || !materialDef.extensions[this.name]) return null;\n      return MeshPhysicalMaterial;\n    }\n  }, {\n    key: \"extendMaterialParams\",\n    value: function extendMaterialParams(materialIndex, materialParams) {\n      var parser = this.parser;\n      var materialDef = parser.json.materials[materialIndex];\n\n      if (!materialDef.extensions || !materialDef.extensions[this.name]) {\n        return Promise.resolve();\n      }\n\n      var pending = [];\n      var extension = materialDef.extensions[this.name];\n\n      if (extension.clearcoatFactor !== undefined) {\n        materialParams.clearcoat = extension.clearcoatFactor;\n      }\n\n      if (extension.clearcoatTexture !== undefined) {\n        pending.push(parser.assignTexture(materialParams, 'clearcoatMap', extension.clearcoatTexture));\n      }\n\n      if (extension.clearcoatRoughnessFactor !== undefined) {\n        materialParams.clearcoatRoughness = extension.clearcoatRoughnessFactor;\n      }\n\n      if (extension.clearcoatRoughnessTexture !== undefined) {\n        pending.push(parser.assignTexture(materialParams, 'clearcoatRoughnessMap', extension.clearcoatRoughnessTexture));\n      }\n\n      if (extension.clearcoatNormalTexture !== undefined) {\n        pending.push(parser.assignTexture(materialParams, 'clearcoatNormalMap', extension.clearcoatNormalTexture));\n\n        if (extension.clearcoatNormalTexture.scale !== undefined) {\n          var scale = extension.clearcoatNormalTexture.scale; // https://github.com/mrdoob/three.js/issues/11438#issuecomment-507003995\n\n          materialParams.clearcoatNormalScale = new Vector2(scale, -scale);\n        }\n      }\n\n      return Promise.all(pending);\n    }\n  }]);\n\n  return GLTFMaterialsClearcoatExtension;\n}();\n/**\n * Transmission Materials Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_transmission\n * Draft: https://github.com/KhronosGroup/glTF/pull/1698\n */\n\n\nvar GLTFMaterialsTransmissionExtension = /*#__PURE__*/function () {\n  function GLTFMaterialsTransmissionExtension(parser) {\n    _classCallCheck(this, GLTFMaterialsTransmissionExtension);\n\n    this.parser = parser;\n    this.name = EXTENSIONS.KHR_MATERIALS_TRANSMISSION;\n  }\n\n  _createClass(GLTFMaterialsTransmissionExtension, [{\n    key: \"getMaterialType\",\n    value: function getMaterialType(materialIndex) {\n      var parser = this.parser;\n      var materialDef = parser.json.materials[materialIndex];\n      if (!materialDef.extensions || !materialDef.extensions[this.name]) return null;\n      return MeshPhysicalMaterial;\n    }\n  }, {\n    key: \"extendMaterialParams\",\n    value: function extendMaterialParams(materialIndex, materialParams) {\n      var parser = this.parser;\n      var materialDef = parser.json.materials[materialIndex];\n\n      if (!materialDef.extensions || !materialDef.extensions[this.name]) {\n        return Promise.resolve();\n      }\n\n      var pending = [];\n      var extension = materialDef.extensions[this.name];\n\n      if (extension.transmissionFactor !== undefined) {\n        materialParams.transmission = extension.transmissionFactor;\n      }\n\n      if (extension.transmissionTexture !== undefined) {\n        pending.push(parser.assignTexture(materialParams, 'transmissionMap', extension.transmissionTexture));\n      }\n\n      return Promise.all(pending);\n    }\n  }]);\n\n  return GLTFMaterialsTransmissionExtension;\n}();\n/**\n * Materials Volume Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_volume\n */\n\n\nvar GLTFMaterialsVolumeExtension = /*#__PURE__*/function () {\n  function GLTFMaterialsVolumeExtension(parser) {\n    _classCallCheck(this, GLTFMaterialsVolumeExtension);\n\n    this.parser = parser;\n    this.name = EXTENSIONS.KHR_MATERIALS_VOLUME;\n  }\n\n  _createClass(GLTFMaterialsVolumeExtension, [{\n    key: \"getMaterialType\",\n    value: function getMaterialType(materialIndex) {\n      var parser = this.parser;\n      var materialDef = parser.json.materials[materialIndex];\n      if (!materialDef.extensions || !materialDef.extensions[this.name]) return null;\n      return MeshPhysicalMaterial;\n    }\n  }, {\n    key: \"extendMaterialParams\",\n    value: function extendMaterialParams(materialIndex, materialParams) {\n      var parser = this.parser;\n      var materialDef = parser.json.materials[materialIndex];\n\n      if (!materialDef.extensions || !materialDef.extensions[this.name]) {\n        return Promise.resolve();\n      }\n\n      var pending = [];\n      var extension = materialDef.extensions[this.name];\n      materialParams.thickness = extension.thicknessFactor !== undefined ? extension.thicknessFactor : 0;\n\n      if (extension.thicknessTexture !== undefined) {\n        pending.push(parser.assignTexture(materialParams, 'thicknessMap', extension.thicknessTexture));\n      }\n\n      materialParams.attenuationDistance = extension.attenuationDistance || 0;\n      var colorArray = extension.attenuationColor || [1, 1, 1];\n      materialParams.attenuationTint = new Color(colorArray[0], colorArray[1], colorArray[2]);\n      return Promise.all(pending);\n    }\n  }]);\n\n  return GLTFMaterialsVolumeExtension;\n}();\n/**\n * Materials ior Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_ior\n */\n\n\nvar GLTFMaterialsIorExtension = /*#__PURE__*/function () {\n  function GLTFMaterialsIorExtension(parser) {\n    _classCallCheck(this, GLTFMaterialsIorExtension);\n\n    this.parser = parser;\n    this.name = EXTENSIONS.KHR_MATERIALS_IOR;\n  }\n\n  _createClass(GLTFMaterialsIorExtension, [{\n    key: \"getMaterialType\",\n    value: function getMaterialType(materialIndex) {\n      var parser = this.parser;\n      var materialDef = parser.json.materials[materialIndex];\n      if (!materialDef.extensions || !materialDef.extensions[this.name]) return null;\n      return MeshPhysicalMaterial;\n    }\n  }, {\n    key: \"extendMaterialParams\",\n    value: function extendMaterialParams(materialIndex, materialParams) {\n      var parser = this.parser;\n      var materialDef = parser.json.materials[materialIndex];\n\n      if (!materialDef.extensions || !materialDef.extensions[this.name]) {\n        return Promise.resolve();\n      }\n\n      var extension = materialDef.extensions[this.name];\n      materialParams.ior = extension.ior !== undefined ? extension.ior : 1.5;\n      return Promise.resolve();\n    }\n  }]);\n\n  return GLTFMaterialsIorExtension;\n}();\n/**\n * Materials specular Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_specular\n */\n\n\nvar GLTFMaterialsSpecularExtension = /*#__PURE__*/function () {\n  function GLTFMaterialsSpecularExtension(parser) {\n    _classCallCheck(this, GLTFMaterialsSpecularExtension);\n\n    this.parser = parser;\n    this.name = EXTENSIONS.KHR_MATERIALS_SPECULAR;\n  }\n\n  _createClass(GLTFMaterialsSpecularExtension, [{\n    key: \"getMaterialType\",\n    value: function getMaterialType(materialIndex) {\n      var parser = this.parser;\n      var materialDef = parser.json.materials[materialIndex];\n      if (!materialDef.extensions || !materialDef.extensions[this.name]) return null;\n      return MeshPhysicalMaterial;\n    }\n  }, {\n    key: \"extendMaterialParams\",\n    value: function extendMaterialParams(materialIndex, materialParams) {\n      var parser = this.parser;\n      var materialDef = parser.json.materials[materialIndex];\n\n      if (!materialDef.extensions || !materialDef.extensions[this.name]) {\n        return Promise.resolve();\n      }\n\n      var pending = [];\n      var extension = materialDef.extensions[this.name];\n      materialParams.specularIntensity = extension.specularFactor !== undefined ? extension.specularFactor : 1.0;\n\n      if (extension.specularTexture !== undefined) {\n        pending.push(parser.assignTexture(materialParams, 'specularIntensityMap', extension.specularTexture));\n      }\n\n      var colorArray = extension.specularColorFactor || [1, 1, 1];\n      materialParams.specularTint = new Color(colorArray[0], colorArray[1], colorArray[2]);\n\n      if (extension.specularColorTexture !== undefined) {\n        pending.push(parser.assignTexture(materialParams, 'specularTintMap', extension.specularColorTexture).then(function (texture) {\n          texture.encoding = sRGBEncoding;\n        }));\n      }\n\n      return Promise.all(pending);\n    }\n  }]);\n\n  return GLTFMaterialsSpecularExtension;\n}();\n/**\n * BasisU Texture Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_texture_basisu\n */\n\n\nvar GLTFTextureBasisUExtension = /*#__PURE__*/function () {\n  function GLTFTextureBasisUExtension(parser) {\n    _classCallCheck(this, GLTFTextureBasisUExtension);\n\n    this.parser = parser;\n    this.name = EXTENSIONS.KHR_TEXTURE_BASISU;\n  }\n\n  _createClass(GLTFTextureBasisUExtension, [{\n    key: \"loadTexture\",\n    value: function loadTexture(textureIndex) {\n      var parser = this.parser;\n      var json = parser.json;\n      var textureDef = json.textures[textureIndex];\n\n      if (!textureDef.extensions || !textureDef.extensions[this.name]) {\n        return null;\n      }\n\n      var extension = textureDef.extensions[this.name];\n      var source = json.images[extension.source];\n      var loader = parser.options.ktx2Loader;\n\n      if (!loader) {\n        if (json.extensionsRequired && json.extensionsRequired.indexOf(this.name) >= 0) {\n          throw new Error('THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures');\n        } else {\n          // Assumes that the extension is optional and that a fallback texture is present\n          return null;\n        }\n      }\n\n      return parser.loadTextureImage(textureIndex, source, loader);\n    }\n  }]);\n\n  return GLTFTextureBasisUExtension;\n}();\n/**\n * WebP Texture Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Vendor/EXT_texture_webp\n */\n\n\nvar GLTFTextureWebPExtension = /*#__PURE__*/function () {\n  function GLTFTextureWebPExtension(parser) {\n    _classCallCheck(this, GLTFTextureWebPExtension);\n\n    this.parser = parser;\n    this.name = EXTENSIONS.EXT_TEXTURE_WEBP;\n    this.isSupported = null;\n  }\n\n  _createClass(GLTFTextureWebPExtension, [{\n    key: \"loadTexture\",\n    value: function loadTexture(textureIndex) {\n      var name = this.name;\n      var parser = this.parser;\n      var json = parser.json;\n      var textureDef = json.textures[textureIndex];\n\n      if (!textureDef.extensions || !textureDef.extensions[name]) {\n        return null;\n      }\n\n      var extension = textureDef.extensions[name];\n      var source = json.images[extension.source];\n      var loader = parser.textureLoader;\n\n      if (source.uri) {\n        var handler = parser.options.manager.getHandler(source.uri);\n        if (handler !== null) loader = handler;\n      }\n\n      return this.detectSupport().then(function (isSupported) {\n        if (isSupported) return parser.loadTextureImage(textureIndex, source, loader);\n\n        if (json.extensionsRequired && json.extensionsRequired.indexOf(name) >= 0) {\n          throw new Error('THREE.GLTFLoader: WebP required by asset but unsupported.');\n        } // Fall back to PNG or JPEG.\n\n\n        return parser.loadTexture(textureIndex);\n      });\n    }\n  }, {\n    key: \"detectSupport\",\n    value: function detectSupport() {\n      if (!this.isSupported) {\n        this.isSupported = new Promise(function (resolve) {\n          var image = new Image(); // Lossy test image. Support for lossy images doesn't guarantee support for all\n          // WebP images, unfortunately.\n\n          image.src = 'data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA';\n\n          image.onload = image.onerror = function () {\n            resolve(image.height === 1);\n          };\n        });\n      }\n\n      return this.isSupported;\n    }\n  }]);\n\n  return GLTFTextureWebPExtension;\n}();\n/**\n * meshopt BufferView Compression Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Vendor/EXT_meshopt_compression\n */\n\n\nvar GLTFMeshoptCompression = /*#__PURE__*/function () {\n  function GLTFMeshoptCompression(parser) {\n    _classCallCheck(this, GLTFMeshoptCompression);\n\n    this.name = EXTENSIONS.EXT_MESHOPT_COMPRESSION;\n    this.parser = parser;\n  }\n\n  _createClass(GLTFMeshoptCompression, [{\n    key: \"loadBufferView\",\n    value: function loadBufferView(index) {\n      var json = this.parser.json;\n      var bufferView = json.bufferViews[index];\n\n      if (bufferView.extensions && bufferView.extensions[this.name]) {\n        var extensionDef = bufferView.extensions[this.name];\n        var buffer = this.parser.getDependency('buffer', extensionDef.buffer);\n        var decoder = this.parser.options.meshoptDecoder;\n\n        if (!decoder || !decoder.supported) {\n          if (json.extensionsRequired && json.extensionsRequired.indexOf(this.name) >= 0) {\n            throw new Error('THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files');\n          } else {\n            // Assumes that the extension is optional and that fallback buffer data is present\n            return null;\n          }\n        }\n\n        return Promise.all([buffer, decoder.ready]).then(function (res) {\n          var byteOffset = extensionDef.byteOffset || 0;\n          var byteLength = extensionDef.byteLength || 0;\n          var count = extensionDef.count;\n          var stride = extensionDef.byteStride;\n          var result = new ArrayBuffer(count * stride);\n          var source = new Uint8Array(res[0], byteOffset, byteLength);\n          decoder.decodeGltfBuffer(new Uint8Array(result), count, stride, source, extensionDef.mode, extensionDef.filter);\n          return result;\n        });\n      } else {\n        return null;\n      }\n    }\n  }]);\n\n  return GLTFMeshoptCompression;\n}();\n/* BINARY EXTENSION */\n\n\nvar BINARY_EXTENSION_HEADER_MAGIC = 'glTF';\nvar BINARY_EXTENSION_HEADER_LENGTH = 12;\nvar BINARY_EXTENSION_CHUNK_TYPES = {\n  JSON: 0x4E4F534A,\n  BIN: 0x004E4942\n};\n\nvar GLTFBinaryExtension = function GLTFBinaryExtension(data) {\n  _classCallCheck(this, GLTFBinaryExtension);\n\n  this.name = EXTENSIONS.KHR_BINARY_GLTF;\n  this.content = null;\n  this.body = null;\n  var headerView = new DataView(data, 0, BINARY_EXTENSION_HEADER_LENGTH);\n  this.header = {\n    magic: LoaderUtils.decodeText(new Uint8Array(data.slice(0, 4))),\n    version: headerView.getUint32(4, true),\n    length: headerView.getUint32(8, true)\n  };\n\n  if (this.header.magic !== BINARY_EXTENSION_HEADER_MAGIC) {\n    throw new Error('THREE.GLTFLoader: Unsupported glTF-Binary header.');\n  } else if (this.header.version < 2.0) {\n    throw new Error('THREE.GLTFLoader: Legacy binary file detected.');\n  }\n\n  var chunkContentsLength = this.header.length - BINARY_EXTENSION_HEADER_LENGTH;\n  var chunkView = new DataView(data, BINARY_EXTENSION_HEADER_LENGTH);\n  var chunkIndex = 0;\n\n  while (chunkIndex < chunkContentsLength) {\n    var chunkLength = chunkView.getUint32(chunkIndex, true);\n    chunkIndex += 4;\n    var chunkType = chunkView.getUint32(chunkIndex, true);\n    chunkIndex += 4;\n\n    if (chunkType === BINARY_EXTENSION_CHUNK_TYPES.JSON) {\n      var contentArray = new Uint8Array(data, BINARY_EXTENSION_HEADER_LENGTH + chunkIndex, chunkLength);\n      this.content = LoaderUtils.decodeText(contentArray);\n    } else if (chunkType === BINARY_EXTENSION_CHUNK_TYPES.BIN) {\n      var byteOffset = BINARY_EXTENSION_HEADER_LENGTH + chunkIndex;\n      this.body = data.slice(byteOffset, byteOffset + chunkLength);\n    } // Clients must ignore chunks with unknown types.\n\n\n    chunkIndex += chunkLength;\n  }\n\n  if (this.content === null) {\n    throw new Error('THREE.GLTFLoader: JSON content not found.');\n  }\n};\n/**\n * DRACO Mesh Compression Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_draco_mesh_compression\n */\n\n\nvar GLTFDracoMeshCompressionExtension = /*#__PURE__*/function () {\n  function GLTFDracoMeshCompressionExtension(json, dracoLoader) {\n    _classCallCheck(this, GLTFDracoMeshCompressionExtension);\n\n    if (!dracoLoader) {\n      throw new Error('THREE.GLTFLoader: No DRACOLoader instance provided.');\n    }\n\n    this.name = EXTENSIONS.KHR_DRACO_MESH_COMPRESSION;\n    this.json = json;\n    this.dracoLoader = dracoLoader;\n    this.dracoLoader.preload();\n  }\n\n  _createClass(GLTFDracoMeshCompressionExtension, [{\n    key: \"decodePrimitive\",\n    value: function decodePrimitive(primitive, parser) {\n      var json = this.json;\n      var dracoLoader = this.dracoLoader;\n      var bufferViewIndex = primitive.extensions[this.name].bufferView;\n      var gltfAttributeMap = primitive.extensions[this.name].attributes;\n      var threeAttributeMap = {};\n      var attributeNormalizedMap = {};\n      var attributeTypeMap = {};\n\n      for (var attributeName in gltfAttributeMap) {\n        var threeAttributeName = ATTRIBUTES[attributeName] || attributeName.toLowerCase();\n        threeAttributeMap[threeAttributeName] = gltfAttributeMap[attributeName];\n      }\n\n      for (var _attributeName in primitive.attributes) {\n        var _threeAttributeName = ATTRIBUTES[_attributeName] || _attributeName.toLowerCase();\n\n        if (gltfAttributeMap[_attributeName] !== undefined) {\n          var accessorDef = json.accessors[primitive.attributes[_attributeName]];\n          var componentType = WEBGL_COMPONENT_TYPES[accessorDef.componentType];\n          attributeTypeMap[_threeAttributeName] = componentType;\n          attributeNormalizedMap[_threeAttributeName] = accessorDef.normalized === true;\n        }\n      }\n\n      return parser.getDependency('bufferView', bufferViewIndex).then(function (bufferView) {\n        return new Promise(function (resolve) {\n          dracoLoader.decodeDracoFile(bufferView, function (geometry) {\n            for (var _attributeName2 in geometry.attributes) {\n              var attribute = geometry.attributes[_attributeName2];\n              var normalized = attributeNormalizedMap[_attributeName2];\n              if (normalized !== undefined) attribute.normalized = normalized;\n            }\n\n            resolve(geometry);\n          }, threeAttributeMap, attributeTypeMap);\n        });\n      });\n    }\n  }]);\n\n  return GLTFDracoMeshCompressionExtension;\n}();\n/**\n * Texture Transform Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_texture_transform\n */\n\n\nvar GLTFTextureTransformExtension = /*#__PURE__*/function () {\n  function GLTFTextureTransformExtension() {\n    _classCallCheck(this, GLTFTextureTransformExtension);\n\n    this.name = EXTENSIONS.KHR_TEXTURE_TRANSFORM;\n  }\n\n  _createClass(GLTFTextureTransformExtension, [{\n    key: \"extendTexture\",\n    value: function extendTexture(texture, transform) {\n      if (transform.texCoord !== undefined) {\n        console.warn('THREE.GLTFLoader: Custom UV sets in \"' + this.name + '\" extension not yet supported.');\n      }\n\n      if (transform.offset === undefined && transform.rotation === undefined && transform.scale === undefined) {\n        // See https://github.com/mrdoob/three.js/issues/21819.\n        return texture;\n      }\n\n      texture = texture.clone();\n\n      if (transform.offset !== undefined) {\n        texture.offset.fromArray(transform.offset);\n      }\n\n      if (transform.rotation !== undefined) {\n        texture.rotation = transform.rotation;\n      }\n\n      if (transform.scale !== undefined) {\n        texture.repeat.fromArray(transform.scale);\n      }\n\n      texture.needsUpdate = true;\n      return texture;\n    }\n  }]);\n\n  return GLTFTextureTransformExtension;\n}();\n/**\n * Specular-Glossiness Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_pbrSpecularGlossiness\n */\n\n/**\n * A sub class of StandardMaterial with some of the functionality\n * changed via the `onBeforeCompile` callback\n * @pailhead\n */\n\n\nvar GLTFMeshStandardSGMaterial = /*#__PURE__*/function (_MeshStandardMaterial) {\n  _inherits(GLTFMeshStandardSGMaterial, _MeshStandardMaterial);\n\n  var _super2 = _createSuper(GLTFMeshStandardSGMaterial);\n\n  function GLTFMeshStandardSGMaterial(params) {\n    var _this2;\n\n    _classCallCheck(this, GLTFMeshStandardSGMaterial);\n\n    _this2 = _super2.call(this);\n    _this2.isGLTFSpecularGlossinessMaterial = true; //various chunks that need replacing\n\n    var specularMapParsFragmentChunk = ['#ifdef USE_SPECULARMAP', '\tuniform sampler2D specularMap;', '#endif'].join('\\n');\n    var glossinessMapParsFragmentChunk = ['#ifdef USE_GLOSSINESSMAP', '\tuniform sampler2D glossinessMap;', '#endif'].join('\\n');\n    var specularMapFragmentChunk = ['vec3 specularFactor = specular;', '#ifdef USE_SPECULARMAP', '\tvec4 texelSpecular = texture2D( specularMap, vUv );', '\ttexelSpecular = sRGBToLinear( texelSpecular );', '\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture', '\tspecularFactor *= texelSpecular.rgb;', '#endif'].join('\\n');\n    var glossinessMapFragmentChunk = ['float glossinessFactor = glossiness;', '#ifdef USE_GLOSSINESSMAP', '\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );', '\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture', '\tglossinessFactor *= texelGlossiness.a;', '#endif'].join('\\n');\n    var lightPhysicalFragmentChunk = ['PhysicalMaterial material;', 'material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );', 'vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );', 'float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );', 'material.specularRoughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.', 'material.specularRoughness += geometryRoughness;', 'material.specularRoughness = min( material.specularRoughness, 1.0 );', 'material.specularColor = specularFactor;'].join('\\n');\n    var uniforms = {\n      specular: {\n        value: new Color().setHex(0xffffff)\n      },\n      glossiness: {\n        value: 1\n      },\n      specularMap: {\n        value: null\n      },\n      glossinessMap: {\n        value: null\n      }\n    };\n    _this2._extraUniforms = uniforms;\n\n    _this2.onBeforeCompile = function (shader) {\n      for (var uniformName in uniforms) {\n        shader.uniforms[uniformName] = uniforms[uniformName];\n      }\n\n      shader.fragmentShader = shader.fragmentShader.replace('uniform float roughness;', 'uniform vec3 specular;').replace('uniform float metalness;', 'uniform float glossiness;').replace('#include <roughnessmap_pars_fragment>', specularMapParsFragmentChunk).replace('#include <metalnessmap_pars_fragment>', glossinessMapParsFragmentChunk).replace('#include <roughnessmap_fragment>', specularMapFragmentChunk).replace('#include <metalnessmap_fragment>', glossinessMapFragmentChunk).replace('#include <lights_physical_fragment>', lightPhysicalFragmentChunk);\n    };\n\n    Object.defineProperties(_assertThisInitialized(_this2), {\n      specular: {\n        get: function get() {\n          return uniforms.specular.value;\n        },\n        set: function set(v) {\n          uniforms.specular.value = v;\n        }\n      },\n      specularMap: {\n        get: function get() {\n          return uniforms.specularMap.value;\n        },\n        set: function set(v) {\n          uniforms.specularMap.value = v;\n\n          if (v) {\n            this.defines.USE_SPECULARMAP = ''; // USE_UV is set by the renderer for specular maps\n          } else {\n            delete this.defines.USE_SPECULARMAP;\n          }\n        }\n      },\n      glossiness: {\n        get: function get() {\n          return uniforms.glossiness.value;\n        },\n        set: function set(v) {\n          uniforms.glossiness.value = v;\n        }\n      },\n      glossinessMap: {\n        get: function get() {\n          return uniforms.glossinessMap.value;\n        },\n        set: function set(v) {\n          uniforms.glossinessMap.value = v;\n\n          if (v) {\n            this.defines.USE_GLOSSINESSMAP = '';\n            this.defines.USE_UV = '';\n          } else {\n            delete this.defines.USE_GLOSSINESSMAP;\n            delete this.defines.USE_UV;\n          }\n        }\n      }\n    });\n    delete _this2.metalness;\n    delete _this2.roughness;\n    delete _this2.metalnessMap;\n    delete _this2.roughnessMap;\n\n    _this2.setValues(params);\n\n    return _this2;\n  }\n\n  _createClass(GLTFMeshStandardSGMaterial, [{\n    key: \"copy\",\n    value: function copy(source) {\n      _get(_getPrototypeOf(GLTFMeshStandardSGMaterial.prototype), \"copy\", this).call(this, source);\n\n      this.specularMap = source.specularMap;\n      this.specular.copy(source.specular);\n      this.glossinessMap = source.glossinessMap;\n      this.glossiness = source.glossiness;\n      delete this.metalness;\n      delete this.roughness;\n      delete this.metalnessMap;\n      delete this.roughnessMap;\n      return this;\n    }\n  }]);\n\n  return GLTFMeshStandardSGMaterial;\n}(MeshStandardMaterial);\n\nvar GLTFMaterialsPbrSpecularGlossinessExtension = /*#__PURE__*/function () {\n  function GLTFMaterialsPbrSpecularGlossinessExtension() {\n    _classCallCheck(this, GLTFMaterialsPbrSpecularGlossinessExtension);\n\n    this.name = EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS;\n    this.specularGlossinessParams = ['color', 'map', 'lightMap', 'lightMapIntensity', 'aoMap', 'aoMapIntensity', 'emissive', 'emissiveIntensity', 'emissiveMap', 'bumpMap', 'bumpScale', 'normalMap', 'normalMapType', 'displacementMap', 'displacementScale', 'displacementBias', 'specularMap', 'specular', 'glossinessMap', 'glossiness', 'alphaMap', 'envMap', 'envMapIntensity', 'refractionRatio'];\n  }\n\n  _createClass(GLTFMaterialsPbrSpecularGlossinessExtension, [{\n    key: \"getMaterialType\",\n    value: function getMaterialType() {\n      return GLTFMeshStandardSGMaterial;\n    }\n  }, {\n    key: \"extendParams\",\n    value: function extendParams(materialParams, materialDef, parser) {\n      var pbrSpecularGlossiness = materialDef.extensions[this.name];\n      materialParams.color = new Color(1.0, 1.0, 1.0);\n      materialParams.opacity = 1.0;\n      var pending = [];\n\n      if (Array.isArray(pbrSpecularGlossiness.diffuseFactor)) {\n        var array = pbrSpecularGlossiness.diffuseFactor;\n        materialParams.color.fromArray(array);\n        materialParams.opacity = array[3];\n      }\n\n      if (pbrSpecularGlossiness.diffuseTexture !== undefined) {\n        pending.push(parser.assignTexture(materialParams, 'map', pbrSpecularGlossiness.diffuseTexture));\n      }\n\n      materialParams.emissive = new Color(0.0, 0.0, 0.0);\n      materialParams.glossiness = pbrSpecularGlossiness.glossinessFactor !== undefined ? pbrSpecularGlossiness.glossinessFactor : 1.0;\n      materialParams.specular = new Color(1.0, 1.0, 1.0);\n\n      if (Array.isArray(pbrSpecularGlossiness.specularFactor)) {\n        materialParams.specular.fromArray(pbrSpecularGlossiness.specularFactor);\n      }\n\n      if (pbrSpecularGlossiness.specularGlossinessTexture !== undefined) {\n        var specGlossMapDef = pbrSpecularGlossiness.specularGlossinessTexture;\n        pending.push(parser.assignTexture(materialParams, 'glossinessMap', specGlossMapDef));\n        pending.push(parser.assignTexture(materialParams, 'specularMap', specGlossMapDef));\n      }\n\n      return Promise.all(pending);\n    }\n  }, {\n    key: \"createMaterial\",\n    value: function createMaterial(materialParams) {\n      var material = new GLTFMeshStandardSGMaterial(materialParams);\n      material.fog = true;\n      material.color = materialParams.color;\n      material.map = materialParams.map === undefined ? null : materialParams.map;\n      material.lightMap = null;\n      material.lightMapIntensity = 1.0;\n      material.aoMap = materialParams.aoMap === undefined ? null : materialParams.aoMap;\n      material.aoMapIntensity = 1.0;\n      material.emissive = materialParams.emissive;\n      material.emissiveIntensity = 1.0;\n      material.emissiveMap = materialParams.emissiveMap === undefined ? null : materialParams.emissiveMap;\n      material.bumpMap = materialParams.bumpMap === undefined ? null : materialParams.bumpMap;\n      material.bumpScale = 1;\n      material.normalMap = materialParams.normalMap === undefined ? null : materialParams.normalMap;\n      material.normalMapType = TangentSpaceNormalMap;\n      if (materialParams.normalScale) material.normalScale = materialParams.normalScale;\n      material.displacementMap = null;\n      material.displacementScale = 1;\n      material.displacementBias = 0;\n      material.specularMap = materialParams.specularMap === undefined ? null : materialParams.specularMap;\n      material.specular = materialParams.specular;\n      material.glossinessMap = materialParams.glossinessMap === undefined ? null : materialParams.glossinessMap;\n      material.glossiness = materialParams.glossiness;\n      material.alphaMap = null;\n      material.envMap = materialParams.envMap === undefined ? null : materialParams.envMap;\n      material.envMapIntensity = 1.0;\n      material.refractionRatio = 0.98;\n      return material;\n    }\n  }]);\n\n  return GLTFMaterialsPbrSpecularGlossinessExtension;\n}();\n/**\n * Mesh Quantization Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_mesh_quantization\n */\n\n\nvar GLTFMeshQuantizationExtension = function GLTFMeshQuantizationExtension() {\n  _classCallCheck(this, GLTFMeshQuantizationExtension);\n\n  this.name = EXTENSIONS.KHR_MESH_QUANTIZATION;\n};\n/*********************************/\n\n/********** INTERPOLATION ********/\n\n/*********************************/\n// Spline Interpolation\n// Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#appendix-c-spline-interpolation\n\n\nvar GLTFCubicSplineInterpolant = /*#__PURE__*/function (_Interpolant) {\n  _inherits(GLTFCubicSplineInterpolant, _Interpolant);\n\n  var _super3 = _createSuper(GLTFCubicSplineInterpolant);\n\n  function GLTFCubicSplineInterpolant(parameterPositions, sampleValues, sampleSize, resultBuffer) {\n    _classCallCheck(this, GLTFCubicSplineInterpolant);\n\n    return _super3.call(this, parameterPositions, sampleValues, sampleSize, resultBuffer);\n  }\n\n  _createClass(GLTFCubicSplineInterpolant, [{\n    key: \"copySampleValue_\",\n    value: function copySampleValue_(index) {\n      // Copies a sample value to the result buffer. See description of glTF\n      // CUBICSPLINE values layout in interpolate_() function below.\n      var result = this.resultBuffer,\n          values = this.sampleValues,\n          valueSize = this.valueSize,\n          offset = index * valueSize * 3 + valueSize;\n\n      for (var i = 0; i !== valueSize; i++) {\n        result[i] = values[offset + i];\n      }\n\n      return result;\n    }\n  }]);\n\n  return GLTFCubicSplineInterpolant;\n}(Interpolant);\n\nGLTFCubicSplineInterpolant.prototype.beforeStart_ = GLTFCubicSplineInterpolant.prototype.copySampleValue_;\nGLTFCubicSplineInterpolant.prototype.afterEnd_ = GLTFCubicSplineInterpolant.prototype.copySampleValue_;\n\nGLTFCubicSplineInterpolant.prototype.interpolate_ = function (i1, t0, t, t1) {\n  var result = this.resultBuffer;\n  var values = this.sampleValues;\n  var stride = this.valueSize;\n  var stride2 = stride * 2;\n  var stride3 = stride * 3;\n  var td = t1 - t0;\n  var p = (t - t0) / td;\n  var pp = p * p;\n  var ppp = pp * p;\n  var offset1 = i1 * stride3;\n  var offset0 = offset1 - stride3;\n  var s2 = -2 * ppp + 3 * pp;\n  var s3 = ppp - pp;\n  var s0 = 1 - s2;\n  var s1 = s3 - pp + p; // Layout of keyframe output values for CUBICSPLINE animations:\n  //   [ inTangent_1, splineVertex_1, outTangent_1, inTangent_2, splineVertex_2, ... ]\n\n  for (var i = 0; i !== stride; i++) {\n    var p0 = values[offset0 + i + stride]; // splineVertex_k\n\n    var m0 = values[offset0 + i + stride2] * td; // outTangent_k * (t_k+1 - t_k)\n\n    var p1 = values[offset1 + i + stride]; // splineVertex_k+1\n\n    var m1 = values[offset1 + i] * td; // inTangent_k+1 * (t_k+1 - t_k)\n\n    result[i] = s0 * p0 + s1 * m0 + s2 * p1 + s3 * m1;\n  }\n\n  return result;\n};\n/*********************************/\n\n/********** INTERNALS ************/\n\n/*********************************/\n\n/* CONSTANTS */\n\n\nvar WEBGL_CONSTANTS = {\n  FLOAT: 5126,\n  //FLOAT_MAT2: 35674,\n  FLOAT_MAT3: 35675,\n  FLOAT_MAT4: 35676,\n  FLOAT_VEC2: 35664,\n  FLOAT_VEC3: 35665,\n  FLOAT_VEC4: 35666,\n  LINEAR: 9729,\n  REPEAT: 10497,\n  SAMPLER_2D: 35678,\n  POINTS: 0,\n  LINES: 1,\n  LINE_LOOP: 2,\n  LINE_STRIP: 3,\n  TRIANGLES: 4,\n  TRIANGLE_STRIP: 5,\n  TRIANGLE_FAN: 6,\n  UNSIGNED_BYTE: 5121,\n  UNSIGNED_SHORT: 5123\n};\nvar WEBGL_COMPONENT_TYPES = {\n  5120: Int8Array,\n  5121: Uint8Array,\n  5122: Int16Array,\n  5123: Uint16Array,\n  5125: Uint32Array,\n  5126: Float32Array\n};\nvar WEBGL_FILTERS = {\n  9728: NearestFilter,\n  9729: LinearFilter,\n  9984: NearestMipmapNearestFilter,\n  9985: LinearMipmapNearestFilter,\n  9986: NearestMipmapLinearFilter,\n  9987: LinearMipmapLinearFilter\n};\nvar WEBGL_WRAPPINGS = {\n  33071: ClampToEdgeWrapping,\n  33648: MirroredRepeatWrapping,\n  10497: RepeatWrapping\n};\nvar WEBGL_TYPE_SIZES = {\n  'SCALAR': 1,\n  'VEC2': 2,\n  'VEC3': 3,\n  'VEC4': 4,\n  'MAT2': 4,\n  'MAT3': 9,\n  'MAT4': 16\n};\nvar ATTRIBUTES = {\n  POSITION: 'position',\n  NORMAL: 'normal',\n  TANGENT: 'tangent',\n  TEXCOORD_0: 'uv',\n  TEXCOORD_1: 'uv2',\n  COLOR_0: 'color',\n  WEIGHTS_0: 'skinWeight',\n  JOINTS_0: 'skinIndex'\n};\nvar PATH_PROPERTIES = {\n  scale: 'scale',\n  translation: 'position',\n  rotation: 'quaternion',\n  weights: 'morphTargetInfluences'\n};\nvar INTERPOLATION = {\n  CUBICSPLINE: undefined,\n  // We use a custom interpolant (GLTFCubicSplineInterpolation) for CUBICSPLINE tracks. Each\n  // keyframe track will be initialized with a default interpolation type, then modified.\n  LINEAR: InterpolateLinear,\n  STEP: InterpolateDiscrete\n};\nvar ALPHA_MODES = {\n  OPAQUE: 'OPAQUE',\n  MASK: 'MASK',\n  BLEND: 'BLEND'\n};\n/* UTILITY FUNCTIONS */\n\nfunction resolveURL(url, path) {\n  // Invalid URL\n  if (typeof url !== 'string' || url === '') return ''; // Host Relative URL\n\n  if (/^https?:\\/\\//i.test(path) && /^\\//.test(url)) {\n    path = path.replace(/(^https?:\\/\\/[^\\/]+).*/i, '$1');\n  } // Absolute URL http://,https://,//\n\n\n  if (/^(https?:)?\\/\\//i.test(url)) return url; // Data URI\n\n  if (/^data:.*,.*$/i.test(url)) return url; // Blob URL\n\n  if (/^blob:.*$/i.test(url)) return url; // Relative URL\n\n  return path + url;\n}\n/**\n * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#default-material\n */\n\n\nfunction createDefaultMaterial(cache) {\n  if (cache['DefaultMaterial'] === undefined) {\n    cache['DefaultMaterial'] = new MeshStandardMaterial({\n      color: 0xFFFFFF,\n      emissive: 0x000000,\n      metalness: 1,\n      roughness: 1,\n      transparent: false,\n      depthTest: true,\n      side: FrontSide\n    });\n  }\n\n  return cache['DefaultMaterial'];\n}\n\nfunction addUnknownExtensionsToUserData(knownExtensions, object, objectDef) {\n  // Add unknown glTF extensions to an object's userData.\n  for (var name in objectDef.extensions) {\n    if (knownExtensions[name] === undefined) {\n      object.userData.gltfExtensions = object.userData.gltfExtensions || {};\n      object.userData.gltfExtensions[name] = objectDef.extensions[name];\n    }\n  }\n}\n/**\n * @param {Object3D|Material|BufferGeometry} object\n * @param {GLTF.definition} gltfDef\n */\n\n\nfunction assignExtrasToUserData(object, gltfDef) {\n  if (gltfDef.extras !== undefined) {\n    if (typeof gltfDef.extras === 'object') {\n      Object.assign(object.userData, gltfDef.extras);\n    } else {\n      console.warn('THREE.GLTFLoader: Ignoring primitive type .extras, ' + gltfDef.extras);\n    }\n  }\n}\n/**\n * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#morph-targets\n *\n * @param {BufferGeometry} geometry\n * @param {Array<GLTF.Target>} targets\n * @param {GLTFParser} parser\n * @return {Promise<BufferGeometry>}\n */\n\n\nfunction addMorphTargets(geometry, targets, parser) {\n  var hasMorphPosition = false;\n  var hasMorphNormal = false;\n\n  for (var i = 0, il = targets.length; i < il; i++) {\n    var target = targets[i];\n    if (target.POSITION !== undefined) hasMorphPosition = true;\n    if (target.NORMAL !== undefined) hasMorphNormal = true;\n    if (hasMorphPosition && hasMorphNormal) break;\n  }\n\n  if (!hasMorphPosition && !hasMorphNormal) return Promise.resolve(geometry);\n  var pendingPositionAccessors = [];\n  var pendingNormalAccessors = [];\n\n  for (var _i2 = 0, _il = targets.length; _i2 < _il; _i2++) {\n    var _target = targets[_i2];\n\n    if (hasMorphPosition) {\n      var pendingAccessor = _target.POSITION !== undefined ? parser.getDependency('accessor', _target.POSITION) : geometry.attributes.position;\n      pendingPositionAccessors.push(pendingAccessor);\n    }\n\n    if (hasMorphNormal) {\n      var _pendingAccessor = _target.NORMAL !== undefined ? parser.getDependency('accessor', _target.NORMAL) : geometry.attributes.normal;\n\n      pendingNormalAccessors.push(_pendingAccessor);\n    }\n  }\n\n  return Promise.all([Promise.all(pendingPositionAccessors), Promise.all(pendingNormalAccessors)]).then(function (accessors) {\n    var morphPositions = accessors[0];\n    var morphNormals = accessors[1];\n    if (hasMorphPosition) geometry.morphAttributes.position = morphPositions;\n    if (hasMorphNormal) geometry.morphAttributes.normal = morphNormals;\n    geometry.morphTargetsRelative = true;\n    return geometry;\n  });\n}\n/**\n * @param {Mesh} mesh\n * @param {GLTF.Mesh} meshDef\n */\n\n\nfunction updateMorphTargets(mesh, meshDef) {\n  mesh.updateMorphTargets();\n\n  if (meshDef.weights !== undefined) {\n    for (var i = 0, il = meshDef.weights.length; i < il; i++) {\n      mesh.morphTargetInfluences[i] = meshDef.weights[i];\n    }\n  } // .extras has user-defined data, so check that .extras.targetNames is an array.\n\n\n  if (meshDef.extras && Array.isArray(meshDef.extras.targetNames)) {\n    var targetNames = meshDef.extras.targetNames;\n\n    if (mesh.morphTargetInfluences.length === targetNames.length) {\n      mesh.morphTargetDictionary = {};\n\n      for (var _i3 = 0, _il2 = targetNames.length; _i3 < _il2; _i3++) {\n        mesh.morphTargetDictionary[targetNames[_i3]] = _i3;\n      }\n    } else {\n      console.warn('THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.');\n    }\n  }\n}\n\nfunction createPrimitiveKey(primitiveDef) {\n  var dracoExtension = primitiveDef.extensions && primitiveDef.extensions[EXTENSIONS.KHR_DRACO_MESH_COMPRESSION];\n  var geometryKey;\n\n  if (dracoExtension) {\n    geometryKey = 'draco:' + dracoExtension.bufferView + ':' + dracoExtension.indices + ':' + createAttributesKey(dracoExtension.attributes);\n  } else {\n    geometryKey = primitiveDef.indices + ':' + createAttributesKey(primitiveDef.attributes) + ':' + primitiveDef.mode;\n  }\n\n  return geometryKey;\n}\n\nfunction createAttributesKey(attributes) {\n  var attributesKey = '';\n  var keys = Object.keys(attributes).sort();\n\n  for (var i = 0, il = keys.length; i < il; i++) {\n    attributesKey += keys[i] + ':' + attributes[keys[i]] + ';';\n  }\n\n  return attributesKey;\n}\n\nfunction getNormalizedComponentScale(constructor) {\n  // Reference:\n  // https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_mesh_quantization#encoding-quantized-data\n  switch (constructor) {\n    case Int8Array:\n      return 1 / 127;\n\n    case Uint8Array:\n      return 1 / 255;\n\n    case Int16Array:\n      return 1 / 32767;\n\n    case Uint16Array:\n      return 1 / 65535;\n\n    default:\n      throw new Error('THREE.GLTFLoader: Unsupported normalized accessor component type.');\n  }\n}\n/* GLTF PARSER */\n\n\nvar GLTFParser = /*#__PURE__*/function () {\n  function GLTFParser() {\n    var json = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, GLTFParser);\n\n    this.json = json;\n    this.extensions = {};\n    this.plugins = {};\n    this.options = options; // loader object cache\n\n    this.cache = new GLTFRegistry(); // associations between Three.js objects and glTF elements\n\n    this.associations = new Map(); // BufferGeometry caching\n\n    this.primitiveCache = {}; // Object3D instance caches\n\n    this.meshCache = {\n      refs: {},\n      uses: {}\n    };\n    this.cameraCache = {\n      refs: {},\n      uses: {}\n    };\n    this.lightCache = {\n      refs: {},\n      uses: {}\n    };\n    this.textureCache = {}; // Track node names, to ensure no duplicates\n\n    this.nodeNamesUsed = {}; // Use an ImageBitmapLoader if imageBitmaps are supported. Moves much of the\n    // expensive work of uploading a texture to the GPU off the main thread.\n\n    if (typeof createImageBitmap !== 'undefined' && /Firefox/.test(navigator.userAgent) === false) {\n      this.textureLoader = new ImageBitmapLoader(this.options.manager);\n    } else {\n      this.textureLoader = new TextureLoader(this.options.manager);\n    }\n\n    this.textureLoader.setCrossOrigin(this.options.crossOrigin);\n    this.textureLoader.setRequestHeader(this.options.requestHeader);\n    this.fileLoader = new FileLoader(this.options.manager);\n    this.fileLoader.setResponseType('arraybuffer');\n\n    if (this.options.crossOrigin === 'use-credentials') {\n      this.fileLoader.setWithCredentials(true);\n    }\n  }\n\n  _createClass(GLTFParser, [{\n    key: \"setExtensions\",\n    value: function setExtensions(extensions) {\n      this.extensions = extensions;\n    }\n  }, {\n    key: \"setPlugins\",\n    value: function setPlugins(plugins) {\n      this.plugins = plugins;\n    }\n  }, {\n    key: \"parse\",\n    value: function parse(onLoad, onError) {\n      var parser = this;\n      var json = this.json;\n      var extensions = this.extensions; // Clear the loader cache\n\n      this.cache.removeAll(); // Mark the special nodes/meshes in json for efficient parse\n\n      this._invokeAll(function (ext) {\n        return ext._markDefs && ext._markDefs();\n      });\n\n      Promise.all(this._invokeAll(function (ext) {\n        return ext.beforeRoot && ext.beforeRoot();\n      })).then(function () {\n        return Promise.all([parser.getDependencies('scene'), parser.getDependencies('animation'), parser.getDependencies('camera')]);\n      }).then(function (dependencies) {\n        var result = {\n          scene: dependencies[0][json.scene || 0],\n          scenes: dependencies[0],\n          animations: dependencies[1],\n          cameras: dependencies[2],\n          asset: json.asset,\n          parser: parser,\n          userData: {}\n        };\n        addUnknownExtensionsToUserData(extensions, result, json);\n        assignExtrasToUserData(result, json);\n        Promise.all(parser._invokeAll(function (ext) {\n          return ext.afterRoot && ext.afterRoot(result);\n        })).then(function () {\n          onLoad(result);\n        });\n      }).catch(onError);\n    }\n    /**\n     * Marks the special nodes/meshes in json for efficient parse.\n     */\n\n  }, {\n    key: \"_markDefs\",\n    value: function _markDefs() {\n      var nodeDefs = this.json.nodes || [];\n      var skinDefs = this.json.skins || [];\n      var meshDefs = this.json.meshes || []; // Nothing in the node definition indicates whether it is a Bone or an\n      // Object3D. Use the skins' joint references to mark bones.\n\n      for (var skinIndex = 0, skinLength = skinDefs.length; skinIndex < skinLength; skinIndex++) {\n        var joints = skinDefs[skinIndex].joints;\n\n        for (var i = 0, il = joints.length; i < il; i++) {\n          nodeDefs[joints[i]].isBone = true;\n        }\n      } // Iterate over all nodes, marking references to shared resources,\n      // as well as skeleton joints.\n\n\n      for (var nodeIndex = 0, nodeLength = nodeDefs.length; nodeIndex < nodeLength; nodeIndex++) {\n        var nodeDef = nodeDefs[nodeIndex];\n\n        if (nodeDef.mesh !== undefined) {\n          this._addNodeRef(this.meshCache, nodeDef.mesh); // Nothing in the mesh definition indicates whether it is\n          // a SkinnedMesh or Mesh. Use the node's mesh reference\n          // to mark SkinnedMesh if node has skin.\n\n\n          if (nodeDef.skin !== undefined) {\n            meshDefs[nodeDef.mesh].isSkinnedMesh = true;\n          }\n        }\n\n        if (nodeDef.camera !== undefined) {\n          this._addNodeRef(this.cameraCache, nodeDef.camera);\n        }\n      }\n    }\n    /**\n     * Counts references to shared node / Object3D resources. These resources\n     * can be reused, or \"instantiated\", at multiple nodes in the scene\n     * hierarchy. Mesh, Camera, and Light instances are instantiated and must\n     * be marked. Non-scenegraph resources (like Materials, Geometries, and\n     * Textures) can be reused directly and are not marked here.\n     *\n     * Example: CesiumMilkTruck sample model reuses \"Wheel\" meshes.\n     */\n\n  }, {\n    key: \"_addNodeRef\",\n    value: function _addNodeRef(cache, index) {\n      if (index === undefined) return;\n\n      if (cache.refs[index] === undefined) {\n        cache.refs[index] = cache.uses[index] = 0;\n      }\n\n      cache.refs[index]++;\n    }\n    /** Returns a reference to a shared resource, cloning it if necessary. */\n\n  }, {\n    key: \"_getNodeRef\",\n    value: function _getNodeRef(cache, index, object) {\n      if (cache.refs[index] <= 1) return object;\n      var ref = object.clone();\n      ref.name += '_instance_' + cache.uses[index]++;\n      return ref;\n    }\n  }, {\n    key: \"_invokeOne\",\n    value: function _invokeOne(func) {\n      var extensions = Object.values(this.plugins);\n      extensions.push(this);\n\n      for (var i = 0; i < extensions.length; i++) {\n        var result = func(extensions[i]);\n        if (result) return result;\n      }\n\n      return null;\n    }\n  }, {\n    key: \"_invokeAll\",\n    value: function _invokeAll(func) {\n      var extensions = Object.values(this.plugins);\n      extensions.unshift(this);\n      var pending = [];\n\n      for (var i = 0; i < extensions.length; i++) {\n        var result = func(extensions[i]);\n        if (result) pending.push(result);\n      }\n\n      return pending;\n    }\n    /**\n     * Requests the specified dependency asynchronously, with caching.\n     * @param {string} type\n     * @param {number} index\n     * @return {Promise<Object3D|Material|THREE.Texture|AnimationClip|ArrayBuffer|Object>}\n     */\n\n  }, {\n    key: \"getDependency\",\n    value: function getDependency(type, index) {\n      var cacheKey = type + ':' + index;\n      var dependency = this.cache.get(cacheKey);\n\n      if (!dependency) {\n        switch (type) {\n          case 'scene':\n            dependency = this.loadScene(index);\n            break;\n\n          case 'node':\n            dependency = this.loadNode(index);\n            break;\n\n          case 'mesh':\n            dependency = this._invokeOne(function (ext) {\n              return ext.loadMesh && ext.loadMesh(index);\n            });\n            break;\n\n          case 'accessor':\n            dependency = this.loadAccessor(index);\n            break;\n\n          case 'bufferView':\n            dependency = this._invokeOne(function (ext) {\n              return ext.loadBufferView && ext.loadBufferView(index);\n            });\n            break;\n\n          case 'buffer':\n            dependency = this.loadBuffer(index);\n            break;\n\n          case 'material':\n            dependency = this._invokeOne(function (ext) {\n              return ext.loadMaterial && ext.loadMaterial(index);\n            });\n            break;\n\n          case 'texture':\n            dependency = this._invokeOne(function (ext) {\n              return ext.loadTexture && ext.loadTexture(index);\n            });\n            break;\n\n          case 'skin':\n            dependency = this.loadSkin(index);\n            break;\n\n          case 'animation':\n            dependency = this.loadAnimation(index);\n            break;\n\n          case 'camera':\n            dependency = this.loadCamera(index);\n            break;\n\n          default:\n            throw new Error('Unknown type: ' + type);\n        }\n\n        this.cache.add(cacheKey, dependency);\n      }\n\n      return dependency;\n    }\n    /**\n     * Requests all dependencies of the specified type asynchronously, with caching.\n     * @param {string} type\n     * @return {Promise<Array<Object>>}\n     */\n\n  }, {\n    key: \"getDependencies\",\n    value: function getDependencies(type) {\n      var dependencies = this.cache.get(type);\n\n      if (!dependencies) {\n        var parser = this;\n        var defs = this.json[type + (type === 'mesh' ? 'es' : 's')] || [];\n        dependencies = Promise.all(defs.map(function (def, index) {\n          return parser.getDependency(type, index);\n        }));\n        this.cache.add(type, dependencies);\n      }\n\n      return dependencies;\n    }\n    /**\n     * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#buffers-and-buffer-views\n     * @param {number} bufferIndex\n     * @return {Promise<ArrayBuffer>}\n     */\n\n  }, {\n    key: \"loadBuffer\",\n    value: function loadBuffer(bufferIndex) {\n      var bufferDef = this.json.buffers[bufferIndex];\n      var loader = this.fileLoader;\n\n      if (bufferDef.type && bufferDef.type !== 'arraybuffer') {\n        throw new Error('THREE.GLTFLoader: ' + bufferDef.type + ' buffer type is not supported.');\n      } // If present, GLB container is required to be the first buffer.\n\n\n      if (bufferDef.uri === undefined && bufferIndex === 0) {\n        return Promise.resolve(this.extensions[EXTENSIONS.KHR_BINARY_GLTF].body);\n      }\n\n      var options = this.options;\n      return new Promise(function (resolve, reject) {\n        loader.load(resolveURL(bufferDef.uri, options.path), resolve, undefined, function () {\n          reject(new Error('THREE.GLTFLoader: Failed to load buffer \"' + bufferDef.uri + '\".'));\n        });\n      });\n    }\n    /**\n     * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#buffers-and-buffer-views\n     * @param {number} bufferViewIndex\n     * @return {Promise<ArrayBuffer>}\n     */\n\n  }, {\n    key: \"loadBufferView\",\n    value: function loadBufferView(bufferViewIndex) {\n      var bufferViewDef = this.json.bufferViews[bufferViewIndex];\n      return this.getDependency('buffer', bufferViewDef.buffer).then(function (buffer) {\n        var byteLength = bufferViewDef.byteLength || 0;\n        var byteOffset = bufferViewDef.byteOffset || 0;\n        return buffer.slice(byteOffset, byteOffset + byteLength);\n      });\n    }\n    /**\n     * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#accessors\n     * @param {number} accessorIndex\n     * @return {Promise<BufferAttribute|InterleavedBufferAttribute>}\n     */\n\n  }, {\n    key: \"loadAccessor\",\n    value: function loadAccessor(accessorIndex) {\n      var parser = this;\n      var json = this.json;\n      var accessorDef = this.json.accessors[accessorIndex];\n\n      if (accessorDef.bufferView === undefined && accessorDef.sparse === undefined) {\n        // Ignore empty accessors, which may be used to declare runtime\n        // information about attributes coming from another source (e.g. Draco\n        // compression extension).\n        return Promise.resolve(null);\n      }\n\n      var pendingBufferViews = [];\n\n      if (accessorDef.bufferView !== undefined) {\n        pendingBufferViews.push(this.getDependency('bufferView', accessorDef.bufferView));\n      } else {\n        pendingBufferViews.push(null);\n      }\n\n      if (accessorDef.sparse !== undefined) {\n        pendingBufferViews.push(this.getDependency('bufferView', accessorDef.sparse.indices.bufferView));\n        pendingBufferViews.push(this.getDependency('bufferView', accessorDef.sparse.values.bufferView));\n      }\n\n      return Promise.all(pendingBufferViews).then(function (bufferViews) {\n        var bufferView = bufferViews[0];\n        var itemSize = WEBGL_TYPE_SIZES[accessorDef.type];\n        var TypedArray = WEBGL_COMPONENT_TYPES[accessorDef.componentType]; // For VEC3: itemSize is 3, elementBytes is 4, itemBytes is 12.\n\n        var elementBytes = TypedArray.BYTES_PER_ELEMENT;\n        var itemBytes = elementBytes * itemSize;\n        var byteOffset = accessorDef.byteOffset || 0;\n        var byteStride = accessorDef.bufferView !== undefined ? json.bufferViews[accessorDef.bufferView].byteStride : undefined;\n        var normalized = accessorDef.normalized === true;\n        var array, bufferAttribute; // The buffer is not interleaved if the stride is the item size in bytes.\n\n        if (byteStride && byteStride !== itemBytes) {\n          // Each \"slice\" of the buffer, as defined by 'count' elements of 'byteStride' bytes, gets its own InterleavedBuffer\n          // This makes sure that IBA.count reflects accessor.count properly\n          var ibSlice = Math.floor(byteOffset / byteStride);\n          var ibCacheKey = 'InterleavedBuffer:' + accessorDef.bufferView + ':' + accessorDef.componentType + ':' + ibSlice + ':' + accessorDef.count;\n          var ib = parser.cache.get(ibCacheKey);\n\n          if (!ib) {\n            array = new TypedArray(bufferView, ibSlice * byteStride, accessorDef.count * byteStride / elementBytes); // Integer parameters to IB/IBA are in array elements, not bytes.\n\n            ib = new InterleavedBuffer(array, byteStride / elementBytes);\n            parser.cache.add(ibCacheKey, ib);\n          }\n\n          bufferAttribute = new InterleavedBufferAttribute(ib, itemSize, byteOffset % byteStride / elementBytes, normalized);\n        } else {\n          if (bufferView === null) {\n            array = new TypedArray(accessorDef.count * itemSize);\n          } else {\n            array = new TypedArray(bufferView, byteOffset, accessorDef.count * itemSize);\n          }\n\n          bufferAttribute = new BufferAttribute(array, itemSize, normalized);\n        } // https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#sparse-accessors\n\n\n        if (accessorDef.sparse !== undefined) {\n          var itemSizeIndices = WEBGL_TYPE_SIZES.SCALAR;\n          var TypedArrayIndices = WEBGL_COMPONENT_TYPES[accessorDef.sparse.indices.componentType];\n          var byteOffsetIndices = accessorDef.sparse.indices.byteOffset || 0;\n          var byteOffsetValues = accessorDef.sparse.values.byteOffset || 0;\n          var sparseIndices = new TypedArrayIndices(bufferViews[1], byteOffsetIndices, accessorDef.sparse.count * itemSizeIndices);\n          var sparseValues = new TypedArray(bufferViews[2], byteOffsetValues, accessorDef.sparse.count * itemSize);\n\n          if (bufferView !== null) {\n            // Avoid modifying the original ArrayBuffer, if the bufferView wasn't initialized with zeroes.\n            bufferAttribute = new BufferAttribute(bufferAttribute.array.slice(), bufferAttribute.itemSize, bufferAttribute.normalized);\n          }\n\n          for (var i = 0, il = sparseIndices.length; i < il; i++) {\n            var index = sparseIndices[i];\n            bufferAttribute.setX(index, sparseValues[i * itemSize]);\n            if (itemSize >= 2) bufferAttribute.setY(index, sparseValues[i * itemSize + 1]);\n            if (itemSize >= 3) bufferAttribute.setZ(index, sparseValues[i * itemSize + 2]);\n            if (itemSize >= 4) bufferAttribute.setW(index, sparseValues[i * itemSize + 3]);\n            if (itemSize >= 5) throw new Error('THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.');\n          }\n        }\n\n        return bufferAttribute;\n      });\n    }\n    /**\n     * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#textures\n     * @param {number} textureIndex\n     * @return {Promise<THREE.Texture>}\n     */\n\n  }, {\n    key: \"loadTexture\",\n    value: function loadTexture(textureIndex) {\n      var json = this.json;\n      var options = this.options;\n      var textureDef = json.textures[textureIndex];\n      var source = json.images[textureDef.source];\n      var loader = this.textureLoader;\n\n      if (source.uri) {\n        var handler = options.manager.getHandler(source.uri);\n        if (handler !== null) loader = handler;\n      }\n\n      return this.loadTextureImage(textureIndex, source, loader);\n    }\n  }, {\n    key: \"loadTextureImage\",\n    value: function loadTextureImage(textureIndex, source, loader) {\n      var parser = this;\n      var json = this.json;\n      var options = this.options;\n      var textureDef = json.textures[textureIndex];\n      var cacheKey = (source.uri || source.bufferView) + ':' + textureDef.sampler;\n\n      if (this.textureCache[cacheKey]) {\n        // See https://github.com/mrdoob/three.js/issues/21559.\n        return this.textureCache[cacheKey];\n      }\n\n      var URL = self.URL || self.webkitURL;\n      var sourceURI = source.uri || '';\n      var isObjectURL = false;\n      var hasAlpha = true;\n      var isJPEG = sourceURI.search(/\\.jpe?g($|\\?)/i) > 0 || sourceURI.search(/^data\\:image\\/jpeg/) === 0;\n      if (source.mimeType === 'image/jpeg' || isJPEG) hasAlpha = false;\n\n      if (source.bufferView !== undefined) {\n        // Load binary image data from bufferView, if provided.\n        sourceURI = parser.getDependency('bufferView', source.bufferView).then(function (bufferView) {\n          if (source.mimeType === 'image/png') {\n            // Inspect the PNG 'IHDR' chunk to determine whether the image could have an\n            // alpha channel. This check is conservative  the image could have an alpha\n            // channel with all values == 1, and the indexed type (colorType == 3) only\n            // sometimes contains alpha.\n            //\n            // https://en.wikipedia.org/wiki/Portable_Network_Graphics#File_header\n            var colorType = new DataView(bufferView, 25, 1).getUint8(0, false);\n            hasAlpha = colorType === 6 || colorType === 4 || colorType === 3;\n          }\n\n          isObjectURL = true;\n          var blob = new Blob([bufferView], {\n            type: source.mimeType\n          });\n          sourceURI = URL.createObjectURL(blob);\n          return sourceURI;\n        });\n      } else if (source.uri === undefined) {\n        throw new Error('THREE.GLTFLoader: Image ' + textureIndex + ' is missing URI and bufferView');\n      }\n\n      var promise = Promise.resolve(sourceURI).then(function (sourceURI) {\n        return new Promise(function (resolve, reject) {\n          var onLoad = resolve;\n\n          if (loader.isImageBitmapLoader === true) {\n            onLoad = function onLoad(imageBitmap) {\n              var texture = new Texture(imageBitmap);\n              texture.needsUpdate = true;\n              resolve(texture);\n            };\n          }\n\n          loader.load(resolveURL(sourceURI, options.path), onLoad, undefined, reject);\n        });\n      }).then(function (texture) {\n        // Clean up resources and configure Texture.\n        if (isObjectURL === true) {\n          URL.revokeObjectURL(sourceURI);\n        }\n\n        texture.flipY = false;\n        if (textureDef.name) texture.name = textureDef.name; // When there is definitely no alpha channel in the texture, set RGBFormat to save space.\n\n        if (!hasAlpha) texture.format = RGBFormat;\n        var samplers = json.samplers || {};\n        var sampler = samplers[textureDef.sampler] || {};\n        texture.magFilter = WEBGL_FILTERS[sampler.magFilter] || LinearFilter;\n        texture.minFilter = WEBGL_FILTERS[sampler.minFilter] || LinearMipmapLinearFilter;\n        texture.wrapS = WEBGL_WRAPPINGS[sampler.wrapS] || RepeatWrapping;\n        texture.wrapT = WEBGL_WRAPPINGS[sampler.wrapT] || RepeatWrapping;\n        parser.associations.set(texture, {\n          type: 'textures',\n          index: textureIndex\n        });\n        return texture;\n      }).catch(function () {\n        console.error('THREE.GLTFLoader: Couldn\\'t load texture', sourceURI);\n        return null;\n      });\n      this.textureCache[cacheKey] = promise;\n      return promise;\n    }\n    /**\n     * Asynchronously assigns a texture to the given material parameters.\n     * @param {Object} materialParams\n     * @param {string} mapName\n     * @param {Object} mapDef\n     * @return {Promise<Texture>}\n     */\n\n  }, {\n    key: \"assignTexture\",\n    value: function assignTexture(materialParams, mapName, mapDef) {\n      var parser = this;\n      return this.getDependency('texture', mapDef.index).then(function (texture) {\n        // Materials sample aoMap from UV set 1 and other maps from UV set 0 - this can't be configured\n        // However, we will copy UV set 0 to UV set 1 on demand for aoMap\n        if (mapDef.texCoord !== undefined && mapDef.texCoord != 0 && !(mapName === 'aoMap' && mapDef.texCoord == 1)) {\n          console.warn('THREE.GLTFLoader: Custom UV set ' + mapDef.texCoord + ' for texture ' + mapName + ' not yet supported.');\n        }\n\n        if (parser.extensions[EXTENSIONS.KHR_TEXTURE_TRANSFORM]) {\n          var transform = mapDef.extensions !== undefined ? mapDef.extensions[EXTENSIONS.KHR_TEXTURE_TRANSFORM] : undefined;\n\n          if (transform) {\n            var gltfReference = parser.associations.get(texture);\n            texture = parser.extensions[EXTENSIONS.KHR_TEXTURE_TRANSFORM].extendTexture(texture, transform);\n            parser.associations.set(texture, gltfReference);\n          }\n        }\n\n        materialParams[mapName] = texture;\n        return texture;\n      });\n    }\n    /**\n     * Assigns final material to a Mesh, Line, or Points instance. The instance\n     * already has a material (generated from the glTF material options alone)\n     * but reuse of the same glTF material may require multiple threejs materials\n     * to accommodate different primitive types, defines, etc. New materials will\n     * be created if necessary, and reused from a cache.\n     * @param  {Object3D} mesh Mesh, Line, or Points instance.\n     */\n\n  }, {\n    key: \"assignFinalMaterial\",\n    value: function assignFinalMaterial(mesh) {\n      var geometry = mesh.geometry;\n      var material = mesh.material;\n      var useVertexTangents = geometry.attributes.tangent !== undefined;\n      var useVertexColors = geometry.attributes.color !== undefined;\n      var useFlatShading = geometry.attributes.normal === undefined;\n\n      if (mesh.isPoints) {\n        var cacheKey = 'PointsMaterial:' + material.uuid;\n        var pointsMaterial = this.cache.get(cacheKey);\n\n        if (!pointsMaterial) {\n          pointsMaterial = new PointsMaterial();\n          Material.prototype.copy.call(pointsMaterial, material);\n          pointsMaterial.color.copy(material.color);\n          pointsMaterial.map = material.map;\n          pointsMaterial.sizeAttenuation = false; // glTF spec says points should be 1px\n\n          this.cache.add(cacheKey, pointsMaterial);\n        }\n\n        material = pointsMaterial;\n      } else if (mesh.isLine) {\n        var _cacheKey = 'LineBasicMaterial:' + material.uuid;\n\n        var lineMaterial = this.cache.get(_cacheKey);\n\n        if (!lineMaterial) {\n          lineMaterial = new LineBasicMaterial();\n          Material.prototype.copy.call(lineMaterial, material);\n          lineMaterial.color.copy(material.color);\n          this.cache.add(_cacheKey, lineMaterial);\n        }\n\n        material = lineMaterial;\n      } // Clone the material if it will be modified\n\n\n      if (useVertexTangents || useVertexColors || useFlatShading) {\n        var _cacheKey2 = 'ClonedMaterial:' + material.uuid + ':';\n\n        if (material.isGLTFSpecularGlossinessMaterial) _cacheKey2 += 'specular-glossiness:';\n        if (useVertexTangents) _cacheKey2 += 'vertex-tangents:';\n        if (useVertexColors) _cacheKey2 += 'vertex-colors:';\n        if (useFlatShading) _cacheKey2 += 'flat-shading:';\n        var cachedMaterial = this.cache.get(_cacheKey2);\n\n        if (!cachedMaterial) {\n          cachedMaterial = material.clone();\n          if (useVertexColors) cachedMaterial.vertexColors = true;\n          if (useFlatShading) cachedMaterial.flatShading = true;\n\n          if (useVertexTangents) {\n            // https://github.com/mrdoob/three.js/issues/11438#issuecomment-507003995\n            if (cachedMaterial.normalScale) cachedMaterial.normalScale.y *= -1;\n            if (cachedMaterial.clearcoatNormalScale) cachedMaterial.clearcoatNormalScale.y *= -1;\n          }\n\n          this.cache.add(_cacheKey2, cachedMaterial);\n          this.associations.set(cachedMaterial, this.associations.get(material));\n        }\n\n        material = cachedMaterial;\n      } // workarounds for mesh and geometry\n\n\n      if (material.aoMap && geometry.attributes.uv2 === undefined && geometry.attributes.uv !== undefined) {\n        geometry.setAttribute('uv2', geometry.attributes.uv);\n      }\n\n      mesh.material = material;\n    }\n  }, {\n    key: \"getMaterialType\",\n    value: function getMaterialType() {\n      return MeshStandardMaterial;\n    }\n    /**\n     * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#materials\n     * @param {number} materialIndex\n     * @return {Promise<Material>}\n     */\n\n  }, {\n    key: \"loadMaterial\",\n    value: function loadMaterial(materialIndex) {\n      var parser = this;\n      var json = this.json;\n      var extensions = this.extensions;\n      var materialDef = json.materials[materialIndex];\n      var materialType;\n      var materialParams = {};\n      var materialExtensions = materialDef.extensions || {};\n      var pending = [];\n\n      if (materialExtensions[EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]) {\n        var sgExtension = extensions[EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];\n        materialType = sgExtension.getMaterialType();\n        pending.push(sgExtension.extendParams(materialParams, materialDef, parser));\n      } else if (materialExtensions[EXTENSIONS.KHR_MATERIALS_UNLIT]) {\n        var kmuExtension = extensions[EXTENSIONS.KHR_MATERIALS_UNLIT];\n        materialType = kmuExtension.getMaterialType();\n        pending.push(kmuExtension.extendParams(materialParams, materialDef, parser));\n      } else {\n        // Specification:\n        // https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#metallic-roughness-material\n        var metallicRoughness = materialDef.pbrMetallicRoughness || {};\n        materialParams.color = new Color(1.0, 1.0, 1.0);\n        materialParams.opacity = 1.0;\n\n        if (Array.isArray(metallicRoughness.baseColorFactor)) {\n          var array = metallicRoughness.baseColorFactor;\n          materialParams.color.fromArray(array);\n          materialParams.opacity = array[3];\n        }\n\n        if (metallicRoughness.baseColorTexture !== undefined) {\n          pending.push(parser.assignTexture(materialParams, 'map', metallicRoughness.baseColorTexture));\n        }\n\n        materialParams.metalness = metallicRoughness.metallicFactor !== undefined ? metallicRoughness.metallicFactor : 1.0;\n        materialParams.roughness = metallicRoughness.roughnessFactor !== undefined ? metallicRoughness.roughnessFactor : 1.0;\n\n        if (metallicRoughness.metallicRoughnessTexture !== undefined) {\n          pending.push(parser.assignTexture(materialParams, 'metalnessMap', metallicRoughness.metallicRoughnessTexture));\n          pending.push(parser.assignTexture(materialParams, 'roughnessMap', metallicRoughness.metallicRoughnessTexture));\n        }\n\n        materialType = this._invokeOne(function (ext) {\n          return ext.getMaterialType && ext.getMaterialType(materialIndex);\n        });\n        pending.push(Promise.all(this._invokeAll(function (ext) {\n          return ext.extendMaterialParams && ext.extendMaterialParams(materialIndex, materialParams);\n        })));\n      }\n\n      if (materialDef.doubleSided === true) {\n        materialParams.side = DoubleSide;\n      }\n\n      var alphaMode = materialDef.alphaMode || ALPHA_MODES.OPAQUE;\n\n      if (alphaMode === ALPHA_MODES.BLEND) {\n        materialParams.transparent = true; // See: https://github.com/mrdoob/three.js/issues/17706\n\n        materialParams.depthWrite = false;\n      } else {\n        materialParams.transparent = false;\n\n        if (alphaMode === ALPHA_MODES.MASK) {\n          materialParams.alphaTest = materialDef.alphaCutoff !== undefined ? materialDef.alphaCutoff : 0.5;\n        }\n      }\n\n      if (materialDef.normalTexture !== undefined && materialType !== MeshBasicMaterial) {\n        pending.push(parser.assignTexture(materialParams, 'normalMap', materialDef.normalTexture)); // https://github.com/mrdoob/three.js/issues/11438#issuecomment-507003995\n\n        materialParams.normalScale = new Vector2(1, -1);\n\n        if (materialDef.normalTexture.scale !== undefined) {\n          materialParams.normalScale.set(materialDef.normalTexture.scale, -materialDef.normalTexture.scale);\n        }\n      }\n\n      if (materialDef.occlusionTexture !== undefined && materialType !== MeshBasicMaterial) {\n        pending.push(parser.assignTexture(materialParams, 'aoMap', materialDef.occlusionTexture));\n\n        if (materialDef.occlusionTexture.strength !== undefined) {\n          materialParams.aoMapIntensity = materialDef.occlusionTexture.strength;\n        }\n      }\n\n      if (materialDef.emissiveFactor !== undefined && materialType !== MeshBasicMaterial) {\n        materialParams.emissive = new Color().fromArray(materialDef.emissiveFactor);\n      }\n\n      if (materialDef.emissiveTexture !== undefined && materialType !== MeshBasicMaterial) {\n        pending.push(parser.assignTexture(materialParams, 'emissiveMap', materialDef.emissiveTexture));\n      }\n\n      return Promise.all(pending).then(function () {\n        var material;\n\n        if (materialType === GLTFMeshStandardSGMaterial) {\n          material = extensions[EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(materialParams);\n        } else {\n          material = new materialType(materialParams);\n        }\n\n        if (materialDef.name) material.name = materialDef.name; // baseColorTexture, emissiveTexture, and specularGlossinessTexture use sRGB encoding.\n\n        if (material.map) material.map.encoding = sRGBEncoding;\n        if (material.emissiveMap) material.emissiveMap.encoding = sRGBEncoding;\n        assignExtrasToUserData(material, materialDef);\n        parser.associations.set(material, {\n          type: 'materials',\n          index: materialIndex\n        });\n        if (materialDef.extensions) addUnknownExtensionsToUserData(extensions, material, materialDef);\n        return material;\n      });\n    }\n    /** When Object3D instances are targeted by animation, they need unique names. */\n\n  }, {\n    key: \"createUniqueName\",\n    value: function createUniqueName(originalName) {\n      var sanitizedName = PropertyBinding.sanitizeNodeName(originalName || '');\n      var name = sanitizedName;\n\n      for (var i = 1; this.nodeNamesUsed[name]; ++i) {\n        name = sanitizedName + '_' + i;\n      }\n\n      this.nodeNamesUsed[name] = true;\n      return name;\n    }\n    /**\n     * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#geometry\n     *\n     * Creates BufferGeometries from primitives.\n     *\n     * @param {Array<GLTF.Primitive>} primitives\n     * @return {Promise<Array<BufferGeometry>>}\n     */\n\n  }, {\n    key: \"loadGeometries\",\n    value: function loadGeometries(primitives) {\n      var parser = this;\n      var extensions = this.extensions;\n      var cache = this.primitiveCache;\n\n      function createDracoPrimitive(primitive) {\n        return extensions[EXTENSIONS.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(primitive, parser).then(function (geometry) {\n          return addPrimitiveAttributes(geometry, primitive, parser);\n        });\n      }\n\n      var pending = [];\n\n      for (var i = 0, il = primitives.length; i < il; i++) {\n        var primitive = primitives[i];\n        var cacheKey = createPrimitiveKey(primitive); // See if we've already created this geometry\n\n        var cached = cache[cacheKey];\n\n        if (cached) {\n          // Use the cached geometry if it exists\n          pending.push(cached.promise);\n        } else {\n          var geometryPromise = void 0;\n\n          if (primitive.extensions && primitive.extensions[EXTENSIONS.KHR_DRACO_MESH_COMPRESSION]) {\n            // Use DRACO geometry if available\n            geometryPromise = createDracoPrimitive(primitive);\n          } else {\n            // Otherwise create a new geometry\n            geometryPromise = addPrimitiveAttributes(new BufferGeometry(), primitive, parser);\n          } // Cache this geometry\n\n\n          cache[cacheKey] = {\n            primitive: primitive,\n            promise: geometryPromise\n          };\n          pending.push(geometryPromise);\n        }\n      }\n\n      return Promise.all(pending);\n    }\n    /**\n     * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#meshes\n     * @param {number} meshIndex\n     * @return {Promise<Group|Mesh|SkinnedMesh>}\n     */\n\n  }, {\n    key: \"loadMesh\",\n    value: function loadMesh(meshIndex) {\n      var parser = this;\n      var json = this.json;\n      var extensions = this.extensions;\n      var meshDef = json.meshes[meshIndex];\n      var primitives = meshDef.primitives;\n      var pending = [];\n\n      for (var i = 0, il = primitives.length; i < il; i++) {\n        var material = primitives[i].material === undefined ? createDefaultMaterial(this.cache) : this.getDependency('material', primitives[i].material);\n        pending.push(material);\n      }\n\n      pending.push(parser.loadGeometries(primitives));\n      return Promise.all(pending).then(function (results) {\n        var materials = results.slice(0, results.length - 1);\n        var geometries = results[results.length - 1];\n        var meshes = [];\n\n        for (var _i4 = 0, _il3 = geometries.length; _i4 < _il3; _i4++) {\n          var geometry = geometries[_i4];\n          var primitive = primitives[_i4]; // 1. create Mesh\n\n          var mesh = void 0;\n          var _material = materials[_i4];\n\n          if (primitive.mode === WEBGL_CONSTANTS.TRIANGLES || primitive.mode === WEBGL_CONSTANTS.TRIANGLE_STRIP || primitive.mode === WEBGL_CONSTANTS.TRIANGLE_FAN || primitive.mode === undefined) {\n            // .isSkinnedMesh isn't in glTF spec. See ._markDefs()\n            mesh = meshDef.isSkinnedMesh === true ? new SkinnedMesh(geometry, _material) : new Mesh(geometry, _material);\n\n            if (mesh.isSkinnedMesh === true && !mesh.geometry.attributes.skinWeight.normalized) {\n              // we normalize floating point skin weight array to fix malformed assets (see #15319)\n              // it's important to skip this for non-float32 data since normalizeSkinWeights assumes non-normalized inputs\n              mesh.normalizeSkinWeights();\n            }\n\n            if (primitive.mode === WEBGL_CONSTANTS.TRIANGLE_STRIP) {\n              mesh.geometry = toTrianglesDrawMode(mesh.geometry, TriangleStripDrawMode);\n            } else if (primitive.mode === WEBGL_CONSTANTS.TRIANGLE_FAN) {\n              mesh.geometry = toTrianglesDrawMode(mesh.geometry, TriangleFanDrawMode);\n            }\n          } else if (primitive.mode === WEBGL_CONSTANTS.LINES) {\n            mesh = new LineSegments(geometry, _material);\n          } else if (primitive.mode === WEBGL_CONSTANTS.LINE_STRIP) {\n            mesh = new Line(geometry, _material);\n          } else if (primitive.mode === WEBGL_CONSTANTS.LINE_LOOP) {\n            mesh = new LineLoop(geometry, _material);\n          } else if (primitive.mode === WEBGL_CONSTANTS.POINTS) {\n            mesh = new Points(geometry, _material);\n          } else {\n            throw new Error('THREE.GLTFLoader: Primitive mode unsupported: ' + primitive.mode);\n          }\n\n          if (Object.keys(mesh.geometry.morphAttributes).length > 0) {\n            updateMorphTargets(mesh, meshDef);\n          }\n\n          mesh.name = parser.createUniqueName(meshDef.name || 'mesh_' + meshIndex);\n          assignExtrasToUserData(mesh, meshDef);\n          if (primitive.extensions) addUnknownExtensionsToUserData(extensions, mesh, primitive);\n          parser.assignFinalMaterial(mesh);\n          meshes.push(mesh);\n        }\n\n        if (meshes.length === 1) {\n          return meshes[0];\n        }\n\n        var group = new Group();\n\n        for (var _i5 = 0, _il4 = meshes.length; _i5 < _il4; _i5++) {\n          group.add(meshes[_i5]);\n        }\n\n        return group;\n      });\n    }\n    /**\n     * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#cameras\n     * @param {number} cameraIndex\n     * @return {Promise<THREE.Camera>}\n     */\n\n  }, {\n    key: \"loadCamera\",\n    value: function loadCamera(cameraIndex) {\n      var camera;\n      var cameraDef = this.json.cameras[cameraIndex];\n      var params = cameraDef[cameraDef.type];\n\n      if (!params) {\n        console.warn('THREE.GLTFLoader: Missing camera parameters.');\n        return;\n      }\n\n      if (cameraDef.type === 'perspective') {\n        camera = new PerspectiveCamera(MathUtils.radToDeg(params.yfov), params.aspectRatio || 1, params.znear || 1, params.zfar || 2e6);\n      } else if (cameraDef.type === 'orthographic') {\n        camera = new OrthographicCamera(-params.xmag, params.xmag, params.ymag, -params.ymag, params.znear, params.zfar);\n      }\n\n      if (cameraDef.name) camera.name = this.createUniqueName(cameraDef.name);\n      assignExtrasToUserData(camera, cameraDef);\n      return Promise.resolve(camera);\n    }\n    /**\n     * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#skins\n     * @param {number} skinIndex\n     * @return {Promise<Object>}\n     */\n\n  }, {\n    key: \"loadSkin\",\n    value: function loadSkin(skinIndex) {\n      var skinDef = this.json.skins[skinIndex];\n      var skinEntry = {\n        joints: skinDef.joints\n      };\n\n      if (skinDef.inverseBindMatrices === undefined) {\n        return Promise.resolve(skinEntry);\n      }\n\n      return this.getDependency('accessor', skinDef.inverseBindMatrices).then(function (accessor) {\n        skinEntry.inverseBindMatrices = accessor;\n        return skinEntry;\n      });\n    }\n    /**\n     * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#animations\n     * @param {number} animationIndex\n     * @return {Promise<AnimationClip>}\n     */\n\n  }, {\n    key: \"loadAnimation\",\n    value: function loadAnimation(animationIndex) {\n      var json = this.json;\n      var animationDef = json.animations[animationIndex];\n      var pendingNodes = [];\n      var pendingInputAccessors = [];\n      var pendingOutputAccessors = [];\n      var pendingSamplers = [];\n      var pendingTargets = [];\n\n      for (var i = 0, il = animationDef.channels.length; i < il; i++) {\n        var channel = animationDef.channels[i];\n        var sampler = animationDef.samplers[channel.sampler];\n        var target = channel.target;\n        var name = target.node !== undefined ? target.node : target.id; // NOTE: target.id is deprecated.\n\n        var input = animationDef.parameters !== undefined ? animationDef.parameters[sampler.input] : sampler.input;\n        var output = animationDef.parameters !== undefined ? animationDef.parameters[sampler.output] : sampler.output;\n        pendingNodes.push(this.getDependency('node', name));\n        pendingInputAccessors.push(this.getDependency('accessor', input));\n        pendingOutputAccessors.push(this.getDependency('accessor', output));\n        pendingSamplers.push(sampler);\n        pendingTargets.push(target);\n      }\n\n      return Promise.all([Promise.all(pendingNodes), Promise.all(pendingInputAccessors), Promise.all(pendingOutputAccessors), Promise.all(pendingSamplers), Promise.all(pendingTargets)]).then(function (dependencies) {\n        var nodes = dependencies[0];\n        var inputAccessors = dependencies[1];\n        var outputAccessors = dependencies[2];\n        var samplers = dependencies[3];\n        var targets = dependencies[4];\n        var tracks = [];\n\n        var _loop = function _loop(_i6, _il5) {\n          var node = nodes[_i6];\n          var inputAccessor = inputAccessors[_i6];\n          var outputAccessor = outputAccessors[_i6];\n          var sampler = samplers[_i6];\n          var target = targets[_i6];\n          if (node === undefined) return \"continue\";\n          node.updateMatrix();\n          node.matrixAutoUpdate = true;\n          var TypedKeyframeTrack = void 0;\n\n          switch (PATH_PROPERTIES[target.path]) {\n            case PATH_PROPERTIES.weights:\n              TypedKeyframeTrack = NumberKeyframeTrack;\n              break;\n\n            case PATH_PROPERTIES.rotation:\n              TypedKeyframeTrack = QuaternionKeyframeTrack;\n              break;\n\n            case PATH_PROPERTIES.position:\n            case PATH_PROPERTIES.scale:\n            default:\n              TypedKeyframeTrack = VectorKeyframeTrack;\n              break;\n          }\n\n          var targetName = node.name ? node.name : node.uuid;\n          var interpolation = sampler.interpolation !== undefined ? INTERPOLATION[sampler.interpolation] : InterpolateLinear;\n          var targetNames = [];\n\n          if (PATH_PROPERTIES[target.path] === PATH_PROPERTIES.weights) {\n            // Node may be a Group (glTF mesh with several primitives) or a Mesh.\n            node.traverse(function (object) {\n              if (object.isMesh === true && object.morphTargetInfluences) {\n                targetNames.push(object.name ? object.name : object.uuid);\n              }\n            });\n          } else {\n            targetNames.push(targetName);\n          }\n\n          var outputArray = outputAccessor.array;\n\n          if (outputAccessor.normalized) {\n            var scale = getNormalizedComponentScale(outputArray.constructor);\n            var scaled = new Float32Array(outputArray.length);\n\n            for (var j = 0, jl = outputArray.length; j < jl; j++) {\n              scaled[j] = outputArray[j] * scale;\n            }\n\n            outputArray = scaled;\n          }\n\n          for (var _j = 0, _jl = targetNames.length; _j < _jl; _j++) {\n            var track = new TypedKeyframeTrack(targetNames[_j] + '.' + PATH_PROPERTIES[target.path], inputAccessor.array, outputArray, interpolation); // Override interpolation with custom factory method.\n\n            if (sampler.interpolation === 'CUBICSPLINE') {\n              track.createInterpolant = function InterpolantFactoryMethodGLTFCubicSpline(result) {\n                // A CUBICSPLINE keyframe in glTF has three output values for each input value,\n                // representing inTangent, splineVertex, and outTangent. As a result, track.getValueSize()\n                // must be divided by three to get the interpolant's sampleSize argument.\n                return new GLTFCubicSplineInterpolant(this.times, this.values, this.getValueSize() / 3, result);\n              }; // Mark as CUBICSPLINE. `track.getInterpolation()` doesn't support custom interpolants.\n\n\n              track.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline = true;\n            }\n\n            tracks.push(track);\n          }\n        };\n\n        for (var _i6 = 0, _il5 = nodes.length; _i6 < _il5; _i6++) {\n          var _ret = _loop(_i6, _il5);\n\n          if (_ret === \"continue\") continue;\n        }\n\n        var name = animationDef.name ? animationDef.name : 'animation_' + animationIndex;\n        return new AnimationClip(name, undefined, tracks);\n      });\n    }\n  }, {\n    key: \"createNodeMesh\",\n    value: function createNodeMesh(nodeIndex) {\n      var json = this.json;\n      var parser = this;\n      var nodeDef = json.nodes[nodeIndex];\n      if (nodeDef.mesh === undefined) return null;\n      return parser.getDependency('mesh', nodeDef.mesh).then(function (mesh) {\n        var node = parser._getNodeRef(parser.meshCache, nodeDef.mesh, mesh); // if weights are provided on the node, override weights on the mesh.\n\n\n        if (nodeDef.weights !== undefined) {\n          node.traverse(function (o) {\n            if (!o.isMesh) return;\n\n            for (var i = 0, il = nodeDef.weights.length; i < il; i++) {\n              o.morphTargetInfluences[i] = nodeDef.weights[i];\n            }\n          });\n        }\n\n        return node;\n      });\n    }\n    /**\n     * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#nodes-and-hierarchy\n     * @param {number} nodeIndex\n     * @return {Promise<Object3D>}\n     */\n\n  }, {\n    key: \"loadNode\",\n    value: function loadNode(nodeIndex) {\n      var json = this.json;\n      var extensions = this.extensions;\n      var parser = this;\n      var nodeDef = json.nodes[nodeIndex]; // reserve node's name before its dependencies, so the root has the intended name.\n\n      var nodeName = nodeDef.name ? parser.createUniqueName(nodeDef.name) : '';\n      return function () {\n        var pending = [];\n\n        var meshPromise = parser._invokeOne(function (ext) {\n          return ext.createNodeMesh && ext.createNodeMesh(nodeIndex);\n        });\n\n        if (meshPromise) {\n          pending.push(meshPromise);\n        }\n\n        if (nodeDef.camera !== undefined) {\n          pending.push(parser.getDependency('camera', nodeDef.camera).then(function (camera) {\n            return parser._getNodeRef(parser.cameraCache, nodeDef.camera, camera);\n          }));\n        }\n\n        parser._invokeAll(function (ext) {\n          return ext.createNodeAttachment && ext.createNodeAttachment(nodeIndex);\n        }).forEach(function (promise) {\n          pending.push(promise);\n        });\n\n        return Promise.all(pending);\n      }().then(function (objects) {\n        var node; // .isBone isn't in glTF spec. See ._markDefs\n\n        if (nodeDef.isBone === true) {\n          node = new Bone();\n        } else if (objects.length > 1) {\n          node = new Group();\n        } else if (objects.length === 1) {\n          node = objects[0];\n        } else {\n          node = new Object3D();\n        }\n\n        if (node !== objects[0]) {\n          for (var i = 0, il = objects.length; i < il; i++) {\n            node.add(objects[i]);\n          }\n        }\n\n        if (nodeDef.name) {\n          node.userData.name = nodeDef.name;\n          node.name = nodeName;\n        }\n\n        assignExtrasToUserData(node, nodeDef);\n        if (nodeDef.extensions) addUnknownExtensionsToUserData(extensions, node, nodeDef);\n\n        if (nodeDef.matrix !== undefined) {\n          var matrix = new Matrix4();\n          matrix.fromArray(nodeDef.matrix);\n          node.applyMatrix4(matrix);\n        } else {\n          if (nodeDef.translation !== undefined) {\n            node.position.fromArray(nodeDef.translation);\n          }\n\n          if (nodeDef.rotation !== undefined) {\n            node.quaternion.fromArray(nodeDef.rotation);\n          }\n\n          if (nodeDef.scale !== undefined) {\n            node.scale.fromArray(nodeDef.scale);\n          }\n        }\n\n        parser.associations.set(node, {\n          type: 'nodes',\n          index: nodeIndex\n        });\n        return node;\n      });\n    }\n    /**\n     * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#scenes\n     * @param {number} sceneIndex\n     * @return {Promise<Group>}\n     */\n\n  }, {\n    key: \"loadScene\",\n    value: function loadScene(sceneIndex) {\n      var json = this.json;\n      var extensions = this.extensions;\n      var sceneDef = this.json.scenes[sceneIndex];\n      var parser = this; // Loader returns Group, not Scene.\n      // See: https://github.com/mrdoob/three.js/issues/18342#issuecomment-578981172\n\n      var scene = new Group();\n      if (sceneDef.name) scene.name = parser.createUniqueName(sceneDef.name);\n      assignExtrasToUserData(scene, sceneDef);\n      if (sceneDef.extensions) addUnknownExtensionsToUserData(extensions, scene, sceneDef);\n      var nodeIds = sceneDef.nodes || [];\n      var pending = [];\n\n      for (var i = 0, il = nodeIds.length; i < il; i++) {\n        pending.push(buildNodeHierachy(nodeIds[i], scene, json, parser));\n      }\n\n      return Promise.all(pending).then(function () {\n        return scene;\n      });\n    }\n  }]);\n\n  return GLTFParser;\n}();\n\nfunction buildNodeHierachy(nodeId, parentObject, json, parser) {\n  var nodeDef = json.nodes[nodeId];\n  return parser.getDependency('node', nodeId).then(function (node) {\n    if (nodeDef.skin === undefined) return node; // build skeleton here as well\n\n    var skinEntry;\n    return parser.getDependency('skin', nodeDef.skin).then(function (skin) {\n      skinEntry = skin;\n      var pendingJoints = [];\n\n      for (var i = 0, il = skinEntry.joints.length; i < il; i++) {\n        pendingJoints.push(parser.getDependency('node', skinEntry.joints[i]));\n      }\n\n      return Promise.all(pendingJoints);\n    }).then(function (jointNodes) {\n      node.traverse(function (mesh) {\n        if (!mesh.isMesh) return;\n        var bones = [];\n        var boneInverses = [];\n\n        for (var j = 0, jl = jointNodes.length; j < jl; j++) {\n          var jointNode = jointNodes[j];\n\n          if (jointNode) {\n            bones.push(jointNode);\n            var mat = new Matrix4();\n\n            if (skinEntry.inverseBindMatrices !== undefined) {\n              mat.fromArray(skinEntry.inverseBindMatrices.array, j * 16);\n            }\n\n            boneInverses.push(mat);\n          } else {\n            console.warn('THREE.GLTFLoader: Joint \"%s\" could not be found.', skinEntry.joints[j]);\n          }\n        }\n\n        mesh.bind(new Skeleton(bones, boneInverses), mesh.matrixWorld);\n      });\n      return node;\n    });\n  }).then(function (node) {\n    // build node hierachy\n    parentObject.add(node);\n    var pending = [];\n\n    if (nodeDef.children) {\n      var children = nodeDef.children;\n\n      for (var i = 0, il = children.length; i < il; i++) {\n        var child = children[i];\n        pending.push(buildNodeHierachy(child, node, json, parser));\n      }\n    }\n\n    return Promise.all(pending);\n  });\n}\n/**\n * @param {BufferGeometry} geometry\n * @param {GLTF.Primitive} primitiveDef\n * @param {GLTFParser} parser\n */\n\n\nfunction computeBounds(geometry, primitiveDef, parser) {\n  var attributes = primitiveDef.attributes;\n  var box = new Box3();\n\n  if (attributes.POSITION !== undefined) {\n    var accessor = parser.json.accessors[attributes.POSITION];\n    var min = accessor.min;\n    var max = accessor.max; // glTF requires 'min' and 'max', but VRM (which extends glTF) currently ignores that requirement.\n\n    if (min !== undefined && max !== undefined) {\n      box.set(new Vector3(min[0], min[1], min[2]), new Vector3(max[0], max[1], max[2]));\n\n      if (accessor.normalized) {\n        var boxScale = getNormalizedComponentScale(WEBGL_COMPONENT_TYPES[accessor.componentType]);\n        box.min.multiplyScalar(boxScale);\n        box.max.multiplyScalar(boxScale);\n      }\n    } else {\n      console.warn('THREE.GLTFLoader: Missing min/max properties for accessor POSITION.');\n      return;\n    }\n  } else {\n    return;\n  }\n\n  var targets = primitiveDef.targets;\n\n  if (targets !== undefined) {\n    var maxDisplacement = new Vector3();\n    var vector = new Vector3();\n\n    for (var i = 0, il = targets.length; i < il; i++) {\n      var target = targets[i];\n\n      if (target.POSITION !== undefined) {\n        var _accessor = parser.json.accessors[target.POSITION];\n        var _min = _accessor.min;\n        var _max = _accessor.max; // glTF requires 'min' and 'max', but VRM (which extends glTF) currently ignores that requirement.\n\n        if (_min !== undefined && _max !== undefined) {\n          // we need to get max of absolute components because target weight is [-1,1]\n          vector.setX(Math.max(Math.abs(_min[0]), Math.abs(_max[0])));\n          vector.setY(Math.max(Math.abs(_min[1]), Math.abs(_max[1])));\n          vector.setZ(Math.max(Math.abs(_min[2]), Math.abs(_max[2])));\n\n          if (_accessor.normalized) {\n            var _boxScale = getNormalizedComponentScale(WEBGL_COMPONENT_TYPES[_accessor.componentType]);\n\n            vector.multiplyScalar(_boxScale);\n          } // Note: this assumes that the sum of all weights is at most 1. This isn't quite correct - it's more conservative\n          // to assume that each target can have a max weight of 1. However, for some use cases - notably, when morph targets\n          // are used to implement key-frame animations and as such only two are active at a time - this results in very large\n          // boxes. So for now we make a box that's sometimes a touch too small but is hopefully mostly of reasonable size.\n\n\n          maxDisplacement.max(vector);\n        } else {\n          console.warn('THREE.GLTFLoader: Missing min/max properties for accessor POSITION.');\n        }\n      }\n    } // As per comment above this box isn't conservative, but has a reasonable size for a very large number of morph targets.\n\n\n    box.expandByVector(maxDisplacement);\n  }\n\n  geometry.boundingBox = box;\n  var sphere = new Sphere();\n  box.getCenter(sphere.center);\n  sphere.radius = box.min.distanceTo(box.max) / 2;\n  geometry.boundingSphere = sphere;\n}\n/**\n * @param {BufferGeometry} geometry\n * @param {GLTF.Primitive} primitiveDef\n * @param {GLTFParser} parser\n * @return {Promise<BufferGeometry>}\n */\n\n\nfunction addPrimitiveAttributes(geometry, primitiveDef, parser) {\n  var attributes = primitiveDef.attributes;\n  var pending = [];\n\n  function assignAttributeAccessor(accessorIndex, attributeName) {\n    return parser.getDependency('accessor', accessorIndex).then(function (accessor) {\n      geometry.setAttribute(attributeName, accessor);\n    });\n  }\n\n  for (var gltfAttributeName in attributes) {\n    var threeAttributeName = ATTRIBUTES[gltfAttributeName] || gltfAttributeName.toLowerCase(); // Skip attributes already provided by e.g. Draco extension.\n\n    if (threeAttributeName in geometry.attributes) continue;\n    pending.push(assignAttributeAccessor(attributes[gltfAttributeName], threeAttributeName));\n  }\n\n  if (primitiveDef.indices !== undefined && !geometry.index) {\n    var accessor = parser.getDependency('accessor', primitiveDef.indices).then(function (accessor) {\n      geometry.setIndex(accessor);\n    });\n    pending.push(accessor);\n  }\n\n  assignExtrasToUserData(geometry, primitiveDef);\n  computeBounds(geometry, primitiveDef, parser);\n  return Promise.all(pending).then(function () {\n    return primitiveDef.targets !== undefined ? addMorphTargets(geometry, primitiveDef.targets, parser) : geometry;\n  });\n}\n/**\n * @param {BufferGeometry} geometry\n * @param {Number} drawMode\n * @return {BufferGeometry}\n */\n\n\nfunction toTrianglesDrawMode(geometry, drawMode) {\n  var index = geometry.getIndex(); // generate index if not present\n\n  if (index === null) {\n    var indices = [];\n    var position = geometry.getAttribute('position');\n\n    if (position !== undefined) {\n      for (var i = 0; i < position.count; i++) {\n        indices.push(i);\n      }\n\n      geometry.setIndex(indices);\n      index = geometry.getIndex();\n    } else {\n      console.error('THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible.');\n      return geometry;\n    }\n  } //\n\n\n  var numberOfTriangles = index.count - 2;\n  var newIndices = [];\n\n  if (drawMode === TriangleFanDrawMode) {\n    // gl.TRIANGLE_FAN\n    for (var _i7 = 1; _i7 <= numberOfTriangles; _i7++) {\n      newIndices.push(index.getX(0));\n      newIndices.push(index.getX(_i7));\n      newIndices.push(index.getX(_i7 + 1));\n    }\n  } else {\n    // gl.TRIANGLE_STRIP\n    for (var _i8 = 0; _i8 < numberOfTriangles; _i8++) {\n      if (_i8 % 2 === 0) {\n        newIndices.push(index.getX(_i8));\n        newIndices.push(index.getX(_i8 + 1));\n        newIndices.push(index.getX(_i8 + 2));\n      } else {\n        newIndices.push(index.getX(_i8 + 2));\n        newIndices.push(index.getX(_i8 + 1));\n        newIndices.push(index.getX(_i8));\n      }\n    }\n  }\n\n  if (newIndices.length / 3 !== numberOfTriangles) {\n    console.error('THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.');\n  } // build final geometry\n\n\n  var newGeometry = geometry.clone();\n  newGeometry.setIndex(newIndices);\n  return newGeometry;\n}\n\nexport { GLTFLoader };","import _classCallCheck from \"D:/Projects/Tennis/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:/Projects/Tennis/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"D:/Projects/Tennis/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"D:/Projects/Tennis/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:/Projects/Tennis/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport { DataTextureLoader, LinearMipmapLinearFilter } from 'three';\n\nvar TGALoader = /*#__PURE__*/function (_DataTextureLoader) {\n  _inherits(TGALoader, _DataTextureLoader);\n\n  var _super = _createSuper(TGALoader);\n\n  function TGALoader(manager) {\n    _classCallCheck(this, TGALoader);\n\n    return _super.call(this, manager);\n  }\n\n  _createClass(TGALoader, [{\n    key: \"parse\",\n    value: function parse(buffer) {\n      // reference from vthibault, https://github.com/vthibault/roBrowser/blob/master/src/Loaders/Targa.js\n      function tgaCheckHeader(header) {\n        switch (header.image_type) {\n          // check indexed type\n          case TGA_TYPE_INDEXED:\n          case TGA_TYPE_RLE_INDEXED:\n            if (header.colormap_length > 256 || header.colormap_size !== 24 || header.colormap_type !== 1) {\n              console.error('THREE.TGALoader: Invalid type colormap data for indexed type.');\n            }\n\n            break;\n          // check colormap type\n\n          case TGA_TYPE_RGB:\n          case TGA_TYPE_GREY:\n          case TGA_TYPE_RLE_RGB:\n          case TGA_TYPE_RLE_GREY:\n            if (header.colormap_type) {\n              console.error('THREE.TGALoader: Invalid type colormap data for colormap type.');\n            }\n\n            break;\n          // What the need of a file without data ?\n\n          case TGA_TYPE_NO_DATA:\n            console.error('THREE.TGALoader: No data.');\n          // Invalid type ?\n\n          default:\n            console.error('THREE.TGALoader: Invalid type \"%s\".', header.image_type);\n        } // check image width and height\n\n\n        if (header.width <= 0 || header.height <= 0) {\n          console.error('THREE.TGALoader: Invalid image size.');\n        } // check image pixel size\n\n\n        if (header.pixel_size !== 8 && header.pixel_size !== 16 && header.pixel_size !== 24 && header.pixel_size !== 32) {\n          console.error('THREE.TGALoader: Invalid pixel size \"%s\".', header.pixel_size);\n        }\n      } // parse tga image buffer\n\n\n      function tgaParse(use_rle, use_pal, header, offset, data) {\n        var pixel_data, palettes;\n        var pixel_size = header.pixel_size >> 3;\n        var pixel_total = header.width * header.height * pixel_size; // read palettes\n\n        if (use_pal) {\n          palettes = data.subarray(offset, offset += header.colormap_length * (header.colormap_size >> 3));\n        } // read RLE\n\n\n        if (use_rle) {\n          pixel_data = new Uint8Array(pixel_total);\n          var c, count, i;\n          var shift = 0;\n          var pixels = new Uint8Array(pixel_size);\n\n          while (shift < pixel_total) {\n            c = data[offset++];\n            count = (c & 0x7f) + 1; // RLE pixels\n\n            if (c & 0x80) {\n              // bind pixel tmp array\n              for (i = 0; i < pixel_size; ++i) {\n                pixels[i] = data[offset++];\n              } // copy pixel array\n\n\n              for (i = 0; i < count; ++i) {\n                pixel_data.set(pixels, shift + i * pixel_size);\n              }\n\n              shift += pixel_size * count;\n            } else {\n              // raw pixels\n              count *= pixel_size;\n\n              for (i = 0; i < count; ++i) {\n                pixel_data[shift + i] = data[offset++];\n              }\n\n              shift += count;\n            }\n          }\n        } else {\n          // raw pixels\n          pixel_data = data.subarray(offset, offset += use_pal ? header.width * header.height : pixel_total);\n        }\n\n        return {\n          pixel_data: pixel_data,\n          palettes: palettes\n        };\n      }\n\n      function tgaGetImageData8bits(imageData, y_start, y_step, y_end, x_start, x_step, x_end, image, palettes) {\n        var colormap = palettes;\n        var color,\n            i = 0,\n            x,\n            y;\n        var width = header.width;\n\n        for (y = y_start; y !== y_end; y += y_step) {\n          for (x = x_start; x !== x_end; x += x_step, i++) {\n            color = image[i];\n            imageData[(x + width * y) * 4 + 3] = 255;\n            imageData[(x + width * y) * 4 + 2] = colormap[color * 3 + 0];\n            imageData[(x + width * y) * 4 + 1] = colormap[color * 3 + 1];\n            imageData[(x + width * y) * 4 + 0] = colormap[color * 3 + 2];\n          }\n        }\n\n        return imageData;\n      }\n\n      function tgaGetImageData16bits(imageData, y_start, y_step, y_end, x_start, x_step, x_end, image) {\n        var color,\n            i = 0,\n            x,\n            y;\n        var width = header.width;\n\n        for (y = y_start; y !== y_end; y += y_step) {\n          for (x = x_start; x !== x_end; x += x_step, i += 2) {\n            color = image[i + 0] + (image[i + 1] << 8); // Inversed ?\n\n            imageData[(x + width * y) * 4 + 0] = (color & 0x7C00) >> 7;\n            imageData[(x + width * y) * 4 + 1] = (color & 0x03E0) >> 2;\n            imageData[(x + width * y) * 4 + 2] = (color & 0x001F) >> 3;\n            imageData[(x + width * y) * 4 + 3] = color & 0x8000 ? 0 : 255;\n          }\n        }\n\n        return imageData;\n      }\n\n      function tgaGetImageData24bits(imageData, y_start, y_step, y_end, x_start, x_step, x_end, image) {\n        var i = 0,\n            x,\n            y;\n        var width = header.width;\n\n        for (y = y_start; y !== y_end; y += y_step) {\n          for (x = x_start; x !== x_end; x += x_step, i += 3) {\n            imageData[(x + width * y) * 4 + 3] = 255;\n            imageData[(x + width * y) * 4 + 2] = image[i + 0];\n            imageData[(x + width * y) * 4 + 1] = image[i + 1];\n            imageData[(x + width * y) * 4 + 0] = image[i + 2];\n          }\n        }\n\n        return imageData;\n      }\n\n      function tgaGetImageData32bits(imageData, y_start, y_step, y_end, x_start, x_step, x_end, image) {\n        var i = 0,\n            x,\n            y;\n        var width = header.width;\n\n        for (y = y_start; y !== y_end; y += y_step) {\n          for (x = x_start; x !== x_end; x += x_step, i += 4) {\n            imageData[(x + width * y) * 4 + 2] = image[i + 0];\n            imageData[(x + width * y) * 4 + 1] = image[i + 1];\n            imageData[(x + width * y) * 4 + 0] = image[i + 2];\n            imageData[(x + width * y) * 4 + 3] = image[i + 3];\n          }\n        }\n\n        return imageData;\n      }\n\n      function tgaGetImageDataGrey8bits(imageData, y_start, y_step, y_end, x_start, x_step, x_end, image) {\n        var color,\n            i = 0,\n            x,\n            y;\n        var width = header.width;\n\n        for (y = y_start; y !== y_end; y += y_step) {\n          for (x = x_start; x !== x_end; x += x_step, i++) {\n            color = image[i];\n            imageData[(x + width * y) * 4 + 0] = color;\n            imageData[(x + width * y) * 4 + 1] = color;\n            imageData[(x + width * y) * 4 + 2] = color;\n            imageData[(x + width * y) * 4 + 3] = 255;\n          }\n        }\n\n        return imageData;\n      }\n\n      function tgaGetImageDataGrey16bits(imageData, y_start, y_step, y_end, x_start, x_step, x_end, image) {\n        var i = 0,\n            x,\n            y;\n        var width = header.width;\n\n        for (y = y_start; y !== y_end; y += y_step) {\n          for (x = x_start; x !== x_end; x += x_step, i += 2) {\n            imageData[(x + width * y) * 4 + 0] = image[i + 0];\n            imageData[(x + width * y) * 4 + 1] = image[i + 0];\n            imageData[(x + width * y) * 4 + 2] = image[i + 0];\n            imageData[(x + width * y) * 4 + 3] = image[i + 1];\n          }\n        }\n\n        return imageData;\n      }\n\n      function getTgaRGBA(data, width, height, image, palette) {\n        var x_start, y_start, x_step, y_step, x_end, y_end;\n\n        switch ((header.flags & TGA_ORIGIN_MASK) >> TGA_ORIGIN_SHIFT) {\n          default:\n          case TGA_ORIGIN_UL:\n            x_start = 0;\n            x_step = 1;\n            x_end = width;\n            y_start = 0;\n            y_step = 1;\n            y_end = height;\n            break;\n\n          case TGA_ORIGIN_BL:\n            x_start = 0;\n            x_step = 1;\n            x_end = width;\n            y_start = height - 1;\n            y_step = -1;\n            y_end = -1;\n            break;\n\n          case TGA_ORIGIN_UR:\n            x_start = width - 1;\n            x_step = -1;\n            x_end = -1;\n            y_start = 0;\n            y_step = 1;\n            y_end = height;\n            break;\n\n          case TGA_ORIGIN_BR:\n            x_start = width - 1;\n            x_step = -1;\n            x_end = -1;\n            y_start = height - 1;\n            y_step = -1;\n            y_end = -1;\n            break;\n        }\n\n        if (use_grey) {\n          switch (header.pixel_size) {\n            case 8:\n              tgaGetImageDataGrey8bits(data, y_start, y_step, y_end, x_start, x_step, x_end, image);\n              break;\n\n            case 16:\n              tgaGetImageDataGrey16bits(data, y_start, y_step, y_end, x_start, x_step, x_end, image);\n              break;\n\n            default:\n              console.error('THREE.TGALoader: Format not supported.');\n              break;\n          }\n        } else {\n          switch (header.pixel_size) {\n            case 8:\n              tgaGetImageData8bits(data, y_start, y_step, y_end, x_start, x_step, x_end, image, palette);\n              break;\n\n            case 16:\n              tgaGetImageData16bits(data, y_start, y_step, y_end, x_start, x_step, x_end, image);\n              break;\n\n            case 24:\n              tgaGetImageData24bits(data, y_start, y_step, y_end, x_start, x_step, x_end, image);\n              break;\n\n            case 32:\n              tgaGetImageData32bits(data, y_start, y_step, y_end, x_start, x_step, x_end, image);\n              break;\n\n            default:\n              console.error('THREE.TGALoader: Format not supported.');\n              break;\n          }\n        } // Load image data according to specific method\n        // let func = 'tgaGetImageData' + (use_grey ? 'Grey' : '') + (header.pixel_size) + 'bits';\n        // func(data, y_start, y_step, y_end, x_start, x_step, x_end, width, image, palette );\n\n\n        return data;\n      } // TGA constants\n\n\n      var TGA_TYPE_NO_DATA = 0,\n          TGA_TYPE_INDEXED = 1,\n          TGA_TYPE_RGB = 2,\n          TGA_TYPE_GREY = 3,\n          TGA_TYPE_RLE_INDEXED = 9,\n          TGA_TYPE_RLE_RGB = 10,\n          TGA_TYPE_RLE_GREY = 11,\n          TGA_ORIGIN_MASK = 0x30,\n          TGA_ORIGIN_SHIFT = 0x04,\n          TGA_ORIGIN_BL = 0x00,\n          TGA_ORIGIN_BR = 0x01,\n          TGA_ORIGIN_UL = 0x02,\n          TGA_ORIGIN_UR = 0x03;\n      if (buffer.length < 19) console.error('THREE.TGALoader: Not enough data to contain header.');\n      var offset = 0;\n      var content = new Uint8Array(buffer),\n          header = {\n        id_length: content[offset++],\n        colormap_type: content[offset++],\n        image_type: content[offset++],\n        colormap_index: content[offset++] | content[offset++] << 8,\n        colormap_length: content[offset++] | content[offset++] << 8,\n        colormap_size: content[offset++],\n        origin: [content[offset++] | content[offset++] << 8, content[offset++] | content[offset++] << 8],\n        width: content[offset++] | content[offset++] << 8,\n        height: content[offset++] | content[offset++] << 8,\n        pixel_size: content[offset++],\n        flags: content[offset++]\n      }; // check tga if it is valid format\n\n      tgaCheckHeader(header);\n\n      if (header.id_length + offset > buffer.length) {\n        console.error('THREE.TGALoader: No data.');\n      } // skip the needn't data\n\n\n      offset += header.id_length; // get targa information about RLE compression and palette\n\n      var use_rle = false,\n          use_pal = false,\n          use_grey = false;\n\n      switch (header.image_type) {\n        case TGA_TYPE_RLE_INDEXED:\n          use_rle = true;\n          use_pal = true;\n          break;\n\n        case TGA_TYPE_INDEXED:\n          use_pal = true;\n          break;\n\n        case TGA_TYPE_RLE_RGB:\n          use_rle = true;\n          break;\n\n        case TGA_TYPE_RGB:\n          break;\n\n        case TGA_TYPE_RLE_GREY:\n          use_rle = true;\n          use_grey = true;\n          break;\n\n        case TGA_TYPE_GREY:\n          use_grey = true;\n          break;\n      } //\n\n\n      var imageData = new Uint8Array(header.width * header.height * 4);\n      var result = tgaParse(use_rle, use_pal, header, offset, content);\n      getTgaRGBA(imageData, header.width, header.height, result.pixel_data, result.palettes);\n      return {\n        data: imageData,\n        width: header.width,\n        height: header.height,\n        flipY: true,\n        generateMipmaps: true,\n        minFilter: LinearMipmapLinearFilter\n      };\n    }\n  }]);\n\n  return TGALoader;\n}(DataTextureLoader);\n\nexport { TGALoader };","import _classCallCheck from \"D:/Projects/Tennis/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:/Projects/Tennis/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"D:/Projects/Tennis/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"D:/Projects/Tennis/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:/Projects/Tennis/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport { AmbientLight, AnimationClip, Bone, BufferGeometry, ClampToEdgeWrapping, Color, DirectionalLight, DoubleSide, Euler, FileLoader, Float32BufferAttribute, Group, Line, LineBasicMaterial, LineSegments, Loader, LoaderUtils, MathUtils, Matrix4, Mesh, MeshBasicMaterial, MeshLambertMaterial, MeshPhongMaterial, OrthographicCamera, PerspectiveCamera, PointLight, Quaternion, QuaternionKeyframeTrack, RepeatWrapping, Scene, Skeleton, SkinnedMesh, SpotLight, TextureLoader, Vector3, VectorKeyframeTrack } from 'three';\nimport { TGALoader } from '../loaders/TGALoader.js';\n\nvar ColladaLoader = /*#__PURE__*/function (_Loader) {\n  _inherits(ColladaLoader, _Loader);\n\n  var _super = _createSuper(ColladaLoader);\n\n  function ColladaLoader(manager) {\n    _classCallCheck(this, ColladaLoader);\n\n    return _super.call(this, manager);\n  }\n\n  _createClass(ColladaLoader, [{\n    key: \"load\",\n    value: function load(url, onLoad, onProgress, onError) {\n      var scope = this;\n      var path = scope.path === '' ? LoaderUtils.extractUrlBase(url) : scope.path;\n      var loader = new FileLoader(scope.manager);\n      loader.setPath(scope.path);\n      loader.setRequestHeader(scope.requestHeader);\n      loader.setWithCredentials(scope.withCredentials);\n      loader.load(url, function (text) {\n        try {\n          onLoad(scope.parse(text, path));\n        } catch (e) {\n          if (onError) {\n            onError(e);\n          } else {\n            console.error(e);\n          }\n\n          scope.manager.itemError(url);\n        }\n      }, onProgress, onError);\n    }\n  }, {\n    key: \"parse\",\n    value: function parse(text, path) {\n      function getElementsByTagName(xml, name) {\n        // Non recursive xml.getElementsByTagName() ...\n        var array = [];\n        var childNodes = xml.childNodes;\n\n        for (var i = 0, l = childNodes.length; i < l; i++) {\n          var child = childNodes[i];\n\n          if (child.nodeName === name) {\n            array.push(child);\n          }\n        }\n\n        return array;\n      }\n\n      function parseStrings(text) {\n        if (text.length === 0) return [];\n        var parts = text.trim().split(/\\s+/);\n        var array = new Array(parts.length);\n\n        for (var i = 0, l = parts.length; i < l; i++) {\n          array[i] = parts[i];\n        }\n\n        return array;\n      }\n\n      function parseFloats(text) {\n        if (text.length === 0) return [];\n        var parts = text.trim().split(/\\s+/);\n        var array = new Array(parts.length);\n\n        for (var i = 0, l = parts.length; i < l; i++) {\n          array[i] = parseFloat(parts[i]);\n        }\n\n        return array;\n      }\n\n      function parseInts(text) {\n        if (text.length === 0) return [];\n        var parts = text.trim().split(/\\s+/);\n        var array = new Array(parts.length);\n\n        for (var i = 0, l = parts.length; i < l; i++) {\n          array[i] = parseInt(parts[i]);\n        }\n\n        return array;\n      }\n\n      function parseId(text) {\n        return text.substring(1);\n      }\n\n      function generateId() {\n        return 'three_default_' + count++;\n      }\n\n      function isEmpty(object) {\n        return Object.keys(object).length === 0;\n      } // asset\n\n\n      function parseAsset(xml) {\n        return {\n          unit: parseAssetUnit(getElementsByTagName(xml, 'unit')[0]),\n          upAxis: parseAssetUpAxis(getElementsByTagName(xml, 'up_axis')[0])\n        };\n      }\n\n      function parseAssetUnit(xml) {\n        if (xml !== undefined && xml.hasAttribute('meter') === true) {\n          return parseFloat(xml.getAttribute('meter'));\n        } else {\n          return 1; // default 1 meter\n        }\n      }\n\n      function parseAssetUpAxis(xml) {\n        return xml !== undefined ? xml.textContent : 'Y_UP';\n      } // library\n\n\n      function parseLibrary(xml, libraryName, nodeName, parser) {\n        var library = getElementsByTagName(xml, libraryName)[0];\n\n        if (library !== undefined) {\n          var elements = getElementsByTagName(library, nodeName);\n\n          for (var i = 0; i < elements.length; i++) {\n            parser(elements[i]);\n          }\n        }\n      }\n\n      function buildLibrary(data, builder) {\n        for (var name in data) {\n          var object = data[name];\n          object.build = builder(data[name]);\n        }\n      } // get\n\n\n      function getBuild(data, builder) {\n        if (data.build !== undefined) return data.build;\n        data.build = builder(data);\n        return data.build;\n      } // animation\n\n\n      function parseAnimation(xml) {\n        var data = {\n          sources: {},\n          samplers: {},\n          channels: {}\n        };\n        var hasChildren = false;\n\n        for (var i = 0, l = xml.childNodes.length; i < l; i++) {\n          var child = xml.childNodes[i];\n          if (child.nodeType !== 1) continue;\n          var id = void 0;\n\n          switch (child.nodeName) {\n            case 'source':\n              id = child.getAttribute('id');\n              data.sources[id] = parseSource(child);\n              break;\n\n            case 'sampler':\n              id = child.getAttribute('id');\n              data.samplers[id] = parseAnimationSampler(child);\n              break;\n\n            case 'channel':\n              id = child.getAttribute('target');\n              data.channels[id] = parseAnimationChannel(child);\n              break;\n\n            case 'animation':\n              // hierarchy of related animations\n              parseAnimation(child);\n              hasChildren = true;\n              break;\n\n            default:\n              console.log(child);\n          }\n        }\n\n        if (hasChildren === false) {\n          // since 'id' attributes can be optional, it's necessary to generate a UUID for unqiue assignment\n          library.animations[xml.getAttribute('id') || MathUtils.generateUUID()] = data;\n        }\n      }\n\n      function parseAnimationSampler(xml) {\n        var data = {\n          inputs: {}\n        };\n\n        for (var i = 0, l = xml.childNodes.length; i < l; i++) {\n          var child = xml.childNodes[i];\n          if (child.nodeType !== 1) continue;\n\n          switch (child.nodeName) {\n            case 'input':\n              var id = parseId(child.getAttribute('source'));\n              var semantic = child.getAttribute('semantic');\n              data.inputs[semantic] = id;\n              break;\n          }\n        }\n\n        return data;\n      }\n\n      function parseAnimationChannel(xml) {\n        var data = {};\n        var target = xml.getAttribute('target'); // parsing SID Addressing Syntax\n\n        var parts = target.split('/');\n        var id = parts.shift();\n        var sid = parts.shift(); // check selection syntax\n\n        var arraySyntax = sid.indexOf('(') !== -1;\n        var memberSyntax = sid.indexOf('.') !== -1;\n\n        if (memberSyntax) {\n          //  member selection access\n          parts = sid.split('.');\n          sid = parts.shift();\n          data.member = parts.shift();\n        } else if (arraySyntax) {\n          // array-access syntax. can be used to express fields in one-dimensional vectors or two-dimensional matrices.\n          var indices = sid.split('(');\n          sid = indices.shift();\n\n          for (var i = 0; i < indices.length; i++) {\n            indices[i] = parseInt(indices[i].replace(/\\)/, ''));\n          }\n\n          data.indices = indices;\n        }\n\n        data.id = id;\n        data.sid = sid;\n        data.arraySyntax = arraySyntax;\n        data.memberSyntax = memberSyntax;\n        data.sampler = parseId(xml.getAttribute('source'));\n        return data;\n      }\n\n      function buildAnimation(data) {\n        var tracks = [];\n        var channels = data.channels;\n        var samplers = data.samplers;\n        var sources = data.sources;\n\n        for (var target in channels) {\n          if (channels.hasOwnProperty(target)) {\n            var channel = channels[target];\n            var sampler = samplers[channel.sampler];\n            var inputId = sampler.inputs.INPUT;\n            var outputId = sampler.inputs.OUTPUT;\n            var inputSource = sources[inputId];\n            var outputSource = sources[outputId];\n            var animation = buildAnimationChannel(channel, inputSource, outputSource);\n            createKeyframeTracks(animation, tracks);\n          }\n        }\n\n        return tracks;\n      }\n\n      function getAnimation(id) {\n        return getBuild(library.animations[id], buildAnimation);\n      }\n\n      function buildAnimationChannel(channel, inputSource, outputSource) {\n        var node = library.nodes[channel.id];\n        var object3D = getNode(node.id);\n        var transform = node.transforms[channel.sid];\n        var defaultMatrix = node.matrix.clone().transpose();\n        var time, stride;\n        var i, il, j, jl;\n        var data = {}; // the collada spec allows the animation of data in various ways.\n        // depending on the transform type (matrix, translate, rotate, scale), we execute different logic\n\n        switch (transform) {\n          case 'matrix':\n            for (i = 0, il = inputSource.array.length; i < il; i++) {\n              time = inputSource.array[i];\n              stride = i * outputSource.stride;\n              if (data[time] === undefined) data[time] = {};\n\n              if (channel.arraySyntax === true) {\n                var value = outputSource.array[stride];\n                var index = channel.indices[0] + 4 * channel.indices[1];\n                data[time][index] = value;\n              } else {\n                for (j = 0, jl = outputSource.stride; j < jl; j++) {\n                  data[time][j] = outputSource.array[stride + j];\n                }\n              }\n            }\n\n            break;\n\n          case 'translate':\n            console.warn('THREE.ColladaLoader: Animation transform type \"%s\" not yet implemented.', transform);\n            break;\n\n          case 'rotate':\n            console.warn('THREE.ColladaLoader: Animation transform type \"%s\" not yet implemented.', transform);\n            break;\n\n          case 'scale':\n            console.warn('THREE.ColladaLoader: Animation transform type \"%s\" not yet implemented.', transform);\n            break;\n        }\n\n        var keyframes = prepareAnimationData(data, defaultMatrix);\n        var animation = {\n          name: object3D.uuid,\n          keyframes: keyframes\n        };\n        return animation;\n      }\n\n      function prepareAnimationData(data, defaultMatrix) {\n        var keyframes = []; // transfer data into a sortable array\n\n        for (var time in data) {\n          keyframes.push({\n            time: parseFloat(time),\n            value: data[time]\n          });\n        } // ensure keyframes are sorted by time\n\n\n        keyframes.sort(ascending); // now we clean up all animation data, so we can use them for keyframe tracks\n\n        for (var i = 0; i < 16; i++) {\n          transformAnimationData(keyframes, i, defaultMatrix.elements[i]);\n        }\n\n        return keyframes; // array sort function\n\n        function ascending(a, b) {\n          return a.time - b.time;\n        }\n      }\n\n      var position = new Vector3();\n      var scale = new Vector3();\n      var quaternion = new Quaternion();\n\n      function createKeyframeTracks(animation, tracks) {\n        var keyframes = animation.keyframes;\n        var name = animation.name;\n        var times = [];\n        var positionData = [];\n        var quaternionData = [];\n        var scaleData = [];\n\n        for (var i = 0, l = keyframes.length; i < l; i++) {\n          var keyframe = keyframes[i];\n          var time = keyframe.time;\n          var value = keyframe.value;\n          matrix.fromArray(value).transpose();\n          matrix.decompose(position, quaternion, scale);\n          times.push(time);\n          positionData.push(position.x, position.y, position.z);\n          quaternionData.push(quaternion.x, quaternion.y, quaternion.z, quaternion.w);\n          scaleData.push(scale.x, scale.y, scale.z);\n        }\n\n        if (positionData.length > 0) tracks.push(new VectorKeyframeTrack(name + '.position', times, positionData));\n        if (quaternionData.length > 0) tracks.push(new QuaternionKeyframeTrack(name + '.quaternion', times, quaternionData));\n        if (scaleData.length > 0) tracks.push(new VectorKeyframeTrack(name + '.scale', times, scaleData));\n        return tracks;\n      }\n\n      function transformAnimationData(keyframes, property, defaultValue) {\n        var keyframe;\n        var empty = true;\n        var i, l; // check, if values of a property are missing in our keyframes\n\n        for (i = 0, l = keyframes.length; i < l; i++) {\n          keyframe = keyframes[i];\n\n          if (keyframe.value[property] === undefined) {\n            keyframe.value[property] = null; // mark as missing\n          } else {\n            empty = false;\n          }\n        }\n\n        if (empty === true) {\n          // no values at all, so we set a default value\n          for (i = 0, l = keyframes.length; i < l; i++) {\n            keyframe = keyframes[i];\n            keyframe.value[property] = defaultValue;\n          }\n        } else {\n          // filling gaps\n          createMissingKeyframes(keyframes, property);\n        }\n      }\n\n      function createMissingKeyframes(keyframes, property) {\n        var prev, next;\n\n        for (var i = 0, l = keyframes.length; i < l; i++) {\n          var keyframe = keyframes[i];\n\n          if (keyframe.value[property] === null) {\n            prev = getPrev(keyframes, i, property);\n            next = getNext(keyframes, i, property);\n\n            if (prev === null) {\n              keyframe.value[property] = next.value[property];\n              continue;\n            }\n\n            if (next === null) {\n              keyframe.value[property] = prev.value[property];\n              continue;\n            }\n\n            interpolate(keyframe, prev, next, property);\n          }\n        }\n      }\n\n      function getPrev(keyframes, i, property) {\n        while (i >= 0) {\n          var keyframe = keyframes[i];\n          if (keyframe.value[property] !== null) return keyframe;\n          i--;\n        }\n\n        return null;\n      }\n\n      function getNext(keyframes, i, property) {\n        while (i < keyframes.length) {\n          var keyframe = keyframes[i];\n          if (keyframe.value[property] !== null) return keyframe;\n          i++;\n        }\n\n        return null;\n      }\n\n      function interpolate(key, prev, next, property) {\n        if (next.time - prev.time === 0) {\n          key.value[property] = prev.value[property];\n          return;\n        }\n\n        key.value[property] = (key.time - prev.time) * (next.value[property] - prev.value[property]) / (next.time - prev.time) + prev.value[property];\n      } // animation clips\n\n\n      function parseAnimationClip(xml) {\n        var data = {\n          name: xml.getAttribute('id') || 'default',\n          start: parseFloat(xml.getAttribute('start') || 0),\n          end: parseFloat(xml.getAttribute('end') || 0),\n          animations: []\n        };\n\n        for (var i = 0, l = xml.childNodes.length; i < l; i++) {\n          var child = xml.childNodes[i];\n          if (child.nodeType !== 1) continue;\n\n          switch (child.nodeName) {\n            case 'instance_animation':\n              data.animations.push(parseId(child.getAttribute('url')));\n              break;\n          }\n        }\n\n        library.clips[xml.getAttribute('id')] = data;\n      }\n\n      function buildAnimationClip(data) {\n        var tracks = [];\n        var name = data.name;\n        var duration = data.end - data.start || -1;\n        var animations = data.animations;\n\n        for (var i = 0, il = animations.length; i < il; i++) {\n          var animationTracks = getAnimation(animations[i]);\n\n          for (var j = 0, jl = animationTracks.length; j < jl; j++) {\n            tracks.push(animationTracks[j]);\n          }\n        }\n\n        return new AnimationClip(name, duration, tracks);\n      }\n\n      function getAnimationClip(id) {\n        return getBuild(library.clips[id], buildAnimationClip);\n      } // controller\n\n\n      function parseController(xml) {\n        var data = {};\n\n        for (var i = 0, l = xml.childNodes.length; i < l; i++) {\n          var child = xml.childNodes[i];\n          if (child.nodeType !== 1) continue;\n\n          switch (child.nodeName) {\n            case 'skin':\n              // there is exactly one skin per controller\n              data.id = parseId(child.getAttribute('source'));\n              data.skin = parseSkin(child);\n              break;\n\n            case 'morph':\n              data.id = parseId(child.getAttribute('source'));\n              console.warn('THREE.ColladaLoader: Morph target animation not supported yet.');\n              break;\n          }\n        }\n\n        library.controllers[xml.getAttribute('id')] = data;\n      }\n\n      function parseSkin(xml) {\n        var data = {\n          sources: {}\n        };\n\n        for (var i = 0, l = xml.childNodes.length; i < l; i++) {\n          var child = xml.childNodes[i];\n          if (child.nodeType !== 1) continue;\n\n          switch (child.nodeName) {\n            case 'bind_shape_matrix':\n              data.bindShapeMatrix = parseFloats(child.textContent);\n              break;\n\n            case 'source':\n              var id = child.getAttribute('id');\n              data.sources[id] = parseSource(child);\n              break;\n\n            case 'joints':\n              data.joints = parseJoints(child);\n              break;\n\n            case 'vertex_weights':\n              data.vertexWeights = parseVertexWeights(child);\n              break;\n          }\n        }\n\n        return data;\n      }\n\n      function parseJoints(xml) {\n        var data = {\n          inputs: {}\n        };\n\n        for (var i = 0, l = xml.childNodes.length; i < l; i++) {\n          var child = xml.childNodes[i];\n          if (child.nodeType !== 1) continue;\n\n          switch (child.nodeName) {\n            case 'input':\n              var semantic = child.getAttribute('semantic');\n              var id = parseId(child.getAttribute('source'));\n              data.inputs[semantic] = id;\n              break;\n          }\n        }\n\n        return data;\n      }\n\n      function parseVertexWeights(xml) {\n        var data = {\n          inputs: {}\n        };\n\n        for (var i = 0, l = xml.childNodes.length; i < l; i++) {\n          var child = xml.childNodes[i];\n          if (child.nodeType !== 1) continue;\n\n          switch (child.nodeName) {\n            case 'input':\n              var semantic = child.getAttribute('semantic');\n              var id = parseId(child.getAttribute('source'));\n              var offset = parseInt(child.getAttribute('offset'));\n              data.inputs[semantic] = {\n                id: id,\n                offset: offset\n              };\n              break;\n\n            case 'vcount':\n              data.vcount = parseInts(child.textContent);\n              break;\n\n            case 'v':\n              data.v = parseInts(child.textContent);\n              break;\n          }\n        }\n\n        return data;\n      }\n\n      function buildController(data) {\n        var build = {\n          id: data.id\n        };\n        var geometry = library.geometries[build.id];\n\n        if (data.skin !== undefined) {\n          build.skin = buildSkin(data.skin); // we enhance the 'sources' property of the corresponding geometry with our skin data\n\n          geometry.sources.skinIndices = build.skin.indices;\n          geometry.sources.skinWeights = build.skin.weights;\n        }\n\n        return build;\n      }\n\n      function buildSkin(data) {\n        var BONE_LIMIT = 4;\n        var build = {\n          joints: [],\n          // this must be an array to preserve the joint order\n          indices: {\n            array: [],\n            stride: BONE_LIMIT\n          },\n          weights: {\n            array: [],\n            stride: BONE_LIMIT\n          }\n        };\n        var sources = data.sources;\n        var vertexWeights = data.vertexWeights;\n        var vcount = vertexWeights.vcount;\n        var v = vertexWeights.v;\n        var jointOffset = vertexWeights.inputs.JOINT.offset;\n        var weightOffset = vertexWeights.inputs.WEIGHT.offset;\n        var jointSource = data.sources[data.joints.inputs.JOINT];\n        var inverseSource = data.sources[data.joints.inputs.INV_BIND_MATRIX];\n        var weights = sources[vertexWeights.inputs.WEIGHT.id].array;\n        var stride = 0;\n        var i, j, l; // procces skin data for each vertex\n\n        for (i = 0, l = vcount.length; i < l; i++) {\n          var jointCount = vcount[i]; // this is the amount of joints that affect a single vertex\n\n          var vertexSkinData = [];\n\n          for (j = 0; j < jointCount; j++) {\n            var skinIndex = v[stride + jointOffset];\n            var weightId = v[stride + weightOffset];\n            var skinWeight = weights[weightId];\n            vertexSkinData.push({\n              index: skinIndex,\n              weight: skinWeight\n            });\n            stride += 2;\n          } // we sort the joints in descending order based on the weights.\n          // this ensures, we only procced the most important joints of the vertex\n\n\n          vertexSkinData.sort(descending); // now we provide for each vertex a set of four index and weight values.\n          // the order of the skin data matches the order of vertices\n\n          for (j = 0; j < BONE_LIMIT; j++) {\n            var d = vertexSkinData[j];\n\n            if (d !== undefined) {\n              build.indices.array.push(d.index);\n              build.weights.array.push(d.weight);\n            } else {\n              build.indices.array.push(0);\n              build.weights.array.push(0);\n            }\n          }\n        } // setup bind matrix\n\n\n        if (data.bindShapeMatrix) {\n          build.bindMatrix = new Matrix4().fromArray(data.bindShapeMatrix).transpose();\n        } else {\n          build.bindMatrix = new Matrix4().identity();\n        } // process bones and inverse bind matrix data\n\n\n        for (i = 0, l = jointSource.array.length; i < l; i++) {\n          var name = jointSource.array[i];\n          var boneInverse = new Matrix4().fromArray(inverseSource.array, i * inverseSource.stride).transpose();\n          build.joints.push({\n            name: name,\n            boneInverse: boneInverse\n          });\n        }\n\n        return build; // array sort function\n\n        function descending(a, b) {\n          return b.weight - a.weight;\n        }\n      }\n\n      function getController(id) {\n        return getBuild(library.controllers[id], buildController);\n      } // image\n\n\n      function parseImage(xml) {\n        var data = {\n          init_from: getElementsByTagName(xml, 'init_from')[0].textContent\n        };\n        library.images[xml.getAttribute('id')] = data;\n      }\n\n      function buildImage(data) {\n        if (data.build !== undefined) return data.build;\n        return data.init_from;\n      }\n\n      function getImage(id) {\n        var data = library.images[id];\n\n        if (data !== undefined) {\n          return getBuild(data, buildImage);\n        }\n\n        console.warn('THREE.ColladaLoader: Couldn\\'t find image with ID:', id);\n        return null;\n      } // effect\n\n\n      function parseEffect(xml) {\n        var data = {};\n\n        for (var i = 0, l = xml.childNodes.length; i < l; i++) {\n          var child = xml.childNodes[i];\n          if (child.nodeType !== 1) continue;\n\n          switch (child.nodeName) {\n            case 'profile_COMMON':\n              data.profile = parseEffectProfileCOMMON(child);\n              break;\n          }\n        }\n\n        library.effects[xml.getAttribute('id')] = data;\n      }\n\n      function parseEffectProfileCOMMON(xml) {\n        var data = {\n          surfaces: {},\n          samplers: {}\n        };\n\n        for (var i = 0, l = xml.childNodes.length; i < l; i++) {\n          var child = xml.childNodes[i];\n          if (child.nodeType !== 1) continue;\n\n          switch (child.nodeName) {\n            case 'newparam':\n              parseEffectNewparam(child, data);\n              break;\n\n            case 'technique':\n              data.technique = parseEffectTechnique(child);\n              break;\n\n            case 'extra':\n              data.extra = parseEffectExtra(child);\n              break;\n          }\n        }\n\n        return data;\n      }\n\n      function parseEffectNewparam(xml, data) {\n        var sid = xml.getAttribute('sid');\n\n        for (var i = 0, l = xml.childNodes.length; i < l; i++) {\n          var child = xml.childNodes[i];\n          if (child.nodeType !== 1) continue;\n\n          switch (child.nodeName) {\n            case 'surface':\n              data.surfaces[sid] = parseEffectSurface(child);\n              break;\n\n            case 'sampler2D':\n              data.samplers[sid] = parseEffectSampler(child);\n              break;\n          }\n        }\n      }\n\n      function parseEffectSurface(xml) {\n        var data = {};\n\n        for (var i = 0, l = xml.childNodes.length; i < l; i++) {\n          var child = xml.childNodes[i];\n          if (child.nodeType !== 1) continue;\n\n          switch (child.nodeName) {\n            case 'init_from':\n              data.init_from = child.textContent;\n              break;\n          }\n        }\n\n        return data;\n      }\n\n      function parseEffectSampler(xml) {\n        var data = {};\n\n        for (var i = 0, l = xml.childNodes.length; i < l; i++) {\n          var child = xml.childNodes[i];\n          if (child.nodeType !== 1) continue;\n\n          switch (child.nodeName) {\n            case 'source':\n              data.source = child.textContent;\n              break;\n          }\n        }\n\n        return data;\n      }\n\n      function parseEffectTechnique(xml) {\n        var data = {};\n\n        for (var i = 0, l = xml.childNodes.length; i < l; i++) {\n          var child = xml.childNodes[i];\n          if (child.nodeType !== 1) continue;\n\n          switch (child.nodeName) {\n            case 'constant':\n            case 'lambert':\n            case 'blinn':\n            case 'phong':\n              data.type = child.nodeName;\n              data.parameters = parseEffectParameters(child);\n              break;\n          }\n        }\n\n        return data;\n      }\n\n      function parseEffectParameters(xml) {\n        var data = {};\n\n        for (var i = 0, l = xml.childNodes.length; i < l; i++) {\n          var child = xml.childNodes[i];\n          if (child.nodeType !== 1) continue;\n\n          switch (child.nodeName) {\n            case 'emission':\n            case 'diffuse':\n            case 'specular':\n            case 'bump':\n            case 'ambient':\n            case 'shininess':\n            case 'transparency':\n              data[child.nodeName] = parseEffectParameter(child);\n              break;\n\n            case 'transparent':\n              data[child.nodeName] = {\n                opaque: child.getAttribute('opaque'),\n                data: parseEffectParameter(child)\n              };\n              break;\n          }\n        }\n\n        return data;\n      }\n\n      function parseEffectParameter(xml) {\n        var data = {};\n\n        for (var i = 0, l = xml.childNodes.length; i < l; i++) {\n          var child = xml.childNodes[i];\n          if (child.nodeType !== 1) continue;\n\n          switch (child.nodeName) {\n            case 'color':\n              data[child.nodeName] = parseFloats(child.textContent);\n              break;\n\n            case 'float':\n              data[child.nodeName] = parseFloat(child.textContent);\n              break;\n\n            case 'texture':\n              data[child.nodeName] = {\n                id: child.getAttribute('texture'),\n                extra: parseEffectParameterTexture(child)\n              };\n              break;\n          }\n        }\n\n        return data;\n      }\n\n      function parseEffectParameterTexture(xml) {\n        var data = {\n          technique: {}\n        };\n\n        for (var i = 0, l = xml.childNodes.length; i < l; i++) {\n          var child = xml.childNodes[i];\n          if (child.nodeType !== 1) continue;\n\n          switch (child.nodeName) {\n            case 'extra':\n              parseEffectParameterTextureExtra(child, data);\n              break;\n          }\n        }\n\n        return data;\n      }\n\n      function parseEffectParameterTextureExtra(xml, data) {\n        for (var i = 0, l = xml.childNodes.length; i < l; i++) {\n          var child = xml.childNodes[i];\n          if (child.nodeType !== 1) continue;\n\n          switch (child.nodeName) {\n            case 'technique':\n              parseEffectParameterTextureExtraTechnique(child, data);\n              break;\n          }\n        }\n      }\n\n      function parseEffectParameterTextureExtraTechnique(xml, data) {\n        for (var i = 0, l = xml.childNodes.length; i < l; i++) {\n          var child = xml.childNodes[i];\n          if (child.nodeType !== 1) continue;\n\n          switch (child.nodeName) {\n            case 'repeatU':\n            case 'repeatV':\n            case 'offsetU':\n            case 'offsetV':\n              data.technique[child.nodeName] = parseFloat(child.textContent);\n              break;\n\n            case 'wrapU':\n            case 'wrapV':\n              // some files have values for wrapU/wrapV which become NaN via parseInt\n              if (child.textContent.toUpperCase() === 'TRUE') {\n                data.technique[child.nodeName] = 1;\n              } else if (child.textContent.toUpperCase() === 'FALSE') {\n                data.technique[child.nodeName] = 0;\n              } else {\n                data.technique[child.nodeName] = parseInt(child.textContent);\n              }\n\n              break;\n          }\n        }\n      }\n\n      function parseEffectExtra(xml) {\n        var data = {};\n\n        for (var i = 0, l = xml.childNodes.length; i < l; i++) {\n          var child = xml.childNodes[i];\n          if (child.nodeType !== 1) continue;\n\n          switch (child.nodeName) {\n            case 'technique':\n              data.technique = parseEffectExtraTechnique(child);\n              break;\n          }\n        }\n\n        return data;\n      }\n\n      function parseEffectExtraTechnique(xml) {\n        var data = {};\n\n        for (var i = 0, l = xml.childNodes.length; i < l; i++) {\n          var child = xml.childNodes[i];\n          if (child.nodeType !== 1) continue;\n\n          switch (child.nodeName) {\n            case 'double_sided':\n              data[child.nodeName] = parseInt(child.textContent);\n              break;\n          }\n        }\n\n        return data;\n      }\n\n      function buildEffect(data) {\n        return data;\n      }\n\n      function getEffect(id) {\n        return getBuild(library.effects[id], buildEffect);\n      } // material\n\n\n      function parseMaterial(xml) {\n        var data = {\n          name: xml.getAttribute('name')\n        };\n\n        for (var i = 0, l = xml.childNodes.length; i < l; i++) {\n          var child = xml.childNodes[i];\n          if (child.nodeType !== 1) continue;\n\n          switch (child.nodeName) {\n            case 'instance_effect':\n              data.url = parseId(child.getAttribute('url'));\n              break;\n          }\n        }\n\n        library.materials[xml.getAttribute('id')] = data;\n      }\n\n      function getTextureLoader(image) {\n        var loader;\n        var extension = image.slice((image.lastIndexOf('.') - 1 >>> 0) + 2); // http://www.jstips.co/en/javascript/get-file-extension/\n\n        extension = extension.toLowerCase();\n\n        switch (extension) {\n          case 'tga':\n            loader = tgaLoader;\n            break;\n\n          default:\n            loader = textureLoader;\n        }\n\n        return loader;\n      }\n\n      function buildMaterial(data) {\n        var effect = getEffect(data.url);\n        var technique = effect.profile.technique;\n        var extra = effect.profile.extra;\n        var material;\n\n        switch (technique.type) {\n          case 'phong':\n          case 'blinn':\n            material = new MeshPhongMaterial();\n            break;\n\n          case 'lambert':\n            material = new MeshLambertMaterial();\n            break;\n\n          default:\n            material = new MeshBasicMaterial();\n            break;\n        }\n\n        material.name = data.name || '';\n\n        function getTexture(textureObject) {\n          var sampler = effect.profile.samplers[textureObject.id];\n          var image = null; // get image\n\n          if (sampler !== undefined) {\n            var surface = effect.profile.surfaces[sampler.source];\n            image = getImage(surface.init_from);\n          } else {\n            console.warn('THREE.ColladaLoader: Undefined sampler. Access image directly (see #12530).');\n            image = getImage(textureObject.id);\n          } // create texture if image is avaiable\n\n\n          if (image !== null) {\n            var loader = getTextureLoader(image);\n\n            if (loader !== undefined) {\n              var texture = loader.load(image);\n              var _extra = textureObject.extra;\n\n              if (_extra !== undefined && _extra.technique !== undefined && isEmpty(_extra.technique) === false) {\n                var _technique = _extra.technique;\n                texture.wrapS = _technique.wrapU ? RepeatWrapping : ClampToEdgeWrapping;\n                texture.wrapT = _technique.wrapV ? RepeatWrapping : ClampToEdgeWrapping;\n                texture.offset.set(_technique.offsetU || 0, _technique.offsetV || 0);\n                texture.repeat.set(_technique.repeatU || 1, _technique.repeatV || 1);\n              } else {\n                texture.wrapS = RepeatWrapping;\n                texture.wrapT = RepeatWrapping;\n              }\n\n              return texture;\n            } else {\n              console.warn('THREE.ColladaLoader: Loader for texture %s not found.', image);\n              return null;\n            }\n          } else {\n            console.warn('THREE.ColladaLoader: Couldn\\'t create texture with ID:', textureObject.id);\n            return null;\n          }\n        }\n\n        var parameters = technique.parameters;\n\n        for (var key in parameters) {\n          var parameter = parameters[key];\n\n          switch (key) {\n            case 'diffuse':\n              if (parameter.color) material.color.fromArray(parameter.color);\n              if (parameter.texture) material.map = getTexture(parameter.texture);\n              break;\n\n            case 'specular':\n              if (parameter.color && material.specular) material.specular.fromArray(parameter.color);\n              if (parameter.texture) material.specularMap = getTexture(parameter.texture);\n              break;\n\n            case 'bump':\n              if (parameter.texture) material.normalMap = getTexture(parameter.texture);\n              break;\n\n            case 'ambient':\n              if (parameter.texture) material.lightMap = getTexture(parameter.texture);\n              break;\n\n            case 'shininess':\n              if (parameter.float && material.shininess) material.shininess = parameter.float;\n              break;\n\n            case 'emission':\n              if (parameter.color && material.emissive) material.emissive.fromArray(parameter.color);\n              if (parameter.texture) material.emissiveMap = getTexture(parameter.texture);\n              break;\n          }\n        } //\n\n\n        var transparent = parameters['transparent'];\n        var transparency = parameters['transparency']; // <transparency> does not exist but <transparent>\n\n        if (transparency === undefined && transparent) {\n          transparency = {\n            float: 1\n          };\n        } // <transparent> does not exist but <transparency>\n\n\n        if (transparent === undefined && transparency) {\n          transparent = {\n            opaque: 'A_ONE',\n            data: {\n              color: [1, 1, 1, 1]\n            }\n          };\n        }\n\n        if (transparent && transparency) {\n          // handle case if a texture exists but no color\n          if (transparent.data.texture) {\n            // we do not set an alpha map (see #13792)\n            material.transparent = true;\n          } else {\n            var color = transparent.data.color;\n\n            switch (transparent.opaque) {\n              case 'A_ONE':\n                material.opacity = color[3] * transparency.float;\n                break;\n\n              case 'RGB_ZERO':\n                material.opacity = 1 - color[0] * transparency.float;\n                break;\n\n              case 'A_ZERO':\n                material.opacity = 1 - color[3] * transparency.float;\n                break;\n\n              case 'RGB_ONE':\n                material.opacity = color[0] * transparency.float;\n                break;\n\n              default:\n                console.warn('THREE.ColladaLoader: Invalid opaque type \"%s\" of transparent tag.', transparent.opaque);\n            }\n\n            if (material.opacity < 1) material.transparent = true;\n          }\n        } //\n\n\n        if (extra !== undefined && extra.technique !== undefined && extra.technique.double_sided === 1) {\n          material.side = DoubleSide;\n        }\n\n        return material;\n      }\n\n      function getMaterial(id) {\n        return getBuild(library.materials[id], buildMaterial);\n      } // camera\n\n\n      function parseCamera(xml) {\n        var data = {\n          name: xml.getAttribute('name')\n        };\n\n        for (var i = 0, l = xml.childNodes.length; i < l; i++) {\n          var child = xml.childNodes[i];\n          if (child.nodeType !== 1) continue;\n\n          switch (child.nodeName) {\n            case 'optics':\n              data.optics = parseCameraOptics(child);\n              break;\n          }\n        }\n\n        library.cameras[xml.getAttribute('id')] = data;\n      }\n\n      function parseCameraOptics(xml) {\n        for (var i = 0; i < xml.childNodes.length; i++) {\n          var child = xml.childNodes[i];\n\n          switch (child.nodeName) {\n            case 'technique_common':\n              return parseCameraTechnique(child);\n          }\n        }\n\n        return {};\n      }\n\n      function parseCameraTechnique(xml) {\n        var data = {};\n\n        for (var i = 0; i < xml.childNodes.length; i++) {\n          var child = xml.childNodes[i];\n\n          switch (child.nodeName) {\n            case 'perspective':\n            case 'orthographic':\n              data.technique = child.nodeName;\n              data.parameters = parseCameraParameters(child);\n              break;\n          }\n        }\n\n        return data;\n      }\n\n      function parseCameraParameters(xml) {\n        var data = {};\n\n        for (var i = 0; i < xml.childNodes.length; i++) {\n          var child = xml.childNodes[i];\n\n          switch (child.nodeName) {\n            case 'xfov':\n            case 'yfov':\n            case 'xmag':\n            case 'ymag':\n            case 'znear':\n            case 'zfar':\n            case 'aspect_ratio':\n              data[child.nodeName] = parseFloat(child.textContent);\n              break;\n          }\n        }\n\n        return data;\n      }\n\n      function buildCamera(data) {\n        var camera;\n\n        switch (data.optics.technique) {\n          case 'perspective':\n            camera = new PerspectiveCamera(data.optics.parameters.yfov, data.optics.parameters.aspect_ratio, data.optics.parameters.znear, data.optics.parameters.zfar);\n            break;\n\n          case 'orthographic':\n            var ymag = data.optics.parameters.ymag;\n            var xmag = data.optics.parameters.xmag;\n            var aspectRatio = data.optics.parameters.aspect_ratio;\n            xmag = xmag === undefined ? ymag * aspectRatio : xmag;\n            ymag = ymag === undefined ? xmag / aspectRatio : ymag;\n            xmag *= 0.5;\n            ymag *= 0.5;\n            camera = new OrthographicCamera(-xmag, xmag, ymag, -ymag, // left, right, top, bottom\n            data.optics.parameters.znear, data.optics.parameters.zfar);\n            break;\n\n          default:\n            camera = new PerspectiveCamera();\n            break;\n        }\n\n        camera.name = data.name || '';\n        return camera;\n      }\n\n      function getCamera(id) {\n        var data = library.cameras[id];\n\n        if (data !== undefined) {\n          return getBuild(data, buildCamera);\n        }\n\n        console.warn('THREE.ColladaLoader: Couldn\\'t find camera with ID:', id);\n        return null;\n      } // light\n\n\n      function parseLight(xml) {\n        var data = {};\n\n        for (var i = 0, l = xml.childNodes.length; i < l; i++) {\n          var child = xml.childNodes[i];\n          if (child.nodeType !== 1) continue;\n\n          switch (child.nodeName) {\n            case 'technique_common':\n              data = parseLightTechnique(child);\n              break;\n          }\n        }\n\n        library.lights[xml.getAttribute('id')] = data;\n      }\n\n      function parseLightTechnique(xml) {\n        var data = {};\n\n        for (var i = 0, l = xml.childNodes.length; i < l; i++) {\n          var child = xml.childNodes[i];\n          if (child.nodeType !== 1) continue;\n\n          switch (child.nodeName) {\n            case 'directional':\n            case 'point':\n            case 'spot':\n            case 'ambient':\n              data.technique = child.nodeName;\n              data.parameters = parseLightParameters(child);\n          }\n        }\n\n        return data;\n      }\n\n      function parseLightParameters(xml) {\n        var data = {};\n\n        for (var i = 0, l = xml.childNodes.length; i < l; i++) {\n          var child = xml.childNodes[i];\n          if (child.nodeType !== 1) continue;\n\n          switch (child.nodeName) {\n            case 'color':\n              var array = parseFloats(child.textContent);\n              data.color = new Color().fromArray(array);\n              break;\n\n            case 'falloff_angle':\n              data.falloffAngle = parseFloat(child.textContent);\n              break;\n\n            case 'quadratic_attenuation':\n              var f = parseFloat(child.textContent);\n              data.distance = f ? Math.sqrt(1 / f) : 0;\n              break;\n          }\n        }\n\n        return data;\n      }\n\n      function buildLight(data) {\n        var light;\n\n        switch (data.technique) {\n          case 'directional':\n            light = new DirectionalLight();\n            break;\n\n          case 'point':\n            light = new PointLight();\n            break;\n\n          case 'spot':\n            light = new SpotLight();\n            break;\n\n          case 'ambient':\n            light = new AmbientLight();\n            break;\n        }\n\n        if (data.parameters.color) light.color.copy(data.parameters.color);\n        if (data.parameters.distance) light.distance = data.parameters.distance;\n        return light;\n      }\n\n      function getLight(id) {\n        var data = library.lights[id];\n\n        if (data !== undefined) {\n          return getBuild(data, buildLight);\n        }\n\n        console.warn('THREE.ColladaLoader: Couldn\\'t find light with ID:', id);\n        return null;\n      } // geometry\n\n\n      function parseGeometry(xml) {\n        var data = {\n          name: xml.getAttribute('name'),\n          sources: {},\n          vertices: {},\n          primitives: []\n        };\n        var mesh = getElementsByTagName(xml, 'mesh')[0]; // the following tags inside geometry are not supported yet (see https://github.com/mrdoob/three.js/pull/12606): convex_mesh, spline, brep\n\n        if (mesh === undefined) return;\n\n        for (var i = 0; i < mesh.childNodes.length; i++) {\n          var child = mesh.childNodes[i];\n          if (child.nodeType !== 1) continue;\n          var id = child.getAttribute('id');\n\n          switch (child.nodeName) {\n            case 'source':\n              data.sources[id] = parseSource(child);\n              break;\n\n            case 'vertices':\n              // data.sources[ id ] = data.sources[ parseId( getElementsByTagName( child, 'input' )[ 0 ].getAttribute( 'source' ) ) ];\n              data.vertices = parseGeometryVertices(child);\n              break;\n\n            case 'polygons':\n              console.warn('THREE.ColladaLoader: Unsupported primitive type: ', child.nodeName);\n              break;\n\n            case 'lines':\n            case 'linestrips':\n            case 'polylist':\n            case 'triangles':\n              data.primitives.push(parseGeometryPrimitive(child));\n              break;\n\n            default:\n              console.log(child);\n          }\n        }\n\n        library.geometries[xml.getAttribute('id')] = data;\n      }\n\n      function parseSource(xml) {\n        var data = {\n          array: [],\n          stride: 3\n        };\n\n        for (var i = 0; i < xml.childNodes.length; i++) {\n          var child = xml.childNodes[i];\n          if (child.nodeType !== 1) continue;\n\n          switch (child.nodeName) {\n            case 'float_array':\n              data.array = parseFloats(child.textContent);\n              break;\n\n            case 'Name_array':\n              data.array = parseStrings(child.textContent);\n              break;\n\n            case 'technique_common':\n              var accessor = getElementsByTagName(child, 'accessor')[0];\n\n              if (accessor !== undefined) {\n                data.stride = parseInt(accessor.getAttribute('stride'));\n              }\n\n              break;\n          }\n        }\n\n        return data;\n      }\n\n      function parseGeometryVertices(xml) {\n        var data = {};\n\n        for (var i = 0; i < xml.childNodes.length; i++) {\n          var child = xml.childNodes[i];\n          if (child.nodeType !== 1) continue;\n          data[child.getAttribute('semantic')] = parseId(child.getAttribute('source'));\n        }\n\n        return data;\n      }\n\n      function parseGeometryPrimitive(xml) {\n        var primitive = {\n          type: xml.nodeName,\n          material: xml.getAttribute('material'),\n          count: parseInt(xml.getAttribute('count')),\n          inputs: {},\n          stride: 0,\n          hasUV: false\n        };\n\n        for (var i = 0, l = xml.childNodes.length; i < l; i++) {\n          var child = xml.childNodes[i];\n          if (child.nodeType !== 1) continue;\n\n          switch (child.nodeName) {\n            case 'input':\n              var id = parseId(child.getAttribute('source'));\n              var semantic = child.getAttribute('semantic');\n              var offset = parseInt(child.getAttribute('offset'));\n              var set = parseInt(child.getAttribute('set'));\n              var inputname = set > 0 ? semantic + set : semantic;\n              primitive.inputs[inputname] = {\n                id: id,\n                offset: offset\n              };\n              primitive.stride = Math.max(primitive.stride, offset + 1);\n              if (semantic === 'TEXCOORD') primitive.hasUV = true;\n              break;\n\n            case 'vcount':\n              primitive.vcount = parseInts(child.textContent);\n              break;\n\n            case 'p':\n              primitive.p = parseInts(child.textContent);\n              break;\n          }\n        }\n\n        return primitive;\n      }\n\n      function groupPrimitives(primitives) {\n        var build = {};\n\n        for (var i = 0; i < primitives.length; i++) {\n          var primitive = primitives[i];\n          if (build[primitive.type] === undefined) build[primitive.type] = [];\n          build[primitive.type].push(primitive);\n        }\n\n        return build;\n      }\n\n      function checkUVCoordinates(primitives) {\n        var count = 0;\n\n        for (var i = 0, l = primitives.length; i < l; i++) {\n          var primitive = primitives[i];\n\n          if (primitive.hasUV === true) {\n            count++;\n          }\n        }\n\n        if (count > 0 && count < primitives.length) {\n          primitives.uvsNeedsFix = true;\n        }\n      }\n\n      function buildGeometry(data) {\n        var build = {};\n        var sources = data.sources;\n        var vertices = data.vertices;\n        var primitives = data.primitives;\n        if (primitives.length === 0) return {}; // our goal is to create one buffer geometry for a single type of primitives\n        // first, we group all primitives by their type\n\n        var groupedPrimitives = groupPrimitives(primitives);\n\n        for (var type in groupedPrimitives) {\n          var primitiveType = groupedPrimitives[type]; // second, ensure consistent uv coordinates for each type of primitives (polylist,triangles or lines)\n\n          checkUVCoordinates(primitiveType); // third, create a buffer geometry for each type of primitives\n\n          build[type] = buildGeometryType(primitiveType, sources, vertices);\n        }\n\n        return build;\n      }\n\n      function buildGeometryType(primitives, sources, vertices) {\n        var build = {};\n        var position = {\n          array: [],\n          stride: 0\n        };\n        var normal = {\n          array: [],\n          stride: 0\n        };\n        var uv = {\n          array: [],\n          stride: 0\n        };\n        var uv2 = {\n          array: [],\n          stride: 0\n        };\n        var color = {\n          array: [],\n          stride: 0\n        };\n        var skinIndex = {\n          array: [],\n          stride: 4\n        };\n        var skinWeight = {\n          array: [],\n          stride: 4\n        };\n        var geometry = new BufferGeometry();\n        var materialKeys = [];\n        var start = 0;\n\n        for (var p = 0; p < primitives.length; p++) {\n          var primitive = primitives[p];\n          var inputs = primitive.inputs; // groups\n\n          var _count = 0;\n\n          switch (primitive.type) {\n            case 'lines':\n            case 'linestrips':\n              _count = primitive.count * 2;\n              break;\n\n            case 'triangles':\n              _count = primitive.count * 3;\n              break;\n\n            case 'polylist':\n              for (var g = 0; g < primitive.count; g++) {\n                var vc = primitive.vcount[g];\n\n                switch (vc) {\n                  case 3:\n                    _count += 3; // single triangle\n\n                    break;\n\n                  case 4:\n                    _count += 6; // quad, subdivided into two triangles\n\n                    break;\n\n                  default:\n                    _count += (vc - 2) * 3; // polylist with more than four vertices\n\n                    break;\n                }\n              }\n\n              break;\n\n            default:\n              console.warn('THREE.ColladaLoader: Unknow primitive type:', primitive.type);\n          }\n\n          geometry.addGroup(start, _count, p);\n          start += _count; // material\n\n          if (primitive.material) {\n            materialKeys.push(primitive.material);\n          } // geometry data\n\n\n          for (var name in inputs) {\n            var input = inputs[name];\n\n            switch (name) {\n              case 'VERTEX':\n                for (var key in vertices) {\n                  var id = vertices[key];\n\n                  switch (key) {\n                    case 'POSITION':\n                      var prevLength = position.array.length;\n                      buildGeometryData(primitive, sources[id], input.offset, position.array);\n                      position.stride = sources[id].stride;\n\n                      if (sources.skinWeights && sources.skinIndices) {\n                        buildGeometryData(primitive, sources.skinIndices, input.offset, skinIndex.array);\n                        buildGeometryData(primitive, sources.skinWeights, input.offset, skinWeight.array);\n                      } // see #3803\n\n\n                      if (primitive.hasUV === false && primitives.uvsNeedsFix === true) {\n                        var _count2 = (position.array.length - prevLength) / position.stride;\n\n                        for (var i = 0; i < _count2; i++) {\n                          // fill missing uv coordinates\n                          uv.array.push(0, 0);\n                        }\n                      }\n\n                      break;\n\n                    case 'NORMAL':\n                      buildGeometryData(primitive, sources[id], input.offset, normal.array);\n                      normal.stride = sources[id].stride;\n                      break;\n\n                    case 'COLOR':\n                      buildGeometryData(primitive, sources[id], input.offset, color.array);\n                      color.stride = sources[id].stride;\n                      break;\n\n                    case 'TEXCOORD':\n                      buildGeometryData(primitive, sources[id], input.offset, uv.array);\n                      uv.stride = sources[id].stride;\n                      break;\n\n                    case 'TEXCOORD1':\n                      buildGeometryData(primitive, sources[id], input.offset, uv2.array);\n                      uv.stride = sources[id].stride;\n                      break;\n\n                    default:\n                      console.warn('THREE.ColladaLoader: Semantic \"%s\" not handled in geometry build process.', key);\n                  }\n                }\n\n                break;\n\n              case 'NORMAL':\n                buildGeometryData(primitive, sources[input.id], input.offset, normal.array);\n                normal.stride = sources[input.id].stride;\n                break;\n\n              case 'COLOR':\n                buildGeometryData(primitive, sources[input.id], input.offset, color.array);\n                color.stride = sources[input.id].stride;\n                break;\n\n              case 'TEXCOORD':\n                buildGeometryData(primitive, sources[input.id], input.offset, uv.array);\n                uv.stride = sources[input.id].stride;\n                break;\n\n              case 'TEXCOORD1':\n                buildGeometryData(primitive, sources[input.id], input.offset, uv2.array);\n                uv2.stride = sources[input.id].stride;\n                break;\n            }\n          }\n        } // build geometry\n\n\n        if (position.array.length > 0) geometry.setAttribute('position', new Float32BufferAttribute(position.array, position.stride));\n        if (normal.array.length > 0) geometry.setAttribute('normal', new Float32BufferAttribute(normal.array, normal.stride));\n        if (color.array.length > 0) geometry.setAttribute('color', new Float32BufferAttribute(color.array, color.stride));\n        if (uv.array.length > 0) geometry.setAttribute('uv', new Float32BufferAttribute(uv.array, uv.stride));\n        if (uv2.array.length > 0) geometry.setAttribute('uv2', new Float32BufferAttribute(uv2.array, uv2.stride));\n        if (skinIndex.array.length > 0) geometry.setAttribute('skinIndex', new Float32BufferAttribute(skinIndex.array, skinIndex.stride));\n        if (skinWeight.array.length > 0) geometry.setAttribute('skinWeight', new Float32BufferAttribute(skinWeight.array, skinWeight.stride));\n        build.data = geometry;\n        build.type = primitives[0].type;\n        build.materialKeys = materialKeys;\n        return build;\n      }\n\n      function buildGeometryData(primitive, source, offset, array) {\n        var indices = primitive.p;\n        var stride = primitive.stride;\n        var vcount = primitive.vcount;\n\n        function pushVector(i) {\n          var index = indices[i + offset] * sourceStride;\n          var length = index + sourceStride;\n\n          for (; index < length; index++) {\n            array.push(sourceArray[index]);\n          }\n        }\n\n        var sourceArray = source.array;\n        var sourceStride = source.stride;\n\n        if (primitive.vcount !== undefined) {\n          var index = 0;\n\n          for (var i = 0, l = vcount.length; i < l; i++) {\n            var _count3 = vcount[i];\n\n            if (_count3 === 4) {\n              var a = index + stride * 0;\n              var b = index + stride * 1;\n              var c = index + stride * 2;\n              var d = index + stride * 3;\n              pushVector(a);\n              pushVector(b);\n              pushVector(d);\n              pushVector(b);\n              pushVector(c);\n              pushVector(d);\n            } else if (_count3 === 3) {\n              var _a = index + stride * 0;\n\n              var _b = index + stride * 1;\n\n              var _c = index + stride * 2;\n\n              pushVector(_a);\n              pushVector(_b);\n              pushVector(_c);\n            } else if (_count3 > 4) {\n              for (var k = 1, kl = _count3 - 2; k <= kl; k++) {\n                var _a2 = index + stride * 0;\n\n                var _b2 = index + stride * k;\n\n                var _c2 = index + stride * (k + 1);\n\n                pushVector(_a2);\n                pushVector(_b2);\n                pushVector(_c2);\n              }\n            }\n\n            index += stride * _count3;\n          }\n        } else {\n          for (var _i = 0, _l = indices.length; _i < _l; _i += stride) {\n            pushVector(_i);\n          }\n        }\n      }\n\n      function getGeometry(id) {\n        return getBuild(library.geometries[id], buildGeometry);\n      } // kinematics\n\n\n      function parseKinematicsModel(xml) {\n        var data = {\n          name: xml.getAttribute('name') || '',\n          joints: {},\n          links: []\n        };\n\n        for (var i = 0; i < xml.childNodes.length; i++) {\n          var child = xml.childNodes[i];\n          if (child.nodeType !== 1) continue;\n\n          switch (child.nodeName) {\n            case 'technique_common':\n              parseKinematicsTechniqueCommon(child, data);\n              break;\n          }\n        }\n\n        library.kinematicsModels[xml.getAttribute('id')] = data;\n      }\n\n      function buildKinematicsModel(data) {\n        if (data.build !== undefined) return data.build;\n        return data;\n      }\n\n      function getKinematicsModel(id) {\n        return getBuild(library.kinematicsModels[id], buildKinematicsModel);\n      }\n\n      function parseKinematicsTechniqueCommon(xml, data) {\n        for (var i = 0; i < xml.childNodes.length; i++) {\n          var child = xml.childNodes[i];\n          if (child.nodeType !== 1) continue;\n\n          switch (child.nodeName) {\n            case 'joint':\n              data.joints[child.getAttribute('sid')] = parseKinematicsJoint(child);\n              break;\n\n            case 'link':\n              data.links.push(parseKinematicsLink(child));\n              break;\n          }\n        }\n      }\n\n      function parseKinematicsJoint(xml) {\n        var data;\n\n        for (var i = 0; i < xml.childNodes.length; i++) {\n          var child = xml.childNodes[i];\n          if (child.nodeType !== 1) continue;\n\n          switch (child.nodeName) {\n            case 'prismatic':\n            case 'revolute':\n              data = parseKinematicsJointParameter(child);\n              break;\n          }\n        }\n\n        return data;\n      }\n\n      function parseKinematicsJointParameter(xml) {\n        var data = {\n          sid: xml.getAttribute('sid'),\n          name: xml.getAttribute('name') || '',\n          axis: new Vector3(),\n          limits: {\n            min: 0,\n            max: 0\n          },\n          type: xml.nodeName,\n          static: false,\n          zeroPosition: 0,\n          middlePosition: 0\n        };\n\n        for (var i = 0; i < xml.childNodes.length; i++) {\n          var child = xml.childNodes[i];\n          if (child.nodeType !== 1) continue;\n\n          switch (child.nodeName) {\n            case 'axis':\n              var array = parseFloats(child.textContent);\n              data.axis.fromArray(array);\n              break;\n\n            case 'limits':\n              var max = child.getElementsByTagName('max')[0];\n              var min = child.getElementsByTagName('min')[0];\n              data.limits.max = parseFloat(max.textContent);\n              data.limits.min = parseFloat(min.textContent);\n              break;\n          }\n        } // if min is equal to or greater than max, consider the joint static\n\n\n        if (data.limits.min >= data.limits.max) {\n          data.static = true;\n        } // calculate middle position\n\n\n        data.middlePosition = (data.limits.min + data.limits.max) / 2.0;\n        return data;\n      }\n\n      function parseKinematicsLink(xml) {\n        var data = {\n          sid: xml.getAttribute('sid'),\n          name: xml.getAttribute('name') || '',\n          attachments: [],\n          transforms: []\n        };\n\n        for (var i = 0; i < xml.childNodes.length; i++) {\n          var child = xml.childNodes[i];\n          if (child.nodeType !== 1) continue;\n\n          switch (child.nodeName) {\n            case 'attachment_full':\n              data.attachments.push(parseKinematicsAttachment(child));\n              break;\n\n            case 'matrix':\n            case 'translate':\n            case 'rotate':\n              data.transforms.push(parseKinematicsTransform(child));\n              break;\n          }\n        }\n\n        return data;\n      }\n\n      function parseKinematicsAttachment(xml) {\n        var data = {\n          joint: xml.getAttribute('joint').split('/').pop(),\n          transforms: [],\n          links: []\n        };\n\n        for (var i = 0; i < xml.childNodes.length; i++) {\n          var child = xml.childNodes[i];\n          if (child.nodeType !== 1) continue;\n\n          switch (child.nodeName) {\n            case 'link':\n              data.links.push(parseKinematicsLink(child));\n              break;\n\n            case 'matrix':\n            case 'translate':\n            case 'rotate':\n              data.transforms.push(parseKinematicsTransform(child));\n              break;\n          }\n        }\n\n        return data;\n      }\n\n      function parseKinematicsTransform(xml) {\n        var data = {\n          type: xml.nodeName\n        };\n        var array = parseFloats(xml.textContent);\n\n        switch (data.type) {\n          case 'matrix':\n            data.obj = new Matrix4();\n            data.obj.fromArray(array).transpose();\n            break;\n\n          case 'translate':\n            data.obj = new Vector3();\n            data.obj.fromArray(array);\n            break;\n\n          case 'rotate':\n            data.obj = new Vector3();\n            data.obj.fromArray(array);\n            data.angle = MathUtils.degToRad(array[3]);\n            break;\n        }\n\n        return data;\n      } // physics\n\n\n      function parsePhysicsModel(xml) {\n        var data = {\n          name: xml.getAttribute('name') || '',\n          rigidBodies: {}\n        };\n\n        for (var i = 0; i < xml.childNodes.length; i++) {\n          var child = xml.childNodes[i];\n          if (child.nodeType !== 1) continue;\n\n          switch (child.nodeName) {\n            case 'rigid_body':\n              data.rigidBodies[child.getAttribute('name')] = {};\n              parsePhysicsRigidBody(child, data.rigidBodies[child.getAttribute('name')]);\n              break;\n          }\n        }\n\n        library.physicsModels[xml.getAttribute('id')] = data;\n      }\n\n      function parsePhysicsRigidBody(xml, data) {\n        for (var i = 0; i < xml.childNodes.length; i++) {\n          var child = xml.childNodes[i];\n          if (child.nodeType !== 1) continue;\n\n          switch (child.nodeName) {\n            case 'technique_common':\n              parsePhysicsTechniqueCommon(child, data);\n              break;\n          }\n        }\n      }\n\n      function parsePhysicsTechniqueCommon(xml, data) {\n        for (var i = 0; i < xml.childNodes.length; i++) {\n          var child = xml.childNodes[i];\n          if (child.nodeType !== 1) continue;\n\n          switch (child.nodeName) {\n            case 'inertia':\n              data.inertia = parseFloats(child.textContent);\n              break;\n\n            case 'mass':\n              data.mass = parseFloats(child.textContent)[0];\n              break;\n          }\n        }\n      } // scene\n\n\n      function parseKinematicsScene(xml) {\n        var data = {\n          bindJointAxis: []\n        };\n\n        for (var i = 0; i < xml.childNodes.length; i++) {\n          var child = xml.childNodes[i];\n          if (child.nodeType !== 1) continue;\n\n          switch (child.nodeName) {\n            case 'bind_joint_axis':\n              data.bindJointAxis.push(parseKinematicsBindJointAxis(child));\n              break;\n          }\n        }\n\n        library.kinematicsScenes[parseId(xml.getAttribute('url'))] = data;\n      }\n\n      function parseKinematicsBindJointAxis(xml) {\n        var data = {\n          target: xml.getAttribute('target').split('/').pop()\n        };\n\n        for (var i = 0; i < xml.childNodes.length; i++) {\n          var child = xml.childNodes[i];\n          if (child.nodeType !== 1) continue;\n\n          switch (child.nodeName) {\n            case 'axis':\n              var param = child.getElementsByTagName('param')[0];\n              data.axis = param.textContent;\n              var tmpJointIndex = data.axis.split('inst_').pop().split('axis')[0];\n              data.jointIndex = tmpJointIndex.substr(0, tmpJointIndex.length - 1);\n              break;\n          }\n        }\n\n        return data;\n      }\n\n      function buildKinematicsScene(data) {\n        if (data.build !== undefined) return data.build;\n        return data;\n      }\n\n      function getKinematicsScene(id) {\n        return getBuild(library.kinematicsScenes[id], buildKinematicsScene);\n      }\n\n      function setupKinematics() {\n        var kinematicsModelId = Object.keys(library.kinematicsModels)[0];\n        var kinematicsSceneId = Object.keys(library.kinematicsScenes)[0];\n        var visualSceneId = Object.keys(library.visualScenes)[0];\n        if (kinematicsModelId === undefined || kinematicsSceneId === undefined) return;\n        var kinematicsModel = getKinematicsModel(kinematicsModelId);\n        var kinematicsScene = getKinematicsScene(kinematicsSceneId);\n        var visualScene = getVisualScene(visualSceneId);\n        var bindJointAxis = kinematicsScene.bindJointAxis;\n        var jointMap = {};\n\n        for (var i = 0, l = bindJointAxis.length; i < l; i++) {\n          var axis = bindJointAxis[i]; // the result of the following query is an element of type 'translate', 'rotate','scale' or 'matrix'\n\n          var targetElement = collada.querySelector('[sid=\"' + axis.target + '\"]');\n\n          if (targetElement) {\n            // get the parent of the transform element\n            var parentVisualElement = targetElement.parentElement; // connect the joint of the kinematics model with the element in the visual scene\n\n            connect(axis.jointIndex, parentVisualElement);\n          }\n        }\n\n        function connect(jointIndex, visualElement) {\n          var visualElementName = visualElement.getAttribute('name');\n          var joint = kinematicsModel.joints[jointIndex];\n          visualScene.traverse(function (object) {\n            if (object.name === visualElementName) {\n              jointMap[jointIndex] = {\n                object: object,\n                transforms: buildTransformList(visualElement),\n                joint: joint,\n                position: joint.zeroPosition\n              };\n            }\n          });\n        }\n\n        var m0 = new Matrix4();\n        kinematics = {\n          joints: kinematicsModel && kinematicsModel.joints,\n          getJointValue: function getJointValue(jointIndex) {\n            var jointData = jointMap[jointIndex];\n\n            if (jointData) {\n              return jointData.position;\n            } else {\n              console.warn('THREE.ColladaLoader: Joint ' + jointIndex + ' doesn\\'t exist.');\n            }\n          },\n          setJointValue: function setJointValue(jointIndex, value) {\n            var jointData = jointMap[jointIndex];\n\n            if (jointData) {\n              var joint = jointData.joint;\n\n              if (value > joint.limits.max || value < joint.limits.min) {\n                console.warn('THREE.ColladaLoader: Joint ' + jointIndex + ' value ' + value + ' outside of limits (min: ' + joint.limits.min + ', max: ' + joint.limits.max + ').');\n              } else if (joint.static) {\n                console.warn('THREE.ColladaLoader: Joint ' + jointIndex + ' is static.');\n              } else {\n                var object = jointData.object;\n                var _axis = joint.axis;\n                var transforms = jointData.transforms;\n                matrix.identity(); // each update, we have to apply all transforms in the correct order\n\n                for (var _i2 = 0; _i2 < transforms.length; _i2++) {\n                  var transform = transforms[_i2]; // if there is a connection of the transform node with a joint, apply the joint value\n\n                  if (transform.sid && transform.sid.indexOf(jointIndex) !== -1) {\n                    switch (joint.type) {\n                      case 'revolute':\n                        matrix.multiply(m0.makeRotationAxis(_axis, MathUtils.degToRad(value)));\n                        break;\n\n                      case 'prismatic':\n                        matrix.multiply(m0.makeTranslation(_axis.x * value, _axis.y * value, _axis.z * value));\n                        break;\n\n                      default:\n                        console.warn('THREE.ColladaLoader: Unknown joint type: ' + joint.type);\n                        break;\n                    }\n                  } else {\n                    switch (transform.type) {\n                      case 'matrix':\n                        matrix.multiply(transform.obj);\n                        break;\n\n                      case 'translate':\n                        matrix.multiply(m0.makeTranslation(transform.obj.x, transform.obj.y, transform.obj.z));\n                        break;\n\n                      case 'scale':\n                        matrix.scale(transform.obj);\n                        break;\n\n                      case 'rotate':\n                        matrix.multiply(m0.makeRotationAxis(transform.obj, transform.angle));\n                        break;\n                    }\n                  }\n                }\n\n                object.matrix.copy(matrix);\n                object.matrix.decompose(object.position, object.quaternion, object.scale);\n                jointMap[jointIndex].position = value;\n              }\n            } else {\n              console.log('THREE.ColladaLoader: ' + jointIndex + ' does not exist.');\n            }\n          }\n        };\n      }\n\n      function buildTransformList(node) {\n        var transforms = [];\n        var xml = collada.querySelector('[id=\"' + node.id + '\"]');\n\n        for (var i = 0; i < xml.childNodes.length; i++) {\n          var child = xml.childNodes[i];\n          if (child.nodeType !== 1) continue;\n\n          var array = void 0,\n              _vector = void 0;\n\n          switch (child.nodeName) {\n            case 'matrix':\n              array = parseFloats(child.textContent);\n\n              var _matrix = new Matrix4().fromArray(array).transpose();\n\n              transforms.push({\n                sid: child.getAttribute('sid'),\n                type: child.nodeName,\n                obj: _matrix\n              });\n              break;\n\n            case 'translate':\n            case 'scale':\n              array = parseFloats(child.textContent);\n              _vector = new Vector3().fromArray(array);\n              transforms.push({\n                sid: child.getAttribute('sid'),\n                type: child.nodeName,\n                obj: _vector\n              });\n              break;\n\n            case 'rotate':\n              array = parseFloats(child.textContent);\n              _vector = new Vector3().fromArray(array);\n              var angle = MathUtils.degToRad(array[3]);\n              transforms.push({\n                sid: child.getAttribute('sid'),\n                type: child.nodeName,\n                obj: _vector,\n                angle: angle\n              });\n              break;\n          }\n        }\n\n        return transforms;\n      } // nodes\n\n\n      function prepareNodes(xml) {\n        var elements = xml.getElementsByTagName('node'); // ensure all node elements have id attributes\n\n        for (var i = 0; i < elements.length; i++) {\n          var element = elements[i];\n\n          if (element.hasAttribute('id') === false) {\n            element.setAttribute('id', generateId());\n          }\n        }\n      }\n\n      var matrix = new Matrix4();\n      var vector = new Vector3();\n\n      function parseNode(xml) {\n        var data = {\n          name: xml.getAttribute('name') || '',\n          type: xml.getAttribute('type'),\n          id: xml.getAttribute('id'),\n          sid: xml.getAttribute('sid'),\n          matrix: new Matrix4(),\n          nodes: [],\n          instanceCameras: [],\n          instanceControllers: [],\n          instanceLights: [],\n          instanceGeometries: [],\n          instanceNodes: [],\n          transforms: {}\n        };\n\n        for (var i = 0; i < xml.childNodes.length; i++) {\n          var child = xml.childNodes[i];\n          if (child.nodeType !== 1) continue;\n          var array = void 0;\n\n          switch (child.nodeName) {\n            case 'node':\n              data.nodes.push(child.getAttribute('id'));\n              parseNode(child);\n              break;\n\n            case 'instance_camera':\n              data.instanceCameras.push(parseId(child.getAttribute('url')));\n              break;\n\n            case 'instance_controller':\n              data.instanceControllers.push(parseNodeInstance(child));\n              break;\n\n            case 'instance_light':\n              data.instanceLights.push(parseId(child.getAttribute('url')));\n              break;\n\n            case 'instance_geometry':\n              data.instanceGeometries.push(parseNodeInstance(child));\n              break;\n\n            case 'instance_node':\n              data.instanceNodes.push(parseId(child.getAttribute('url')));\n              break;\n\n            case 'matrix':\n              array = parseFloats(child.textContent);\n              data.matrix.multiply(matrix.fromArray(array).transpose());\n              data.transforms[child.getAttribute('sid')] = child.nodeName;\n              break;\n\n            case 'translate':\n              array = parseFloats(child.textContent);\n              vector.fromArray(array);\n              data.matrix.multiply(matrix.makeTranslation(vector.x, vector.y, vector.z));\n              data.transforms[child.getAttribute('sid')] = child.nodeName;\n              break;\n\n            case 'rotate':\n              array = parseFloats(child.textContent);\n              var angle = MathUtils.degToRad(array[3]);\n              data.matrix.multiply(matrix.makeRotationAxis(vector.fromArray(array), angle));\n              data.transforms[child.getAttribute('sid')] = child.nodeName;\n              break;\n\n            case 'scale':\n              array = parseFloats(child.textContent);\n              data.matrix.scale(vector.fromArray(array));\n              data.transforms[child.getAttribute('sid')] = child.nodeName;\n              break;\n\n            case 'extra':\n              break;\n\n            default:\n              console.log(child);\n          }\n        }\n\n        if (hasNode(data.id)) {\n          console.warn('THREE.ColladaLoader: There is already a node with ID %s. Exclude current node from further processing.', data.id);\n        } else {\n          library.nodes[data.id] = data;\n        }\n\n        return data;\n      }\n\n      function parseNodeInstance(xml) {\n        var data = {\n          id: parseId(xml.getAttribute('url')),\n          materials: {},\n          skeletons: []\n        };\n\n        for (var i = 0; i < xml.childNodes.length; i++) {\n          var child = xml.childNodes[i];\n\n          switch (child.nodeName) {\n            case 'bind_material':\n              var instances = child.getElementsByTagName('instance_material');\n\n              for (var j = 0; j < instances.length; j++) {\n                var instance = instances[j];\n                var symbol = instance.getAttribute('symbol');\n                var target = instance.getAttribute('target');\n                data.materials[symbol] = parseId(target);\n              }\n\n              break;\n\n            case 'skeleton':\n              data.skeletons.push(parseId(child.textContent));\n              break;\n\n            default:\n              break;\n          }\n        }\n\n        return data;\n      }\n\n      function buildSkeleton(skeletons, joints) {\n        var boneData = [];\n        var sortedBoneData = [];\n        var i, j, data; // a skeleton can have multiple root bones. collada expresses this\n        // situtation with multiple \"skeleton\" tags per controller instance\n\n        for (i = 0; i < skeletons.length; i++) {\n          var skeleton = skeletons[i];\n          var root = void 0;\n\n          if (hasNode(skeleton)) {\n            root = getNode(skeleton);\n            buildBoneHierarchy(root, joints, boneData);\n          } else if (hasVisualScene(skeleton)) {\n            // handle case where the skeleton refers to the visual scene (#13335)\n            var visualScene = library.visualScenes[skeleton];\n            var children = visualScene.children;\n\n            for (var _j = 0; _j < children.length; _j++) {\n              var child = children[_j];\n\n              if (child.type === 'JOINT') {\n                var _root = getNode(child.id);\n\n                buildBoneHierarchy(_root, joints, boneData);\n              }\n            }\n          } else {\n            console.error('THREE.ColladaLoader: Unable to find root bone of skeleton with ID:', skeleton);\n          }\n        } // sort bone data (the order is defined in the corresponding controller)\n\n\n        for (i = 0; i < joints.length; i++) {\n          for (j = 0; j < boneData.length; j++) {\n            data = boneData[j];\n\n            if (data.bone.name === joints[i].name) {\n              sortedBoneData[i] = data;\n              data.processed = true;\n              break;\n            }\n          }\n        } // add unprocessed bone data at the end of the list\n\n\n        for (i = 0; i < boneData.length; i++) {\n          data = boneData[i];\n\n          if (data.processed === false) {\n            sortedBoneData.push(data);\n            data.processed = true;\n          }\n        } // setup arrays for skeleton creation\n\n\n        var bones = [];\n        var boneInverses = [];\n\n        for (i = 0; i < sortedBoneData.length; i++) {\n          data = sortedBoneData[i];\n          bones.push(data.bone);\n          boneInverses.push(data.boneInverse);\n        }\n\n        return new Skeleton(bones, boneInverses);\n      }\n\n      function buildBoneHierarchy(root, joints, boneData) {\n        // setup bone data from visual scene\n        root.traverse(function (object) {\n          if (object.isBone === true) {\n            var boneInverse; // retrieve the boneInverse from the controller data\n\n            for (var i = 0; i < joints.length; i++) {\n              var joint = joints[i];\n\n              if (joint.name === object.name) {\n                boneInverse = joint.boneInverse;\n                break;\n              }\n            }\n\n            if (boneInverse === undefined) {\n              // Unfortunately, there can be joints in the visual scene that are not part of the\n              // corresponding controller. In this case, we have to create a dummy boneInverse matrix\n              // for the respective bone. This bone won't affect any vertices, because there are no skin indices\n              // and weights defined for it. But we still have to add the bone to the sorted bone list in order to\n              // ensure a correct animation of the model.\n              boneInverse = new Matrix4();\n            }\n\n            boneData.push({\n              bone: object,\n              boneInverse: boneInverse,\n              processed: false\n            });\n          }\n        });\n      }\n\n      function buildNode(data) {\n        var objects = [];\n        var matrix = data.matrix;\n        var nodes = data.nodes;\n        var type = data.type;\n        var instanceCameras = data.instanceCameras;\n        var instanceControllers = data.instanceControllers;\n        var instanceLights = data.instanceLights;\n        var instanceGeometries = data.instanceGeometries;\n        var instanceNodes = data.instanceNodes; // nodes\n\n        for (var i = 0, l = nodes.length; i < l; i++) {\n          objects.push(getNode(nodes[i]));\n        } // instance cameras\n\n\n        for (var _i3 = 0, _l2 = instanceCameras.length; _i3 < _l2; _i3++) {\n          var instanceCamera = getCamera(instanceCameras[_i3]);\n\n          if (instanceCamera !== null) {\n            objects.push(instanceCamera.clone());\n          }\n        } // instance controllers\n\n\n        for (var _i4 = 0, _l3 = instanceControllers.length; _i4 < _l3; _i4++) {\n          var instance = instanceControllers[_i4];\n          var controller = getController(instance.id);\n          var geometries = getGeometry(controller.id);\n          var newObjects = buildObjects(geometries, instance.materials);\n          var skeletons = instance.skeletons;\n          var joints = controller.skin.joints;\n          var skeleton = buildSkeleton(skeletons, joints);\n\n          for (var j = 0, jl = newObjects.length; j < jl; j++) {\n            var _object = newObjects[j];\n\n            if (_object.isSkinnedMesh) {\n              _object.bind(skeleton, controller.skin.bindMatrix);\n\n              _object.normalizeSkinWeights();\n            }\n\n            objects.push(_object);\n          }\n        } // instance lights\n\n\n        for (var _i5 = 0, _l4 = instanceLights.length; _i5 < _l4; _i5++) {\n          var instanceLight = getLight(instanceLights[_i5]);\n\n          if (instanceLight !== null) {\n            objects.push(instanceLight.clone());\n          }\n        } // instance geometries\n\n\n        for (var _i6 = 0, _l5 = instanceGeometries.length; _i6 < _l5; _i6++) {\n          var _instance = instanceGeometries[_i6]; // a single geometry instance in collada can lead to multiple object3Ds.\n          // this is the case when primitives are combined like triangles and lines\n\n          var _geometries = getGeometry(_instance.id);\n\n          var _newObjects = buildObjects(_geometries, _instance.materials);\n\n          for (var _j2 = 0, _jl = _newObjects.length; _j2 < _jl; _j2++) {\n            objects.push(_newObjects[_j2]);\n          }\n        } // instance nodes\n\n\n        for (var _i7 = 0, _l6 = instanceNodes.length; _i7 < _l6; _i7++) {\n          objects.push(getNode(instanceNodes[_i7]).clone());\n        }\n\n        var object;\n\n        if (nodes.length === 0 && objects.length === 1) {\n          object = objects[0];\n        } else {\n          object = type === 'JOINT' ? new Bone() : new Group();\n\n          for (var _i8 = 0; _i8 < objects.length; _i8++) {\n            object.add(objects[_i8]);\n          }\n        }\n\n        object.name = type === 'JOINT' ? data.sid : data.name;\n        object.matrix.copy(matrix);\n        object.matrix.decompose(object.position, object.quaternion, object.scale);\n        return object;\n      }\n\n      var fallbackMaterial = new MeshBasicMaterial({\n        color: 0xff00ff\n      });\n\n      function resolveMaterialBinding(keys, instanceMaterials) {\n        var materials = [];\n\n        for (var i = 0, l = keys.length; i < l; i++) {\n          var id = instanceMaterials[keys[i]];\n\n          if (id === undefined) {\n            console.warn('THREE.ColladaLoader: Material with key %s not found. Apply fallback material.', keys[i]);\n            materials.push(fallbackMaterial);\n          } else {\n            materials.push(getMaterial(id));\n          }\n        }\n\n        return materials;\n      }\n\n      function buildObjects(geometries, instanceMaterials) {\n        var objects = [];\n\n        for (var type in geometries) {\n          var geometry = geometries[type];\n          var materials = resolveMaterialBinding(geometry.materialKeys, instanceMaterials); // handle case if no materials are defined\n\n          if (materials.length === 0) {\n            if (type === 'lines' || type === 'linestrips') {\n              materials.push(new LineBasicMaterial());\n            } else {\n              materials.push(new MeshPhongMaterial());\n            }\n          } // regard skinning\n\n\n          var skinning = geometry.data.attributes.skinIndex !== undefined; // choose between a single or multi materials (material array)\n\n          var material = materials.length === 1 ? materials[0] : materials; // now create a specific 3D object\n\n          var object = void 0;\n\n          switch (type) {\n            case 'lines':\n              object = new LineSegments(geometry.data, material);\n              break;\n\n            case 'linestrips':\n              object = new Line(geometry.data, material);\n              break;\n\n            case 'triangles':\n            case 'polylist':\n              if (skinning) {\n                object = new SkinnedMesh(geometry.data, material);\n              } else {\n                object = new Mesh(geometry.data, material);\n              }\n\n              break;\n          }\n\n          objects.push(object);\n        }\n\n        return objects;\n      }\n\n      function hasNode(id) {\n        return library.nodes[id] !== undefined;\n      }\n\n      function getNode(id) {\n        return getBuild(library.nodes[id], buildNode);\n      } // visual scenes\n\n\n      function parseVisualScene(xml) {\n        var data = {\n          name: xml.getAttribute('name'),\n          children: []\n        };\n        prepareNodes(xml);\n        var elements = getElementsByTagName(xml, 'node');\n\n        for (var i = 0; i < elements.length; i++) {\n          data.children.push(parseNode(elements[i]));\n        }\n\n        library.visualScenes[xml.getAttribute('id')] = data;\n      }\n\n      function buildVisualScene(data) {\n        var group = new Group();\n        group.name = data.name;\n        var children = data.children;\n\n        for (var i = 0; i < children.length; i++) {\n          var child = children[i];\n          group.add(getNode(child.id));\n        }\n\n        return group;\n      }\n\n      function hasVisualScene(id) {\n        return library.visualScenes[id] !== undefined;\n      }\n\n      function getVisualScene(id) {\n        return getBuild(library.visualScenes[id], buildVisualScene);\n      } // scenes\n\n\n      function parseScene(xml) {\n        var instance = getElementsByTagName(xml, 'instance_visual_scene')[0];\n        return getVisualScene(parseId(instance.getAttribute('url')));\n      }\n\n      function setupAnimations() {\n        var clips = library.clips;\n\n        if (isEmpty(clips) === true) {\n          if (isEmpty(library.animations) === false) {\n            // if there are animations but no clips, we create a default clip for playback\n            var tracks = [];\n\n            for (var id in library.animations) {\n              var animationTracks = getAnimation(id);\n\n              for (var i = 0, l = animationTracks.length; i < l; i++) {\n                tracks.push(animationTracks[i]);\n              }\n            }\n\n            animations.push(new AnimationClip('default', -1, tracks));\n          }\n        } else {\n          for (var _id in clips) {\n            animations.push(getAnimationClip(_id));\n          }\n        }\n      } // convert the parser error element into text with each child elements text\n      // separated by new lines.\n\n\n      function parserErrorToText(parserError) {\n        var result = '';\n        var stack = [parserError];\n\n        while (stack.length) {\n          var node = stack.shift();\n\n          if (node.nodeType === Node.TEXT_NODE) {\n            result += node.textContent;\n          } else {\n            result += '\\n';\n            stack.push.apply(stack, node.childNodes);\n          }\n        }\n\n        return result.trim();\n      }\n\n      if (text.length === 0) {\n        return {\n          scene: new Scene()\n        };\n      }\n\n      var xml = new DOMParser().parseFromString(text, 'application/xml');\n      var collada = getElementsByTagName(xml, 'COLLADA')[0];\n      var parserError = xml.getElementsByTagName('parsererror')[0];\n\n      if (parserError !== undefined) {\n        // Chrome will return parser error with a div in it\n        var errorElement = getElementsByTagName(parserError, 'div')[0];\n        var errorText;\n\n        if (errorElement) {\n          errorText = errorElement.textContent;\n        } else {\n          errorText = parserErrorToText(parserError);\n        }\n\n        console.error('THREE.ColladaLoader: Failed to parse collada file.\\n', errorText);\n        return null;\n      } // metadata\n\n\n      var version = collada.getAttribute('version');\n      console.log('THREE.ColladaLoader: File version', version);\n      var asset = parseAsset(getElementsByTagName(collada, 'asset')[0]);\n      var textureLoader = new TextureLoader(this.manager);\n      textureLoader.setPath(this.resourcePath || path).setCrossOrigin(this.crossOrigin);\n      var tgaLoader;\n\n      if (TGALoader) {\n        tgaLoader = new TGALoader(this.manager);\n        tgaLoader.setPath(this.resourcePath || path);\n      } //\n\n\n      var animations = [];\n      var kinematics = {};\n      var count = 0; //\n\n      var library = {\n        animations: {},\n        clips: {},\n        controllers: {},\n        images: {},\n        effects: {},\n        materials: {},\n        cameras: {},\n        lights: {},\n        geometries: {},\n        nodes: {},\n        visualScenes: {},\n        kinematicsModels: {},\n        physicsModels: {},\n        kinematicsScenes: {}\n      };\n      parseLibrary(collada, 'library_animations', 'animation', parseAnimation);\n      parseLibrary(collada, 'library_animation_clips', 'animation_clip', parseAnimationClip);\n      parseLibrary(collada, 'library_controllers', 'controller', parseController);\n      parseLibrary(collada, 'library_images', 'image', parseImage);\n      parseLibrary(collada, 'library_effects', 'effect', parseEffect);\n      parseLibrary(collada, 'library_materials', 'material', parseMaterial);\n      parseLibrary(collada, 'library_cameras', 'camera', parseCamera);\n      parseLibrary(collada, 'library_lights', 'light', parseLight);\n      parseLibrary(collada, 'library_geometries', 'geometry', parseGeometry);\n      parseLibrary(collada, 'library_nodes', 'node', parseNode);\n      parseLibrary(collada, 'library_visual_scenes', 'visual_scene', parseVisualScene);\n      parseLibrary(collada, 'library_kinematics_models', 'kinematics_model', parseKinematicsModel);\n      parseLibrary(collada, 'library_physics_models', 'physics_model', parsePhysicsModel);\n      parseLibrary(collada, 'scene', 'instance_kinematics_scene', parseKinematicsScene);\n      buildLibrary(library.animations, buildAnimation);\n      buildLibrary(library.clips, buildAnimationClip);\n      buildLibrary(library.controllers, buildController);\n      buildLibrary(library.images, buildImage);\n      buildLibrary(library.effects, buildEffect);\n      buildLibrary(library.materials, buildMaterial);\n      buildLibrary(library.cameras, buildCamera);\n      buildLibrary(library.lights, buildLight);\n      buildLibrary(library.geometries, buildGeometry);\n      buildLibrary(library.visualScenes, buildVisualScene);\n      setupAnimations();\n      setupKinematics();\n      var scene = parseScene(getElementsByTagName(collada, 'scene')[0]);\n      scene.animations = animations;\n\n      if (asset.upAxis === 'Z_UP') {\n        scene.quaternion.setFromEuler(new Euler(-Math.PI / 2, 0, 0));\n      }\n\n      scene.scale.multiplyScalar(asset.unit);\n      return {\n        get animations() {\n          console.warn('THREE.ColladaLoader: Please access animations over scene.animations now.');\n          return animations;\n        },\n\n        kinematics: kinematics,\n        library: library,\n        scene: scene\n      };\n    }\n  }]);\n\n  return ColladaLoader;\n}(Loader);\n\nexport { ColladaLoader };","import _classCallCheck from \"D:/Projects/Tennis/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:/Projects/Tennis/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"D:/Projects/Tennis/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"D:/Projects/Tennis/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:/Projects/Tennis/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport { AdditiveBlending, BufferGeometry, Color, DoubleSide, FileLoader, Float32BufferAttribute, Group, Loader, LoaderUtils, Matrix4, Mesh, MeshPhongMaterial, TextureLoader } from 'three';\n/**\n * Autodesk 3DS three.js file loader, based on lib3ds.\n *\n * Loads geometry with uv and materials basic properties with texture support.\n *\n * @class TDSLoader\n * @constructor\n */\n\nvar TDSLoader = /*#__PURE__*/function (_Loader) {\n  _inherits(TDSLoader, _Loader);\n\n  var _super = _createSuper(TDSLoader);\n\n  function TDSLoader(manager) {\n    var _this;\n\n    _classCallCheck(this, TDSLoader);\n\n    _this = _super.call(this, manager);\n    _this.debug = false;\n    _this.group = null;\n    _this.position = 0;\n    _this.materials = [];\n    _this.meshes = [];\n    return _this;\n  }\n  /**\n   * Load 3ds file from url.\n   *\n   * @method load\n   * @param {[type]} url URL for the file.\n   * @param {Function} onLoad onLoad callback, receives group Object3D as argument.\n   * @param {Function} onProgress onProgress callback.\n   * @param {Function} onError onError callback.\n   */\n\n\n  _createClass(TDSLoader, [{\n    key: \"load\",\n    value: function load(url, onLoad, onProgress, onError) {\n      var scope = this;\n      var path = this.path === '' ? LoaderUtils.extractUrlBase(url) : this.path;\n      var loader = new FileLoader(this.manager);\n      loader.setPath(this.path);\n      loader.setResponseType('arraybuffer');\n      loader.setRequestHeader(this.requestHeader);\n      loader.setWithCredentials(this.withCredentials);\n      loader.load(url, function (data) {\n        try {\n          onLoad(scope.parse(data, path));\n        } catch (e) {\n          if (onError) {\n            onError(e);\n          } else {\n            console.error(e);\n          }\n\n          scope.manager.itemError(url);\n        }\n      }, onProgress, onError);\n    }\n    /**\n     * Parse arraybuffer data and load 3ds file.\n     *\n     * @method parse\n     * @param {ArrayBuffer} arraybuffer Arraybuffer data to be loaded.\n     * @param {String} path Path for external resources.\n     * @return {Group} Group loaded from 3ds file.\n     */\n\n  }, {\n    key: \"parse\",\n    value: function parse(arraybuffer, path) {\n      this.group = new Group();\n      this.position = 0;\n      this.materials = [];\n      this.meshes = [];\n      this.readFile(arraybuffer, path);\n\n      for (var i = 0; i < this.meshes.length; i++) {\n        this.group.add(this.meshes[i]);\n      }\n\n      return this.group;\n    }\n    /**\n     * Decode file content to read 3ds data.\n     *\n     * @method readFile\n     * @param {ArrayBuffer} arraybuffer Arraybuffer data to be loaded.\n     * @param {String} path Path for external resources.\n     */\n\n  }, {\n    key: \"readFile\",\n    value: function readFile(arraybuffer, path) {\n      var data = new DataView(arraybuffer);\n      var chunk = this.readChunk(data);\n\n      if (chunk.id === MLIBMAGIC || chunk.id === CMAGIC || chunk.id === M3DMAGIC) {\n        var next = this.nextChunk(data, chunk);\n\n        while (next !== 0) {\n          if (next === M3D_VERSION) {\n            var version = this.readDWord(data);\n            this.debugMessage('3DS file version: ' + version);\n          } else if (next === MDATA) {\n            this.resetPosition(data);\n            this.readMeshData(data, path);\n          } else {\n            this.debugMessage('Unknown main chunk: ' + next.toString(16));\n          }\n\n          next = this.nextChunk(data, chunk);\n        }\n      }\n\n      this.debugMessage('Parsed ' + this.meshes.length + ' meshes');\n    }\n    /**\n     * Read mesh data chunk.\n     *\n     * @method readMeshData\n     * @param {Dataview} data Dataview in use.\n     * @param {String} path Path for external resources.\n     */\n\n  }, {\n    key: \"readMeshData\",\n    value: function readMeshData(data, path) {\n      var chunk = this.readChunk(data);\n      var next = this.nextChunk(data, chunk);\n\n      while (next !== 0) {\n        if (next === MESH_VERSION) {\n          var version = +this.readDWord(data);\n          this.debugMessage('Mesh Version: ' + version);\n        } else if (next === MASTER_SCALE) {\n          var scale = this.readFloat(data);\n          this.debugMessage('Master scale: ' + scale);\n          this.group.scale.set(scale, scale, scale);\n        } else if (next === NAMED_OBJECT) {\n          this.debugMessage('Named Object');\n          this.resetPosition(data);\n          this.readNamedObject(data);\n        } else if (next === MAT_ENTRY) {\n          this.debugMessage('Material');\n          this.resetPosition(data);\n          this.readMaterialEntry(data, path);\n        } else {\n          this.debugMessage('Unknown MDATA chunk: ' + next.toString(16));\n        }\n\n        next = this.nextChunk(data, chunk);\n      }\n    }\n    /**\n     * Read named object chunk.\n     *\n     * @method readNamedObject\n     * @param {Dataview} data Dataview in use.\n     */\n\n  }, {\n    key: \"readNamedObject\",\n    value: function readNamedObject(data) {\n      var chunk = this.readChunk(data);\n      var name = this.readString(data, 64);\n      chunk.cur = this.position;\n      var next = this.nextChunk(data, chunk);\n\n      while (next !== 0) {\n        if (next === N_TRI_OBJECT) {\n          this.resetPosition(data);\n          var mesh = this.readMesh(data);\n          mesh.name = name;\n          this.meshes.push(mesh);\n        } else {\n          this.debugMessage('Unknown named object chunk: ' + next.toString(16));\n        }\n\n        next = this.nextChunk(data, chunk);\n      }\n\n      this.endChunk(chunk);\n    }\n    /**\n     * Read material data chunk and add it to the material list.\n     *\n     * @method readMaterialEntry\n     * @param {Dataview} data Dataview in use.\n     * @param {String} path Path for external resources.\n     */\n\n  }, {\n    key: \"readMaterialEntry\",\n    value: function readMaterialEntry(data, path) {\n      var chunk = this.readChunk(data);\n      var next = this.nextChunk(data, chunk);\n      var material = new MeshPhongMaterial();\n\n      while (next !== 0) {\n        if (next === MAT_NAME) {\n          material.name = this.readString(data, 64);\n          this.debugMessage('   Name: ' + material.name);\n        } else if (next === MAT_WIRE) {\n          this.debugMessage('   Wireframe');\n          material.wireframe = true;\n        } else if (next === MAT_WIRE_SIZE) {\n          var value = this.readByte(data);\n          material.wireframeLinewidth = value;\n          this.debugMessage('   Wireframe Thickness: ' + value);\n        } else if (next === MAT_TWO_SIDE) {\n          material.side = DoubleSide;\n          this.debugMessage('   DoubleSided');\n        } else if (next === MAT_ADDITIVE) {\n          this.debugMessage('   Additive Blending');\n          material.blending = AdditiveBlending;\n        } else if (next === MAT_DIFFUSE) {\n          this.debugMessage('   Diffuse Color');\n          material.color = this.readColor(data);\n        } else if (next === MAT_SPECULAR) {\n          this.debugMessage('   Specular Color');\n          material.specular = this.readColor(data);\n        } else if (next === MAT_AMBIENT) {\n          this.debugMessage('   Ambient color');\n          material.color = this.readColor(data);\n        } else if (next === MAT_SHININESS) {\n          var shininess = this.readPercentage(data);\n          material.shininess = shininess * 100;\n          this.debugMessage('   Shininess : ' + shininess);\n        } else if (next === MAT_TRANSPARENCY) {\n          var transparency = this.readPercentage(data);\n          material.opacity = 1 - transparency;\n          this.debugMessage('  Transparency : ' + transparency);\n          material.transparent = material.opacity < 1 ? true : false;\n        } else if (next === MAT_TEXMAP) {\n          this.debugMessage('   ColorMap');\n          this.resetPosition(data);\n          material.map = this.readMap(data, path);\n        } else if (next === MAT_BUMPMAP) {\n          this.debugMessage('   BumpMap');\n          this.resetPosition(data);\n          material.bumpMap = this.readMap(data, path);\n        } else if (next === MAT_OPACMAP) {\n          this.debugMessage('   OpacityMap');\n          this.resetPosition(data);\n          material.alphaMap = this.readMap(data, path);\n        } else if (next === MAT_SPECMAP) {\n          this.debugMessage('   SpecularMap');\n          this.resetPosition(data);\n          material.specularMap = this.readMap(data, path);\n        } else {\n          this.debugMessage('   Unknown material chunk: ' + next.toString(16));\n        }\n\n        next = this.nextChunk(data, chunk);\n      }\n\n      this.endChunk(chunk);\n      this.materials[material.name] = material;\n    }\n    /**\n     * Read mesh data chunk.\n     *\n     * @method readMesh\n     * @param {Dataview} data Dataview in use.\n     * @return {Mesh} The parsed mesh.\n     */\n\n  }, {\n    key: \"readMesh\",\n    value: function readMesh(data) {\n      var chunk = this.readChunk(data);\n      var next = this.nextChunk(data, chunk);\n      var geometry = new BufferGeometry();\n      var material = new MeshPhongMaterial();\n      var mesh = new Mesh(geometry, material);\n      mesh.name = 'mesh';\n\n      while (next !== 0) {\n        if (next === POINT_ARRAY) {\n          var points = this.readWord(data);\n          this.debugMessage('   Vertex: ' + points); //BufferGeometry\n\n          var vertices = [];\n\n          for (var i = 0; i < points; i++) {\n            vertices.push(this.readFloat(data));\n            vertices.push(this.readFloat(data));\n            vertices.push(this.readFloat(data));\n          }\n\n          geometry.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n        } else if (next === FACE_ARRAY) {\n          this.resetPosition(data);\n          this.readFaceArray(data, mesh);\n        } else if (next === TEX_VERTS) {\n          var texels = this.readWord(data);\n          this.debugMessage('   UV: ' + texels); //BufferGeometry\n\n          var uvs = [];\n\n          for (var _i = 0; _i < texels; _i++) {\n            uvs.push(this.readFloat(data));\n            uvs.push(this.readFloat(data));\n          }\n\n          geometry.setAttribute('uv', new Float32BufferAttribute(uvs, 2));\n        } else if (next === MESH_MATRIX) {\n          this.debugMessage('   Tranformation Matrix (TODO)');\n          var values = [];\n\n          for (var _i2 = 0; _i2 < 12; _i2++) {\n            values[_i2] = this.readFloat(data);\n          }\n\n          var matrix = new Matrix4(); //X Line\n\n          matrix.elements[0] = values[0];\n          matrix.elements[1] = values[6];\n          matrix.elements[2] = values[3];\n          matrix.elements[3] = values[9]; //Y Line\n\n          matrix.elements[4] = values[2];\n          matrix.elements[5] = values[8];\n          matrix.elements[6] = values[5];\n          matrix.elements[7] = values[11]; //Z Line\n\n          matrix.elements[8] = values[1];\n          matrix.elements[9] = values[7];\n          matrix.elements[10] = values[4];\n          matrix.elements[11] = values[10]; //W Line\n\n          matrix.elements[12] = 0;\n          matrix.elements[13] = 0;\n          matrix.elements[14] = 0;\n          matrix.elements[15] = 1;\n          matrix.transpose();\n          var inverse = new Matrix4();\n          inverse.copy(matrix).invert();\n          geometry.applyMatrix4(inverse);\n          matrix.decompose(mesh.position, mesh.quaternion, mesh.scale);\n        } else {\n          this.debugMessage('   Unknown mesh chunk: ' + next.toString(16));\n        }\n\n        next = this.nextChunk(data, chunk);\n      }\n\n      this.endChunk(chunk);\n      geometry.computeVertexNormals();\n      return mesh;\n    }\n    /**\n     * Read face array data chunk.\n     *\n     * @method readFaceArray\n     * @param {Dataview} data Dataview in use.\n     * @param {Mesh} mesh Mesh to be filled with the data read.\n     */\n\n  }, {\n    key: \"readFaceArray\",\n    value: function readFaceArray(data, mesh) {\n      var chunk = this.readChunk(data);\n      var faces = this.readWord(data);\n      this.debugMessage('   Faces: ' + faces);\n      var index = [];\n\n      for (var i = 0; i < faces; ++i) {\n        index.push(this.readWord(data), this.readWord(data), this.readWord(data));\n        this.readWord(data); // visibility\n      }\n\n      mesh.geometry.setIndex(index); //The rest of the FACE_ARRAY chunk is subchunks\n\n      var materialIndex = 0;\n      var start = 0;\n\n      while (this.position < chunk.end) {\n        var subchunk = this.readChunk(data);\n\n        if (subchunk.id === MSH_MAT_GROUP) {\n          this.debugMessage('      Material Group');\n          this.resetPosition(data);\n          var group = this.readMaterialGroup(data);\n          var count = group.index.length * 3; // assuming successive indices\n\n          mesh.geometry.addGroup(start, count, materialIndex);\n          start += count;\n          materialIndex++;\n          var material = this.materials[group.name];\n          if (Array.isArray(mesh.material) === false) mesh.material = [];\n\n          if (material !== undefined) {\n            mesh.material.push(material);\n          }\n        } else {\n          this.debugMessage('      Unknown face array chunk: ' + subchunk.toString(16));\n        }\n\n        this.endChunk(subchunk);\n      }\n\n      if (mesh.material.length === 1) mesh.material = mesh.material[0]; // for backwards compatibility\n\n      this.endChunk(chunk);\n    }\n    /**\n     * Read texture map data chunk.\n     *\n     * @method readMap\n     * @param {Dataview} data Dataview in use.\n     * @param {String} path Path for external resources.\n     * @return {Texture} Texture read from this data chunk.\n     */\n\n  }, {\n    key: \"readMap\",\n    value: function readMap(data, path) {\n      var chunk = this.readChunk(data);\n      var next = this.nextChunk(data, chunk);\n      var texture = {};\n      var loader = new TextureLoader(this.manager);\n      loader.setPath(this.resourcePath || path).setCrossOrigin(this.crossOrigin);\n\n      while (next !== 0) {\n        if (next === MAT_MAPNAME) {\n          var name = this.readString(data, 128);\n          texture = loader.load(name);\n          this.debugMessage('      File: ' + path + name);\n        } else if (next === MAT_MAP_UOFFSET) {\n          texture.offset.x = this.readFloat(data);\n          this.debugMessage('      OffsetX: ' + texture.offset.x);\n        } else if (next === MAT_MAP_VOFFSET) {\n          texture.offset.y = this.readFloat(data);\n          this.debugMessage('      OffsetY: ' + texture.offset.y);\n        } else if (next === MAT_MAP_USCALE) {\n          texture.repeat.x = this.readFloat(data);\n          this.debugMessage('      RepeatX: ' + texture.repeat.x);\n        } else if (next === MAT_MAP_VSCALE) {\n          texture.repeat.y = this.readFloat(data);\n          this.debugMessage('      RepeatY: ' + texture.repeat.y);\n        } else {\n          this.debugMessage('      Unknown map chunk: ' + next.toString(16));\n        }\n\n        next = this.nextChunk(data, chunk);\n      }\n\n      this.endChunk(chunk);\n      return texture;\n    }\n    /**\n     * Read material group data chunk.\n     *\n     * @method readMaterialGroup\n     * @param {Dataview} data Dataview in use.\n     * @return {Object} Object with name and index of the object.\n     */\n\n  }, {\n    key: \"readMaterialGroup\",\n    value: function readMaterialGroup(data) {\n      this.readChunk(data);\n      var name = this.readString(data, 64);\n      var numFaces = this.readWord(data);\n      this.debugMessage('         Name: ' + name);\n      this.debugMessage('         Faces: ' + numFaces);\n      var index = [];\n\n      for (var i = 0; i < numFaces; ++i) {\n        index.push(this.readWord(data));\n      }\n\n      return {\n        name: name,\n        index: index\n      };\n    }\n    /**\n     * Read a color value.\n     *\n     * @method readColor\n     * @param {DataView} data Dataview.\n     * @return {Color} Color value read..\n     */\n\n  }, {\n    key: \"readColor\",\n    value: function readColor(data) {\n      var chunk = this.readChunk(data);\n      var color = new Color();\n\n      if (chunk.id === COLOR_24 || chunk.id === LIN_COLOR_24) {\n        var r = this.readByte(data);\n        var g = this.readByte(data);\n        var b = this.readByte(data);\n        color.setRGB(r / 255, g / 255, b / 255);\n        this.debugMessage('      Color: ' + color.r + ', ' + color.g + ', ' + color.b);\n      } else if (chunk.id === COLOR_F || chunk.id === LIN_COLOR_F) {\n        var _r = this.readFloat(data);\n\n        var _g = this.readFloat(data);\n\n        var _b = this.readFloat(data);\n\n        color.setRGB(_r, _g, _b);\n        this.debugMessage('      Color: ' + color.r + ', ' + color.g + ', ' + color.b);\n      } else {\n        this.debugMessage('      Unknown color chunk: ' + chunk.toString(16));\n      }\n\n      this.endChunk(chunk);\n      return color;\n    }\n    /**\n     * Read next chunk of data.\n     *\n     * @method readChunk\n     * @param {DataView} data Dataview.\n     * @return {Object} Chunk of data read.\n     */\n\n  }, {\n    key: \"readChunk\",\n    value: function readChunk(data) {\n      var chunk = {};\n      chunk.cur = this.position;\n      chunk.id = this.readWord(data);\n      chunk.size = this.readDWord(data);\n      chunk.end = chunk.cur + chunk.size;\n      chunk.cur += 6;\n      return chunk;\n    }\n    /**\n     * Set position to the end of the current chunk of data.\n     *\n     * @method endChunk\n     * @param {Object} chunk Data chunk.\n     */\n\n  }, {\n    key: \"endChunk\",\n    value: function endChunk(chunk) {\n      this.position = chunk.end;\n    }\n    /**\n     * Move to the next data chunk.\n     *\n     * @method nextChunk\n     * @param {DataView} data Dataview.\n     * @param {Object} chunk Data chunk.\n     */\n\n  }, {\n    key: \"nextChunk\",\n    value: function nextChunk(data, chunk) {\n      if (chunk.cur >= chunk.end) {\n        return 0;\n      }\n\n      this.position = chunk.cur;\n\n      try {\n        var next = this.readChunk(data);\n        chunk.cur += next.size;\n        return next.id;\n      } catch (e) {\n        this.debugMessage('Unable to read chunk at ' + this.position);\n        return 0;\n      }\n    }\n    /**\n     * Reset dataview position.\n     *\n     * @method resetPosition\n     */\n\n  }, {\n    key: \"resetPosition\",\n    value: function resetPosition() {\n      this.position -= 6;\n    }\n    /**\n     * Read byte value.\n     *\n     * @method readByte\n     * @param {DataView} data Dataview to read data from.\n     * @return {Number} Data read from the dataview.\n     */\n\n  }, {\n    key: \"readByte\",\n    value: function readByte(data) {\n      var v = data.getUint8(this.position, true);\n      this.position += 1;\n      return v;\n    }\n    /**\n     * Read 32 bit float value.\n     *\n     * @method readFloat\n     * @param {DataView} data Dataview to read data from.\n     * @return {Number} Data read from the dataview.\n     */\n\n  }, {\n    key: \"readFloat\",\n    value: function readFloat(data) {\n      try {\n        var v = data.getFloat32(this.position, true);\n        this.position += 4;\n        return v;\n      } catch (e) {\n        this.debugMessage(e + ' ' + this.position + ' ' + data.byteLength);\n      }\n    }\n    /**\n     * Read 32 bit signed integer value.\n     *\n     * @method readInt\n     * @param {DataView} data Dataview to read data from.\n     * @return {Number} Data read from the dataview.\n     */\n\n  }, {\n    key: \"readInt\",\n    value: function readInt(data) {\n      var v = data.getInt32(this.position, true);\n      this.position += 4;\n      return v;\n    }\n    /**\n     * Read 16 bit signed integer value.\n     *\n     * @method readShort\n     * @param {DataView} data Dataview to read data from.\n     * @return {Number} Data read from the dataview.\n     */\n\n  }, {\n    key: \"readShort\",\n    value: function readShort(data) {\n      var v = data.getInt16(this.position, true);\n      this.position += 2;\n      return v;\n    }\n    /**\n     * Read 64 bit unsigned integer value.\n     *\n     * @method readDWord\n     * @param {DataView} data Dataview to read data from.\n     * @return {Number} Data read from the dataview.\n     */\n\n  }, {\n    key: \"readDWord\",\n    value: function readDWord(data) {\n      var v = data.getUint32(this.position, true);\n      this.position += 4;\n      return v;\n    }\n    /**\n     * Read 32 bit unsigned integer value.\n     *\n     * @method readWord\n     * @param {DataView} data Dataview to read data from.\n     * @return {Number} Data read from the dataview.\n     */\n\n  }, {\n    key: \"readWord\",\n    value: function readWord(data) {\n      var v = data.getUint16(this.position, true);\n      this.position += 2;\n      return v;\n    }\n    /**\n     * Read string value.\n     *\n     * @method readString\n     * @param {DataView} data Dataview to read data from.\n     * @param {Number} maxLength Max size of the string to be read.\n     * @return {String} Data read from the dataview.\n     */\n\n  }, {\n    key: \"readString\",\n    value: function readString(data, maxLength) {\n      var s = '';\n\n      for (var i = 0; i < maxLength; i++) {\n        var c = this.readByte(data);\n\n        if (!c) {\n          break;\n        }\n\n        s += String.fromCharCode(c);\n      }\n\n      return s;\n    }\n    /**\n     * Read percentage value.\n     *\n     * @method readPercentage\n     * @param {DataView} data Dataview to read data from.\n     * @return {Number} Data read from the dataview.\n     */\n\n  }, {\n    key: \"readPercentage\",\n    value: function readPercentage(data) {\n      var chunk = this.readChunk(data);\n      var value;\n\n      switch (chunk.id) {\n        case INT_PERCENTAGE:\n          value = this.readShort(data) / 100;\n          break;\n\n        case FLOAT_PERCENTAGE:\n          value = this.readFloat(data);\n          break;\n\n        default:\n          this.debugMessage('      Unknown percentage chunk: ' + chunk.toString(16));\n      }\n\n      this.endChunk(chunk);\n      return value;\n    }\n    /**\n     * Print debug message to the console.\n     *\n     * Is controlled by a flag to show or hide debug messages.\n     *\n     * @method debugMessage\n     * @param {Object} message Debug message to print to the console.\n     */\n\n  }, {\n    key: \"debugMessage\",\n    value: function debugMessage(message) {\n      if (this.debug) {\n        console.log(message);\n      }\n    }\n  }]);\n\n  return TDSLoader;\n}(Loader); // const NULL_CHUNK = 0x0000;\n\n\nvar M3DMAGIC = 0x4D4D; // const SMAGIC = 0x2D2D;\n// const LMAGIC = 0x2D3D;\n\nvar MLIBMAGIC = 0x3DAA; // const MATMAGIC = 0x3DFF;\n\nvar CMAGIC = 0xC23D;\nvar M3D_VERSION = 0x0002; // const M3D_KFVERSION = 0x0005;\n\nvar COLOR_F = 0x0010;\nvar COLOR_24 = 0x0011;\nvar LIN_COLOR_24 = 0x0012;\nvar LIN_COLOR_F = 0x0013;\nvar INT_PERCENTAGE = 0x0030;\nvar FLOAT_PERCENTAGE = 0x0031;\nvar MDATA = 0x3D3D;\nvar MESH_VERSION = 0x3D3E;\nvar MASTER_SCALE = 0x0100; // const LO_SHADOW_BIAS = 0x1400;\n// const HI_SHADOW_BIAS = 0x1410;\n// const SHADOW_MAP_SIZE = 0x1420;\n// const SHADOW_SAMPLES = 0x1430;\n// const SHADOW_RANGE = 0x1440;\n// const SHADOW_FILTER = 0x1450;\n// const RAY_BIAS = 0x1460;\n// const O_CONSTS = 0x1500;\n// const AMBIENT_LIGHT = 0x2100;\n// const BIT_MAP = 0x1100;\n// const SOLID_BGND = 0x1200;\n// const V_GRADIENT = 0x1300;\n// const USE_BIT_MAP = 0x1101;\n// const USE_SOLID_BGND = 0x1201;\n// const USE_V_GRADIENT = 0x1301;\n// const FOG = 0x2200;\n// const FOG_BGND = 0x2210;\n// const LAYER_FOG = 0x2302;\n// const DISTANCE_CUE = 0x2300;\n// const DCUE_BGND = 0x2310;\n// const USE_FOG = 0x2201;\n// const USE_LAYER_FOG = 0x2303;\n// const USE_DISTANCE_CUE = 0x2301;\n\nvar MAT_ENTRY = 0xAFFF;\nvar MAT_NAME = 0xA000;\nvar MAT_AMBIENT = 0xA010;\nvar MAT_DIFFUSE = 0xA020;\nvar MAT_SPECULAR = 0xA030;\nvar MAT_SHININESS = 0xA040; // const MAT_SHIN2PCT = 0xA041;\n\nvar MAT_TRANSPARENCY = 0xA050; // const MAT_XPFALL = 0xA052;\n// const MAT_USE_XPFALL = 0xA240;\n// const MAT_REFBLUR = 0xA053;\n// const MAT_SHADING = 0xA100;\n// const MAT_USE_REFBLUR = 0xA250;\n// const MAT_SELF_ILLUM = 0xA084;\n\nvar MAT_TWO_SIDE = 0xA081; // const MAT_DECAL = 0xA082;\n\nvar MAT_ADDITIVE = 0xA083;\nvar MAT_WIRE = 0xA085; // const MAT_FACEMAP = 0xA088;\n// const MAT_TRANSFALLOFF_IN = 0xA08A;\n// const MAT_PHONGSOFT = 0xA08C;\n// const MAT_WIREABS = 0xA08E;\n\nvar MAT_WIRE_SIZE = 0xA087;\nvar MAT_TEXMAP = 0xA200; // const MAT_SXP_TEXT_DATA = 0xA320;\n// const MAT_TEXMASK = 0xA33E;\n// const MAT_SXP_TEXTMASK_DATA = 0xA32A;\n// const MAT_TEX2MAP = 0xA33A;\n// const MAT_SXP_TEXT2_DATA = 0xA321;\n// const MAT_TEX2MASK = 0xA340;\n// const MAT_SXP_TEXT2MASK_DATA = 0xA32C;\n\nvar MAT_OPACMAP = 0xA210; // const MAT_SXP_OPAC_DATA = 0xA322;\n// const MAT_OPACMASK = 0xA342;\n// const MAT_SXP_OPACMASK_DATA = 0xA32E;\n\nvar MAT_BUMPMAP = 0xA230; // const MAT_SXP_BUMP_DATA = 0xA324;\n// const MAT_BUMPMASK = 0xA344;\n// const MAT_SXP_BUMPMASK_DATA = 0xA330;\n\nvar MAT_SPECMAP = 0xA204; // const MAT_SXP_SPEC_DATA = 0xA325;\n// const MAT_SPECMASK = 0xA348;\n// const MAT_SXP_SPECMASK_DATA = 0xA332;\n// const MAT_SHINMAP = 0xA33C;\n// const MAT_SXP_SHIN_DATA = 0xA326;\n// const MAT_SHINMASK = 0xA346;\n// const MAT_SXP_SHINMASK_DATA = 0xA334;\n// const MAT_SELFIMAP = 0xA33D;\n// const MAT_SXP_SELFI_DATA = 0xA328;\n// const MAT_SELFIMASK = 0xA34A;\n// const MAT_SXP_SELFIMASK_DATA = 0xA336;\n// const MAT_REFLMAP = 0xA220;\n// const MAT_REFLMASK = 0xA34C;\n// const MAT_SXP_REFLMASK_DATA = 0xA338;\n// const MAT_ACUBIC = 0xA310;\n\nvar MAT_MAPNAME = 0xA300; // const MAT_MAP_TILING = 0xA351;\n// const MAT_MAP_TEXBLUR = 0xA353;\n\nvar MAT_MAP_USCALE = 0xA354;\nvar MAT_MAP_VSCALE = 0xA356;\nvar MAT_MAP_UOFFSET = 0xA358;\nvar MAT_MAP_VOFFSET = 0xA35A; // const MAT_MAP_ANG = 0xA35C;\n// const MAT_MAP_COL1 = 0xA360;\n// const MAT_MAP_COL2 = 0xA362;\n// const MAT_MAP_RCOL = 0xA364;\n// const MAT_MAP_GCOL = 0xA366;\n// const MAT_MAP_BCOL = 0xA368;\n\nvar NAMED_OBJECT = 0x4000; // const N_DIRECT_LIGHT = 0x4600;\n// const DL_OFF = 0x4620;\n// const DL_OUTER_RANGE = 0x465A;\n// const DL_INNER_RANGE = 0x4659;\n// const DL_MULTIPLIER = 0x465B;\n// const DL_EXCLUDE = 0x4654;\n// const DL_ATTENUATE = 0x4625;\n// const DL_SPOTLIGHT = 0x4610;\n// const DL_SPOT_ROLL = 0x4656;\n// const DL_SHADOWED = 0x4630;\n// const DL_LOCAL_SHADOW2 = 0x4641;\n// const DL_SEE_CONE = 0x4650;\n// const DL_SPOT_RECTANGULAR = 0x4651;\n// const DL_SPOT_ASPECT = 0x4657;\n// const DL_SPOT_PROJECTOR = 0x4653;\n// const DL_SPOT_OVERSHOOT = 0x4652;\n// const DL_RAY_BIAS = 0x4658;\n// const DL_RAYSHAD = 0x4627;\n// const N_CAMERA = 0x4700;\n// const CAM_SEE_CONE = 0x4710;\n// const CAM_RANGES = 0x4720;\n// const OBJ_HIDDEN = 0x4010;\n// const OBJ_VIS_LOFTER = 0x4011;\n// const OBJ_DOESNT_CAST = 0x4012;\n// const OBJ_DONT_RECVSHADOW = 0x4017;\n// const OBJ_MATTE = 0x4013;\n// const OBJ_FAST = 0x4014;\n// const OBJ_PROCEDURAL = 0x4015;\n// const OBJ_FROZEN = 0x4016;\n\nvar N_TRI_OBJECT = 0x4100;\nvar POINT_ARRAY = 0x4110; // const POINT_FLAG_ARRAY = 0x4111;\n\nvar FACE_ARRAY = 0x4120;\nvar MSH_MAT_GROUP = 0x4130; // const SMOOTH_GROUP = 0x4150;\n// const MSH_BOXMAP = 0x4190;\n\nvar TEX_VERTS = 0x4140;\nvar MESH_MATRIX = 0x4160; // const MESH_COLOR = 0x4165;\n// const MESH_TEXTURE_INFO = 0x4170;\n// const KFDATA = 0xB000;\n// const KFHDR = 0xB00A;\n// const KFSEG = 0xB008;\n// const KFCURTIME = 0xB009;\n// const AMBIENT_NODE_TAG = 0xB001;\n// const OBJECT_NODE_TAG = 0xB002;\n// const CAMERA_NODE_TAG = 0xB003;\n// const TARGET_NODE_TAG = 0xB004;\n// const LIGHT_NODE_TAG = 0xB005;\n// const L_TARGET_NODE_TAG = 0xB006;\n// const SPOTLIGHT_NODE_TAG = 0xB007;\n// const NODE_ID = 0xB030;\n// const NODE_HDR = 0xB010;\n// const PIVOT = 0xB013;\n// const INSTANCE_NAME = 0xB011;\n// const MORPH_SMOOTH = 0xB015;\n// const BOUNDBOX = 0xB014;\n// const POS_TRACK_TAG = 0xB020;\n// const COL_TRACK_TAG = 0xB025;\n// const ROT_TRACK_TAG = 0xB021;\n// const SCL_TRACK_TAG = 0xB022;\n// const MORPH_TRACK_TAG = 0xB026;\n// const FOV_TRACK_TAG = 0xB023;\n// const ROLL_TRACK_TAG = 0xB024;\n// const HOT_TRACK_TAG = 0xB027;\n// const FALL_TRACK_TAG = 0xB028;\n// const HIDE_TRACK_TAG = 0xB029;\n// const POLY_2D = 0x5000;\n// const SHAPE_OK = 0x5010;\n// const SHAPE_NOT_OK = 0x5011;\n// const SHAPE_HOOK = 0x5020;\n// const PATH_3D = 0x6000;\n// const PATH_MATRIX = 0x6005;\n// const SHAPE_2D = 0x6010;\n// const M_SCALE = 0x6020;\n// const M_TWIST = 0x6030;\n// const M_TEETER = 0x6040;\n// const M_FIT = 0x6050;\n// const M_BEVEL = 0x6060;\n// const XZ_CURVE = 0x6070;\n// const YZ_CURVE = 0x6080;\n// const INTERPCT = 0x6090;\n// const DEFORM_LIMIT = 0x60A0;\n// const USE_CONTOUR = 0x6100;\n// const USE_TWEEN = 0x6110;\n// const USE_SCALE = 0x6120;\n// const USE_TWIST = 0x6130;\n// const USE_TEETER = 0x6140;\n// const USE_FIT = 0x6150;\n// const USE_BEVEL = 0x6160;\n// const DEFAULT_VIEW = 0x3000;\n// const VIEW_TOP = 0x3010;\n// const VIEW_BOTTOM = 0x3020;\n// const VIEW_LEFT = 0x3030;\n// const VIEW_RIGHT = 0x3040;\n// const VIEW_FRONT = 0x3050;\n// const VIEW_BACK = 0x3060;\n// const VIEW_USER = 0x3070;\n// const VIEW_CAMERA = 0x3080;\n// const VIEW_WINDOW = 0x3090;\n// const VIEWPORT_LAYOUT_OLD = 0x7000;\n// const VIEWPORT_DATA_OLD = 0x7010;\n// const VIEWPORT_LAYOUT = 0x7001;\n// const VIEWPORT_DATA = 0x7011;\n// const VIEWPORT_DATA_3 = 0x7012;\n// const VIEWPORT_SIZE = 0x7020;\n// const NETWORK_VIEW = 0x7030;\n\nexport { TDSLoader };","import * as THREE from \"three\"\r\nimport { FBXLoader } from 'three/examples/jsm/loaders/FBXLoader.js'\r\nimport addSpotlight from \"./helpers/addSpotlight\"\r\nimport { OBJLoader } from 'three/examples/jsm/loaders/OBJLoader.js'\r\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader.js'\r\nimport { ColladaLoader } from 'three/examples/jsm/loaders/ColladaLoader.js'\r\nimport { TDSLoader } from 'three/examples/jsm/loaders/TDSLoader.js'\r\n\r\nlet hoopsPositions = {};\r\nlet ambientLight = false;\r\nlet fencesPositions = {};\r\nlet lightPositions = {};\r\n\r\nconst texture = new THREE.TextureLoader().load('/static/assets/3d/tennis_net/Textures/Net_new x4096.png');\r\ntexture.wrapS = THREE.RepeatWrapping;\r\ntexture.wrapT = THREE.RepeatWrapping;\r\ntexture.magFilter = THREE.LinearFilter;\r\n\r\nconst texture2 = new THREE.TextureLoader().load('/static/assets/3d/fence5/textures/texture.png');\r\ntexture2.wrapS = THREE.RepeatWrapping;\r\ntexture2.wrapT = THREE.RepeatWrapping;\r\ntexture2.anisotropy = 32;\r\ntexture2.generateMipmaps = true;\r\ntexture2.magFilter = THREE.LinearFilter;\r\ntexture2.minFilter = THREE.LinearMipMapLinearFilter;\r\n\r\nexport function loadFence(cb){\r\n\tif(window.fence) return cb(window.fence)\r\n\tconst loader = new FBXLoader()\r\n\r\n\tloader.load( '/static/assets/3d/fence5/source/ChainlinkFence.fbx', function ( fbx ) {\r\n\t\tfbx.traverse(child => {\r\n\t\t\tif(child.name === 'pPlane1' || child.name === 'pPlane2'){\r\n\t\t\t\tchild.material = new THREE.MeshPhongMaterial( { map: texture2, transparent: true, opacity: 0.8 } );\r\n\t\t\t}\r\n\r\n\t\t\tif(child.isMesh){\r\n\t\t\t\tchild.castShadow = true;\r\n\t\t\t\tchild.receiveShadow = true;\r\n\t\t\t\tif(child.material.map) child.material.map.anisotropy = 16\r\n\t\t\t}\r\n\t\t})\r\n\t\twindow.fence = fbx;\r\n\t\tcb(fbx)\r\n\r\n\t}, undefined, function ( error ) {\r\n\r\n\t\tconsole.error( error )\r\n\r\n\t} )\r\n}\r\n\r\nfunction loadHoop(cb){\r\n\tif(window.hoop) return cb(window.hoop)\r\n\r\n\tconst loader = new FBXLoader()\r\n\r\n\tloader.load( '/static/assets/3d/hoop3/untitled.fbx', function ( fbx ) {\r\n\t\tfbx.traverse(child => {\r\n\t\t\tif(child.isMesh){\r\n\t\t\t\tchild.castShadow = true;\r\n\t\t\t\tchild.receiveShadow = true;\r\n\t\t\t\tif(child.material.map) child.material.map.anisotropy = 16\r\n\t\t\t}\r\n\t\t})\r\n\t\twindow.hoop = fbx;\r\n\t\tcb(fbx)\r\n\r\n\t}, undefined, function ( error ) {\r\n\r\n\t\tconsole.error( error )\r\n\r\n\t} )\t\r\n}\r\n\r\nfunction loadLights(cb){\r\n\tif(window.light) return cb(window.light);\r\n\r\n\tconst loader = new FBXLoader()\r\n\r\n\tloader.load( '/static/assets/3d/light/untitled.fbx', function ( fbx ) {\r\n\t\twindow.light = fbx;\r\n\t\tcb(fbx)\r\n\r\n\t}, undefined, function ( error ) {\r\n\r\n\t\tconsole.error( error )\r\n\r\n\t} )\r\n}\r\n\r\nfunction loadNet(cb){\r\n\tif(window.net) return cb(window.net);\r\n\r\n\tconst loader = new FBXLoader();\r\n\r\n\tloader.load('/static/assets/3d/tennis_net/net.fbx', function (fbx){\r\n\t\tconst material = new THREE.MeshPhongMaterial( { map: texture, side: THREE.DoubleSide, transparent: true, color: 0x000000 } );\r\n\r\n\t\tfbx.traverse(child =>{\r\n\t\t\tif(child.name === 'Plane003'){\r\n\t\t\t\tchild.material = material\r\n\t\t\t}\r\n\t\t})\r\n\t\twindow.net = fbx;\r\n\t\tcb(fbx)\r\n\t}, undefined, function ( error) {\r\n\t\tconsole.error(error);\r\n\t})\r\n}\r\n\r\nfunction removeLightLeftBottom(){\r\n\twindow.scene.children = window.scene.children.filter(x => x.name !== 'lightLeftBottom' && x.name !== 'spBottomLeft');\r\n}\r\n\r\nfunction removeLightLeftTop(){\r\n\twindow.scene.children = window.scene.children.filter(x => x.name !== 'lightLeftTop' && x.name !== 'spTopLeft');\r\n}\r\n\r\nfunction removeLightTopMiddle(){\r\n\twindow.scene.children = window.scene.children.filter(x => x.name !== 'lightTopMiddle' && x.name !== 'spTopMiddle');\r\n}\r\n\r\nfunction removeLightBottomMiddle(){\r\n\twindow.scene.children = window.scene.children.filter(x => x.name !== 'lightBottomMiddle' && x.name !== 'spBottomMiddle');\r\n}\r\n\r\nfunction removeLightTopRight(){\r\n\twindow.scene.children = window.scene.children.filter(x => x.name !== 'lightTopRight' && x.name !== 'spTopRight');\r\n}\r\n\r\nfunction removeLightBottomRight(){\r\n\twindow.scene.children = window.scene.children.filter(x => x.name !== 'lightBottomRight' && x.name !== 'spBottomRight');\r\n}\r\n\r\nwindow.generateBox = function(){\r\n\tlet box = new THREE.Box3().setFromObject( window._net );\r\n\treturn box;\r\n}\r\nexport function renderNet(array){\r\n\r\n\tif(!window.scene) return;\r\n/*\r\n\tif(array.every(x => x === 0)){\r\n\t\twindow.scene.children = window.scene.children.filter(x => x.name !== 'ambientLight')\r\n\t\tambientLight = false;\r\n\t}else if(array.some(x => x === 1) && !ambientLight){\r\n\t\tconst am = new THREE.AmbientLight( 0xffffff, 1 )\r\n\t\tam.name = \"ambientLight\"\r\n\t\twindow.scene.add(am); // soft white light\r\n\t\tambientLight = true;\r\n\t}*/\r\n\r\n\twindow.scene.children = window.scene.children.filter( x => x.name !== 'tennis_net' && x.name !== 'pickleball_net');\r\n\r\n\tloadNet( net => {\r\n\t\tlet _net = net.clone()\r\n\t\tif(array[0] === 1){\r\n\t\t\t_net.rotation.y = Math.PI / 2;\r\n\t\t\t_net.position.x = 78 / 2\r\n\t\t\tlet box = new THREE.Box3().setFromObject( _net );\r\n\t\t\tlet scale = 42 / (Math.abs(box.max.z) + Math.abs(box.min.z))\r\n\t\t\t_net.scale.set(0.3,0.3,0.3)\r\n\r\n\t\t\t_net.position.z = -27 / 2\r\n\t\t\t_net.position.y = 0.1\r\n\t\t\t_net.name = 'tennis_net';\r\n\t\t\twindow.scene.add(_net)\r\n\t\t}\r\n\r\n\t\tif(array[1] === 1){\r\n\t\t\t_net.rotation.y = Math.PI / 2;\r\n\t\t\t_net.position.x = 78 / 2\r\n\t\t\tlet box = new THREE.Box3().setFromObject( _net );\r\n\t\t\tlet scale = 22 / (Math.abs(box.max.z) + Math.abs(box.min.z))\r\n\t\t\t_net.scale.set(scale,0.26,0.3)\r\n\r\n\t\t\t_net.position.z = -27 / 2\r\n\t\t\t_net.position.y = 0.1\r\n\r\n\t\t\t_net.name = 'pickleball_net';\r\n\t\t\twindow.scene.add(_net)\r\n\t\t}\r\n\r\n\t\twindow.renderer.render(window.scene, window.camera)\r\n\t});\r\n}\r\nexport function renderLight(array,width,length){\r\n\t\tloadLights(function(light){\r\n\r\n\t\t\tif(array[3] === 0 && lightPositions['bottomLeft']){\r\n\t\t\t\tremoveLightLeftBottom(light, width, length)\r\n\t\t\t\tlightPositions['bottomLeft'] = false;\r\n\t\t\t}\r\n\t\t\tif(array[0] === 0 && lightPositions['topLeft']){\r\n\t\t\t\tremoveLightLeftTop(light, width, length)\r\n\t\t\t\tlightPositions['topLeft'] = false;\r\n\t\t\t}\r\n\t\t\tif(array[1] === 0 && lightPositions['topMiddle']){\r\n\t\t\t\tremoveLightTopMiddle(light, width, length)\r\n\t\t\t\tlightPositions['topMiddle'] = false;\r\n\t\t\t}\r\n\t\t\tif(array[4] === 0 && lightPositions['bottomMiddle']){\r\n\t\t\t\tremoveLightBottomMiddle(light, width, length)\r\n\t\t\t\tlightPositions['bottomMiddle'] = false;\r\n\t\t\t}\r\n\t\t\tif(array[2] === 0 && lightPositions['topRight']){\r\n\t\t\t\tremoveLightTopRight(light, width, length)\r\n\t\t\t\tlightPositions['topRight'] = false;\r\n\t\t\t} \r\n\t\t\tif(array[5] === 0 && lightPositions['bottomRight']){\r\n\t\t\t\tremoveLightBottomRight(light, width, length)\r\n\t\t\t\tlightPositions['bottomRight'] = false;\r\n\t\t\t}\r\n\r\n\t\t\tif(array[3] && !lightPositions['bottomLeft']){\r\n\t\t\t\trenderLightLeftBottom(light, width, length)\r\n\t\t\t\tlightPositions['bottomLeft'] = true;\r\n\t\t\t}\r\n\t\t\tif(array[0] && !lightPositions['topLeft']){\r\n\t\t\t\trenderLightLeftTop(light, width, length)\r\n\t\t\t\tlightPositions['topLeft'] = true;\r\n\t\t\t}\r\n\t\t\tif(array[1] && !lightPositions['topMiddle']){\r\n\t\t\t\trenderLightTopMiddle(light, width, length)\r\n\t\t\t\tlightPositions['topMiddle'] = true;\r\n\t\t\t}\r\n\t\t\tif(array[4] && !lightPositions['bottomMiddle']){\r\n\t\t\t\trenderLightBottomMiddle(light, width, length)\r\n\t\t\t\tlightPositions['bottomMiddle'] = true;\r\n\t\t\t}\r\n\t\t\tif(array[2] && !lightPositions['topRight']){\r\n\t\t\t\trenderLightTopRight(light, width, length)\r\n\t\t\t\tlightPositions['topRight'] = true;\r\n\t\t\t} \r\n\t\t\tif(array[5] && !lightPositions['bottomRight']){\r\n\t\t\t\trenderLightBottomRight(light, width, length)\r\n\t\t\t\tlightPositions['bottomRight'] = true;\r\n\t\t\t}\r\n\r\n\r\n\t\t\twindow.renderer.render(window.scene, window.camera)\r\n\t\t})\r\n}\r\n\r\nfunction renderLightLeftBottom(light, width, length){\r\n\tlight = light.clone()\r\n\tlight.scale.set(0.002,0.002,0.002)\r\n\tlight.rotation.y = Math.PI / 2 * 3\r\n\t//let box = new THREE.Box3().setFromObject( light )\r\n\tlight.position.x = -(length-2-78)/2+2\r\n\tlight.position.z = (width-2-27)/2+3\r\n\tlight.name = 'lightLeftBottom'\r\n\twindow.scene.add(light)\r\n\taddSpotlight(light.position, {x: light.position.x, y: 1, z: -18}, 'spBottomLeft')\r\n\r\n}\r\n\r\nfunction renderLightLeftTop(light, width, length){\r\n\tlight = light.clone()\r\n\tlight.scale.set(0.002,0.002,0.002)\r\n\tlight.rotation.y = Math.PI / 2 \r\n\t//let box = new THREE.Box3().setFromObject( light )\r\n\tlight.position.x = -(length-2-78)/2+2\r\n\tlight.position.z = -27-(width-2-27)/2-3\r\n\tlight.name = 'lightLeftTop'\r\n\twindow.scene.add(light)\r\n\taddSpotlight(light.position, {x: light.position.x, y: 1, z: -18}, 'spTopLeft')\r\n}\r\n\r\nfunction renderLightTopMiddle(light, width, length){\r\n\tlight = light.clone()\r\n\tlight.scale.set(0.002,0.002,0.002)\r\n\tlight.rotation.y = Math.PI / 2 \r\n\tlet box = new THREE.Box3().setFromObject( light )\r\n\tconsole.log(box)\r\n\tlight.position.x = -(length+2-78)/2+length/2 + 1 \r\n\tlight.position.z = -27-(width-2-27)/2 - 3\r\n\tlight.name = 'lightTopMiddle'\r\n\twindow.scene.add(light)\r\n\taddSpotlight(light.position, {x: 39, y:1, z:-18}, 'spTopMiddle')\r\n}\r\n\r\nfunction renderLightBottomMiddle(light, width, length){\r\n\tlight = light.clone()\r\n\tlight.scale.set(0.002,0.002,0.002)\r\n\tlight.rotation.y = Math.PI / 2 * 3\r\n\tlet box = new THREE.Box3().setFromObject( light )\r\n\tlight.position.x = -(length+2-78)/2+length/2 + (box.max.x - box.min.x) / 2 - 0.25\r\n\tlight.position.z = (width-2-27)/2 + 3\r\n\tlight.name = 'lightBottomMiddle'\r\n\twindow.scene.add(light)\r\n\taddSpotlight(light.position, {x: light.position.x, y: 1, z: -18}, 'spBottomMiddle')\r\n\r\n}\r\n\r\nfunction renderLightTopRight(light, width, length){\r\n\tlight = light.clone()\r\n\tlight.scale.set(0.002,0.002,0.002)\r\n\tlight.rotation.y = Math.PI / 2 \r\n\tlet box = new THREE.Box3().setFromObject( light )\r\n\tlight.position.x = -(length+2-78)/2+length - 3\r\n\tlight.position.z = -27-(width-2-27)/2 - 3\r\n\tlight.name = 'lightTopRight'\r\n\twindow.scene.add(light)\r\n\taddSpotlight(light.position, {x: light.position.x, y: 1, z: -18}, 'spTopRight')\r\n}\r\n\r\nfunction renderLightBottomRight(light, width, length){\r\n\tlight = light.clone()\r\n\tlight.scale.set(0.002,0.002,0.002)\r\n\tlight.rotation.y = Math.PI / 2 * 3\r\n\tlight.position.x = -(length+2-78)/2+length - 3\r\n\tlight.position.z = (width-2-27)/2 + 3\r\n\tlight.name = 'lightBottomRight'\r\n\twindow.scene.add(light)\r\n\taddSpotlight(light.position, {x: light.position.x, y: 1, z: -18}, 'spBottomRight')\r\n\r\n}\r\n\r\nexport function renderHoop(array, width, length){\r\n\r\n\tif(!window.scene) return;\r\n\r\n/*\tif(array.every(x => x === 0)){\r\n\t\twindow.scene.children = window.scene.children.filter(x => x.name !== 'ambientLight')\r\n\t\tambientLight = false;\r\n\t}else if(array.some(x => x === 1) && !ambientLight){\r\n\t\tconst am = new THREE.AmbientLight( 0xffffff, 1 )\r\n\t\tam.name = \"ambientLight\"\r\n\t\twindow.scene.add(am); // soft white light\r\n\t\tambientLight = true;\r\n\t}*/\r\n\r\n\tloadHoop(function(model){\r\n\t\tif(array[1] === 1 && !hoopsPositions['left']) {\r\n\t\t\trenderHoopLeft(model, width, length);\r\n\t\t\thoopsPositions['left'] = true;\r\n\t\t}\r\n\t\tif(array[2] === 1 && !hoopsPositions['right']){\r\n\t\t\trenderHoopRight(model, width, length);\r\n\t\t\thoopsPositions['right'] = true;\r\n\t\t}\r\n\t\tif(array[0] === 1 && !hoopsPositions['top']){\r\n\t\t\trenderHoopTop(model, width, length);\r\n\t\t\thoopsPositions['top'] = true;\r\n\t\t}\r\n\t\tif(array[3] === 1 && !hoopsPositions['topMiddle']) {\r\n\t\t\trenderHoopTopMiddle(model, width, length);\r\n\t\t\thoopsPositions['topMiddle'] = true;\r\n\t\t}\r\n\t\tif(array[4] === 1 && !hoopsPositions['bottomMiddle']){\r\n\t\t\trenderHoopBottomMiddle(model, width, length)\r\n\t\t\thoopsPositions['bottomMiddle'] = true;\r\n\t\t}\r\n\r\n\t\tif(array[1] === 0 && hoopsPositions['left'] ){\r\n\t\t\tremoveHoop('hoopLeft')\r\n\t\t\thoopsPositions['left'] = false;\r\n\t\t}\r\n\t\tif(array[2] === 0 && hoopsPositions['right'] ){\r\n\t\t\tremoveHoop('hoopRight')\r\n\t\t\thoopsPositions['right'] = false;\r\n\t\t}\r\n\t\tif(array[0] === 0 && hoopsPositions['top']){\r\n\t\t\tremoveHoop('hoopTop')\r\n\t\t\thoopsPositions['top'] = false;\r\n\t\t}\r\n\r\n\t\tif(array[3] === 0 && hoopsPositions['topMiddle']){\r\n\t\t\tremoveHoop('hoopTopMiddle')\r\n\t\t\thoopsPositions['topMiddle'] = false;\r\n\t\t}\r\n\t\tif(array[4] === 0 && hoopsPositions['bottomMiddle']) {\r\n\t\t\tremoveHoop('hoopBottomMiddle')\r\n\t\t\thoopsPositions['bottomMiddle'] = false;\r\n\t\t}\r\n\r\n\t\twindow.renderer.render(window.scene, window.camera)\r\n\t})\r\n}\r\n\r\nfunction removeHoop(pos){\r\n\twindow.scene.children = window.scene.children.filter(x => x.name !== pos)\r\n}\r\nfunction renderHoopLeft(model, width, length){\r\n\tmodel = model.clone()\r\n\tmodel.scale.set(0.06,0.06,0.06)\r\n\tmodel.rotation.set(-Math.PI / 2, Math.PI / 2, Math.PI / 2 )\r\n\tmodel.position.set(0, 0, -(27/2))\r\n\r\n\tlet group = new THREE.Group()\r\n\r\n\tconst light = new THREE.PointLight( 0xffffff, 1.5, 15 )\r\n\tlight.position.set( -1, 4, -(27/2) )\r\n\r\n\tconst light2 = new THREE.PointLight( 0xffffff, 10, 7 )\r\n\tlight2.position.set( 5, 4.8, -(27/2) )\r\n\r\n\tconst light3 = new THREE.PointLight( 0xffffff, 4, 13)\r\n\tlight3.position.set( 5, 19, -(27/2) )\r\n\r\n\tconst light4 = new THREE.PointLight( 0xffffff, 1, 15)\r\n\tlight4.position.set(-8, 15, -(27/2) )\r\n\r\n\r\n\r\n/*\tgroup.add(light)\r\n\tgroup.add(light2)\r\n\tgroup.add(light3)\r\n\tgroup.add(light4)*/\r\n\tgroup.add(model)\r\n\r\n\tgroup.name = \"hoopLeft\"\r\n\tgroup.position.x = -((length-78)/2-4)\r\n\twindow.scene.add(group)\r\n}\r\n\r\nfunction renderHoopRight(model, width,length){\r\n\tmodel = model.clone()\r\n\twindow.bb = model;\r\n\tmodel.scale.set(0.06,0.06,0.06)\r\n\tmodel.rotation.set(Math.PI / 2 * 3, Math.PI / 2 * 3, Math.PI / 2 * 3)\r\n\tmodel.position.set(0, 0, 0)\r\n\r\n\tlet group = new THREE.Group()\r\n\r\n\tconst light = new THREE.PointLight( 0xffffff, 1.5, 15 )\r\n\tlight.position.set( -1, 4, -(27/2) )\r\n\r\n\tconst light2 = new THREE.PointLight( 0xffffff, 10, 7 )\r\n\tlight2.position.set( 5, 4.8, -(27/2) )\r\n\r\n\tconst light3 = new THREE.PointLight( 0xffffff, 4, 13)\r\n\tlight3.position.set( 5, 19, -(27/2) )\r\n\r\n\tconst light4 = new THREE.PointLight( 0xffffff, 1, 15)\r\n\tlight4.position.set(-8, 15, -(27/2) )\r\n\r\n\r\n\r\n/*\tgroup.add(light)\r\n\tgroup.add(light2)\r\n\tgroup.add(light3)\r\n\tgroup.add(light4)*/\r\n\tgroup.add(model)\r\n\r\n\tgroup.name = 'hoopRight'\r\n\r\n\tgroup.position.x = length+2-(length+2-78)/2 - 4\r\n\tgroup.position.z = -(27/2);\r\n\twindow.scene.add(group)\r\n}\r\n\r\nfunction renderHoopTop(model, width,length){\r\n\tmodel = model.clone()\r\n\twindow.bb = model;\r\n\tmodel.scale.set(0.06,0.06,0.06)\r\n\tmodel.position.set(0, 0, 0)\r\n\t//model.position.set(0,0,0);\r\n\r\n\tlet group = new THREE.Group()\r\n\r\n\tconst light = new THREE.PointLight( 0xffffff, 1.5, 15 )\r\n\tlight.position.set( -1, 4, -(27/2) )\r\n\r\n\tconst light2 = new THREE.PointLight( 0xffffff, 10, 7 )\r\n\tlight2.position.set( 5, 4.8, -(27/2) )\r\n\r\n\tconst light3 = new THREE.PointLight( 0xffffff, 4, 13)\r\n\tlight3.position.set( 5, 19, -(27/2) )\r\n\r\n\tconst light4 = new THREE.PointLight( 0xffffff, 1, 15)\r\n\tlight4.position.set(-8, 15, -(27/2) )\r\n\r\n\r\n\r\n/*\tgroup.add(light)\r\n\tgroup.add(light2)\r\n\tgroup.add(light3)\r\n\tgroup.add(light4)*/\r\n\tgroup.add(model)\r\n\r\n\r\n\tgroup.name = 'hoopTop'\r\n\tgroup.position.x = 78/2\r\n\tgroup.position.z = -27-((width+2-27)/2) + 4;\r\n\twindow.scene.add(group)\r\n}\r\n\r\nfunction renderHoopTopMiddle(model, width,length){\r\n\tmodel = model.clone()\r\n\twindow.bb = model;\r\n\tmodel.scale.set(0.06,0.06,0.06)\r\n\tmodel.position.set(0, 0, 0)\r\n\t//model.position.set(0,0,0);\r\n\r\n\tlet group = new THREE.Group()\r\n\r\n\tconst light = new THREE.PointLight( 0xffffff, 1.5, 15 )\r\n\tlight.position.set( -1, 4, -27-((width+2-27)/2) + 9 + 4)\r\n\r\n\tconst light2 = new THREE.PointLight( 0xffffff, 10, 7 )\r\n\tlight2.position.set( 5, 4.8, -27-((width+2-27)/2) + 9 + 4)\r\n\r\n\tconst light3 = new THREE.PointLight( 0xffffff, 4, 13)\r\n\tlight3.position.set( 5, 19, -27-((width+2-27)/2) + 9 + 4)\r\n\r\n\tconst light4 = new THREE.PointLight( 0xffffff, 1, 15)\r\n\tlight4.position.set(-8, 15, -27-((width+2-27)/2) + 9 + 4)\r\n\r\n\r\n\r\n/*\tgroup.add(light)\r\n\tgroup.add(light2)\r\n\tgroup.add(light3)\r\n\tgroup.add(light4)*/\r\n\tgroup.add(model)\r\n\r\n\tgroup.name = 'hoopTopMiddle'\r\n\tgroup.position.x = 61.4 + 16 / 2\r\n\tgroup.position.z = -27-((width+2-27)/2) + 4;\r\n\twindow.scene.add(group)\r\n}\r\n\r\nfunction renderHoopBottomMiddle(model, width,length){\r\n\tmodel = model.clone()\r\n\twindow.bb = model;\r\n\tmodel.scale.set(0.06,0.06,0.06)\r\n\tmodel.position.set(0, 0, 0)\r\n\tmodel.rotation.y = Math.PI / 2 * 2\r\n\t//model.position.set(0,0,0);\r\n\r\n\tlet group = new THREE.Group()\r\n\r\n\tconst light = new THREE.PointLight( 0xffffff, 1.5, 15 )\r\n\tlight.position.set( -1, 4, -(27/2) )\r\n\r\n\tconst light2 = new THREE.PointLight( 0xffffff, 10, 7 )\r\n\tlight2.position.set( 5, 4.8, -(27/2) )\r\n\r\n\tconst light3 = new THREE.PointLight( 0xffffff, 4, 13)\r\n\tlight3.position.set( 5, 19, -(27/2) )\r\n\r\n\tconst light4 = new THREE.PointLight( 0xffffff, 1, 15)\r\n\tlight4.position.set(-8, 15, -(27/2) )\r\n\r\n\r\n\r\n/*\tgroup.add(light)\r\n\tgroup.add(light2)\r\n\tgroup.add(light3)\r\n\tgroup.add(light4)*/\r\n\tgroup.add(model)\r\n\r\n\tgroup.name = 'hoopBottomMiddle'\r\n\tgroup.position.x = 61.4 + 16 / 2\r\n\tgroup.position.z = (width/2)-(27.75/2) + 0.4 - 3\r\n\twindow.scene.add(group)\r\n}\r\n\r\nexport function renderFence(array,width,length, num){\r\n\tif(!window.renderer) return;\r\n\r\n\tlet borderExists = window.scene.children.some(x => x.name === 'border')\r\n\r\n\tif(!borderExists && !num){\r\n\t\twidth -= num || 2\r\n\t\tlength -= num || 2\r\n\t}\r\n\tloadFence((fbx) => {\r\n\r\n\t\tremoveFenceLeft()\r\n\t\tremoveFenceTop()\r\n\t\tremoveFenceBottom()\r\n\t\tremoveFenceRight()\r\n\t\t\r\n\t\tif(array[1] === 1 ) { renderFenceLeft(fbx,width,length) }\r\n\t\tif(array[0] === 1 ) { renderFenceTop(fbx, width, length) }\r\n\t\tif(array[3] === 1 ) { renderFenceBottom(fbx, width, length) }\r\n\t\tif(array[2] === 1 ) { renderFenceRight(fbx, width, length) }\r\n\r\n\t\twindow.renderer.render(window.scene, window.camera)\r\n\t})\r\n}\r\n\r\nfunction removeFenceLeft(){\r\n\twindow.scene.children = window.scene.children.filter(x => x.name !== 'fenceLeft');\r\n}\r\n\r\nfunction removeFenceRight(){\r\n\twindow.scene.children = window.scene.children.filter(x => x.name !== 'fenceRight');\r\n}\r\n\r\nfunction removeFenceTop(){\r\n\twindow.scene.children = window.scene.children.filter(x => x.name !== 'fenceTop');\r\n}\r\n\r\nfunction removeFenceBottom(){\r\n\twindow.scene.children = window.scene.children.filter(x => x.name !== 'fenceBottom');\r\n}\r\nfunction renderFenceLeft(fbx, width, length){\r\n\tlet group = new THREE.Group()\r\n\r\n\tlet one = fbx.clone()\r\n\tone.children = one.children.filter(x => x.name !== 'pCube3')\r\n\t//one.children = one.children.filter(x => x.name === 'Fence001' || x.name === 'Cylinder004' || x.name === 'Pin001' && x.name === 'Pin002' || x.name === \"Pin010\" || x.name === \"Pin011\")\r\n\r\n\t//group.add(one)\r\n\r\n\tvar box = new THREE.Box3().setFromObject( one )\r\n\r\n\tlet currentWidth =  box.max.x - box.min.x\r\n\t\r\n\r\n\tlet maxFences = Math.floor((width + 2) / 20);\r\n\tlet remainder = (width + 2) % 20\r\n\r\n\tlet desiredWidth = 20 + (remainder / maxFences)\r\n\r\n\tlet ratio = desiredWidth / currentWidth\r\n\r\n\tfor(let i = 0; i < maxFences; i++){\r\n\t\tlet el = one.clone()\r\n\t\tel.scale.set(ratio, 0.9, 0.25)\r\n\t\tbox = new THREE.Box3().setFromObject( el )\r\n\t\tcurrentWidth =  box.max.x - box.min.x\r\n\r\n\t\tel.position.set(currentWidth * i,0, 0)\r\n\t\tgroup.add(el)\r\n\t}\r\n\r\n\tgroup.position.set(-(length-78+2)/2,-0.05,-currentWidth/2+(width+2-27)/2)\r\n\tgroup.rotation.set(0, Math.PI / 2, 0)\r\n\r\n\tgroup.name = \"fenceLeft\"\r\n\twindow.scene.add(group)\r\n}\r\n\r\nfunction renderFenceTop(fbx, width, length){\r\n\tlet group = new THREE.Group()\r\n\r\n\r\n\tlet one = fbx.clone()\r\n\r\n\tone.children = one.children.filter(x => x.name !== 'pCube3')\r\n\t//one.children = one.children.filter(x => x.name === 'Fence001' || x.name === 'Cylinder004' || x.name === 'Pin001' && x.name === 'Pin002' || x.name === \"Pin010\" || x.name === \"Pin011\")\r\n\r\n\t//group.add(one)\r\n\r\n\tvar box = new THREE.Box3().setFromObject( one )\r\n\tlet currentLength =  box.max.x - box.min.x\r\n\r\n\tlet maxFences = Math.floor((length + 2) / 20);\r\n\tlet remainder = (length + 2) % 20\r\n\r\n\tlet desiredLength = 20 + (remainder / maxFences)\r\n\r\n\tlet ratio = desiredLength / currentLength\r\n\r\n\tfor(let i = 0; i < maxFences; i++){\r\n\t\tlet el = one.clone()\r\n\t\tel.scale.set(ratio, 0.9, 0.25)\r\n\t\tbox = new THREE.Box3().setFromObject( el )\r\n\t\tcurrentLength =  box.max.x - box.min.x\r\n\r\n\t\tel.position.set(currentLength * i,0, 0)\r\n\t\tgroup.add(el)\r\n\t}\r\n\r\n\tgroup.position.set(-(length-78+2)/2+currentLength/2,-0.25,-27-((width+2-27)/2))\r\n\tgroup.rotation.set(0, 0, 0)\r\n\r\n\tgroup.name = \"fenceTop\"\r\n\twindow.scene.add(group)\t\r\n}\r\n\r\nfunction renderFenceBottom(fbx, width, length){\r\n\tlet group = new THREE.Group()\r\n\r\n\tlet one = fbx.clone()\r\n\tone.children = one.children.filter(x => x.name !== 'pCube1')\r\n\t//one.children = one.children.filter(x => x.name === 'Fence001' || x.name === 'Cylinder004' || x.name === 'Pin001' && x.name === 'Pin002' || x.name === \"Pin010\" || x.name === \"Pin011\")\r\n\r\n\t//group.add(one)\r\n\r\n\tvar box = new THREE.Box3().setFromObject( one )\r\n\tlet currentLength =  box.max.x - box.min.x\r\n\r\n\tlet maxFences = Math.floor((length + 2) / 20);\r\n\tlet remainder = (length + 2) % 20\r\n\r\n\tlet desiredLength = 20 + (remainder / maxFences)\r\n\r\n\tlet ratio = desiredLength / currentLength\r\n\r\n\tfor(let i = 0; i < maxFences; i++){\r\n\t\tlet el = one.clone()\r\n\t\tel.scale.set(ratio, 0.9, 0.25)\r\n\t\tbox = new THREE.Box3().setFromObject( el )\r\n\t\tcurrentLength =  box.max.x - box.min.x\r\n\t\tel.position.set(currentLength * i,0, 0)\r\n\t\tgroup.add(el)\r\n\t}\r\n\r\n\tgroup.position.set(-(length-78+2)/2+currentLength/2,-0.25,((width+2-27)/2))\r\n\tgroup.rotation.set(0, 0, 0)\r\n\r\n\tgroup.name = \"fenceBottom\"\r\n\r\n\twindow.groupBottom = group;\r\n\twindow.scene.add(group)\t\t\r\n}\r\n\r\nfunction renderFenceRight(fbx, width, length){\r\n\tlet group = new THREE.Group()\r\n\r\n\r\n\tlet one = fbx.clone()\r\n\tone.children = one.children.filter(x => x.name !== 'pCube1')\r\n\t//one.children = one.children.filter(x => x.name === 'Fence001' || x.name === 'Cylinder004' || x.name === 'Pin001' && x.name === 'Pin002' || x.name === \"Pin010\" || x.name === \"Pin011\")\r\n\r\n\t//group.add(one)\r\n\r\n\tvar box = new THREE.Box3().setFromObject( one )\r\n\tlet currentWidth =  box.max.x - box.min.x\r\n\t\r\n\r\n\tlet maxFences = Math.floor((width + 2) / 20);\r\n\tlet remainder = (width + 2) % 20\r\n\r\n\tlet desiredWidth = 20 + (remainder / maxFences)\r\n\r\n\tlet ratio = desiredWidth / currentWidth\r\n\r\n\tfor(let i = 0; i < maxFences; i++){\r\n\t\tlet el = one.clone()\r\n\t\tel.scale.set(ratio, 0.9, 0.25)\r\n\t\tbox = new THREE.Box3().setFromObject( el )\r\n\t\tcurrentWidth =  box.max.x - box.min.x\r\n\r\n\t\tel.position.set(currentWidth * i,0, 0)\r\n\t\tgroup.add(el)\r\n\t}\r\n\r\n\tgroup.position.set(length+2-(length+2-78)/2 + 0.1,-0.25,-currentWidth/2+(width+2-27)/2)\r\n\tgroup.rotation.set(0, Math.PI / 2, 0)\r\n\tgroup.name = \"fenceRight\"\r\n\twindow.scene.add(group)\r\n}\r\n\r\nexport function changeFencePositions(width, length, num){\r\n\r\n\tif(!window.fence) return;\r\n\r\n\tlet fenceLeft = window.scene.children.filter(x => x.name === 'fenceLeft')\r\n\tlet fenceRight = window.scene.children.filter(x => x.name === 'fenceRight')\r\n\tlet fenceTop = window.scene.children.filter(x => x.name === 'fenceTop')\r\n\tlet fenceBottom = window.scene.children.filter(x => x.name === 'fenceBottom')\r\n\r\n\tlet borderExists = window.scene.children.some(x => x.name === 'border')\r\n\r\n\tif(!borderExists && !num){\r\n\t\twidth -= num || 2\r\n\t\tlength -= num || 2\r\n\t}\r\n\t\r\n\tif(fenceLeft.length !== 0){\r\n\t\tfenceLeft[0].position.x = -(length-78+2)/2\r\n\t\tvar box = new THREE.Box3().setFromObject( fenceLeft[0].children[0] )\r\n\t\tlet currentWidth =  box.max.z - box.min.z\r\n\r\n\t\tlet maxFences = Math.floor((width + 2) / 20);\r\n\t\tlet remainder = (width + 2) % 20\r\n\r\n\t\tlet desiredWidth = 20 + (remainder / maxFences)\r\n\r\n\t\tlet ratio = desiredWidth / currentWidth\r\n\r\n\r\n\t\tif(maxFences > fenceLeft[0].children.length){\r\n\t\t\tfenceLeft[0].add(fenceLeft[0].children[1].clone())\r\n\t\t}else if(maxFences < fenceLeft[0].children.length){\r\n\t\t\tfenceLeft[0].children.pop();\r\n\t\t}\r\n\r\n\t\tfenceLeft[0].children.forEach((x,i) => {\r\n\t\t\tx.scale.x = x.scale.x * ratio\r\n\t\t\tx.position.x = i * desiredWidth\r\n\t\t\tbox = new THREE.Box3().setFromObject( x )\r\n\t\t\tcurrentWidth =  box.max.z - box.min.z\r\n\t\t})\r\n\r\n\t\tfenceLeft[0].position.z = -currentWidth/2+(width+2-27)/2\r\n\t}\r\n\r\n\tif(fenceRight.length !== 0){\r\n\t\tfenceRight[0].position.x = length+2-(length+2-78)/2 + 0.1;\r\n\r\n\t\tvar box = new THREE.Box3().setFromObject( fenceRight[0].children[0] )\r\n\t\tlet currentWidth =  box.max.z - box.min.z\r\n\r\n\t\tlet maxFences = Math.floor((width + 2) / 20);\r\n\t\tlet remainder = (width + 2) % 20\r\n\r\n\t\tlet desiredWidth = 20 + (remainder / maxFences)\r\n\r\n\t\tlet ratio = desiredWidth / currentWidth\r\n\r\n\t\tif(maxFences > fenceRight[0].children.length){\r\n\t\t\tfenceRight[0].add(fenceRight[0].children[1].clone())\r\n\t\t}else if(maxFences < fenceRight[0].children.length){\r\n\t\t\tfenceRight[0].children.pop();\r\n\t\t}\r\n\r\n\t\tfenceRight[0].children.forEach((x,i) => {\r\n\t\t\tx.scale.x = x.scale.x * ratio\r\n\t\t\tx.position.x = i * desiredWidth\r\n\t\t\tbox = new THREE.Box3().setFromObject( x )\r\n\t\t\tcurrentWidth =  box.max.z - box.min.z\r\n\t\t})\r\n\r\n\t\tfenceRight[0].position.z = -currentWidth/2+(width+2-27)/2\r\n\r\n\t}\r\n\r\n\tif(fenceTop.length !== 0){\r\n\t\tfenceTop[0].position.z = -27-((width+2-27)/2)\r\n\r\n\t\tvar box = new THREE.Box3().setFromObject( fenceTop[0].children[0] )\r\n\t\tlet currentLength =  box.max.x - box.min.x\r\n\r\n\t\tlet maxFences = Math.floor((length + 2) / 20);\r\n\t\tlet remainder = (length + 2) % 20\r\n\r\n\t\tlet desiredLength = 20 + (remainder / maxFences)\r\n\r\n\t\tlet ratio = desiredLength / currentLength\r\n\r\n\r\n\t\tif(maxFences > fenceTop[0].children.length){\r\n\t\t\tfenceTop[0].add(fenceTop[0].children[1].clone())\r\n\t\t}else if(maxFences < fenceTop[0].children.length){\r\n\t\t\tfenceTop[0].children.pop();\r\n\t\t}\r\n\r\n\t\tfenceTop[0].children.forEach((x,i) => {\r\n\t\t\tx.scale.x = x.scale.x * ratio\r\n\t\t\tx.position.x = i * desiredLength\r\n\t\t\tbox = new THREE.Box3().setFromObject( x )\r\n\t\t\tcurrentLength =  box.max.x - box.min.x\r\n\t\t})\r\n\r\n\t\tfenceTop[0].position.x = -(length-78+2)/2+currentLength/2\r\n\t}\r\n\r\n\tif(fenceBottom.length !== 0){\r\n\t\tfenceBottom[0].position.z = ((width+2-27)/2) \r\n\r\n\t\tvar box = new THREE.Box3().setFromObject( fenceBottom[0].children[0] )\r\n\t\tlet currentLength =  box.max.x - box.min.x\r\n\r\n\t\tlet maxFences = Math.floor((length + 2) / 20);\r\n\t\tlet remainder = (length + 2) % 20\r\n\r\n\t\tlet desiredLength = 20 + (remainder / maxFences)\r\n\r\n\t\tlet ratio = desiredLength / currentLength\r\n\r\n\r\n\t\tif(maxFences > fenceBottom[0].children.length){\r\n\t\t\tfenceBottom[0].add(fenceBottom[0].children[1].clone())\r\n\t\t}else if(maxFences < fenceBottom[0].children.length){\r\n\t\t\tfenceBottom[0].children.pop();\r\n\t\t}\r\n\r\n\r\n\t\tfenceBottom[0].children.forEach((x,i) => {\r\n\t\t\tx.scale.x = x.scale.x * ratio\r\n\t\t\tx.position.x = i * desiredLength\r\n\t\t\tbox = new THREE.Box3().setFromObject( x )\r\n\t\t\tcurrentLength =  box.max.x - box.min.x\r\n\t\t})\r\n\r\n\t\tfenceBottom[0].position.x = -(length-78+2)/2+currentLength/2\r\n\t}\r\n\r\n\twindow.renderer.render(window.scene, window.camera)\r\n}\r\n\r\nexport function changeLightPositions(width, length){\r\n\tlet lightLeftBottom = window.scene.children.filter(x => x.name === 'lightLeftBottom');\r\n\tlet lightLeftTop = window.scene.children.filter(x => x.name === 'lightLeftTop');\r\n\tlet lightTopMiddle = window.scene.children.filter(x => x.name === 'lightTopMiddle');\r\n\tlet lightBottomMiddle = window.scene.children.filter(x => x.name === 'lightBottomMiddle');\r\n\tlet lightTopRight = window.scene.children.filter(x => x.name === 'lightTopRight');\r\n\tlet lightBottomRight = window.scene.children.filter(x => x.name === 'lightBottomRight');\r\n\r\n\tif(lightLeftBottom.length !== 0){\r\n\t\tlightLeftBottom[0].position.x = -(length-2-78)/2+2\r\n\t\tlightLeftBottom[0].position.z = (width-2-27)/2+3\r\n\t}\r\n\r\n\tif(lightLeftTop.length !== 0){\r\n\t\tlightLeftTop[0].position.x = -(length-2-78)/2+2\r\n\t\tlightLeftTop[0].position.z = -27-(width-2-27)/2-3\t\r\n\t}\r\n\r\n\tif(lightTopMiddle.length !== 0){\r\n\t\tlightTopMiddle[0].position.x = -(length+2-78)/2+length/2 \r\n\t\tlightTopMiddle[0].position.z = -27-(width-2-27)/2 - 3\r\n\t}\r\n\r\n\tif(lightBottomMiddle.length !== 0){\r\n\t\tlet box = new THREE.Box3().setFromObject( lightBottomMiddle[0] )\r\n\t\tlightBottomMiddle[0].position.x = -(length+2-78)/2+length/2 + (box.max.x - box.min.x) / 2 - 0.25\r\n\t\tlightBottomMiddle[0].position.z = (width-2-27)/2 + 3\r\n\t}\r\n\r\n\tif(lightTopRight.length !== 0){\r\n\t\tlightTopRight[0].position.x = -(length+2-78)/2+length - 3\r\n\t\tlightTopRight[0].position.z = -27-(width-2-27)/2 - 3\r\n\t}\r\n\r\n\tif(lightBottomRight.length !== 0){\r\n\t\tlightBottomRight[0].position.x = -(length+2-78)/2+length - 3\r\n\t\tlightBottomRight[0].position.z = (width-2-27)/2 + 3\r\n\t}\r\n\r\n\twindow.renderer.render(window.scene, window.camera)\r\n}\r\n\r\nexport function changeHoopPositions(width,length){\r\n\r\n\tif(!window.scene) return;\r\n\r\n\tlet hoopLeft = window.scene.children.filter(x => x.name === 'hoopLeft');\r\n\tlet hoopTop = window.scene.children.filter(x => x.name === 'hoopTop');\r\n\tlet hoopTopMiddle = window.scene.children.filter(x => x.name === 'hoopTopMiddle');\r\n\tlet hoopBottomMiddle = window.scene.children.filter(x => x.name === 'hoopBottomMiddle');\r\n\tlet hoopRight = window.scene.children.filter(x => x.name === 'hoopRight');\r\n\r\n\r\n\tif(hoopLeft.length !== 0){\r\n\t\thoopLeft[0].position.x = -((length-78)/2-4)\r\n\t}\r\n\r\n\tif(hoopRight.length !== 0){\r\n\t\thoopRight[0].position.x = length+2-(length+2-78)/2 - 4\r\n\t\thoopRight[0].position.z = -(27/2);\r\n\t}\r\n\r\n\tif(hoopTop.length !== 0){\r\n\t\thoopTop[0].position.x = 78/2\r\n\t\thoopTop[0].position.z = -27-((width+2-27)/2) + 4;\r\n\t}\r\n\r\n\tif(hoopTopMiddle.length !== 0){\r\n\t\thoopTopMiddle[0].position.z = -27-((width+2-27)/2) + 4;\r\n\t}\r\n\r\n\tif(hoopBottomMiddle.length !== 0){\r\n\t\thoopBottomMiddle[0].position.x = 61.4 + 16 / 2\r\n\t\thoopBottomMiddle[0].position.z = (width/2)-(27.75/2) + 0.4 - 3\r\n\t}\r\n\r\n\twindow.renderer.render(window.scene, window.camera)\r\n}\r\n\r\nexport function renderGallery(type){\r\n\tlet fenceTop = window.scene.children.filter(x => x.name === 'fenceTop')\r\n\tlet fenceBottom =  window.scene.children.filter(x => x.name === 'fenceBottom')\r\n\r\n\r\n\tif(fenceBottom.length !== 0){\r\n\t\tlet children = [ ...fenceBottom[0].children ]\r\n\t\tchildren.pop();\r\n\t\tlet first = children.shift();\r\n\r\n\t\tlet postRight = first.children.filter(x => x.name === 'pCube3')[0]\r\n\t\tlet box = new THREE.Box3().setFromObject( postRight );\r\n\r\n\t\tconsole.log(box)\r\n\t\tlet desiredHeight = box.max.y - box.min.y\r\n\r\n\t\tchildren.forEach(async (x,i) => {\r\n\t\t\tlet factor = !type ? 0.5 : 0.9;\r\n\t\t\tawait x.scale.set(x.scale.x, factor, x.scale.z)\t\r\n\t\t\t\r\n\t\t\tlet item = x.children.filter(x => x.name === 'pCube3')[0]\r\n\t\t\tlet box = generateBox(x)\r\n\t\t\t\r\n\t\t\tconsole.log(box)\r\n\t\t\tif(i === children.length - 1){\r\n\t\t\t\tlet lastOne = x.children.filter(x => x.name === 'pCube3')[0]\r\n\t\t\t\tlet lastOneBox = generateBox(lastOne)\r\n\r\n\t\t\t\tlet currentHeight = lastOneBox.max.y - lastOneBox.min.y;\r\n\r\n\t\t\t\tif(!type){\r\n\t\t\t\t\tlastOne.translateY(desiredHeight - currentHeight)\r\n\t\t\t\t\tlastOne.scale.y *= desiredHeight / currentHeight\t\r\n\t\t\t\t}else{\r\n\t\t\t\t\tlastOne.scale.y *= desiredHeight / currentHeight\r\n\t\t\t\t\tlastOne.translateY(postRight.position.y - lastOne.position.y)\r\n\t\t\t\t}\r\n\r\n\t\t\t\twindow.renderer.render(window.scene, window.camera)\r\n\r\n\t\t\t\t//lastOne.position.y += (desiredHeight - currentHeight )\r\n\t\t\t\t//lastOne.updateMatrix()\r\n\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t}\r\n\tif(fenceTop.length !== 0){\r\n\t\tlet children = [ ...fenceTop[0].children ]\r\n\t\tchildren.pop();\r\n\t\tlet first = children.shift();\r\n\r\n\t\tlet postRight = first.children.filter(x => x.name === 'pCube1')[0]\r\n\t\tlet box = new THREE.Box3().setFromObject( postRight );\r\n\t\tlet desiredHeight = box.max.y - box.min.y\r\n\r\n\t\tchildren.forEach( async (x,i) => {\r\n\t\t\tlet factor = !type ? 0.5 : 0.9;\r\n\t\t\tawait x.scale.set(x.scale.x, factor, x.scale.z)\r\n\r\n\t\t\tlet item = x.children.filter(x => x.name === 'pCube1')[0]\r\n\t\t\tlet box = generateBox(item)\r\n\t\t\t\r\n\t\t\tif(i === 0){\r\n\t\t\t\tlet lastOne = x.children.filter(x => x.name === 'pCube1')[0]\r\n\t\t\t\tlet lastOneBox = generateBox(lastOne)\r\n\r\n\t\t\t\tlet currentHeight = lastOneBox.max.y - lastOneBox.min.y;\r\n\r\n\t\t\t\tconsole.log(desiredHeight)\r\n\t\t\t\tconsole.log(currentHeight)\r\n\t\t\t\tif(!type){\r\n\t\t\t\t\tlastOne.translateY(desiredHeight - currentHeight)\r\n\t\t\t\t\tlastOne.scale.y *= desiredHeight / currentHeight\t\r\n\t\t\t\t}else{\r\n\t\t\t\t\tlastOne.scale.y *= desiredHeight / currentHeight\r\n\t\t\t\t\tlastOne.translateY(postRight.position.y - lastOne.position.y)\r\n\t\t\t\t}\r\n\r\n\t\t\t\twindow.renderer.render(window.scene, window.camera)\r\n\t\t\t}\t\t\t\r\n\t\t})\r\n\t}\r\n\r\n\twindow.renderer.render(window.scene, window.camera)\r\n}\r\n\r\nfunction generateBox(el){\r\n\treturn new THREE.Box3().setFromObject(el)\r\n}\r\n\r\nwindow.generateBox = generateBox","import * as THREE from \"three\";\r\nimport { LineMaterial } from 'three/examples/jsm/lines/LineMaterial';\r\nimport { extend } from \"@react-three/fiber\";\r\nimport { Line2 } from 'three/examples/jsm/lines/Line2';\r\nimport { LineGeometry } from 'three/examples/jsm/lines/LineGeometry';\r\nimport { GeometryUtils } from 'three/examples/jsm/utils/GeometryUtils';\r\n\r\n\r\nfunction generateLinesColor(){\r\n\treturn document.querySelector(\"input#basketball_lines\") ? document.querySelector(\"input#basketball_lines\").value : document.querySelector(\"input#basketball_line\")\r\n}\r\nexport function renderBasketballDefault(defaultWidth, defaultLength){\r\n\tlet w = defaultWidth;\r\n\tlet l = defaultLength;\r\n\r\n\tif(!window.scene) return;\r\n\r\n\trenderBasketball('right', w, l)\r\n\trenderBasketball('left', w, l)\r\n\trenderBorderAndSurface(w,l, true)\r\n}\r\n\r\nfunction renderHalfLineBasketball(w, l){\r\n\tconst group = new THREE.Group();\r\n\r\n\tconst points = []\r\n\r\n\tpoints.push( 0, 0.01, 0 )\r\n\tpoints.push( 0,0.01, 5 )\r\n\t\r\n\tconst geometry = new LineGeometry();\r\n\tgeometry.setPositions( points );\r\n\r\n\tlet linesColor = generateLinesColor()\r\n\r\n\tlet material = generateLinesMaterial();\r\n\r\n\tlet line = new Line2( geometry, material );\r\n\r\n\tline._id = \"lineBasketball\";\r\n\r\n\tgroup.add(line)\r\n\r\n\twindow.scene.add(group)\r\n}\r\n\r\nfunction removeExistingBorderAndSurface(){\r\n\tlet prevBorder;\r\n\tlet prevSurface;\r\n\t\r\n\tif(window.scene.children.filter(x => x._id === 'surface').length !== 0){\r\n\t\tprevSurface = window.scene.children.filter(x => x._id === 'surface')[0]\r\n\t\twindow.scene.children = window.scene.children.filter(x => x._id !== 'surface')\r\n\t}\r\n\r\n\tif(window.scene.children.filter(x => x._id === 'border').length !== 0){\r\n\t\tprevBorder = window.scene.children.filter(x => x._id === 'border')[0]\r\n\t\twindow.scene.children = window.scene.children.filter(x => x._id !== 'border')\r\n\t}\r\n\r\n\treturn [prevSurface, prevBorder]\r\n}\r\nexport function renderBorderAndSurface(w,l, init){\r\n\r\n\r\n\tlet [ prevSurface, prevBorder ] = removeExistingBorderAndSurface();\r\n\r\n\tconst backgroundGeometry = new THREE.PlaneGeometry(w, l);\r\n\tconst borderGeometry = new THREE.PlaneGeometry(w + 12, l + 12 )\r\n\tif(init){\r\n\r\n\t\tconst backgroundMaterial = new THREE.MeshStandardMaterial( {color: 0x0082CA, side: THREE.DoubleSide, reflectivity: 1} );\r\n\t\tconst surface = new THREE.Mesh( backgroundGeometry, backgroundMaterial );\r\n\t\tsurface.rotation.set( Math.PI / 2, 0, Math.PI / 2 );\r\n\t\tsurface.position.set(39.2,-0.02,-13.57)\r\n\t\tsurface._id = 'surface';\r\n\t\tsurface.name = \"surface\";\r\n\r\n\t\twindow.scene.add(surface)\r\n\t}else{\r\n\t\tconst backgroundMaterial = prevSurface.material;\r\n\t\t\r\n\t\tconst surface = new THREE.Mesh( backgroundGeometry, backgroundMaterial );\r\n\t\tsurface.rotation.set( Math.PI / 2, 0, Math.PI / 2 );\r\n\t\tsurface.position.set(39.2,-0.02,-13.57)\r\n\t\tsurface._id = 'surface';\r\n\t\tsurface.name = 'surface';\r\n\t\t\r\n\t\twindow.scene.add(surface)\r\n\t\tif(prevBorder){\r\n\t\t\tconst borderMaterial = prevBorder.material\r\n\r\n\t\t\tconst border = new THREE.Mesh ( borderGeometry, borderMaterial);\r\n\t\t\tborder.rotation.set( Math.PI / 2, 0, Math.PI / 2);\r\n\t\t\tborder.position.set(39.2, -0.03, -13.57);\r\n\t\t\tborder.name = 'border'\r\n\t\t\tborder._id = \"border\"\r\n\t\t\twindow.scene.add(border)\r\n\t\t}\r\n\r\n\t}\r\n}\r\n\r\nexport function renderBasketball(position, w, l){\r\n\tif(!window.scene) return;\r\n\r\n\tswitch (position){\r\n\t\tcase 'right':\r\n\t\t\trenderLinesRight(window.scene, w,l)\r\n\t\t\tbreak;\r\n\t\tcase 'left':\r\n\t\t\trenderLinesLeft(window.scene, w,l)\r\n\t\t\tbreak;\r\n\t\tcase 'top':\r\n\t\t\trenderLinesTop(window.scene, w,l)\r\n\t\t\tbreak;\r\n\t\tcase 'top-middle':\r\n\t\t\trenderLinesTopMiddle(window.scene, w,l)\r\n\t\t\tbreak;\r\n\t\tcase 'bottom-middle':\r\n\t\t\trenderLinesBottomMiddle(window.scene, w,l)\r\n\t\t\tbreak;\r\n\t}\r\n\r\n}\r\n\r\nexport function removeBasketball(position){\r\n\tif(!window.scene) return;\r\n\r\n\tif(position === 'removeEverything'){\r\n\t\tremoveLinesRight(window.scene)\r\n\t\tremoveLinesLeft(window.scene)\r\n\t\tremoveLinesTop(window.scene)\r\n\t\tremoveLinesBottomMiddle(window.scene)\r\n\t\tremoveLinesTopMiddle(window.scene)\r\n\t\treturn \r\n\t}\r\n\tswitch (position){\r\n\t\tcase 'right':\r\n\t\t\tremoveLinesRight(window.scene)\r\n\t\t\tbreak;\r\n\t\tcase 'left':\r\n\t\t\tremoveLinesLeft(window.scene)\r\n\t\t\tbreak;\r\n\t\tcase 'top':\r\n\t\t\tremoveLinesTop(window.scene)\r\n\t\t\tbreak;\r\n\t\tcase 'top-middle':\r\n\t\t\tremoveLinesTopMiddle(window.scene)\r\n\t\t\tbreak;\r\n\t\tcase 'bottom-middle':\r\n\t\t\tremoveLinesBottomMiddle(window.scene)\r\n\t\t\tbreak;\r\n\t}\r\n}\r\n\r\nexport function changeBasketballLinesPositions(positions, w,l){\r\n\r\n\tlet arr = [];\r\n\r\n\tlet map = {\r\n\t\t0: 'basketballLinesLeft',\r\n\t\t1: 'basketballLinesTop',\r\n\t\t2: 'basketballLinesRight',\r\n\t\t3: 'basketballLinesTopMiddle',\r\n\t\t4: 'basketballLinesBottomMiddle'\r\n\t}\r\n\r\n\tpositions.forEach((x,i) =>{\r\n\t\tif(x === 1){\r\n\t\t\tarr.push(map[i])\r\n\t\t}\r\n\t})\r\n\r\n\tarr.forEach(x => {\r\n\t\tlet el = window.scene.children.filter(y => y.name === x)[0]\r\n\r\n\t\tswitch(x){\r\n\t\t\tcase 'basketballLinesLeft':\r\n\t\t\t\tel.position.x = -((l-78)/2)+0.2\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'basketballLinesTop':\r\n\t\t\t\tel.position.z = -(27+((w-27)/2))+0.2\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'basketballLinesRight':\r\n\t\t\t\tel.position.x = l - ((l-78)/2)\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'basketballLinesTopMiddle':\r\n\t\t\t\tel.position.z = -(27+((w-27)/2))+0.2\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'basketballLinesBottomMiddle':\r\n\t\t\t\tel.position.z = (w/2)-(27.75/2);\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\treturn false\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t})\r\n}\r\n\r\nfunction generateLinesMaterial(lw){\r\n\tlet material;\r\n\r\n\tlet linesColor = generateLinesColor();\r\n\r\n\tif(linesColor !== \"false\"){\r\n\t\tmaterial = new LineMaterial({ color: linesColor, linewidth: lw || 0.0015})\r\n\t}else{\r\n      material = new LineMaterial( { color: 0xffffff, linewidth: lw || 0.0015});\r\n\t}\r\n\r\n\treturn material\r\n}\r\nfunction removeLinesRight(scene){\r\n\tscene.children = scene.children.filter(x => x.name !== 'basketballLinesRight')\r\n}\r\n\r\nfunction removeLinesTop(scene){\r\n\tscene.children = scene.children.filter(x => x.name !== 'basketballLinesTop')\r\n}\r\n\r\nfunction removeLinesTopMiddle(scene){\r\n\tscene.children = scene.children.filter(x => x.name !== 'basketballLinesTopMiddle')\r\n}\r\n\r\nfunction removeLinesBottomMiddle(scene){\r\n\tscene.children = scene.children.filter(x => x.name !== 'basketballLinesBottomMiddle')\r\n}\r\n\r\nfunction removeLinesLeft(scene){\r\n\tscene.children = scene.children.filter(x => x.name !== 'basketballLinesLeft')\r\n}\r\n\r\nfunction generateBasketballLinePoints(points){\r\n\tpoints.push( 19, 0, -13 )\r\n\tpoints.push( 19, 0, -3 )\r\n}\r\nfunction renderLinesLeft(scene, width, length){\r\n\tif(scene.children.filter(x => x.name === 'basketballLinesLeft').length !== 0) return;\r\n\r\n\tconst group = new THREE.Group();\r\n\r\n\tconst points = []\r\n\r\n\tgenerateBasketballLinePoints(points)\r\n\r\n\tconst geometry = new LineGeometry();\r\n\tgeometry.setPositions( points );\r\n\r\n\tlet material = generateLinesMaterial()\r\n\r\n\tlet line = new Line2( geometry, material );\r\n\r\n\tline._id = \"lineBasketball\";\r\n\r\n\tgroup.add(line)\r\n\r\n\t//drawCircle(3,'#ffffff', 0.0015, group)\r\n\trenderHoopBackground(group)\r\n\tdrawFreeThrowCircle(5, '#ffffff', 0.0015, group)\r\n\tdrawSideLinesBottom(group);\r\n\tdrawSideLinesTop(group);\r\n\tdrawThreePointer(group);\r\n\tdrawHashTop(group);\r\n\tdrawHashBottom(group);\r\n\tdrawBaseLine(group);\r\n\r\n\tgroup._id = \"basketballGroup\";\r\n\tgroup.name = \"basketballLinesLeft\"\r\n\tgroup.position.set(-((length-78)/2)+0.2,0.04,-5.50)\r\n\tscene.add(group)\r\n}\r\n\r\nfunction renderLinesTop(scene, width,length){\r\n\tif(scene.children.filter(x => x.name === 'basketballLinesTop').length !== 0) return;\r\n\tconst group = new THREE.Group();\r\n\r\n\tconst points = []\r\n\r\n\tgenerateBasketballLinePoints(points)\r\n\t\r\n\tconst geometry = new LineGeometry();\r\n\tgeometry.setPositions( points );\r\n\r\n\tlet linesColor = generateLinesColor();\r\n\r\n\tlet material = generateLinesMaterial();\r\n\r\n\tlet line = new Line2( geometry, material );\r\n\r\n\tline._id = \"lineBasketball\";\r\n\r\n\tgroup.add(line)\r\n\r\n\t//drawCircle(3,'#ffffff', 0.0015, group)\r\n\trenderHoopBackground(group)\r\n\tdrawFreeThrowCircle(5, '#ffffff', 0.0015, group)\r\n\tdrawSideLinesBottom(group);\r\n\tdrawSideLinesTop(group);\r\n\tdrawThreePointer(group);\r\n\tdrawHashTop(group);\r\n\tdrawHashBottom(group);\r\n\tdrawBaseLine(group);\r\n\r\n\tgroup._id = \"basketballGroup\";\r\n\tgroup.name = \"basketballLinesTop\"\r\n\r\n\tgroup.position.set(30.8,0.04,-(27+((width-27)/2)+0.2));\r\n\tgroup.rotation.set( 0, -Math.PI / 2,0)\r\n\r\n\tscene.add(group)\r\n}\r\n\r\nfunction renderLinesRight(scene, width, length){\r\n\tif(scene.children.filter(x => x.name === 'basketballLinesRight').length !== 0) return;\r\n\r\n\tconst group = new THREE.Group();\r\n\r\n\tconst points = []\r\n\r\n\tgenerateBasketballLinePoints(points)\r\n\t\r\n\tconst geometry = new LineGeometry();\r\n\tgeometry.setPositions( points );\r\n\r\n\tlet material = generateLinesMaterial()\r\n\tlet line = new Line2( geometry, material );\r\n\r\n\tline._id = \"lineBasketball\";\r\n\r\n\tgroup.add(line)\r\n\r\n\t//drawCircle(3,'#ffffff', 0.0015, group)\r\n\trenderHoopBackground(group)\r\n\tdrawFreeThrowCircle(5, '#ffffff', 0.0015, group)\r\n\tdrawSideLinesBottom(group);\r\n\tdrawSideLinesTop(group);\r\n\tdrawThreePointer(group);\r\n\tdrawHashTop(group);\r\n\tdrawHashBottom(group);\r\n\tdrawBaseLine(group);\r\n\r\n\tgroup._id = \"basketballGroup\";\r\n\tgroup.name = \"basketballLinesRight\"\r\n\r\n\tgroup.position.set( length - ((length-78)/2),0.04,-21.8)\r\n\tgroup.rotation.set(0,Math.PI / 2 * 2, 0)\r\n\r\n\tscene.add(group)\r\n}\r\n\r\nfunction renderLinesTopMiddle(scene, width,length){\r\n\r\n\tif(scene.children.filter(x => x.name === 'basketballLinesTopMiddle').length !== 0) return;\r\n\r\n\tconst group = new THREE.Group();\r\n\r\n\tconst points = []\r\n\r\n\tgenerateBasketballLinePoints(points)\r\n\t\r\n\tconst geometry = new LineGeometry();\r\n\tgeometry.setPositions( points );\r\n\r\n\r\n\tlet material = generateLinesMaterial();\r\n\r\n\tlet line = new Line2( geometry, material );\r\n\r\n\tline._id = \"lineBasketball\";\r\n\r\n\tgroup.add(line)\r\n\r\n\t//drawCircle(3,'#ffffff', 0.0015, group)\r\n\trenderHoopBackground(group)\r\n\tdrawFreeThrowCircle(5, '#ffffff', 0.0015, group)\r\n\tdrawSideLinesBottom(group);\r\n\tdrawSideLinesTop(group);\r\n\tdrawThreePointer(group);\r\n\tdrawHashTop(group);\r\n\tdrawHashBottom(group);\r\n\tdrawBaseLine(group);\r\n\r\n\tgroup._id = \"basketballGroup\";\r\n\tgroup.name = \"basketballLinesTopMiddle\"\r\n\r\n\tgroup.position.set(61.4,0.04,-(27+((width-27)/2)+0.2))\r\n\tgroup.rotation.set( 0, -Math.PI / 2,0)\r\n\r\n\tscene.add(group);\r\n}\r\n\r\nfunction renderLinesBottomMiddle(scene, width, length){\r\n\tif(scene.children.filter(x => x.name === 'basketballLinesBottomMiddle').length !== 0) return;\r\n\tconst group = new THREE.Group();\r\n\r\n\tconst points = []\r\n\r\n\tgenerateBasketballLinePoints(points)\r\n\t\r\n\tconst geometry = new LineGeometry();\r\n\tgeometry.setPositions( points );\r\n\r\n\tlet material = generateLinesMaterial();\r\n\r\n\tlet line = new Line2( geometry, material );\r\n\r\n\tline._id = \"lineBasketball\";\r\n\r\n\tgroup.add(line)\r\n\r\n\t//drawCircle(3,'#ffffff', 0.0015, group)\r\n\trenderHoopBackground(group)\r\n\tdrawFreeThrowCircle(5, '#ffffff', 0.0015, group)\r\n\tdrawSideLinesBottom(group);\r\n\tdrawSideLinesTop(group);\r\n\tdrawThreePointer(group);\r\n\tdrawHashTop(group);\r\n\tdrawHashBottom(group);\r\n\tdrawBaseLine(group);\r\n\r\n\tgroup._id = \"basketballGroup\";\r\n\tgroup.name = \"basketballLinesBottomMiddle\"\r\n\r\n\tgroup.position.set(77.6,0.04, (width/2)-(27.75/2) + 0.2)\r\n\tgroup.rotation.set(0, -Math.PI / 2 * 3, 0)\r\n\r\n\tscene.add(group)\r\n\r\n\r\n}\r\n\r\nfunction renderHoopBackground(group){\r\n\t\tconst geometryPlane = new THREE.PlaneGeometry(9.9,18.7)\r\n\t\tconst geometryCircle = new THREE.CircleGeometry(5,50)\r\n\r\n\r\n\t\tlet colorSurface = document.querySelector(\"input#basketball\") ? document.querySelector(\"input#basketball\").value : document.querySelector(\"input#basketball_surface\").value;\r\n\r\n\t\tlet _material;\r\n\t\tlet materialCircle;\r\n\r\n\r\n\t\tif(colorSurface !== \"false\"){\r\n\t\t\t_material = new THREE.MeshStandardMaterial( {color: colorSurface, side: THREE.DoubleSide} )\r\n\t\t\tmaterialCircle = new THREE.MeshStandardMaterial( {color: colorSurface, side: THREE.DoubleSide} )\r\n\t\t}else{\r\n\t\t\t_material = new THREE.MeshStandardMaterial( {color: 0x013CA6, opacity:0, transparent: true, side: THREE.DoubleSide} );\r\n\t\t\tmaterialCircle = new THREE.MeshStandardMaterial( {color: 0x013CA6, opacity:0, transparent: true, side: THREE.DoubleSide} );\r\n\t\t}\r\n\r\n\t\tconst meshPlane = new THREE.Mesh(geometryPlane, _material)\r\n\t\tmeshPlane.rotation.set(Math.PI / 2, 0, Math.PI / 2)\r\n\t\tmeshPlane.position.set(9.25,-0.03,-8)\r\n\r\n\r\n\t\tlet circle = new THREE.Mesh(geometryCircle, materialCircle);\r\n\r\n\t\tcircle.rotation.set(Math.PI / 2, 0,0)\r\n\t\tcircle.position.set(19.12,-0.03,-8)\r\n\r\n\t\tgroup.add(meshPlane)\r\n\t\tgroup.add(circle)\r\n\r\n\t\tmeshPlane.name = \"surfaceBasketball\"\r\n\t\tcircle.name = \"surfaceBasketball\"\r\n\r\n\r\n}\r\nfunction drawCircle(radius, color, lineWidth, group){\r\n    \r\n\tcolor = generateLinesColor();\r\n\r\n    let points = [];\r\n      \r\n    // 360 full circle will be drawn clockwise\r\n    for(let i = 0; i <= 180; i++){\r\n        points.push(Math.sin(i*(Math.PI/180))*radius,0, Math.cos(i*(Math.PI/180))*radius);\r\n    }\r\n      \r\n    let geometry = new LineGeometry();\r\n    geometry.setPositions( points );\r\n  \r\n    let material = new LineMaterial({\r\n        color: color,\r\n        linewidth: lineWidth\r\n    });\r\n      \r\n    let line = new Line2( geometry, material );\r\n    line._id = \"lineBasketball\"\r\n    \r\n    line.position.set(4,0.04,-8)\r\n    group.add( line );\r\n}\r\n\r\nfunction drawFreeThrowCircle(radius, color, lineWidth, group){\r\n    let points = [];\r\n    let points2 = [];\r\n\r\n\tcolor = generateLinesColor()\r\n\r\n    // 360 full circle will be drawn clockwise\r\n    for(let i = 0; i <= 180; i++){\r\n        points.push(Math.sin(i*(Math.PI/180))*radius,0, Math.cos(i*(Math.PI/180))*radius);\r\n    }\r\n\r\n    for(let i = 0; i >= -180; i--){\r\n        points2.push(Math.sin(i*(Math.PI/180))*radius,0, Math.cos(i*(Math.PI/180))*radius);\r\n    }\r\n\r\n    let geometry = new LineGeometry();\r\n    let geometry2 = new LineGeometry();\r\n\r\n    geometry.setPositions( points );\r\n    geometry2.setPositions(points2)\r\n  \r\n    let material = new LineMaterial({\r\n        color: color,\r\n        linewidth: lineWidth,\r\n    });\r\n\r\n    let material_dot = new LineMaterial({\r\n    \tcolor: color,\r\n    \tlinewidth: lineWidth,\r\n    \tdashed: true,\r\n    \tgapSize: 1.24,\r\n    \tdashSize:0.71\r\n    })\r\n      \r\n    let line = new Line2( geometry, material );\r\n    let line2 = new Line2(geometry2, material_dot);\r\n    line2.computeLineDistances();\r\n    \r\n    line.position.set(19.05,0.04,-8)\r\n    line2.position.set(19.05,0.04,-8)\r\n\r\n    line._id = \"lineBasketball\"\r\n    line2._id = \"lineBasketball\"\r\n\r\n    group.add( line );\r\n    //group.add( line2 );\r\n}\r\n\r\nfunction drawSideLinesBottom(group){\r\n\tlet points = [];\r\n\r\n\r\n\tpoints.push(0,0, -3)\r\n\tpoints.push(19,0,-3);\r\n\r\n\tlet geometry = new LineGeometry()\r\n\tgeometry.setPositions(points);\r\n\r\n\tlet material = generateLinesMaterial()\r\n\r\n\tlet line = new Line2(geometry, material);\r\n\tline._id = \"lineBasketball\"\r\n\r\n\tline.position.y = 0.04\r\n\tgroup.add(line)\r\n}\r\n\r\nfunction drawSideLinesTop(group){\r\n\tlet points = [];\r\n\r\n\r\n\tpoints.push(0,0, -13)\r\n\tpoints.push(19,0,-13);\r\n\r\n\tlet geometry = new LineGeometry()\r\n\tgeometry.setPositions(points);\r\n\r\n\tlet material = generateLinesMaterial()\r\n\r\n\tlet line = new Line2(geometry, material);\r\n    line._id = \"lineBasketball\"\r\n\r\n    line.position.y = 0.04\r\n\tgroup.add(line)\r\n}\r\n\r\nfunction drawThreePointerLineTop(group){\r\n\tlet points = [];\r\n\r\n\tpoints.push(0,0,-22)\r\n\tpoints.push(14,0, -22);\r\n\r\n\tlet geometry = new LineGeometry();\r\n\r\n\tgeometry.setPositions(points);\r\n\r\n\tlet material = generateLinesMaterial();\r\n\tlet line = new Line2(geometry, material);\r\n    line._id = \"lineBasketball\"\r\n\r\n\tgroup.add(line)\r\n}\r\n\r\nfunction drawThreePointerLineBottom(group){\r\n\tlet points = [];\r\n\r\n\r\n\tpoints.push(0,0,6)\r\n\tpoints.push(14,0, 6);\r\n\r\n\tlet geometry = new LineGeometry();\r\n\r\n\tgeometry.setPositions(points);\r\n\r\n\tlet material = generateLinesMaterial();\r\n\r\n\tlet line = new Line2(geometry, material);\r\n    line._id = \"lineBasketball\"\r\n\tgroup.add(line)\t\r\n\r\n}\r\n\r\nfunction drawThreePointer(group){\r\n\r\n\tdrawThreePointerLineTop(group);\r\n\tdrawThreePointerLineBottom(group);\r\n\r\n    let points = [];\r\n\r\n    // 360 full circle will be drawn clockwise\r\n    for(let i = 0; i <= 180; i++){\r\n        points.push(Math.sin(i*(Math.PI/180))*14,0, Math.cos(i*(Math.PI/180))*14);\r\n    }\t\r\n\r\n\tlet geometry = new LineGeometry();\r\n\r\n\tgeometry.setPositions(points);\r\n\r\n\tlet material = generateLinesMaterial()\r\n\r\n\tlet line = new Line2(geometry, material);\r\n\r\n    line._id = \"lineBasketball\"\r\n\tline.position.set(14,0, -8)\r\n\tgroup.add(line)\t\r\n\r\n/*\tlet pointz = [];\r\n\r\n\tpointz.push(0,0,-8);\r\n\tpointz.push(27.75,0,-8)\r\n\r\n\tlet _g = new LineGeometry();\r\n\r\n\t_g.setPositions(pointz);\r\n\r\n\tlet _l = new Line2(_g, material );\r\n\t_l.position.set(0,0,0)\r\n\tgroup.add( _l)*/\r\n\t\r\n}\r\n\r\nfunction drawHashTop(group){\r\n\r\n\tlet points = [];\r\n\tlet geometry = new LineGeometry();\r\n\r\n\tlet material = generateLinesMaterial()\r\n\tlet line = new Line2(geometry, material);\r\n\r\n\r\n\tlet linesColor = generateLinesColor();\r\n\r\n\tconst backgroundGeometry = new THREE.PlaneGeometry(1.2, 1.2);\r\n\tconst backgroundMaterial = new THREE.MeshBasicMaterial( {color: linesColor, side: THREE.DoubleSide, reflectivity: 1} );\r\n\tconst surface = new THREE.Mesh( backgroundGeometry, backgroundMaterial );\r\n\tsurface.rotation.set( Math.PI / 2, 0, Math.PI / 2 );\r\n\tsurface.position.set(7.2,0,-2.5)\r\n\r\n\tsurface.name = 'lineBasketball';\r\n\r\n\tgroup.add(surface)\r\n\r\n\tpoints = [];\r\n\r\n\tpoints.push(11,0,-3);\r\n\tpoints.push(11,0,-2);\r\n\r\n\tgeometry = new LineGeometry();\r\n\r\n\tgeometry.setPositions(points);\r\n\r\n\tline = new Line2(geometry, material) \r\n\tline._id = \"lineBasketball\"\r\n\r\n\tgroup.add( line )\r\n\r\n\tpoints = [];\r\n\r\n\tpoints.push(14,0,-3);\r\n\tpoints.push(14,0,-2);\r\n\r\n\tgeometry = new LineGeometry();\r\n\r\n\tgeometry.setPositions(points);\r\n\r\n\tline = new Line2(geometry, material) \r\n\tline._id = \"lineBasketball\"\r\n\r\n\tgroup.add( line )\r\n}\r\n\r\nfunction drawHashBottom(group){\r\n\r\n\tlet points = [];\r\n\r\n\tpoints.push(7,0,-13);\r\n\tpoints.push(7,0, -14);\r\n\r\n\tlet geometry = new LineGeometry();\r\n\r\n\tgeometry.setPositions(points);\r\n\r\n\tlet material = generateLinesMaterial()\r\n\r\n\tlet line = new Line2(geometry, material);\r\n\tline._id = \"lineBasketball\"\r\n\t//group.add(line)\t\r\n\r\n\tlet _points = [];\r\n\r\n\t_points.push(8,0,-13);\r\n\t_points.push(8,0,-14);\r\n\r\n\tgeometry = new LineGeometry();\r\n\r\n\tgeometry.setPositions(_points);\r\n\r\n\tline = new Line2(geometry, material);\r\n\tline._id = \"lineBasketball\"\r\n\r\n\t//group.add( line )\r\n\r\n\r\n\tlet linesColor = generateLinesColor()\r\n\r\n\tconst backgroundGeometry = new THREE.PlaneGeometry(1.2, 1.2);\r\n\tconst backgroundMaterial = new THREE.MeshStandardMaterial( {color: linesColor, side: THREE.DoubleSide, reflectivity: 1} );\r\n\tconst surface = new THREE.Mesh( backgroundGeometry, backgroundMaterial );\r\n\tsurface.rotation.set( Math.PI / 2, 0, Math.PI / 2 );\r\n\tsurface.position.set(7.2,0,-13.5)\r\n\r\n\tsurface.name = 'lineBasketball';\r\n\r\n\tgroup.add(surface)\r\n\r\n\tpoints = [];\r\n\r\n\tpoints.push(11,0,-13);\r\n\tpoints.push(11,0,-14);\r\n\r\n\tgeometry = new LineGeometry();\r\n\r\n\tgeometry.setPositions(points);\r\n\r\n\tline = new Line2(geometry, material);\r\n\tline._id = \"lineBasketball\"\r\n\tline.name = \"lineBasketball\"\r\n\r\n\tgroup.add( line )\r\n\r\n\tpoints = [];\r\n\r\n\tpoints.push(14,0,-13);\r\n\tpoints.push(14,0,-14);\r\n\r\n\tgeometry = new LineGeometry();\r\n\r\n\tgeometry.setPositions(points);\r\n\r\n\tline = new Line2(geometry, material);\r\n\tline._id = \"lineBasketball\"\r\n\tline.name = \"lineBasketball\"\r\n\r\n\tgroup.add( line )\r\n}\r\n\r\nfunction drawBaseLine(group){\r\n\tlet points = [];\r\n\r\n\tpoints.push(0,0,6);\r\n\tpoints.push(0,0,-22);\r\n\r\n\tlet geometry = new LineGeometry();\r\n\r\n\tlet material = generateLinesMaterial()\r\n\r\n\tgeometry.setPositions(points);\r\n\r\n\tlet line = new Line2(geometry, material);\r\n\tline._id = \"lineBasketball\"\r\n\r\n\tgroup.add( line )\r\n}\r\n\r\nfunction renderOutsideLines(w,l, group, init, shouldRenderMiddlePart, color){\r\n\tlet points = [];\r\n\r\n\tlet offsetZ = 13.57\r\n\tlet offsetX = l/2 - 39.2\r\n\t\r\n\tpoints.push(-offsetX,0.01,(+w/2) - offsetZ);\r\n\tpoints.push(-offsetX,0.01,(-w/2) - offsetZ);\r\n\r\n\tlet geometry = new LineGeometry();\r\n\r\n\tlet material = generateLinesMaterial()\r\n\r\n\tif(color){\r\n\t\tmaterial.color = color;\r\n\t}\r\n\tgeometry.setPositions(points);\r\n\r\n\tlet line = new Line2(geometry, material);\r\n\tline.name = \"lineBasketball\"\r\n\r\n\tgroup.add( line )\r\n\r\n\tpoints = [];\r\n\r\n\tpoints.push(-offsetX, 0.01, (+w/2) - offsetZ)\r\n\tpoints.push(l - offsetX, 0.01, (+w/2) - offsetZ)\r\n\tgeometry = new LineGeometry()\r\n\tgeometry.setPositions(points)\r\n\r\n\tgroup.add(new Line2(geometry, material))\r\n\r\n\tpoints = [];\r\n\r\n\tpoints.push(l-offsetX,0.01,(+w/2) - offsetZ);\r\n\tpoints.push(l-offsetX,0.01,(-w/2) - offsetZ);\r\n\tgeometry = new LineGeometry()\r\n\tgeometry.setPositions(points)\r\n\r\n\tgroup.add(new Line2(geometry, material))\r\n\r\n\tpoints = [];\r\n\r\n\tpoints.push(-offsetX, 0.01, (-w/2) - offsetZ + 0.25)\r\n\tpoints.push(l - offsetX, 0.01, (-w/2) - offsetZ + 0.25)\r\n\tgeometry = new LineGeometry()\r\n\tgeometry.setPositions(points)\r\n\r\n\tgroup.add(new Line2(geometry, material))\r\n\r\n\tif(init || shouldRenderMiddlePart){\r\n\t\trenderMiddleLine(w,l,offsetX,offsetZ, color)\r\n\t}\r\n}\r\n\r\nexport function renderMiddleLine(w,l, offsetX, offsetZ, color){\r\n\tlet group = new THREE.Group();\r\n\tlet material = generateLinesMaterial();\r\n\tif(color) material.color = color\r\n\tlet points;\r\n\tlet geometry;\r\n\r\n\tgroup.name = \"middleLine\"\r\n\tpoints = [];\r\n\r\n\tpoints.push(l/2-offsetX, 0.01, (-w/2) - offsetZ + 0.25)\r\n\tpoints.push(l/2 - offsetX, 0.01, (+w/2) - offsetZ + 0.25)\r\n\tgeometry = new LineGeometry()\r\n\tgeometry.setPositions(points)\r\n\r\n\tlet middle = new Line2(geometry, material);\r\n\tmiddle.name = \"middleLine\"\r\n\tgroup.add(middle)\r\n\r\n\tpoints = []\r\n\r\n\tfor(let i = 0; i <= 180; i++){\r\n        points.push(Math.sin(i*(Math.PI/90))*5,0.01, Math.cos(i*(Math.PI/90))*5);\r\n    }\r\n      \r\n    geometry = new LineGeometry();\r\n    geometry.setPositions( points );\r\n  \r\n\tlet circle = new Line2(geometry,material)\r\n\tcircle.position.x = l/2-offsetX\r\n\tcircle.position.z = 0 - offsetZ\r\n\tcircle.name = \"middleLine\"\r\n\tgroup.add(circle)\r\n\r\n\twindow.scene.add(group)\r\n}\r\n\r\nexport function renderBasketballLines(w,l, init, color){\r\n\tlet group = new THREE.Group();\r\n\r\n\tlet shouldRenderMiddlePart = window.scene.children.some(x => x.name === 'middleLine');\r\n\r\n\twindow.scene.children = window.scene.children.filter(x => x.name !== 'basketballOutsideLines' && x.name !== 'middleLine')\r\n\r\n\tgroup.name = \"basketballOutsideLines\"\r\n\trenderOutsideLines(w,l, group, init, shouldRenderMiddlePart, color)\r\n\r\n\tconsole.log(group)\r\n\twindow.scene.add(group)\r\n\twindow.renderer.render(window.scene, window.camera)\r\n}\r\n\r\nexport function renderBorder(w,l, color){\r\n\r\n\tconst borderGeometry = new THREE.PlaneGeometry(w+2,l+2);\r\n\tconst borderMaterial = new THREE.MeshStandardMaterial( {color: color, side: THREE.DoubleSide, reflectivity: 1} );\r\n\tconst border = new THREE.Mesh ( borderGeometry, borderMaterial);\r\n\tborder.rotation.set( Math.PI / 2, 0, Math.PI / 2);\r\n\tborder.position.set(39.2, -0.03, -13.57);\r\n\tborder._id = 'border';\r\n\tborder.name = 'border';\r\n\r\n\twindow.scene.add(border)\r\n}\r\n\r\n","import * as THREE from \"three\"\r\nimport { Line2 } from 'three/examples/jsm/lines/Line2'\r\nimport { LineGeometry } from 'three/examples/jsm/lines/LineGeometry'\r\nimport { GeometryUtils } from 'three/examples/jsm/utils/GeometryUtils'\r\nimport { LineMaterial } from 'three/examples/jsm/lines/LineMaterial'\r\n\r\nexport function renderPickleball(){\r\n\t\tlet { scene } = window\r\n\r\n\t\tconst points = []\r\n\t\tconst pointsMiddleLineLeft = [] \r\n\t\tconst pointsMiddleLineRight = []\r\n\t\tconst pointsHorizontalLineLeft = []\r\n\t\tconst pointsHorizontalLineRight = []\r\n\r\n\t\tpoints.push( 0, 0, 0 )\r\n\t\tpoints.push( 44, 0, 0 )\r\n\t\tpoints.push(44,0,-20)\r\n\t\tpoints.push(0,0,-20)\r\n\t\tpoints.push( 0, 0, 0 )\r\n\t\tpoints.push( 0, 0, -20 )\r\n\t\tpoints.push( 44, 0, -20 )\r\n\t\tpoints.push( 44, 0, 0 )\r\n\r\n\t\tpointsMiddleLineLeft.push(0,0,-10)\r\n\t\tpointsMiddleLineLeft.push(15,0,-10 )\r\n\r\n\t\tpointsMiddleLineRight.push(29,0,-10)\r\n\t\tpointsMiddleLineRight.push(44,0,-10)\r\n\r\n\t\tpointsHorizontalLineLeft.push(15,0,0)\r\n\t\tpointsHorizontalLineLeft.push(15,0,-20)\r\n\r\n\t\tpointsHorizontalLineRight.push(29,0,0)\r\n\t\tpointsHorizontalLineRight.push(29,0,-20)\r\n\r\n\t\tconst geometry = new LineGeometry()\r\n\t\tgeometry.setPositions( points )\r\n\r\n\r\n\t\tconst geometry2 = new LineGeometry()\r\n\t\tgeometry2.setPositions(pointsMiddleLineLeft)\r\n\r\n\t\tconst geometry3 = new LineGeometry()\r\n\t\tgeometry3.setPositions(pointsMiddleLineRight)\r\n\r\n\t\tconst geometry4 = new LineGeometry()\r\n\t\tgeometry4.setPositions(pointsHorizontalLineLeft)\r\n\r\n\t\tconst geometry5 = new LineGeometry()\r\n\t\tgeometry5.setPositions(pointsHorizontalLineRight)\r\n\r\n\t\tlet material = generateLinesMaterial()\r\n\r\n\t\tlet group = new THREE.Group();\r\n\r\n\t\tlet line = new Line2( geometry, material )\r\n\t\tlet line2 = new Line2( geometry2, material )\r\n\t\tlet line3 = new Line2( geometry3, material)\r\n\t\tlet line4 = new Line2( geometry4, material)\r\n\t\tlet line5 = new Line2(geometry5, material)\r\n\r\n\t\tline.position.y = 0.048\r\n\t\tline2.position.y = 0.048\r\n\t\tline3.position.y = 0.048\r\n\t\tline4.position.y = 0.048\r\n\t\tline5.position.y = 0.048\r\n\r\n\t\tline._id = \"linePickleball\"\r\n\t\tline2._id = \"linePickleball\"\r\n\t\tline3._id = \"linePickleball\"\r\n\t\tline4._id = \"linePickleball\"\r\n\t\tline5._id = \"linePickleball\"\r\n\r\n\t\tgroup.add(line)\r\n\t\tgroup.add(line2)\r\n\t\tgroup.add(line3)\r\n\t\tgroup.add(line4)\r\n\t\tgroup.add(line5)\r\n\r\n\t\tpickleballSurface(group, 22, -10)\r\n\t\tgroup.position.z = -3.5\r\n\t\tgroup.position.x = 17\r\n\r\n\t\tgroup._id = \"pickleballGroup\"\r\n\t\tscene.add(group)\r\n}\r\n\r\nexport function renderTwoPickleBallCourts(){\r\n\r\n\t\tlet scene = window.scene;\r\n\r\n\t\tconst points = []\r\n\t\tconst pointsMiddleLineLeft = [] \r\n\t\tconst pointsMiddleLineRight = []\r\n\t\tconst pointsHorizontalLineLeft = []\r\n\t\tconst pointsHorizontalLineRight = []\r\n\r\n\t\tpoints.push( 0, 0, 0 )\r\n\t\tpoints.push( 44, 0, 0 )\r\n\t\tpoints.push(44,0,-20)\r\n\t\tpoints.push(0,0,-20)\r\n\t\tpoints.push( 0, 0, 0 )\r\n\t\tpoints.push( 0, 0, -20 )\r\n\t\tpoints.push( 44, 0, -20 )\r\n\t\tpoints.push( 44, 0, 0 )\r\n\r\n\t\tpointsMiddleLineLeft.push(0,0,-10)\r\n\t\tpointsMiddleLineLeft.push(15,0,-10 )\r\n\r\n\t\tpointsMiddleLineRight.push(29,0,-10)\r\n\t\tpointsMiddleLineRight.push(44,0,-10)\r\n\r\n\t\tpointsHorizontalLineLeft.push(15,0,0)\r\n\t\tpointsHorizontalLineLeft.push(15,0,-20)\r\n\r\n\t\tpointsHorizontalLineRight.push(29,0,0)\r\n\t\tpointsHorizontalLineRight.push(29,0,-20)\r\n\r\n\t\tconst geometry = new LineGeometry()\r\n\t\tgeometry.setPositions( points )\r\n\r\n\r\n\t\tconst geometry2 = new LineGeometry()\r\n\t\tgeometry2.setPositions(pointsMiddleLineLeft)\r\n\r\n\t\tconst geometry3 = new LineGeometry()\r\n\t\tgeometry3.setPositions(pointsMiddleLineRight)\r\n\r\n\t\tconst geometry4 = new LineGeometry()\r\n\t\tgeometry4.setPositions(pointsHorizontalLineLeft)\r\n\r\n\t\tconst geometry5 = new LineGeometry()\r\n\t\tgeometry5.setPositions(pointsHorizontalLineRight)\r\n\r\n\t\tlet material = generateLinesMaterial()\r\n\r\n\t\tlet group = new THREE.Group();\r\n\t\tlet secondGroup = new THREE.Group();\r\n\r\n\t\tlet line = new Line2( geometry, material )\r\n\t\tlet line2 = new Line2( geometry2, material )\r\n\t\tlet line3 = new Line2( geometry3, material)\r\n\t\tlet line4 = new Line2( geometry4, material)\r\n\t\tlet line5 = new Line2(geometry5, material)\r\n\r\n\t\tline._id = \"linePickleball\"\r\n\t\tline2._id = \"linePickleball\"\r\n\t\tline3._id = \"linePickleball\"\r\n\t\tline4._id = \"linePickleball\"\r\n\t\tline5._id = \"linePickleball\"\r\n\r\n\t\tline.position.y = 0.048\r\n\t\tline2.position.y = 0.048\r\n\t\tline3.position.y = 0.048\r\n\t\tline4.position.y = 0.048\r\n\t\tline5.position.y = 0.048\r\n\r\n\t\tgroup.add(line)\r\n\t\tgroup.add(line2)\r\n\t\tgroup.add(line3)\r\n\t\tgroup.add(line4)\r\n\t\tgroup.add(line5)\r\n\r\n\t\tline = new Line2( geometry, material )\r\n\t\tline2 = new Line2( geometry2, material )\r\n\t\tline3 = new Line2( geometry3, material)\r\n\t\tline4 = new Line2( geometry4, material)\r\n\t\tline5 = new Line2(geometry5, material)\r\n\r\n\t\tline.position.y = 0.048\r\n\t\tline2.position.y = 0.048\r\n\t\tline3.position.y = 0.048\r\n\t\tline4.position.y = 0.048\r\n\t\tline5.position.y = 0.048\r\n\r\n\t\tsecondGroup.add(line)\r\n\t\tsecondGroup.add(line2)\r\n\t\tsecondGroup.add(line3)\r\n\t\tsecondGroup.add(line4)\r\n\t\tsecondGroup.add(line5)\r\n\r\n\t\tgroup.position.z = -3.5\r\n\t\tgroup.position.x = -10\r\n\t\tgroup.position.y = 0.01\r\n\r\n\t\tsecondGroup.position.z = -3.5;\r\n\t\tsecondGroup.position.x = (78 - 44) + 10;\r\n\t\tsecondGroup.position.y = 0.01\r\n\r\n\t\tgroup._id= \"pickleballGroup\"\r\n\t\tsecondGroup._id = \"pickleballGroup\";\r\n\r\n\t\tpickleballSurface(group, 22, -10)\r\n\t\tpickleballSurface(secondGroup, 22, -10)\r\n\r\n\t\tscene.add(group)\r\n\t\tscene.add(secondGroup)\r\n\r\n}\r\n\r\nfunction generatePickleballSurfaceMaterial(){\r\n\tlet inp = document.querySelector(\"input#pickleball\").value \r\n\r\n\tlet material \r\n\r\n\tif(inp !== \"false\"){\r\n\t  material = new THREE.MeshBasicMaterial({ color: inp, side: THREE.DoubleSide})\r\n\t}else{\r\n      material = new THREE.MeshBasicMaterial( { color: 0x000000, transparent: true, opacity: 0, side: THREE.DoubleSide})\r\n\t}\r\n\r\n\treturn material\r\n}\r\nfunction pickleballSurface(group, x, z){\r\n\tlet g = new THREE.PlaneGeometry(20,44);\r\n\r\n\tlet material = generatePickleballSurfaceMaterial();\r\n\r\n\tlet mesh = new THREE.Mesh(g, material);\r\n\r\n\tmesh.rotation.set(Math.PI/2, 0, Math.PI / 2)\r\n\r\n\tmesh.position.x = x\r\n\tmesh.position.z = z;\r\n\tmesh.position.y = -0.004\r\n\r\n\tmesh.name = 'surfacePickleball'\r\n\tgroup.add(mesh)\r\n}\r\n\r\nfunction generateLinesMaterial(){\r\n\tlet material\r\n\r\n\tlet linesColor = document.querySelector(\"input#pickleball_lines\").value\r\n\r\n\tif(linesColor !== \"false\"){\r\n\t\tmaterial = new LineMaterial({ color: linesColor, linewidth: 0.002})\r\n\t}else{\r\n      material = new LineMaterial( { color: 0xffffff, linewidth: 0.002})\r\n\t}\r\n\r\n\treturn material\r\n}\r\n\r\nexport function removePickleballFromScreen(){\r\n\tif(!window.scene) return;\r\n\r\n\twindow.scene.children = window.scene.children.filter(x => x._id !== \"pickleballGroup\")\r\n}","import * as THREE from \"three\";\r\nimport { Line2 } from 'three/examples/jsm/lines/Line2';\r\nimport { LineGeometry } from 'three/examples/jsm/lines/LineGeometry';\r\nimport { LineMaterial } from 'three/examples/jsm/lines/LineMaterial';\r\n\r\n\r\nexport function renderTennis(w = 60, l = 120, renderSurface){\r\n\t\tlet material = new LineMaterial( { color: 0xffffff, linewidth: 0.002}) \r\n\r\n\t\tlet { renderer, scene, camera } = window;\r\n\t\tif(!renderer) return;\r\n\r\n\t\tconst points = []\r\n\t\tconst points_out_line = []\r\n\t\tconst pointsMiddleLineRight = [] \r\n\t\tconst pointsOutLineSecondSide = []\r\n\r\n\t\tpoints.push( 0, 0, 0 )\r\n\t\tpoints.push( 78, 0, 0 )\r\n\t\tpoints.push(78,0,-27)\r\n\t\tpoints.push(0,0,-27)\r\n\t\tpoints.push( 0, 0, 0 )\r\n\t\tpoints.push( 0, 0, -27 )\r\n\t\tpoints.push( 78, 0, -27 )\r\n\t\tpoints.push( 78, 0, 0 )\r\n\r\n\t\tpoints_out_line.push( 0, 0, -4.5 )\r\n\t\tpoints_out_line.push(78, 0, -4.5 )\r\n\r\n\t\tpointsOutLineSecondSide.push( 0, 0, -22.5 )\r\n\t\tpointsOutLineSecondSide.push( 78, 0, -22.5 )\r\n\r\n\t\tpointsMiddleLineRight.push( 58.5, 0, -4.5 )\r\n\t\tpointsMiddleLineRight.push( 58.5,0, -22.5 )\r\n\t\tpointsMiddleLineRight.push( 58.5,0, -13.5 )\r\n\t\tpointsMiddleLineRight.push( 19.5\t,0, -13.5) \r\n\t\tpointsMiddleLineRight.push( 19.5, 0, -4.5) \r\n\t\tpointsMiddleLineRight.push( 19.5, 0, -22.5) \r\n\r\n\r\n\t\tconst geometry = new LineGeometry();\r\n\t\tgeometry.setPositions( points );\r\n\r\n\t\tconst geometry2 = new LineGeometry();\r\n\t\tgeometry2.setPositions( points_out_line );\r\n\r\n\t\tconst geometry3 = new LineGeometry();\r\n\t\tgeometry3.setPositions( pointsOutLineSecondSide );\r\n\r\n\t\tconst geometry4 = new LineGeometry();\r\n\t\tgeometry4.setPositions(pointsMiddleLineRight);\r\n\r\n\r\n\r\n\t\tlet line = new Line2( geometry, material );\r\n\t\tlet line2 = new Line2( geometry2, material );\r\n\t\tlet line3 = new Line2( geometry3, material );\r\n\t\tlet line4 = new Line2( geometry4, material );\r\n\r\n\t\tline.position.set(0,0.04,0)\r\n\t\tline2.position.set(0,0.04,0)\r\n\t\tline3.position.set(0,0.04,0)\r\n\t\tline4.position.set(0,0.04,0)\r\n\r\n\t\tline._id = \"line\";\r\n\t\tline2._id = \"line\";\r\n\t\tline3._id = \"line\";\r\n\t\tline4._id = \"line\";\r\n\r\n\t\tline.name = \"line\";\r\n\t\tline2.name = \"line\";\r\n\t\tline3.name = \"line\";\r\n\t\tline4.name = \"line\";\r\n\r\n\t\tconst _geometry = new THREE.PlaneGeometry( 27, 78);\r\n\t\tconst _material = new THREE.MeshStandardMaterial( {color: 0x013CA6, side: THREE.DoubleSide, reflectivity: 1 } );\r\n\t\t//const _material = new THREE.MeshBasicMaterial( {color: 0x013CA6, side: THREE.DoubleSide} );\r\n\t\tconst plane = new THREE.Mesh( _geometry, _material );\r\n\t\tplane.rotation.set( Math.PI / 2, 0, Math.PI / 2 );\r\n\t\tplane.position.set(39,-0.01,-13.55)\r\n\t\twindow.plane = plane;\r\n\t\tscene.add( plane );\r\n\t\tplane._id = \"plane\";\r\n\t\tplane.name = \"plane\";\r\n\r\n\r\n\t\tif(!renderSurface) renderBorderAndSurface(w,l, true)\r\n\t\tscene.add(line);\r\n\t\tscene.add(line2);\r\n\t\tscene.add(line3);\r\n\t\tscene.add(line4);\r\n\r\n\t\trenderer.render( scene, camera );\r\n}\r\n\r\nfunction removeExistingBorderAndSurface(){\r\n\tlet prevBorder;\r\n\tlet prevSurface;\r\n\r\n\tif(window.scene.children.filter(x => x.name === 'surface').length !== 0){\r\n\t\tprevSurface = window.scene.children.filter(x => x.name === 'surface')[0]\r\n\t\twindow.scene.children = window.scene.children.filter(x => x.name !== 'surface')\r\n\t}\r\n\r\n\tif(window.scene.children.filter(x => x.name === 'border').length !== 0){\r\n\t\tprevBorder = window.scene.children.filter(x => x.name === 'border')[0]\r\n\t\twindow.scene.children = window.scene.children.filter(x => x._id !== 'border')\r\n\t}\r\n\r\n\treturn [prevSurface, prevBorder]\r\n}\r\nexport function renderBorderAndSurface(w,l, init){\r\n\r\n\r\n\tlet [ prevSurface, prevBorder ] = removeExistingBorderAndSurface();\r\n\r\n\tconst backgroundGeometry = new THREE.PlaneGeometry(w, l);\r\n\tconst borderGeometry = new THREE.PlaneGeometry(w+2,l+2);\r\n\tif(init){\r\n\r\n\t\tconst backgroundMaterial = new THREE.MeshStandardMaterial( {color: 0x0082CA, side: THREE.DoubleSide, reflectivity: 1} );\r\n\t\tconst surface = new THREE.Mesh( backgroundGeometry, backgroundMaterial );\r\n\t\tsurface.rotation.set( Math.PI / 2, 0, Math.PI / 2 );\r\n\t\tsurface.position.set(39.2,-0.02,-13.57)\r\n\t\tsurface._id = 'surface';\r\n\t\tsurface.name = \"surface\";\r\n\r\n\t\twindow.scene.add(surface)\r\n\t}else{\r\n\t\tconst backgroundMaterial = prevSurface.material;\r\n\t\t\r\n\t\tconst surface = new THREE.Mesh( backgroundGeometry, backgroundMaterial );\r\n\t\tsurface.rotation.set( Math.PI / 2, 0, Math.PI / 2 );\r\n\t\tsurface.position.set(39.2,-0.02,-13.57)\r\n\t\tsurface._id = 'surface';\r\n\t\tsurface.name = 'surface';\r\n\t\t\r\n\t\twindow.scene.add(surface)\r\n\t\tif(prevBorder){\r\n\t\t\tconst borderMaterial = prevBorder.material\r\n\r\n\t\t\tconst border = new THREE.Mesh ( borderGeometry, borderMaterial);\r\n\t\t\tborder.rotation.set( Math.PI / 2, 0, Math.PI / 2);\r\n\t\t\tborder.position.set(39.2, -0.03, -13.57);\r\n\t\t\tborder.name = 'border'\r\n\t\t\tborder._id = \"border\"\r\n\t\t\twindow.scene.add(border)\r\n\t\t}\r\n\r\n\t}\r\n}\r\n\r\nexport function removeBorder(){\r\n\twindow.scene.children = window.scene.children.filter( x => x.name !== 'border')\r\n\twindow.renderer.render(window.scene, window.camera)\r\n}\r\n\r\nexport function renderBorder(w,l, color){\r\n\r\n\tconst borderGeometry = new THREE.PlaneGeometry(w+2,l+2);\r\n\tconst borderMaterial = new THREE.MeshStandardMaterial( {color: color, side: THREE.DoubleSide, reflectivity: 1} );\r\n\tconst border = new THREE.Mesh ( borderGeometry, borderMaterial);\r\n\tborder.rotation.set( Math.PI / 2, 0, Math.PI / 2);\r\n\tborder.position.set(39.2, -0.03, -13.57);\r\n\tborder._id = 'border';\r\n\tborder.name = 'border';\r\n\r\n\twindow.scene.add(border)\r\n}","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = GeneratorFunctionPrototype;\n  define(Gp, \"constructor\", GeneratorFunctionPrototype);\n  define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction);\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  });\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  define(Gp, iteratorSymbol, function() {\n    return this;\n  });\n\n  define(Gp, \"toString\", function() {\n    return \"[object Generator]\";\n  });\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, in modern engines\n  // we can explicitly access globalThis. In older engines we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import superPropBase from \"./superPropBase.js\";\nexport default function _get(target, property, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get;\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}","import getPrototypeOf from \"./getPrototypeOf.js\";\nexport default function _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","import _typeof from \"@babel/runtime/helpers/typeof\";\nimport assertThisInitialized from \"./assertThisInitialized.js\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","import arrayWithHoles from \"./arrayWithHoles.js\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableRest from \"./nonIterableRest.js\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}"],"names":["_typeof","obj","Symbol","iterator","module","exports","__esModule","constructor","prototype","reactIs","REACT_STATICS","childContextTypes","contextType","contextTypes","defaultProps","displayName","getDefaultProps","getDerivedStateFromError","getDerivedStateFromProps","mixins","propTypes","type","KNOWN_STATICS","name","length","caller","callee","arguments","arity","MEMO_STATICS","compare","TYPE_STATICS","getStatics","component","isMemo","ForwardRef","render","Memo","defineProperty","Object","getOwnPropertyNames","getOwnPropertySymbols","getOwnPropertyDescriptor","getPrototypeOf","objectPrototype","hoistNonReactStatics","targetComponent","sourceComponent","blacklist","inheritedComponent","keys","concat","targetStatics","sourceStatics","i","key","descriptor","e","hasElementType","Element","hasMap","Map","hasSet","Set","hasArrayBuffer","ArrayBuffer","isView","equal","a","b","it","Array","isArray","size","entries","next","done","has","value","get","RegExp","source","flags","valueOf","toString","hasOwnProperty","call","$$typeof","error","message","match","console","warn","clock","Component","_class","_temp","ATTRIBUTE_NAMES","TAG_NAMES","BASE","BODY","HEAD","HTML","LINK","META","NOSCRIPT","SCRIPT","STYLE","TITLE","TAG_PROPERTIES","map","REACT_TAG_MAP","accesskey","charset","class","contenteditable","contextmenu","itemprop","tabindex","HELMET_PROPS","HTML_TAG_MAP","reduce","SELF_CLOSING_TAGS","HELMET_ATTRIBUTE","classCallCheck","instance","Constructor","TypeError","createClass","defineProperties","target","props","enumerable","configurable","writable","protoProps","staticProps","_extends","assign","objectWithoutProperties","indexOf","possibleConstructorReturn","self","ReferenceError","encodeSpecialCharacters","str","encode","undefined","String","replace","getTitleFromPropsList","propsList","innermostTitle","getInnermostProperty","innermostTemplate","join","innermostDefaultTitle","getOnChangeClientState","getAttributesFromPropsList","tagType","filter","tagAttrs","current","getBaseTagFromPropsList","primaryAttributes","reverse","innermostBaseTag","tag","lowerCaseAttributeKey","toLowerCase","getTagsFromPropsList","tagName","approvedSeenTags","approvedTags","instanceTags","instanceSeenTags","primaryAttributeKey","attributeKey","forEach","push","tagUnion","property","rafPolyfill","Date","now","callback","currentTime","setTimeout","cafPolyfill","id","clearTimeout","requestAnimationFrame","window","bind","webkitRequestAnimationFrame","mozRequestAnimationFrame","g","cancelAnimationFrame","webkitCancelAnimationFrame","mozCancelAnimationFrame","msg","_helmetCallback","commitTagChanges","newState","cb","baseTag","bodyAttributes","htmlAttributes","linkTags","metaTags","noscriptTags","onChangeClientState","scriptTags","styleTags","title","titleAttributes","updateAttributes","updateTitle","tagUpdates","updateTags","addedTags","removedTags","_tagUpdates$tagType","newTags","oldTags","flattenArray","possibleArray","attributes","document","elementTag","getElementsByTagName","helmetAttributeString","getAttribute","helmetAttributes","split","attributesToRemove","attributeKeys","attribute","setAttribute","indexToSave","splice","_i","removeAttribute","tags","headElement","head","querySelector","tagNodes","querySelectorAll","slice","indexToDelete","newElement","createElement","innerHTML","styleSheet","cssText","appendChild","createTextNode","some","existingTag","index","isEqualNode","parentNode","removeChild","generateElementAttributesAsString","attr","convertElementAttributestoReactProps","initProps","getMethodsForTag","toComponent","_initProps","attributeString","flattenedTitle","generateTitleAsString","_mappedTag","mappedTag","mappedAttribute","content","dangerouslySetInnerHTML","__html","generateTagsAsReactComponent","attributeHtml","string","tagContent","isSelfClosing","generateTagsAsString","mapStateOnServer","_ref","_ref$title","base","link","meta","noscript","script","style","HelmetSideEffects","defer","HelmetExport","_React$Component","HelmetWrapper","this","apply","subClass","superClass","create","setPrototypeOf","__proto__","inherits","shouldComponentUpdate","nextProps","mapNestedChildrenToProps","child","nestedChildren","Error","flattenArrayTypeChildren","_babelHelpers$extends","arrayTypeChildren","newChildProps","mapObjectTypeChildren","_ref2","_babelHelpers$extends2","_babelHelpers$extends3","newProps","mapArrayTypeChildrenToProps","newFlattenedProps","arrayChildName","_babelHelpers$extends4","warnOnInvalidChildren","mapChildrenToProps","children","_this2","_child$props","initAttributes","convertReactPropstoHtmlAttributes","_props","set","canUseDOM","defaultTitle","titleTemplate","peek","rewind","mappedState","renderStatic","for","c","d","f","h","k","l","m","n","p","q","r","t","v","w","x","y","z","u","A","AsyncMode","ConcurrentMode","ContextConsumer","ContextProvider","Fragment","Lazy","Portal","Profiler","StrictMode","Suspense","isAsyncMode","isConcurrentMode","isContextConsumer","isContextProvider","isElement","isForwardRef","isFragment","isLazy","isPortal","isProfiler","isStrictMode","isSuspense","isValidElementType","typeOf","ex","React","React__default","_defineProperty","reducePropsToState","handleStateChangeOnClient","WrappedComponent","state","mountedInstances","emitChange","SideEffect","_PureComponent","recordedState","_proto","UNSAFE_componentWillMount","componentDidUpdate","componentWillUnmount","PureComponent","getDisplayName","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Boolean","_isNativeReflectConstruct","result","Super","NewTarget","_changeEvent","_startEvent","_endEvent","OrbitControls","_EventDispatcher","_super","object","domElement","_this","offset","quat","quatInverse","lastPosition","lastQuaternion","twoPI","touchAction","dIn","dollyIn","enabled","minDistance","maxDistance","Infinity","minZoom","maxZoom","minPolarAngle","maxPolarAngle","Math","PI","minAzimuthAngle","maxAzimuthAngle","enableDamping","dampingFactor","enableZoom","zoomSpeed","enableRotate","rotateSpeed","enablePan","panSpeed","screenSpacePanning","keyPanSpeed","autoRotate","autoRotateSpeed","LEFT","UP","RIGHT","BOTTOM","mouseButtons","MIDDLE","touches","ONE","TWO","target0","clone","position0","position","zoom0","zoom","_domElementKeyEvents","getPolarAngle","spherical","phi","getAzimuthalAngle","theta","getDistance","distanceTo","listenToKeyEvents","addEventListener","onKeyDown","saveState","scope","copy","reset","updateProjectionMatrix","dispatchEvent","update","STATE","NONE","setFromUnitVectors","up","invert","sub","applyQuaternion","setFromVector3","rotateLeft","sphericalDelta","min","max","isFinite","makeSafe","radius","scale","addScaledVector","panOffset","add","setFromSpherical","lookAt","multiplyScalar","zoomChanged","distanceToSquared","EPS","dot","quaternion","dispose","removeEventListener","onContextMenu","onPointerDown","onPointerCancel","onMouseWheel","onPointerMove","onPointerUp","ROTATE","DOLLY","PAN","TOUCH_ROTATE","TOUCH_PAN","TOUCH_DOLLY_PAN","TOUCH_DOLLY_ROTATE","rotateStart","rotateEnd","rotateDelta","panStart","panEnd","panDelta","dollyStart","dollyEnd","dollyDelta","pointers","pointerPositions","getZoomScale","pow","angle","rotateUp","panLeft","distance","objectMatrix","setFromMatrixColumn","panUp","crossVectors","pan","deltaX","deltaY","element","isPerspectiveCamera","targetDistance","tan","fov","clientHeight","matrix","isOrthographicCamera","right","left","clientWidth","top","bottom","dollyOut","dollyScale","handleMouseDownRotate","event","clientX","clientY","handleMouseDownPan","handleTouchStartRotate","pageX","pageY","handleTouchStartPan","handleTouchStartDolly","dx","dy","sqrt","handleTouchMoveRotate","getSecondPointerPosition","subVectors","handleTouchMovePan","handleTouchMoveDolly","setPointerCapture","pointerId","addPointer","pointerType","trackPointer","onTouchStart","mouseAction","button","handleMouseDownDolly","ctrlKey","metaKey","shiftKey","onMouseDown","handleTouchMoveDollyPan","handleTouchMoveDollyRotate","onTouchMove","handleMouseMoveRotate","handleMouseMoveDolly","handleMouseMovePan","onMouseMove","removePointer","releasePointerCapture","preventDefault","handleMouseWheel","needsUpdate","code","handleKeyDown","pointer","passive","_start","_end","_start4","_end4","_ssOrigin","_ssOrigin3","_mvMatrix","_line","_closestPoint","_box","_sphere","_clipToWorldVector","LineSegments2","_Mesh","geometry","LineSegmentsGeometry","material","LineMaterial","color","random","instanceStart","instanceEnd","lineDistances","Float32Array","count","j","fromBufferAttribute","instanceDistanceBuffer","raycaster","intersects","camera","threshold","params","Line2","ray","projectionMatrix","matrixWorld","resolution","lineWidth","linewidth","near","ssMaxWidth","width","height","boundingSphere","computeBoundingSphere","applyMatrix4","distanceToSphere","distanceToPoint","origin","projectionMatrixInverse","sphereMargin","abs","intersectsSphere","boundingBox","computeBoundingBox","distanceToBox","boxMargin","intersectsBox","at","matrixWorldInverse","multiplyMatrices","deltaDist","lerp","_deltaDist","_t","start","end","param","closestPointToPointParameter","zPos","isInClipSpace","isInside","pointOnLine","point","distanceSqToSegment","face","faceIndex","uv","uv2","_LineSegments","LineGeometry","L","isLine2","_LineSegmentsGeometry","array","points","colors","line","isGeometry","isBufferGeometry","setPositions","isLineGeometry","dashScale","dashSize","dashOffset","gapSize","opacity","uniforms","vertexShader","fragmentShader","_ShaderMaterial","parameters","clipping","diffuse","dashed","defines","USE_DASH","alphaToCoverage","ALPHA_TO_COVERAGE","extensions","derivatives","setValues","isLineMaterial","_vector","_InstancedBufferGeome","setIndex","lineSegments","instanceBuffer","instanceColorBuffer","mesh","fromWireframeGeometry","setFromBufferAttribute","union","center","getCenter","maxRadiusSq","il","isNaN","isLineSegmentsGeometry","isObject","toIndexedObject","toLength","toAbsoluteIndex","createMethod","IS_INCLUDES","$this","el","fromIndex","O","includes","ownKeys","getOwnPropertyDescriptorModule","definePropertyModule","DESCRIPTORS","createPropertyDescriptor","bitmap","fails","global","EXISTS","getBuiltIn","version","userAgent","process","Deno","versions","v8","createNonEnumerableProperty","redefine","setGlobal","copyConstructorProperties","isForced","options","targetProperty","sourceProperty","TARGET","GLOBAL","STATIC","stat","noTargetGet","forced","exec","aFunction","variable","namespace","method","check","globalThis","Function","toObject","hasOwn","classof","propertyIsEnumerable","store","functionToString","inspectSource","NATIVE_WEAK_MAP","objectHas","shared","sharedKey","hiddenKeys","OBJECT_ALREADY_INITIALIZED","WeakMap","wmget","wmhas","wmset","metadata","facade","enforce","getterFor","TYPE","replacement","feature","detection","data","normalize","POLYFILL","NATIVE","USE_SYMBOL_AS_UID","$Symbol","V8_VERSION","symbol","test","IE8_DOM_DEFINE","anObject","toPropertyKey","$defineProperty","P","Attributes","propertyIsEnumerableModule","$getOwnPropertyDescriptor","internalObjectKeys","names","$propertyIsEnumerable","NASHORN_BUG","V","input","pref","fn","val","getOwnPropertyNamesModule","getOwnPropertySymbolsModule","InternalStateModule","getInternalState","enforceInternalState","TEMPLATE","unsafe","simple","uid","SHARED","IS_PURE","mode","copyright","whitespaces","METHOD_NAME","requireObjectCoercible","whitespace","ltrim","rtrim","trim","toInteger","integer","IndexedObject","ceil","floor","argument","isSymbol","ordinaryToPrimitive","TO_PRIMITIVE","wellKnownSymbol","exoticToPrim","toPrimitive","postfix","NATIVE_SYMBOL","WellKnownSymbolsStore","createWellKnownSymbol","withoutSetter","$","$trimStart","FORCED","forcedStringTrimMethod","trimStart","proto","trimLeft","AdditionalLines","src","defaultWidth","defaultLength","basketballLines","setBasketballLines","excludePositions","isBasketball","useState","lines","setLines","showPickleballSelector","setShowPickleballSelector","showBasketballSelector","setShoBasketballSelector","showMore","setShowMore","tennisClicked","setTennisClicked","handler","useRef","onClick","pos","dataset","Number","_lines","onClickBasketball","renderMiddleLine","scene","onClickCustom","hideOnOutsideClick","contains","onChange","label","_id","hexToRgb","transparent","log","useEffect","arr","removeFromScreen","removeBasketball","renderBasketball","renderer","removePickleballFromScreen","renderPickleball","renderTwoPickleBallCourts","className","alt","additionalOptions","cc2","cc","renderTennis","marginBottom","textAlign","cursor","width1","setWidth1","width2","setWidth2","width3","setWidth3","width4","setWidth4","width5","setWidth5","height1","setHeight1","height2","setHeight2","height3","setHeight3","height4","setHeight4","height5","setHeight5","goBack","setGoBack","timeOut","timeOut1","changeColors","widthSpec","heightSpec","marginLeft","ColorPicker","addWhite","noColor","showColors","setShowColors","setColors","colorNames","setColorNames","currentColor","_setCurrentColor","currentColorLines","_setCurrentColorLines","typeOption","changeTypeOption","close","setCurrentColor","colorName","changeTypeOptionHandler","stopPropagation","_colors","_colorNames","unshift","border","display","justifyContent","alignItems","fontSize","backgroundColor","marginTop","Dropdown","parentEffect","showOptions","setShowOptions","setCurrent","_objectWithoutPropertiesLoose","excluded","sourceKeys","sourceSymbolKeys","nodeType","plainObjectConstrurctor","cloneStyle","newStyle","createRule","decl","jss","declCopy","rule","plugins","onCreateRule","by","toCssValue","ignoreImportant","cssValue","indentStr","indent","toCss","selector","_options$indent","fallbacks","fallback","prop","_prop","_value","_prop2","_value2","allowEmpty","escapeRegex","nativeEscape","CSS","escape","BaseStyleRule","isProcessed","renderable","sheet","Renderer","force","newValue","onChangeValue","isEmpty","isDefined","remove","removeProperty","setProperty","attached","StyleRule","_BaseStyleRule","selectorText","scoped","generateId","_proto2","applyTo","json","toJSON","opts","setSelector","replaceRule","pluginStyleRule","parent","defaultToStringOptions","atRegExp","ConditionalRule","styles","query","rules","atMatch","RuleList","getRule","addRule","onProcessRule","keyRegExp","pluginConditionalRule","defaultToStringOptions$1","nameRegExp","KeyframesRule","frames","nameMatch","keyRegExp$1","refRegExp","findReferencedKeyframe","keyframes","replaceRef","refKeyframe","onProcessStyle","KeyframeRule","_len","args","_key","pluginKeyframeRule","FontFaceRule","keyRegExp$2","pluginFontFaceRule","ViewportRule","pluginViewportRule","SimpleRule","keysMap","defaultUpdateOptions","forceUpdateOptions","raw","counter","classes","ruleOptions","_this$options","register","unregister","updateOne","_this$options2","styleRule","onUpdate","nextValue","_nextValue","_prevValue","css","StyleSheet","deployed","queue","attach","deploy","detach","insertRule","addRules","added","deleteRule","_this$rules","PluginsRegistry","internal","external","registry","onProcessSheet","processedValue","use","newPlugin","plugin","SheetsRegistry","globalThis$1","ns","moduleId","createGenerateId","ruleCounter","jssId","prefix","classNamePrefix","minify","memoize","getPropertyValue","cssRule","attributeStyleMap","err","delete","getHead","findPrevNode","registry$1","insertionPoint","findHigherSheet","node","findHighestSheet","nextSibling","comment","text","childNodes","nodeValue","findCommentNode","getNonce","_insertRule","container","appendRule","cssRules","getValidRuleInsertionIndex","maxIndex","DomRenderer","hasInsertedRules","media","textContent","createStyle","nonce","nextNode","insertBefore","insertionPointElement","insertStyle","insertRules","nativeParent","latestNativeParent","_insertionIndex","refCssRule","ruleStr","insertionIndex","nativeRule","getRules","instanceCounter","Jss","setup","createStyleSheet","removeStyleSheet","getDynamicStyles","to","extracted","hasCSSTOMSupport","mergeClasses","baseClasses","newClasses","nextClasses","cache","key1","key2","subCache","useTheme","pseudoClasses","fnValuesNs","fnRuleNs","fnValues","fnRule","atPrefix","GlobalContainerRule","GlobalPrefixedRule","substr","separatorRegExp","addScope","parts","handleNestedGlobalContainerRule","handlePrefixedGlobalRule","parentRegExp","getReplaceRef","replaceParentRefs","nestedProp","parentProp","parentSelectors","nestedSelectors","nested","getOptions","prevOptions","nestingLevel","isNested","isNestedConditional","uppercasePattern","msPattern","toHyphenLower","hName","convertCase","converted","hyphenatedProp","px","ms","percent","addCamelCasedVersion","regExp","toUpperCase","newObj","units","margin","padding","inset","motion","outline","perspective","gap","grid","iterate","innerProp","_innerProp","unit","camelCasedOptions","js","vendor","browser","isTouch","documentElement","jsCssMap","Moz","Webkit","appearence","noPrefill","supportedProperty","colorAdjust","toUpper","camelize","pascalize","mask","longhand","textOrientation","transform","transition","writingMode","userSelect","breakPropsOld","inlineLogicalOld","newProp","unprefixed","prefixed","pascalized","scrollSnap","substring","overscrollBehavior","propMap","order","flex2012","propMap$1","flex","propKeys","prefixCss","multiple","propertyDetectors","computed","getComputedStyle","key$1","el$1","cache$1","transitionProperties","transPropsRegExp","prefixTransitionCallback","p1","p2","prefixedValue","supportedValue","parseInt","cacheKey","prefixStyle","changeProp","supportedProp","changeValue","supportedValue$1","atRule","supportedKeyframes","sort","prop0","prop1","defaultOptions","disableGeneration","generateClassName","_options$disableGloba","disableGlobal","_options$productionPr","productionPrefix","_options$seed","seed","seedPrefix","getNextCounterId","theme","createGenerateClassName","sheetsCache","sheetsManager","sheetsRegistry","StylesContext","indexCounter","increment","isPlainObject","item","deepmerge","output","getStylesCreator","stylesOrCreator","themingEnabled","overrides","stylesWithOverrides","getClasses","stylesOptions","cacheClasses","lastProp","lastJSS","generate","stylesCreator","sheetManager","refs","staticSheet","dynamicStyles","flip","direction","serverGenerateClassName","dynamicSheet","_ref3","_ref4","useSynchronousEffect","func","values","currentKey","makeStyles","classNamePrefixOption","_options$defaultTheme","defaultTheme","stylesOptions2","useStyles","shouldUpdate","createBreakpoints","breakpoints","_breakpoints$values","xs","sm","md","lg","xl","_breakpoints$unit","_breakpoints$step","step","other","between","endIndex","down","upperbound","only","createMixins","spacing","_toolbar","gutters","paddingLeft","paddingRight","toolbar","minHeight","formatMuiErrorMessage","url","encodeURIComponent","black","white","A100","A200","A400","A700","clamp","decomposeColor","charAt","re","round","marker","parseFloat","recomposeColor","getLuminance","rgb","s","hslToRgb","toFixed","alpha","darken","coefficient","lighten","light","primary","secondary","disabled","hint","divider","background","paper","default","action","active","hover","hoverOpacity","selected","selectedOpacity","disabledBackground","disabledOpacity","focus","focusOpacity","activatedOpacity","dark","icon","addLightOrDark","intent","shade","tonalOffset","tonalOffsetLight","tonalOffsetDark","main","createPalette","palette","_palette$primary","_palette$secondary","_palette$error","_palette$warning","warning","_palette$info","info","_palette$success","success","_palette$type","_palette$contrastThre","contrastThreshold","_palette$tonalOffset","getContrastText","foreground","lumA","lumB","getContrastRatio","augmentColor","mainShade","lightShade","darkShade","JSON","stringify","contrastText","types","common","grey","roundWithDeprecationWarning","caseAllCaps","textTransform","defaultFontFamily","createTypography","typography","_ref$fontFamily","fontFamily","_ref$fontSize","_ref$fontWeightLight","fontWeightLight","_ref$fontWeightRegula","fontWeightRegular","_ref$fontWeightMedium","fontWeightMedium","_ref$fontWeightBold","fontWeightBold","_ref$htmlFontSize","htmlFontSize","allVariants","pxToRem2","pxToRem","coef","buildVariant","fontWeight","lineHeight","letterSpacing","casing","variants","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","caption","overline","createShadow","borderRadius","defaultBreakpoints","acc","properties","directions","aliases","marginX","marginY","paddingX","paddingY","getCssProperties","arg","_prop$split","_prop$split2","dir","spacingKeys","createUnarySpacing","themeSpacing","getStyleFromPropValue","cssProperties","transformer","propValue","cssProperty","transformed","getValue","styleFromPropValue","themeBreakpoints","_themeBreakpoints","breakpoint","handleBreakpoints","filterProps","createSpacing","spacingInput","mui","easing","easeInOut","easeOut","easeIn","sharp","duration","shortest","shorter","short","standard","complex","enteringScreen","leavingScreen","formatMs","milliseconds","_options$duration","durationOption","_options$easing","easingOption","_options$delay","delay","animatedProp","getAutoHeightDuration","constant","mobileStepper","speedDial","appBar","drawer","modal","snackbar","tooltip","createTheme","_options$breakpoints","breakpointsInput","_options$mixins","mixinsInput","_options$palette","paletteInput","_options$typography","typographyInput","muiTheme","shadows","shape","transitions","zIndex","toVal","mix","tmp","getThemeProps","propName","_options$withTheme","withTheme","WithStyles","ref","innerRef","more","capitalize","defaultVariantMapping","Typography","_props$align","align","_props$color","_props$display","_props$gutterBottom","gutterBottom","_props$noWrap","noWrap","_props$paragraph","paragraph","_props$variant","variant","_props$variantMapping","variantMapping","root","srOnly","overflow","alignLeft","alignCenter","alignRight","alignJustify","textOverflow","whiteSpace","colorInherit","colorPrimary","colorSecondary","colorTextPrimary","colorTextSecondary","colorError","displayInline","displayBlock","hadKeyboardEvent","hadFocusVisibleRecently","hadFocusVisibleRecentlyTimeout","inputTypesWhitelist","search","tel","email","password","number","date","month","week","time","datetime","altKey","handlePointerDown","handleVisibilityChange","visibilityState","isFocusVisible","matches","readOnly","isContentEditable","handleBlurVisible","useIsFocusVisible","onBlurVisible","doc","ownerDocument","useEnhancedEffect","useEventCallback","setRef","useForkRef","refA","refB","refValue","thumb","open","transformOrigin","circle","valueLabelDisplay","asc","findClosest","currentValue","trackFinger","touchId","changedTouches","touch","identifier","valueToPercent","roundValueToStep","nearest","num","toExponential","matissaDecimalPart","decimalPart","getDecimalPrecision","setValueIndex","focusThumb","sliderRef","activeIndex","setActive","activeElement","axisProps","horizontal","leap","vertical","Identity","Slider","ariaLabel","ariaLabelledby","ariaValuetext","_props$component","defaultValue","_props$disabled","getAriaLabel","getAriaValueText","_props$marks","marks","marksProp","_props$max","_props$min","onChangeCommitted","_props$orientation","orientation","_props$scale","_props$step","_props$ThumbComponent","ThumbComponent","_props$track","track","valueProp","_props$ValueLabelComp","ValueLabelComponent","_props$valueLabelDisp","_props$valueLabelForm","valueLabelFormat","_React$useState","_React$useState2","setOpen","_useControlled","controlled","defaultProp","isControlled","valueState","setValue","useControlled","_useControlled2","valueDerived","setValueState","range","_","_useIsFocusVisible","focusVisibleRef","_React$useState3","focusVisible","setFocusVisible","handleFocusRef","handleRef","handleFocus","currentTarget","handleBlur","handleMouseOver","handleMouseLeave","isRtl","tenPercents","marksValues","mark","marksIndex","increaseKey","decreaseKey","previousValue","previousIndex","axis","getFingerNewValue","finger","_ref3$move","move","values2","_slider$getBoundingCl","getBoundingClientRect","percentToValue","handleTouchMove","_getFingerNewValue","handleTouchEnd","handleTouchStart","_getFingerNewValue3","slider","handleMouseDown","_getFingerNewValue4","trackOffset","trackLeap","trackStyle","marked","trackFalse","trackInverted","rail","markActive","markLabel","markLabelActive","valueLabel","tabIndex","role","onFocus","onBlur","onMouseOver","onMouseLeave","boxSizing","WebkitTapHighlightColor","pointerEvents","marginRight","boxShadow","thumbColorPrimary","thumbColorSecondary","valuetext","LongtitudeSlider","setVal","WidthSlider","Switcher","imgName","hoopsDefault","checked","setChecked","hoops","setHoops","showSelect","setShowSelect","onClickHoops","_hoops","offsetX","every","renderHoop","changeHoopPositions","hex","bigint","ch2","durl","URL","createObjectURL","Blob","cwk","Worker","revokeObjectURL","encodeURI","u8","Uint8Array","u16","Uint16Array","u32","Uint32Array","fleb","fdeb","clim","freb","eb","_a","fl","revfl","_b","fd","revfd","rev","hMap","cd","mb","co","le","rvb","sv","r_1","flt","fdt","flm","flrm","fdm","fdrm","bits","o","bits16","shft","slc","subarray","inflt","dat","buf","st","sl","noBuf","noSt","cbuf","bl","nbuf","final","bt","lm","dm","lbt","dbt","tbts","hLit","hcLen","tl","ldt","clt","clb","clbmsk","clm","lt","dt","lms","dms","lpos","sym","dsym","wbits","wbits16","hTree","t2","et","i0","i1","i2","maxSym","tr","mbt","ln","lft","cst","i2_1","i2_2","i2_3","lc","cl","cli","cln","cls","clen","cf","wfblk","out","wblk","syms","lf","df","li","bs","dlt","mlb","ddt","mdb","_c","lclt","nlc","_d","lcdt","ndc","lcfreq","_e","lct","mlcb","nlcc","ll","dl","flen","ftlen","dtlen","llm","lcts","clct","len","dst","deo","dflt","lvl","plvl","pre","post","lst","opt","msk_1","prev","bs1_1","bs2_1","hsh","lc_1","wi","hv","imod","pimod","rem","ch_1","dif","maxn","maxd","ml","nl","mmd","ti","lin","din","crct","crc","cr","adler","dopt","level","mem","mrg","wcln","fnStr","td","ks","lastIndexOf","st_1","spInd","ch","wrkr","fns","init","td_1","transfer","onerror","onmessage","postMessage","wk","buffer","cbfs","bInflt","inflateSync","pbf","gu8","bDflt","deflateSync","gze","gzh","gzhl","wbytes","guze","gzs","gzl","zle","zlh","zule","zlv","cbify","terminate","consume","astrm","strm","ondata","ev","astrmify","b2","b4","b8","filename","mtime","charCodeAt","flg","zs","lv","AsyncCmpStrm","Deflate","chunk","AsyncDeflate","deflate","Inflate","bts","AsyncInflate","inflate","Gzip","AsyncGzip","gzip","gzipSync","Gunzip","AsyncGunzip","gunzip","gunzipSync","Zlib","AsyncZlib","zlib","zlibSync","Unzlib","AsyncUnzlib","unzlib","unzlibSync","Decompress","G","I","Z","_this_1","AsyncDecompress","decompress","decompressSync","fltn","te","TextEncoder","TextDecoder","tds","decode","stream","dutf8","fromCharCode","DecodeUTF8","np","EncodeUTF8","strToU8","latin1","ar_1","ar","ai","strFromU8","dbf","slzh","zh","fnl","es","z64e","sc","su","off","exfl","wzh","ce","extra","col","exl","os","flag","compression","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","attrs","exf","wzf","ZipPassThrough","ZipDeflate","AsyncZipDeflate","Zip","file","com","hl","header","chks","pAll","chks_1","chk","ind","uf","nxt","dd","zip","tot","slft","files","term","tAll","cbf","oe","cdl","badd","loc","_loop_1","cbl","zipSync","UnzipPassThrough","UnzipInflate","AsyncUnzipInflate","sz","Unzip","onfile","toAdd","is","oc","_loop_2","sig","this_1","bf","cmp_1","chks_2","d_1","sc_1","su_1","fn_1","file_1","ctr","chks_3","originalSize","decoder","unzip","_loop_3","c_1","no","infl","unzipSync","c_2","NURBSUtils","U","low","high","mid","span","N","saved","rv","temp","findSpan","calcBasisFunctions","C","Nj","wNj","zeroArr","ders","ndu","_i2","_r","_j","_r2","s1","s2","_i3","rk","pk","j2","_j3","_j2","_k","_j4","nd","du","CK","nders","calcBasisFunctionDerivatives","Pw","_point","_k2","nom","denom","_j5","_j6","Pders","Aders","wders","_i4","calcKoverI","divideScalar","calcBSplineDerivatives","calcRationalCurveDerivatives","uspan","vspan","Nu","Nv","Sw","_l","fbxTree","connections","sceneGraph","NURBSCurve","_Curve","degree","knots","controlPoints","startKnot","endKnot","optionalTarget","hpoint","calcBSplinePoint","tangent","calcNURBSDerivatives","FBXLoader","_Loader","manager","onLoad","onProgress","onError","path","loader","setPath","setResponseType","setRequestHeader","requestHeader","setWithCredentials","withCredentials","load","parse","itemError","FBXBuffer","CORRECT","byteLength","convertArrayBufferToString","BinaryParser","FBXText","read","isFbxFormatASCII","getFbxVersion","TextParser","textureLoader","resourcePath","setCrossOrigin","crossOrigin","FBXTreeParser","parseConnections","images","parseImages","textures","parseTextures","materials","parseMaterials","deformers","parseDeformers","geometryMap","GeometryParser","parseScene","connectionMap","Connections","rawConnection","fromID","toID","relationship","parents","parentRelationship","ID","childRelationship","blobs","Objects","videoNodes","Video","nodeID","videoNode","RelativeFilename","Filename","arrayBufferContent","Content","base64Content","image","parseImage","pop","fileName","extension","getHandler","textureMap","textureNodes","Texture","texture","parseTexture","textureNode","loadTexture","attrName","wrapModeU","WrapModeU","wrapModeV","WrapModeV","valueU","valueV","wrapS","wrapT","Scaling","repeat","currentPath","FileName","materialMap","materialNodes","Material","parseMaterial","materialNode","ShadingModel","parseParameters","BumpFactor","bumpScale","Diffuse","fromArray","DiffuseColor","DisplacementFactor","displacementScale","Emissive","emissive","EmissiveColor","EmissiveFactor","emissiveIntensity","Opacity","ReflectionFactor","reflectivity","Shininess","shininess","Specular","specular","SpecularColor","bumpMap","getTexture","aoMap","encoding","displacementMap","emissiveMap","normalMap","envMap","mapping","specularMap","alphaMap","LayeredTexture","skeletons","morphTargets","DeformerNodes","Deformer","deformerNode","relationships","attrType","skeleton","parseSkeleton","geometryID","morphTarget","rawTargets","parseMorphTargets","deformerNodes","rawBones","boneNode","rawBone","indices","weights","transformLink","TransformLink","Indexes","Weights","bones","rawMorphTargets","morphTargetNode","rawMorphTarget","initialWeight","DeformPercent","fullWeights","FullWeights","geoID","modelMap","parseModels","modelNodes","Model","model","modelNode","setLookAtProperties","connection","bindSkeleton","createAmbientLight","traverse","userData","transformData","parentMatrix","parentMatrixWorld","generateTransform","updateWorldMatrix","animations","AnimationParser","isGroup","buildSkeleton","createCamera","createLight","createMesh","createCurve","getTransformData","bone","_loop","subBone","cameraAttribute","NodeAttribute","CameraProjectionType","nearClippingPlane","NearPlane","farClippingPlane","FarPlane","innerWidth","innerHeight","AspectWidth","AspectHeight","aspect","FieldOfView","focalLength","FocalLength","setFocalLength","lightAttribute","LightType","Color","intensity","Intensity","CastLightOnObject","FarAttenuationEnd","EnableFarAttenuation","InnerAngle","penumbra","OuterAngle","CastShadows","castShadow","vertexColors","FBX_Deformer","normalizeSkinWeights","geo","inheritType","InheritType","eulerOrder","getEulerOrder","RotationOrder","translation","Lcl_Translation","preRotation","PreRotation","rotation","Lcl_Rotation","postRotation","PostRotation","Lcl_Scaling","scalingOffset","ScalingOffset","scalingPivot","ScalingPivot","rotationOffset","RotationOffset","rotationPivot","RotationPivot","lookAtTarget","bindMatrices","parsePoseNodes","_loop2","geoConnParent","BindPoseNode","Pose","poseNodes","PoseNode","poseNode","Node","Matrix","GlobalSettings","ambientColor","AmbientColor","geoNodes","Geometry","parseGeometry","geoNode","parseMeshGeometry","parseNurbsGeometry","GeometricTranslation","GeometricRotation","GeometricScaling","genGeometry","preTransform","geoInfo","parseGeoNode","buffers","genBuffers","positionAttribute","vertex","weightsIndices","vertexWeights","normal","normalMatrix","getNormalMatrix","normalAttribute","applyNormalMatrix","uvs","uvBuffer","mappingType","prevMaterialIndex","materialIndex","startIndex","currentIndex","addGroup","groups","lastGroup","lastIndex","addMorphTargets","vertexPositions","Vertices","vertexIndices","PolygonVertexIndex","LayerElementColor","parseVertexColors","LayerElementMaterial","parseMaterialIndices","LayerElementNormal","parseNormals","LayerElementUV","UV","parseUVs","weightTable","weight","polygonIndex","faceLength","displayedWeightsWarning","facePositionIndexes","faceNormals","faceColors","faceUVs","faceWeights","faceWeightIndices","vertexIndex","polygonVertexIndex","endOfFace","weightIndices","getData","wt","wIndex","Weight","weightIndex","currentWeight","comparedWeight","comparedWeightIndex","comparedWeightArray","_data","genFace","_loop3","parentGeo","parentGeoNode","morphTargetsRelative","morphAttributes","rawTarget","morphGeoNode","genMorphGeometry","morphPositionsSparse","morphPositions","morphIndex","morphGeoInfo","morphBuffers","NormalNode","MappingInformationType","referenceType","ReferenceInformationType","Normals","indexBuffer","NormalIndex","NormalsIndex","dataSize","UVNode","UVIndex","ColorNode","Colors","ColorIndex","MaterialNode","materialIndexBuffer","Materials","materialIndices","Order","KnotVector","pointsValues","Points","Form","getPoints","setFromPoints","animationClips","rawClips","parseClips","rawClip","clip","addClip","AnimationCurve","curveNodesMap","parseAnimationCurveNodes","parseAnimationCurves","layersMap","parseAnimationLayers","parseAnimStacks","rawCurveNodes","AnimationCurveNode","rawCurveNode","curveNode","curves","rawCurves","animationCurve","times","KeyTime","convertFBXTimeToSeconds","KeyValueFloat","animationCurveID","animationCurveRelationship","rawLayers","AnimationLayer","_loop4","layerCurveNodes","modelID","rawModel","modelName","initialPosition","initialRotation","initialScale","morph","deformerID","morpherID","_modelID","_rawModel","_node","morphName","rawStacks","AnimationStack","layer","tracks","rawTracks","generateTracks","decompose","toArray","setFromQuaternion","T","positionTrack","generateVectorTrack","R","rotationTrack","generateRotationTrack","S","scaleTrack","morphTrack","generateMorphTrack","initialValue","getTimesForAllAxes","getKeyframeTrackValues","interpolateRotations","setFromEuler","euler","quaternionValues","premultiply","multiply","morphNum","getObjectByName","morphTargetDictionary","targetIndex","lastValue","prevValue","xIndex","yIndex","xValue","yValue","zValue","curve","valuesSpan","absoluteSpan","numSubIntervals","initialTime","interval","nextTime","interpolatedTimes","interpolatedValues","inject","nodeStack","currentIndent","currentProp","currentPropName","allNodes","FBXTree","matchComment","matchEmpty","matchBeginning","matchProperty","matchEnd","parseNodeBegin","parseNodeProperty","popStack","parseNodePropertyContinued","nodeName","nodeAttrs","parseNodeAttr","currentNode","getCurrentNode","pushStack","contentLine","connProps","from","rest","append","elem","setCurrentProp","parseNumberArray","parseNodeSpecialProperty","innerPropName","innerPropType1","innerPropType2","innerPropFlag","innerPropValue","getPrevNode","reader","BinaryReader","skip","getUint32","endOfContent","parseNode","getOffset","endOffset","getUint64","numProperties","nameLen","getUint8","getString","propertyList","parseProperty","singleProperty","subNode","parseSubNode","getBoolean","getFloat64","getFloat32","getInt32","getInt64","getArrayBuffer","getInt16","arrayLength","compressedLength","getBooleanArray","getFloat64Array","getFloat32Array","getInt32Array","getInt64Array","reader2","littleEndian","dv","DataView","nullByte","dataArray","infoObject","tempEuler","tempVec","lTranslationM","lPreRotationM","lRotationM","lPostRotationM","lScalingM","lScalingPivotM","lScalingOffsetM","lRotationOffsetM","lRotationPivotM","lParentGX","lParentLX","lGlobalT","setPosition","makeRotationFromEuler","_array","_array2","lLRM","lParentGRM","extractRotation","lParentTM","copyPosition","lParentGRSM","lParentGSM","lLSM","lGlobalRS","lParentLSM_inv","setFromMatrixScale","lParentGSM_noLocal","lRotationPivotM_inv","lScalingPivotM_inv","lTransform","lLocalTWithAllPivotAndOffsetInfo","lGlobalTranslation","enums","a1","a2","addSpotlight","positions","inc","targetFix","spotLight","SpotLight","shadow","bias","mapSize","_object_pattern","_material_library_pattern","_material_use_pattern","_map_use_pattern","_vA","_vB","_vC","_ab","_cb","ParserState","objects","vertices","normals","materialLibraries","startObject","fromDeclaration","previousMaterial","currentMaterial","_finalize","hasUVIndices","smooth","startMaterial","libraries","previous","inherited","groupCount","mtllib","groupStart","groupEnd","cloned","lastMultiMaterial","mi","declared","finalize","parseVertexIndex","parseNormalIndex","parseUVIndex","addVertex","addVertexPoint","addVertexLine","addNormal","addFaceNormal","cross","addColor","addUV","addDefaultUV","addUVLine","addFace","ua","ub","uc","na","nb","nc","vLen","ia","ib","ic","nLen","uvLen","addPointGeometry","vi","addLineGeometry","uvi","GLTFRegistry","removeAll","EXTENSIONS","KHR_BINARY_GLTF","KHR_DRACO_MESH_COMPRESSION","KHR_LIGHTS_PUNCTUAL","KHR_MATERIALS_CLEARCOAT","KHR_MATERIALS_IOR","KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS","KHR_MATERIALS_SPECULAR","KHR_MATERIALS_TRANSMISSION","KHR_MATERIALS_UNLIT","KHR_MATERIALS_VOLUME","KHR_TEXTURE_BASISU","KHR_TEXTURE_TRANSFORM","KHR_MESH_QUANTIZATION","EXT_TEXTURE_WEBP","EXT_MESHOPT_COMPRESSION","GLTFLightsExtension","parser","uses","nodeDefs","nodes","nodeIndex","nodeLength","nodeDef","_addNodeRef","lightIndex","dependency","lightNode","lightDef","lights","spot","innerConeAngle","outerConeAngle","decay","createUniqueName","Promise","resolve","_loadLight","then","_getNodeRef","GLTFMaterialsUnlitExtension","materialParams","materialDef","pending","metallicRoughness","pbrMetallicRoughness","baseColorFactor","baseColorTexture","assignTexture","all","GLTFMaterialsClearcoatExtension","clearcoatFactor","clearcoat","clearcoatTexture","clearcoatRoughnessFactor","clearcoatRoughness","clearcoatRoughnessTexture","clearcoatNormalTexture","clearcoatNormalScale","GLTFMaterialsTransmissionExtension","transmissionFactor","transmission","transmissionTexture","GLTFMaterialsVolumeExtension","thickness","thicknessFactor","thicknessTexture","attenuationDistance","colorArray","attenuationColor","attenuationTint","GLTFMaterialsIorExtension","ior","GLTFMaterialsSpecularExtension","specularIntensity","specularFactor","specularTexture","specularColorFactor","specularTint","specularColorTexture","GLTFTextureBasisUExtension","textureIndex","textureDef","ktx2Loader","extensionsRequired","loadTextureImage","GLTFTextureWebPExtension","isSupported","uri","detectSupport","Image","onload","GLTFMeshoptCompression","bufferView","bufferViews","extensionDef","getDependency","meshoptDecoder","supported","ready","res","byteOffset","stride","byteStride","decodeGltfBuffer","BINARY_EXTENSION_HEADER_MAGIC","BINARY_EXTENSION_CHUNK_TYPES","GLTFBinaryExtension","body","headerView","magic","chunkContentsLength","chunkView","chunkIndex","chunkLength","chunkType","contentArray","GLTFDracoMeshCompressionExtension","dracoLoader","preload","primitive","bufferViewIndex","gltfAttributeMap","threeAttributeMap","attributeNormalizedMap","attributeTypeMap","attributeName","threeAttributeName","ATTRIBUTES","_attributeName","_threeAttributeName","accessorDef","accessors","componentType","WEBGL_COMPONENT_TYPES","normalized","decodeDracoFile","_attributeName2","GLTFTextureTransformExtension","texCoord","GLTFMeshStandardSGMaterial","_MeshStandardMaterial","_super2","isGLTFSpecularGlossinessMaterial","specularMapParsFragmentChunk","glossinessMapParsFragmentChunk","specularMapFragmentChunk","glossinessMapFragmentChunk","lightPhysicalFragmentChunk","setHex","glossiness","glossinessMap","_extraUniforms","onBeforeCompile","shader","uniformName","USE_SPECULARMAP","USE_GLOSSINESSMAP","USE_UV","metalness","roughness","metalnessMap","roughnessMap","GLTFMaterialsPbrSpecularGlossinessExtension","specularGlossinessParams","pbrSpecularGlossiness","diffuseFactor","diffuseTexture","glossinessFactor","specularGlossinessTexture","specGlossMapDef","fog","lightMap","lightMapIntensity","aoMapIntensity","normalMapType","normalScale","displacementBias","envMapIntensity","refractionRatio","GLTFMeshQuantizationExtension","GLTFCubicSplineInterpolant","_Interpolant","_super3","parameterPositions","sampleValues","sampleSize","resultBuffer","valueSize","beforeStart_","copySampleValue_","afterEnd_","interpolate_","t0","t1","stride2","stride3","pp","ppp","offset1","offset0","s3","s0","p0","m0","m1","WEBGL_CONSTANTS","Int8Array","Int16Array","WEBGL_FILTERS","WEBGL_WRAPPINGS","WEBGL_TYPE_SIZES","POSITION","NORMAL","TANGENT","TEXCOORD_0","TEXCOORD_1","COLOR_0","WEIGHTS_0","JOINTS_0","PATH_PROPERTIES","INTERPOLATION","CUBICSPLINE","LINEAR","STEP","ALPHA_MODES","resolveURL","addUnknownExtensionsToUserData","knownExtensions","objectDef","gltfExtensions","assignExtrasToUserData","gltfDef","extras","updateMorphTargets","meshDef","morphTargetInfluences","targetNames","_il2","createAttributesKey","attributesKey","getNormalizedComponentScale","GLTFParser","associations","primitiveCache","meshCache","cameraCache","lightCache","textureCache","nodeNamesUsed","createImageBitmap","navigator","fileLoader","_invokeAll","ext","_markDefs","beforeRoot","getDependencies","dependencies","scenes","cameras","asset","afterRoot","catch","skinDefs","skins","meshDefs","meshes","skinIndex","skinLength","joints","isBone","skin","isSkinnedMesh","loadScene","loadNode","_invokeOne","loadMesh","loadAccessor","loadBufferView","loadBuffer","loadMaterial","loadSkin","loadAnimation","loadCamera","defs","def","bufferIndex","bufferDef","reject","bufferViewDef","accessorIndex","sparse","pendingBufferViews","bufferAttribute","itemSize","TypedArray","elementBytes","BYTES_PER_ELEMENT","itemBytes","ibSlice","ibCacheKey","itemSizeIndices","SCALAR","TypedArrayIndices","byteOffsetIndices","byteOffsetValues","sparseIndices","sparseValues","setX","setY","setZ","setW","sampler","webkitURL","sourceURI","isObjectURL","hasAlpha","isJPEG","mimeType","colorType","blob","promise","isImageBitmapLoader","imageBitmap","flipY","format","samplers","magFilter","minFilter","mapName","mapDef","gltfReference","extendTexture","useVertexTangents","useVertexColors","useFlatShading","isPoints","uuid","pointsMaterial","sizeAttenuation","isLine","_cacheKey","lineMaterial","_cacheKey2","cachedMaterial","flatShading","materialType","materialExtensions","sgExtension","getMaterialType","extendParams","kmuExtension","metallicFactor","roughnessFactor","metallicRoughnessTexture","extendMaterialParams","doubleSided","side","alphaMode","depthWrite","alphaTest","alphaCutoff","normalTexture","occlusionTexture","strength","emissiveFactor","emissiveTexture","createMaterial","originalName","sanitizedName","primitives","createDracoPrimitive","decodePrimitive","addPrimitiveAttributes","primitiveDef","dracoExtension","cached","geometryPromise","meshIndex","depthTest","loadGeometries","results","geometries","_il3","_material","skinWeight","toTrianglesDrawMode","assignFinalMaterial","group","_i5","_il4","cameraIndex","cameraDef","yfov","aspectRatio","znear","zfar","xmag","ymag","skinDef","skinEntry","inverseBindMatrices","accessor","animationIndex","animationDef","pendingNodes","pendingInputAccessors","pendingOutputAccessors","pendingSamplers","pendingTargets","channels","channel","inputAccessors","outputAccessors","targets","_i6","_il5","inputAccessor","outputAccessor","updateMatrix","matrixAutoUpdate","TypedKeyframeTrack","targetName","interpolation","isMesh","outputArray","scaled","jl","_jl","createInterpolant","getValueSize","isInterpolantFactoryMethodGLTFCubicSpline","meshPromise","createNodeMesh","createNodeAttachment","sceneIndex","sceneDef","nodeIds","buildNodeHierachy","nodeId","parentObject","pendingJoints","jointNodes","boneInverses","jointNode","mat","assignAttributeAccessor","gltfAttributeName","box","boxScale","maxDisplacement","vector","_accessor","_min","_max","_boxScale","expandByVector","sphere","computeBounds","hasMorphPosition","hasMorphNormal","pendingPositionAccessors","pendingNormalAccessors","_il","_target","pendingAccessor","_pendingAccessor","morphNormals","drawMode","getIndex","numberOfTriangles","newIndices","_i7","getX","_i8","newGeometry","TGALoader","_DataTextureLoader","TGA_TYPE_NO_DATA","TGA_TYPE_INDEXED","TGA_TYPE_RGB","TGA_TYPE_GREY","TGA_TYPE_RLE_INDEXED","TGA_TYPE_RLE_RGB","TGA_TYPE_RLE_GREY","TGA_ORIGIN_MASK","TGA_ORIGIN_SHIFT","TGA_ORIGIN_BL","TGA_ORIGIN_BR","TGA_ORIGIN_UL","TGA_ORIGIN_UR","id_length","colormap_type","image_type","colormap_index","colormap_length","colormap_size","pixel_size","tgaCheckHeader","use_rle","use_pal","use_grey","imageData","pixel_data","palettes","pixel_total","shift","pixels","tgaParse","x_start","y_start","x_step","y_step","x_end","y_end","tgaGetImageDataGrey8bits","tgaGetImageDataGrey16bits","colormap","tgaGetImageData8bits","tgaGetImageData16bits","tgaGetImageData24bits","tgaGetImageData32bits","getTgaRGBA","generateMipmaps","M3DMAGIC","MLIBMAGIC","CMAGIC","M3D_VERSION","COLOR_F","COLOR_24","LIN_COLOR_24","LIN_COLOR_F","INT_PERCENTAGE","FLOAT_PERCENTAGE","MDATA","MESH_VERSION","MASTER_SCALE","MAT_ENTRY","MAT_NAME","MAT_AMBIENT","MAT_DIFFUSE","MAT_SPECULAR","MAT_SHININESS","MAT_TRANSPARENCY","MAT_TWO_SIDE","MAT_ADDITIVE","MAT_WIRE","MAT_WIRE_SIZE","MAT_TEXMAP","MAT_OPACMAP","MAT_BUMPMAP","MAT_SPECMAP","MAT_MAPNAME","MAT_MAP_USCALE","MAT_MAP_VSCALE","MAT_MAP_UOFFSET","MAT_MAP_VOFFSET","NAMED_OBJECT","N_TRI_OBJECT","POINT_ARRAY","FACE_ARRAY","MSH_MAT_GROUP","TEX_VERTS","MESH_MATRIX","hoopsPositions","lightPositions","THREE","texture2","renderNet","net","fbx","loadNet","_net","setFromObject","renderLight","loadLights","renderLightLeftBottom","renderLightLeftTop","renderLightTopMiddle","renderLightBottomMiddle","renderLightTopRight","renderLightBottomRight","hoop","receiveShadow","anisotropy","loadHoop","renderHoopLeft","bb","renderHoopRight","renderHoopTop","renderHoopTopMiddle","renderHoopBottomMiddle","removeHoop","renderFence","fence","loadFence","one","currentWidth","maxFences","ratio","renderFenceLeft","currentLength","renderFenceTop","groupBottom","renderFenceBottom","renderFenceRight","changeFencePositions","fenceLeft","fenceRight","fenceTop","fenceBottom","desiredWidth","desiredLength","changeLightPositions","lightLeftBottom","lightLeftTop","lightTopMiddle","lightBottomMiddle","lightTopRight","lightBottomRight","hoopLeft","hoopTop","hoopTopMiddle","hoopBottomMiddle","hoopRight","renderGallery","postRight","desiredHeight","factor","generateBox","lastOne","lastOneBox","currentHeight","translateY","generateLinesColor","renderBorderAndSurface","prevBorder","prevSurface","removeExistingBorderAndSurface","backgroundGeometry","borderGeometry","backgroundMaterial","surface","borderMaterial","generateBasketballLinePoints","generateLinesMaterial","renderHoopBackground","drawFreeThrowCircle","drawSideLinesBottom","drawSideLinesTop","drawThreePointer","drawHashTop","drawHashBottom","drawBaseLine","renderLinesRight","renderLinesLeft","renderLinesTop","renderLinesTopMiddle","renderLinesBottomMiddle","removeLinesRight","removeLinesLeft","removeLinesTop","removeLinesBottomMiddle","removeLinesTopMiddle","changeBasketballLinesPositions","lw","linesColor","materialCircle","geometryPlane","geometryCircle","colorSurface","meshPlane","points2","sin","cos","geometry2","material_dot","line2","computeLineDistances","drawThreePointerLineTop","drawThreePointerLineBottom","_points","offsetZ","middle","renderBasketballLines","shouldRenderMiddlePart","renderOutsideLines","renderBorder","pointsMiddleLineLeft","pointsMiddleLineRight","pointsHorizontalLineLeft","pointsHorizontalLineRight","geometry3","geometry4","geometry5","line3","line4","line5","pickleballSurface","secondGroup","inp","renderSurface","points_out_line","pointsOutLineSecondSide","_geometry","plane","removeBorder","runtime","Op","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","wrap","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","context","Context","_invoke","GenStateSuspendedStart","GenStateExecuting","GenStateCompleted","doneResult","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","sent","_sent","dispatchException","abrupt","record","tryCatch","GenStateSuspendedYield","makeInvokeMethod","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","NativeIteratorPrototype","Gp","defineIteratorMethods","AsyncIterator","PromiseImpl","invoke","__await","unwrapped","previousPromise","callInvokeWithMethodAndArg","resultName","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","iterable","iteratorMethod","isGeneratorFunction","genFun","ctor","awrap","async","iter","skipTempReset","stop","rootRecord","rval","exception","handle","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","_assertThisInitialized","asyncGeneratorStep","gen","_next","_throw","_asyncToGenerator","_classCallCheck","_defineProperties","_createClass","_get","receiver","desc","_getPrototypeOf","_inherits","_possibleConstructorReturn","_slicedToArray","_s","_arr","_n","unsupportedIterableToArray"],"sourceRoot":""}